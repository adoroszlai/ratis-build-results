<?xml version="1.0" encoding="UTF-8"?>
<testsuite xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="https://maven.apache.org/surefire/maven-surefire-plugin/xsd/surefire-test-report.xsd" version="3.0.2" name="org.apache.ratis.netty.TestTlsConfWithNetty" time="1.692" tests="2" errors="1" skipped="0" failures="0">
  <properties>
    <property name="java.specification.version" value="17"/>
    <property name="sun.jnu.encoding" value="UTF-8"/>
    <property name="java.class.path" value="/home/runner/work/ratis/ratis/ratis-test/target/test-classes:/home/runner/work/ratis/ratis/ratis-test/target/classes:/home/runner/work/ratis/ratis/ratis-common/target/classes:/home/runner/.m2/repository/org/apache/ratis/ratis-thirdparty-misc/1.0.10/ratis-thirdparty-misc-1.0.10.jar:/home/runner/work/ratis/ratis/ratis-proto/target/classes:/home/runner/.m2/repository/jakarta/annotation/jakarta.annotation-api/1.3.5/jakarta.annotation-api-1.3.5.jar:/home/runner/work/ratis/ratis/ratis-common/target/test-classes:/home/runner/work/ratis/ratis/ratis-client/target/classes:/home/runner/work/ratis/ratis/ratis-server/target/classes:/home/runner/work/ratis/ratis/ratis-server-api/target/classes:/home/runner/work/ratis/ratis/ratis-metrics-api/target/classes:/home/runner/work/ratis/ratis/ratis-server/target/test-classes:/home/runner/work/ratis/ratis/ratis-metrics-default/target/classes:/home/runner/work/ratis/ratis/ratis-netty/target/classes:/home/runner/work/ratis/ratis/ratis-netty/target/test-classes:/home/runner/work/ratis/ratis/ratis-grpc/target/classes:/home/runner/work/ratis/ratis/ratis-grpc/target/test-classes:/home/runner/work/ratis/ratis/ratis-shell/target/classes:/home/runner/.m2/repository/commons-cli/commons-cli/1.5.0/commons-cli-1.5.0.jar:/home/runner/.m2/repository/org/reflections/reflections/0.10.2/reflections-0.10.2.jar:/home/runner/.m2/repository/org/javassist/javassist/3.28.0-GA/javassist-3.28.0-GA.jar:/home/runner/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar:/home/runner/.m2/repository/org/bouncycastle/bcprov-jdk18on/1.79/bcprov-jdk18on-1.79.jar:/home/runner/.m2/repository/org/bouncycastle/bcpkix-jdk18on/1.79/bcpkix-jdk18on-1.79.jar:/home/runner/.m2/repository/org/bouncycastle/bcutil-jdk18on/1.79/bcutil-jdk18on-1.79.jar:/home/runner/.m2/repository/org/slf4j/slf4j-api/2.0.7/slf4j-api-2.0.7.jar:/home/runner/.m2/repository/org/slf4j/slf4j-reload4j/2.0.7/slf4j-reload4j-2.0.7.jar:/home/runner/.m2/repository/ch/qos/reload4j/reload4j/1.2.22/reload4j-1.2.22.jar:/home/runner/.m2/repository/org/junit/jupiter/junit-jupiter-engine/5.13.3/junit-jupiter-engine-5.13.3.jar:/home/runner/.m2/repository/org/junit/platform/junit-platform-engine/1.13.3/junit-platform-engine-1.13.3.jar:/home/runner/.m2/repository/org/apiguardian/apiguardian-api/1.1.2/apiguardian-api-1.1.2.jar:/home/runner/.m2/repository/org/junit/jupiter/junit-jupiter-api/5.13.3/junit-jupiter-api-5.13.3.jar:/home/runner/.m2/repository/org/opentest4j/opentest4j/1.3.0/opentest4j-1.3.0.jar:/home/runner/.m2/repository/org/junit/platform/junit-platform-commons/1.13.3/junit-platform-commons-1.13.3.jar:/home/runner/.m2/repository/org/junit/jupiter/junit-jupiter-params/5.13.3/junit-jupiter-params-5.13.3.jar:/home/runner/.m2/repository/org/junit/platform/junit-platform-launcher/1.13.3/junit-platform-launcher-1.13.3.jar:/home/runner/.m2/repository/org/mockito/mockito-core/4.11.0/mockito-core-4.11.0.jar:/home/runner/.m2/repository/net/bytebuddy/byte-buddy/1.12.19/byte-buddy-1.12.19.jar:/home/runner/.m2/repository/net/bytebuddy/byte-buddy-agent/1.12.19/byte-buddy-agent-1.12.19.jar:/home/runner/.m2/repository/org/objenesis/objenesis/3.3/objenesis-3.3.jar:/home/runner/work/ratis/ratis/ratis-test/target/gradle-enterprise/test-listeners.jar:"/>
    <property name="java.vm.vendor" value="Eclipse Adoptium"/>
    <property name="sun.arch.data.model" value="64"/>
    <property name="java.vendor.url" value="https://adoptium.net/"/>
    <property name="user.timezone" value="Etc/UTC"/>
    <property name="os.name" value="Linux"/>
    <property name="java.vm.specification.version" value="17"/>
    <property name="sun.java.launcher" value="SUN_STANDARD"/>
    <property name="sun.boot.library.path" value="/usr/lib/jvm/temurin-17-jdk-amd64/lib"/>
    <property name="sun.java.command" value="/home/runner/work/ratis/ratis/ratis-test/target/surefire/surefirebooter-20251120154452928_190.jar /home/runner/work/ratis/ratis/ratis-test/target/surefire 2025-11-20T15-44-19_254-jvmRun1 surefire-20251120154452928_188tmp surefire_25-20251120154452928_189tmp"/>
    <property name="jdk.debug" value="release"/>
    <property name="surefire.test.class.path" value="/home/runner/work/ratis/ratis/ratis-test/target/test-classes:/home/runner/work/ratis/ratis/ratis-test/target/classes:/home/runner/work/ratis/ratis/ratis-common/target/classes:/home/runner/.m2/repository/org/apache/ratis/ratis-thirdparty-misc/1.0.10/ratis-thirdparty-misc-1.0.10.jar:/home/runner/work/ratis/ratis/ratis-proto/target/classes:/home/runner/.m2/repository/jakarta/annotation/jakarta.annotation-api/1.3.5/jakarta.annotation-api-1.3.5.jar:/home/runner/work/ratis/ratis/ratis-common/target/test-classes:/home/runner/work/ratis/ratis/ratis-client/target/classes:/home/runner/work/ratis/ratis/ratis-server/target/classes:/home/runner/work/ratis/ratis/ratis-server-api/target/classes:/home/runner/work/ratis/ratis/ratis-metrics-api/target/classes:/home/runner/work/ratis/ratis/ratis-server/target/test-classes:/home/runner/work/ratis/ratis/ratis-metrics-default/target/classes:/home/runner/work/ratis/ratis/ratis-netty/target/classes:/home/runner/work/ratis/ratis/ratis-netty/target/test-classes:/home/runner/work/ratis/ratis/ratis-grpc/target/classes:/home/runner/work/ratis/ratis/ratis-grpc/target/test-classes:/home/runner/work/ratis/ratis/ratis-shell/target/classes:/home/runner/.m2/repository/commons-cli/commons-cli/1.5.0/commons-cli-1.5.0.jar:/home/runner/.m2/repository/org/reflections/reflections/0.10.2/reflections-0.10.2.jar:/home/runner/.m2/repository/org/javassist/javassist/3.28.0-GA/javassist-3.28.0-GA.jar:/home/runner/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar:/home/runner/.m2/repository/org/bouncycastle/bcprov-jdk18on/1.79/bcprov-jdk18on-1.79.jar:/home/runner/.m2/repository/org/bouncycastle/bcpkix-jdk18on/1.79/bcpkix-jdk18on-1.79.jar:/home/runner/.m2/repository/org/bouncycastle/bcutil-jdk18on/1.79/bcutil-jdk18on-1.79.jar:/home/runner/.m2/repository/org/slf4j/slf4j-api/2.0.7/slf4j-api-2.0.7.jar:/home/runner/.m2/repository/org/slf4j/slf4j-reload4j/2.0.7/slf4j-reload4j-2.0.7.jar:/home/runner/.m2/repository/ch/qos/reload4j/reload4j/1.2.22/reload4j-1.2.22.jar:/home/runner/.m2/repository/org/junit/jupiter/junit-jupiter-engine/5.13.3/junit-jupiter-engine-5.13.3.jar:/home/runner/.m2/repository/org/junit/platform/junit-platform-engine/1.13.3/junit-platform-engine-1.13.3.jar:/home/runner/.m2/repository/org/apiguardian/apiguardian-api/1.1.2/apiguardian-api-1.1.2.jar:/home/runner/.m2/repository/org/junit/jupiter/junit-jupiter-api/5.13.3/junit-jupiter-api-5.13.3.jar:/home/runner/.m2/repository/org/opentest4j/opentest4j/1.3.0/opentest4j-1.3.0.jar:/home/runner/.m2/repository/org/junit/platform/junit-platform-commons/1.13.3/junit-platform-commons-1.13.3.jar:/home/runner/.m2/repository/org/junit/jupiter/junit-jupiter-params/5.13.3/junit-jupiter-params-5.13.3.jar:/home/runner/.m2/repository/org/junit/platform/junit-platform-launcher/1.13.3/junit-platform-launcher-1.13.3.jar:/home/runner/.m2/repository/org/mockito/mockito-core/4.11.0/mockito-core-4.11.0.jar:/home/runner/.m2/repository/net/bytebuddy/byte-buddy/1.12.19/byte-buddy-1.12.19.jar:/home/runner/.m2/repository/net/bytebuddy/byte-buddy-agent/1.12.19/byte-buddy-agent-1.12.19.jar:/home/runner/.m2/repository/org/objenesis/objenesis/3.3/objenesis-3.3.jar:/home/runner/work/ratis/ratis/ratis-test/target/gradle-enterprise/test-listeners.jar:"/>
    <property name="sun.cpu.endian" value="little"/>
    <property name="user.home" value="/home/runner"/>
    <property name="user.language" value="en"/>
    <property name="java.specification.vendor" value="Oracle Corporation"/>
    <property name="java.version.date" value="2025-10-21"/>
    <property name="java.home" value="/usr/lib/jvm/temurin-17-jdk-amd64"/>
    <property name="file.separator" value="/"/>
    <property name="basedir" value="/home/runner/work/ratis/ratis/ratis-test"/>
    <property name="java.vm.compressedOopsMode" value="32-bit"/>
    <property name="line.separator" value="&#10;"/>
    <property name="java.vm.specification.vendor" value="Oracle Corporation"/>
    <property name="java.specification.name" value="Java Platform API Specification"/>
    <property name="surefire.real.class.path" value="/home/runner/work/ratis/ratis/ratis-test/target/surefire/surefirebooter-20251120154452928_190.jar"/>
    <property name="sun.management.compiler" value="HotSpot 64-Bit Tiered Compilers"/>
    <property name="java.runtime.version" value="17.0.17+10"/>
    <property name="user.name" value="runner"/>
    <property name="java.net.preferIPv4Stack" value="true"/>
    <property name="path.separator" value=":"/>
    <property name="os.version" value="6.11.0-1018-azure"/>
    <property name="java.runtime.name" value="OpenJDK Runtime Environment"/>
    <property name="com.gradle.maven.scan.extension.test.listener.junitplatform.NestedExecutionSafeDelegatingTestExecutionListener" value="5fe94a96"/>
    <property name="file.encoding" value="UTF-8"/>
    <property name="java.vm.name" value="OpenJDK 64-Bit Server VM"/>
    <property name="java.vendor.version" value="Temurin-17.0.17+10"/>
    <property name="develocity.listener.surefire.forkId" value="1"/>
    <property name="localRepository" value="/home/runner/.m2/repository"/>
    <property name="java.vendor.url.bug" value="https://github.com/adoptium/adoptium-support/issues"/>
    <property name="java.io.tmpdir" value="/tmp"/>
    <property name="java.version" value="17.0.17"/>
    <property name="user.dir" value="/home/runner/work/ratis/ratis/ratis-test"/>
    <property name="os.arch" value="amd64"/>
    <property name="ratis.tmp.dir" value="/home/runner/work/ratis/ratis/ratis-test/target/tmp"/>
    <property name="java.vm.specification.name" value="Java Virtual Machine Specification"/>
    <property name="ratis.log.dir" value="/home/runner/work/ratis/ratis/ratis-test/target/log"/>
    <property name="native.encoding" value="UTF-8"/>
    <property name="java.library.path" value="/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib"/>
    <property name="java.vm.info" value="mixed mode, sharing"/>
    <property name="java.vendor" value="Eclipse Adoptium"/>
    <property name="java.vm.version" value="17.0.17+10"/>
    <property name="java.specification.maintenance.version" value="1"/>
    <property name="sun.io.unicode.encoding" value="UnicodeLittle"/>
    <property name="develocity.listener.port" value="36081"/>
    <property name="java.class.version" value="61.0"/>
  </properties>
  <testcase name="testSsl" classname="org.apache.ratis.netty.TestTlsConfWithNetty" time="1.512">
    <error message="bind(..) failed: Address already in use" type="org.apache.ratis.thirdparty.io.netty.channel.unix.Errors$NativeIoException"><![CDATA[org.apache.ratis.thirdparty.io.netty.channel.unix.Errors$NativeIoException: bind(..) failed: Address already in use
	Suppressed: java.lang.RuntimeException: Rethrowing promise failure cause
		at org.apache.ratis.thirdparty.io.netty.util.concurrent.DefaultPromise.rethrowIfFailed(DefaultPromise.java:685)
		at org.apache.ratis.thirdparty.io.netty.util.concurrent.DefaultPromise.syncUninterruptibly(DefaultPromise.java:426)
		at org.apache.ratis.thirdparty.io.netty.channel.DefaultChannelPromise.syncUninterruptibly(DefaultChannelPromise.java:125)
		at org.apache.ratis.thirdparty.io.netty.channel.DefaultChannelPromise.syncUninterruptibly(DefaultChannelPromise.java:30)
		at org.apache.ratis.netty.TestTlsConfWithNetty$NettyTestServer.<init>(TestTlsConfWithNetty.java:138)
		at org.apache.ratis.netty.TestTlsConfWithNetty.runTest(TestTlsConfWithNetty.java:103)
		at org.apache.ratis.netty.TestTlsConfWithNetty.testSsl(TestTlsConfWithNetty.java:92)
		at java.base/java.lang.reflect.Method.invoke(Method.java:569)
		at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
		at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
]]></error>
    <system-out><![CDATA[2025-11-20 15:53:06,115 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:newServerTlsConfig(84)) - newServerTlsConfig: mutualAuthn? true
2025-11-20 15:53:06,124 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/server.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.pem
2025-11-20 15:53:06,127 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/server.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.crt
2025-11-20 15:53:06,127 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/client.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.crt
2025-11-20 15:53:06,151 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:newClientTlsConfig(95)) - newClientTlsConfig: mutualAuthn? true
2025-11-20 15:53:06,152 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/client.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.pem
2025-11-20 15:53:06,153 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/client.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.crt
2025-11-20 15:53:06,153 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2025-11-20 15:53:06,154 [main] INFO  netty.TestTlsConfWithNetty (TestTlsConfWithNetty.java:randomPort(79)) - randomPort: 59380
2025-11-20 15:53:07,442 [main] INFO  netty.NettyUtils (NettyUtils.java:newEventLoopGroup(74)) - Create EpollEventLoopGroup for NettyTestServer-bossGroup; Thread size is 3.
2025-11-20 15:53:07,486 [main] INFO  netty.NettyUtils (NettyUtils.java:newEventLoopGroup(74)) - Create EpollEventLoopGroup for NettyTestServer-workerGroup; Thread size is 3.
2025-11-20 15:53:07,585 [NettyTestServer-bossGroup--thread1] INFO  netty.TestTlsConfWithNetty$NettyTestServer (AbstractInternalLogger.java:log(148)) - [id: 0xfc2aaaaf] REGISTERED
2025-11-20 15:53:07,586 [NettyTestServer-bossGroup--thread1] INFO  netty.TestTlsConfWithNetty$NettyTestServer (AbstractInternalLogger.java:log(148)) - [id: 0xfc2aaaaf] BIND: 0.0.0.0/0.0.0.0:59380
2025-11-20 15:53:07,597 [NettyTestServer-bossGroup--thread1] INFO  netty.TestTlsConfWithNetty$NettyTestServer (AbstractInternalLogger.java:log(148)) - [id: 0xfc2aaaaf] CLOSE
2025-11-20 15:53:07,599 [NettyTestServer-bossGroup--thread1] INFO  netty.TestTlsConfWithNetty$NettyTestServer (AbstractInternalLogger.java:log(148)) - [id: 0xfc2aaaaf] UNREGISTERED
]]></system-out>
  </testcase>
  <testcase name="testNoSsl" classname="org.apache.ratis.netty.TestTlsConfWithNetty" time="0.099">
    <system-out><![CDATA[2025-11-20 15:53:07,616 [main] INFO  netty.TestTlsConfWithNetty (TestTlsConfWithNetty.java:randomPort(79)) - randomPort: 50131
2025-11-20 15:53:07,619 [main] INFO  netty.NettyUtils (NettyUtils.java:newEventLoopGroup(74)) - Create EpollEventLoopGroup for NettyTestServer-bossGroup; Thread size is 3.
2025-11-20 15:53:07,626 [main] INFO  netty.NettyUtils (NettyUtils.java:newEventLoopGroup(74)) - Create EpollEventLoopGroup for NettyTestServer-workerGroup; Thread size is 3.
2025-11-20 15:53:07,628 [NettyTestServer-bossGroup--thread1] INFO  netty.TestTlsConfWithNetty$NettyTestServer (AbstractInternalLogger.java:log(148)) - [id: 0xeabcd991] REGISTERED
2025-11-20 15:53:07,628 [NettyTestServer-bossGroup--thread1] INFO  netty.TestTlsConfWithNetty$NettyTestServer (AbstractInternalLogger.java:log(148)) - [id: 0xeabcd991] BIND: 0.0.0.0/0.0.0.0:50131
2025-11-20 15:53:07,629 [NettyTestServer-bossGroup--thread1] INFO  netty.TestTlsConfWithNetty$NettyTestServer (AbstractInternalLogger.java:log(148)) - [id: 0xeabcd991, L:/0.0.0.0:50131] ACTIVE
2025-11-20 15:53:07,684 [NettyTestServer-bossGroup--thread1] INFO  netty.TestTlsConfWithNetty$NettyTestServer (AbstractInternalLogger.java:log(148)) - [id: 0xeabcd991, L:/0.0.0.0:50131] READ: [id: 0xa79fd139, L:/127.0.0.1:50131 - R:/127.0.0.1:34582]
2025-11-20 15:53:07,689 [NettyTestServer-bossGroup--thread1] INFO  netty.TestTlsConfWithNetty$NettyTestServer (AbstractInternalLogger.java:log(148)) - [id: 0xeabcd991, L:/0.0.0.0:50131] READ COMPLETE
2025-11-20 15:53:07,692 [NettyTestServer-workerGroup--thread1] INFO  netty.TestTlsConfWithNetty$NettyTestServer (TestTlsConfWithNetty.java:channelRead(160)) - channelRead: Hey, how are you? 
2025-11-20 15:53:07,696 [nioEventLoopGroup-2-1] INFO  netty.TestTlsConfWithNetty$NettyTestClient (TestTlsConfWithNetty.java:channelRead(234)) - received: [Hey,] [how] [are] [you?] 
2025-11-20 15:53:07,697 [main] INFO  netty.TestTlsConfWithNetty (TestTlsConfWithNetty.java:runTest(114)) - [Hey,]
2025-11-20 15:53:07,700 [main] INFO  netty.TestTlsConfWithNetty (TestTlsConfWithNetty.java:runTest(114)) - [how]
2025-11-20 15:53:07,700 [main] INFO  netty.TestTlsConfWithNetty (TestTlsConfWithNetty.java:runTest(114)) - [are]
2025-11-20 15:53:07,701 [main] INFO  netty.TestTlsConfWithNetty (TestTlsConfWithNetty.java:runTest(114)) - [you?]
2025-11-20 15:53:07,709 [NettyTestServer-bossGroup--thread1] INFO  netty.TestTlsConfWithNetty$NettyTestServer (AbstractInternalLogger.java:log(148)) - [id: 0xeabcd991, L:/0.0.0.0:50131] CLOSE
2025-11-20 15:53:07,709 [NettyTestServer-bossGroup--thread1] INFO  netty.TestTlsConfWithNetty$NettyTestServer (AbstractInternalLogger.java:log(148)) - [id: 0xeabcd991, L:/0.0.0.0:50131] INACTIVE
2025-11-20 15:53:07,710 [NettyTestServer-bossGroup--thread1] INFO  netty.TestTlsConfWithNetty$NettyTestServer (AbstractInternalLogger.java:log(148)) - [id: 0xeabcd991, L:/0.0.0.0:50131] UNREGISTERED
]]></system-out>
  </testcase>
</testsuite>