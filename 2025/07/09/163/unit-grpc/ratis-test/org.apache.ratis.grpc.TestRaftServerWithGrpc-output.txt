2025-07-09 10:09:59,113 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2025-07-09 10:09:59,120 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2025-07-09 10:09:59,128 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2025-07-09 10:09:59,183 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(136)) - Running runWithNewCluster
2025-07-09 10:09:59,293 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(308)) - new MiniRaftClusterWithGrpc with group-8CBB938BA353:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]
2025-07-09 10:09:59,295 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2025-07-09 10:09:59,295 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2025-07-09 10:09:59,296 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ...     Starting MiniRaftClusterWithGrpc
2025-07-09 10:09:59,296 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ... 
2025-07-09 10:09:59,296 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - .............................................................. 
2025-07-09 10:09:59,297 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(320)) - servers = {}
2025-07-09 10:09:59,307 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - newRaftServer: s0, group-8CBB938BA353:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008], format? true
2025-07-09 10:09:59,308 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(351)) - deleteFully target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s0
2025-07-09 10:09:59,311 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(364)) - deleteFully: target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s0 does not exist.
2025-07-09 10:09:59,312 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(390)) - Formatted directory target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s0
2025-07-09 10:09:59,337 [main] INFO  server.RaftServer (ConfUtils.java:logGet(62)) - raft.rpc.type = GRPC (default)
2025-07-09 10:09:59,502 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:09:59,504 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.admin.port = 15001 (custom)
2025-07-09 10:09:59,505 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:09:59,506 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.client.port = 15002 (custom)
2025-07-09 10:09:59,507 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.port = 15000 (custom)
2025-07-09 10:09:59,508 [main] INFO  server.GrpcServicesImpl (ConfUtils.java:logGet(62)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2025-07-09 10:09:59,509 [main] INFO  server.GrpcServicesImpl (ConfUtils.java:logGet(62)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2025-07-09 10:09:59,510 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.rpc.request.timeout = 3000ms (default)
2025-07-09 10:09:59,529 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.heartbeat.channel = false (custom)
2025-07-09 10:09:59,532 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2025-07-09 10:09:59,538 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2025-07-09 10:09:59,540 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2025-07-09 10:09:59,943 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(62)) - raft.datastream.type = DISABLED (default)
2025-07-09 10:09:59,948 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.sleep.deviation.threshold = 300ms (default)
2025-07-09 10:09:59,950 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.close.threshold = 60s (default)
2025-07-09 10:09:59,952 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2025-07-09 10:09:59,959 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s0] (custom)
2025-07-09 10:09:59,961 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.threadpool.proxy.cached = true (default)
2025-07-09 10:09:59,963 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.threadpool.proxy.size = 0 (default)
2025-07-09 10:09:59,977 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s0: addNew group-8CBB938BA353:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] returns group-8CBB938BA353:java.util.concurrent.CompletableFuture@59c08cf1[Not completed]
2025-07-09 10:09:59,978 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - newRaftServer: s1, group-8CBB938BA353:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008], format? true
2025-07-09 10:09:59,978 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(351)) - deleteFully target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s1
2025-07-09 10:09:59,979 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(364)) - deleteFully: target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s1 does not exist.
2025-07-09 10:09:59,979 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(390)) - Formatted directory target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s1
2025-07-09 10:09:59,981 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:09:59,982 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.admin.port = 15005 (custom)
2025-07-09 10:09:59,983 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:09:59,984 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.client.port = 15006 (custom)
2025-07-09 10:09:59,985 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.port = 15004 (custom)
2025-07-09 10:09:59,989 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s1] (custom)
2025-07-09 10:09:59,992 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s1: addNew group-8CBB938BA353:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] returns group-8CBB938BA353:java.util.concurrent.CompletableFuture@4746fb8c[Not completed]
2025-07-09 10:09:59,993 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - newRaftServer: s2, group-8CBB938BA353:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008], format? true
2025-07-09 10:09:59,994 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(351)) - deleteFully target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s2
2025-07-09 10:09:59,994 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(364)) - deleteFully: target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s2 does not exist.
2025-07-09 10:09:59,994 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(390)) - Formatted directory target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s2
2025-07-09 10:09:59,995 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:09:59,999 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.admin.port = 15009 (custom)
2025-07-09 10:09:59,999 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:00,000 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.client.port = 15010 (custom)
2025-07-09 10:10:00,000 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.port = 15008 (custom)
2025-07-09 10:10:00,004 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s2] (custom)
2025-07-09 10:10:00,005 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2025-07-09 10:10:00,004 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2025-07-09 10:10:00,006 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s2: addNew group-8CBB938BA353:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] returns group-8CBB938BA353:java.util.concurrent.CompletableFuture@39c5a105[Not completed]
2025-07-09 10:10:00,006 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2025-07-09 10:10:00,012 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s1: new RaftServerImpl for group-8CBB938BA353:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] with SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:00,012 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s0: new RaftServerImpl for group-8CBB938BA353:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] with SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:00,012 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s2: new RaftServerImpl for group-8CBB938BA353:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] with SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:00,015 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.rpc.timeout.min = 150ms (default)
2025-07-09 10:10:00,015 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.rpc.timeout.max = 300ms (default)
2025-07-09 10:10:00,015 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.rpc.sleep.time = 25ms (default)
2025-07-09 10:10:00,016 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.rpc.slowness.timeout = 60s (default)
2025-07-09 10:10:00,016 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.leaderelection.member.majority-add = false (default)
2025-07-09 10:10:00,025 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-8CBB938BA353: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:10:00,025 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-8CBB938BA353: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:10:00,026 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-8CBB938BA353: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:10:00,032 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.notification.no-leader.timeout = 60s (default)
2025-07-09 10:10:00,038 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.read.timeout = 10s (default)
2025-07-09 10:10:00,043 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.retrycache.expirytime = 60s (default)
2025-07-09 10:10:00,043 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2025-07-09 10:10:00,077 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.read.option = DEFAULT (default)
2025-07-09 10:10:00,078 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2025-07-09 10:10:00,176 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2025-07-09 10:10:00,176 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.threadpool.server.cached = true (default)
2025-07-09 10:10:00,178 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.threadpool.server.size = 0 (default)
2025-07-09 10:10:00,178 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.threadpool.client.cached = true (default)
2025-07-09 10:10:00,179 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.threadpool.client.size = 0 (default)
2025-07-09 10:10:00,181 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2025-07-09 10:10:00,182 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.log.corruption.policy = EXCEPTION (default)
2025-07-09 10:10:00,182 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s0] (custom)
2025-07-09 10:10:00,188 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s0/63d296a0-2e2b-4116-adab-8cbb938ba353 does not exist. Creating ...
2025-07-09 10:10:00,190 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s0/63d296a0-2e2b-4116-adab-8cbb938ba353
2025-07-09 10:10:00,192 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s0/63d296a0-2e2b-4116-adab-8cbb938ba353/in_use.lock acquired by nodename 11875@fv-az1788-284
2025-07-09 10:10:00,193 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s0/63d296a0-2e2b-4116-adab-8cbb938ba353/current
2025-07-09 10:10:00,193 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s0/63d296a0-2e2b-4116-adab-8cbb938ba353/sm
2025-07-09 10:10:00,197 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s0/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@4e83927
2025-07-09 10:10:00,203 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s0/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s0/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:00,204 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s0/63d296a0-2e2b-4116-adab-8cbb938ba353 has been successfully formatted.
2025-07-09 10:10:00,205 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:00,210 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2025-07-09 10:10:00,212 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.log.use.memory = false (default)
2025-07-09 10:10:00,225 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.log.purge.gap = 1024 (default)
2025-07-09 10:10:00,228 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2025-07-09 10:10:00,228 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.log.purge.preservation.log.num = 0 (default)
2025-07-09 10:10:00,240 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.log.segment.cache.num.max = 6 (default)
2025-07-09 10:10:00,241 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2025-07-09 10:10:00,243 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-8CBB938BA353-cacheEviction-AwaitToRun,5,main] started
2025-07-09 10:10:00,250 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s0@group-8CBB938BA353-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s0/63d296a0-2e2b-4116-adab-8cbb938ba353
2025-07-09 10:10:00,251 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2025-07-09 10:10:00,251 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.log.queue.element-limit = 4096 (default)
2025-07-09 10:10:00,255 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.log.force.sync.num = 128 (default)
2025-07-09 10:10:00,256 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.log.statemachine.data.sync = true (default)
2025-07-09 10:10:00,256 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2025-07-09 10:10:00,257 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2025-07-09 10:10:00,262 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.log.unsafe-flush.enabled = false (default)
2025-07-09 10:10:00,263 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.log.async-flush.enabled = false (default)
2025-07-09 10:10:00,263 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2025-07-09 10:10:00,271 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s0@group-8CBB938BA353-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:00,272 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s0@group-8CBB938BA353-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:00,274 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(405)) - s0@group-8CBB938BA353: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:00,274 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-8CBB938BA353: changes role from      null to FOLLOWER at term 0 for startAsFollower
2025-07-09 10:10:00,277 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-8CBB938BA353-FollowerState
2025-07-09 10:10:00,278 [s0@group-8CBB938BA353-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:00,278 [s0@group-8CBB938BA353-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:00,278 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8CBB938BA353,id=s0
2025-07-09 10:10:00,279 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-8CBB938BA353,id=s0
2025-07-09 10:10:00,281 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2025-07-09 10:10:00,282 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2025-07-09 10:10:00,282 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2025-07-09 10:10:00,283 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.snapshot.retention.file.num = -1 (default)
2025-07-09 10:10:00,283 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.log.purge.upto.snapshot.index = false (default)
2025-07-09 10:10:00,289 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(419)) - s0@group-8CBB938BA353: Successfully started.
2025-07-09 10:10:00,289 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(412)) - s0: start RPC server
2025-07-09 10:10:00,359 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15002
2025-07-09 10:10:00,360 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15000
2025-07-09 10:10:00,362 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15001
2025-07-09 10:10:00,364 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2025-07-09 10:10:00,364 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s1] (custom)
2025-07-09 10:10:00,364 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s1/63d296a0-2e2b-4116-adab-8cbb938ba353 does not exist. Creating ...
2025-07-09 10:10:00,365 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s1/63d296a0-2e2b-4116-adab-8cbb938ba353
2025-07-09 10:10:00,366 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s1/63d296a0-2e2b-4116-adab-8cbb938ba353/in_use.lock acquired by nodename 11875@fv-az1788-284
2025-07-09 10:10:00,366 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s1/63d296a0-2e2b-4116-adab-8cbb938ba353/current
2025-07-09 10:10:00,367 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s1/63d296a0-2e2b-4116-adab-8cbb938ba353/sm
2025-07-09 10:10:00,367 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s1/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@684bcb88
2025-07-09 10:10:00,369 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s1/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s1/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:00,369 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s1/63d296a0-2e2b-4116-adab-8cbb938ba353 has been successfully formatted.
2025-07-09 10:10:00,371 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:00,371 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2025-07-09 10:10:00,373 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-8CBB938BA353-cacheEviction-AwaitToRun,5,main] started
2025-07-09 10:10:00,374 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s1@group-8CBB938BA353-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s1/63d296a0-2e2b-4116-adab-8cbb938ba353
2025-07-09 10:10:00,377 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s1@group-8CBB938BA353-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:00,377 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s1@group-8CBB938BA353-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:00,378 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(405)) - s1@group-8CBB938BA353: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:00,378 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s1@group-8CBB938BA353: changes role from      null to FOLLOWER at term 0 for startAsFollower
2025-07-09 10:10:00,378 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8CBB938BA353-FollowerState
2025-07-09 10:10:00,379 [s1@group-8CBB938BA353-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:00,379 [s1@group-8CBB938BA353-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:00,379 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8CBB938BA353,id=s1
2025-07-09 10:10:00,380 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-8CBB938BA353,id=s1
2025-07-09 10:10:00,381 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(419)) - s1@group-8CBB938BA353: Successfully started.
2025-07-09 10:10:00,381 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(412)) - s1: start RPC server
2025-07-09 10:10:00,382 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s1: GrpcServicesImpl started, listening on 15006
2025-07-09 10:10:00,383 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s1: GrpcServicesImpl started, listening on 15004
2025-07-09 10:10:00,384 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s1: GrpcServicesImpl started, listening on 15005
2025-07-09 10:10:00,385 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2025-07-09 10:10:00,385 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s2] (custom)
2025-07-09 10:10:00,385 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s2/63d296a0-2e2b-4116-adab-8cbb938ba353 does not exist. Creating ...
2025-07-09 10:10:00,386 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s2/63d296a0-2e2b-4116-adab-8cbb938ba353
2025-07-09 10:10:00,395 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s2/63d296a0-2e2b-4116-adab-8cbb938ba353/in_use.lock acquired by nodename 11875@fv-az1788-284
2025-07-09 10:10:00,396 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s2/63d296a0-2e2b-4116-adab-8cbb938ba353/current
2025-07-09 10:10:00,396 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s2/63d296a0-2e2b-4116-adab-8cbb938ba353/sm
2025-07-09 10:10:00,396 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s2/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@71eb562f
2025-07-09 10:10:00,398 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s2/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s2/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:00,398 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s2/63d296a0-2e2b-4116-adab-8cbb938ba353 has been successfully formatted.
2025-07-09 10:10:00,398 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:00,399 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2025-07-09 10:10:00,401 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-8CBB938BA353-cacheEviction-AwaitToRun,5,main] started
2025-07-09 10:10:00,401 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s2@group-8CBB938BA353-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s2/63d296a0-2e2b-4116-adab-8cbb938ba353
2025-07-09 10:10:00,404 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s2@group-8CBB938BA353-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:00,405 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s2@group-8CBB938BA353-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:00,405 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(405)) - s2@group-8CBB938BA353: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:00,406 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s2@group-8CBB938BA353: changes role from      null to FOLLOWER at term 0 for startAsFollower
2025-07-09 10:10:00,406 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-8CBB938BA353-FollowerState
2025-07-09 10:10:00,406 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8CBB938BA353,id=s2
2025-07-09 10:10:00,407 [s2@group-8CBB938BA353-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:00,407 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-8CBB938BA353,id=s2
2025-07-09 10:10:00,408 [s2@group-8CBB938BA353-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:00,409 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(419)) - s2@group-8CBB938BA353: Successfully started.
2025-07-09 10:10:00,409 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(412)) - s2: start RPC server
2025-07-09 10:10:00,410 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s2: GrpcServicesImpl started, listening on 15010
2025-07-09 10:10:00,412 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s2: GrpcServicesImpl started, listening on 15008
2025-07-09 10:10:00,412 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s2: GrpcServicesImpl started, listening on 15009
2025-07-09 10:10:00,413 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2025-07-09 10:10:00,421 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-8CBB938BA353:t0, leader=null, voted=, raftlog=Memoized:s0@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
  s1:  RUNNING  FOLLOWER (RUNNING): s1@group-8CBB938BA353:t0, leader=null, voted=, raftlog=Memoized:s1@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
  s2:  RUNNING  FOLLOWER (RUNNING): s2@group-8CBB938BA353:t0, leader=null, voted=, raftlog=Memoized:s2@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:00,427 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-8CBB938BA353:t0, leader=null, voted=, raftlog=Memoized:s0@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
  s1:  RUNNING  FOLLOWER (RUNNING): s1@group-8CBB938BA353:t0, leader=null, voted=, raftlog=Memoized:s1@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
  s2:  RUNNING  FOLLOWER (RUNNING): s2@group-8CBB938BA353:t0, leader=null, voted=, raftlog=Memoized:s2@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:00,515 [s0@group-8CBB938BA353-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(161)) - s0@group-8CBB938BA353-FollowerState: change to CANDIDATE, lastRpcElapsedTime:238291434ns, electionTimeout:235ms
2025-07-09 10:10:00,515 [s0@group-8CBB938BA353-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-8CBB938BA353-FollowerState
2025-07-09 10:10:00,515 [s0@group-8CBB938BA353-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-8CBB938BA353: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2025-07-09 10:10:00,519 [s0@group-8CBB938BA353-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.leaderelection.pre-vote = true (default)
2025-07-09 10:10:00,520 [s0@group-8CBB938BA353-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-8CBB938BA353-LeaderElection1
2025-07-09 10:10:00,523 [s0@group-8CBB938BA353-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s0@group-8CBB938BA353-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:00,552 [s0@group-8CBB938BA353-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:00,553 [s0@group-8CBB938BA353-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:00,553 [s1@group-8CBB938BA353-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(161)) - s1@group-8CBB938BA353-FollowerState: change to CANDIDATE, lastRpcElapsedTime:174868892ns, electionTimeout:173ms
2025-07-09 10:10:00,553 [s1@group-8CBB938BA353-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-8CBB938BA353-FollowerState
2025-07-09 10:10:00,553 [s1@group-8CBB938BA353-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s1@group-8CBB938BA353: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2025-07-09 10:10:00,554 [s1@group-8CBB938BA353-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8CBB938BA353-LeaderElection2
2025-07-09 10:10:00,560 [s1@group-8CBB938BA353-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s1@group-8CBB938BA353-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:00,562 [s0@group-8CBB938BA353-LeaderElection1-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15008
2025-07-09 10:10:00,563 [s0@group-8CBB938BA353-LeaderElection1-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15004
2025-07-09 10:10:00,563 [s1@group-8CBB938BA353-LeaderElection2-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15000
2025-07-09 10:10:00,565 [s1@group-8CBB938BA353-LeaderElection2-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15008
2025-07-09 10:10:00,566 [s1@group-8CBB938BA353-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:00,566 [s1@group-8CBB938BA353-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:00,566 [s2@group-8CBB938BA353-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(161)) - s2@group-8CBB938BA353-FollowerState: change to CANDIDATE, lastRpcElapsedTime:160531269ns, electionTimeout:158ms
2025-07-09 10:10:00,568 [s2@group-8CBB938BA353-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-8CBB938BA353-FollowerState
2025-07-09 10:10:00,568 [s2@group-8CBB938BA353-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s2@group-8CBB938BA353: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2025-07-09 10:10:00,568 [s2@group-8CBB938BA353-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-8CBB938BA353-LeaderElection3
2025-07-09 10:10:00,569 [s2@group-8CBB938BA353-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s2@group-8CBB938BA353-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:00,570 [s2@group-8CBB938BA353-LeaderElection3-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15000
2025-07-09 10:10:00,571 [s2@group-8CBB938BA353-LeaderElection3-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15004
2025-07-09 10:10:00,570 [s2@group-8CBB938BA353-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:00,572 [s2@group-8CBB938BA353-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:00,707 [s0@group-8CBB938BA353-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s0@group-8CBB938BA353-LeaderElection1: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2025-07-09 10:10:00,707 [s0@group-8CBB938BA353-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s0@group-8CBB938BA353-LeaderElection1 PRE_VOTE round 0: result TIMEOUT
2025-07-09 10:10:00,708 [s0@group-8CBB938BA353-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s0@group-8CBB938BA353-LeaderElection1 PRE_VOTE round 1: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:00,711 [s0@group-8CBB938BA353-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:00,712 [s0@group-8CBB938BA353-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:00,741 [s1@group-8CBB938BA353-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s1@group-8CBB938BA353-LeaderElection2: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2025-07-09 10:10:00,741 [s1@group-8CBB938BA353-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s1@group-8CBB938BA353-LeaderElection2 PRE_VOTE round 0: result TIMEOUT
2025-07-09 10:10:00,741 [s1@group-8CBB938BA353-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s1@group-8CBB938BA353-LeaderElection2 PRE_VOTE round 1: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:00,747 [s1@group-8CBB938BA353-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:00,747 [s1@group-8CBB938BA353-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:00,846 [s2@group-8CBB938BA353-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s2@group-8CBB938BA353-LeaderElection3: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2025-07-09 10:10:00,846 [s2@group-8CBB938BA353-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s2@group-8CBB938BA353-LeaderElection3 PRE_VOTE round 0: result TIMEOUT
2025-07-09 10:10:00,846 [s2@group-8CBB938BA353-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s2@group-8CBB938BA353-LeaderElection3 PRE_VOTE round 1: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:00,849 [s2@group-8CBB938BA353-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:00,851 [s2@group-8CBB938BA353-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:00,878 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #2 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE (RUNNING): s0@group-8CBB938BA353:t0, leader=null, voted=, raftlog=Memoized:s0@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
  s1:  RUNNING CANDIDATE (RUNNING): s1@group-8CBB938BA353:t0, leader=null, voted=, raftlog=Memoized:s1@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
  s2:  RUNNING CANDIDATE (RUNNING): s2@group-8CBB938BA353:t0, leader=null, voted=, raftlog=Memoized:s2@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:00,916 [s0@group-8CBB938BA353-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s0@group-8CBB938BA353-LeaderElection1: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2025-07-09 10:10:00,916 [s0@group-8CBB938BA353-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s0@group-8CBB938BA353-LeaderElection1 PRE_VOTE round 1: result TIMEOUT
2025-07-09 10:10:00,917 [s0@group-8CBB938BA353-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s0@group-8CBB938BA353-LeaderElection1 PRE_VOTE round 2: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:00,923 [s0@group-8CBB938BA353-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:00,924 [s0@group-8CBB938BA353-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:00,930 [s1@group-8CBB938BA353-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s1@group-8CBB938BA353-LeaderElection2: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2025-07-09 10:10:00,930 [s1@group-8CBB938BA353-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s1@group-8CBB938BA353-LeaderElection2 PRE_VOTE round 1: result TIMEOUT
2025-07-09 10:10:00,931 [s1@group-8CBB938BA353-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s1@group-8CBB938BA353-LeaderElection2 PRE_VOTE round 2: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:00,935 [s1@group-8CBB938BA353-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:00,935 [s1@group-8CBB938BA353-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:01,119 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s1@group-8CBB938BA353: receive requestVote(PRE_VOTE, s0, group-8CBB938BA353, 0, <PROTO_DEFAULT>)
2025-07-09 10:10:01,120 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s0@group-8CBB938BA353: receive requestVote(PRE_VOTE, s2, group-8CBB938BA353, 0, <PROTO_DEFAULT>)
2025-07-09 10:10:01,120 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s0@group-8CBB938BA353: receive requestVote(PRE_VOTE, s1, group-8CBB938BA353, 0, <PROTO_DEFAULT>)
2025-07-09 10:10:01,123 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8CBB938BA353-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2025-07-09 10:10:01,120 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s1@group-8CBB938BA353: receive requestVote(PRE_VOTE, s2, group-8CBB938BA353, 0, <PROTO_DEFAULT>)
2025-07-09 10:10:01,120 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s2@group-8CBB938BA353: receive requestVote(PRE_VOTE, s0, group-8CBB938BA353, 0, <PROTO_DEFAULT>)
2025-07-09 10:10:01,119 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s2@group-8CBB938BA353: receive requestVote(PRE_VOTE, s1, group-8CBB938BA353, 0, <PROTO_DEFAULT>)
2025-07-09 10:10:01,124 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8CBB938BA353-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2025-07-09 10:10:01,123 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8CBB938BA353-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2025-07-09 10:10:01,124 [s0@group-8CBB938BA353-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s0@group-8CBB938BA353-LeaderElection1: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2025-07-09 10:10:01,124 [s0@group-8CBB938BA353-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s0@group-8CBB938BA353-LeaderElection1 PRE_VOTE round 2: result TIMEOUT
2025-07-09 10:10:01,124 [s0@group-8CBB938BA353-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s0@group-8CBB938BA353-LeaderElection1 PRE_VOTE round 3: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,130 [s0@group-8CBB938BA353-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:01,131 [s0@group-8CBB938BA353-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:01,135 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s2@group-8CBB938BA353 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0-last:<INITIAL_VALUE>. Peer's state: s2@group-8CBB938BA353:t0, leader=null, voted=, raftlog=Memoized:s2@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,136 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s1@group-8CBB938BA353 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0-last:<INITIAL_VALUE>. Peer's state: s1@group-8CBB938BA353:t0, leader=null, voted=, raftlog=Memoized:s1@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,136 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8CBB938BA353-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2025-07-09 10:10:01,136 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s1@group-8CBB938BA353 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0-last:<INITIAL_VALUE>. Peer's state: s1@group-8CBB938BA353:t0, leader=null, voted=, raftlog=Memoized:s1@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,137 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8CBB938BA353-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2025-07-09 10:10:01,140 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s2@group-8CBB938BA353 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0-last:<INITIAL_VALUE>. Peer's state: s2@group-8CBB938BA353:t0, leader=null, voted=, raftlog=Memoized:s2@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,137 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s0@group-8CBB938BA353 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0-last:<INITIAL_VALUE>. Peer's state: s0@group-8CBB938BA353:t0, leader=null, voted=, raftlog=Memoized:s0@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,141 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8CBB938BA353-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2025-07-09 10:10:01,141 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s0@group-8CBB938BA353 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0-last:<INITIAL_VALUE>. Peer's state: s0@group-8CBB938BA353:t0, leader=null, voted=, raftlog=Memoized:s0@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,143 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s1@group-8CBB938BA353: receive requestVote(PRE_VOTE, s0, group-8CBB938BA353, 0, <PROTO_DEFAULT>)
2025-07-09 10:10:01,144 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8CBB938BA353-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2025-07-09 10:10:01,144 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s1@group-8CBB938BA353 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0-last:<INITIAL_VALUE>. Peer's state: s1@group-8CBB938BA353:t0, leader=null, voted=, raftlog=Memoized:s1@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,150 [s1@group-8CBB938BA353-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s1@group-8CBB938BA353-LeaderElection2: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2025-07-09 10:10:01,150 [s1@group-8CBB938BA353-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 0: s1<-s0#0:OK-t0-last:<INITIAL_VALUE>
2025-07-09 10:10:01,151 [s0@group-8CBB938BA353-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s0@group-8CBB938BA353-LeaderElection1: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2025-07-09 10:10:01,151 [s2@group-8CBB938BA353-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s2@group-8CBB938BA353-LeaderElection3: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2025-07-09 10:10:01,151 [s0@group-8CBB938BA353-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 0: s0<-s1#0:OK-t0-last:<INITIAL_VALUE>
2025-07-09 10:10:01,151 [s2@group-8CBB938BA353-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 0: s2<-s0#0:OK-t0-last:<INITIAL_VALUE>
2025-07-09 10:10:01,151 [s1@group-8CBB938BA353-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s1@group-8CBB938BA353-LeaderElection2 PRE_VOTE round 2: result PASSED
2025-07-09 10:10:01,152 [s0@group-8CBB938BA353-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s0@group-8CBB938BA353-LeaderElection1 PRE_VOTE round 3: result PASSED
2025-07-09 10:10:01,152 [s0@group-8CBB938BA353-LeaderElection1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s0/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@6adb1831
2025-07-09 10:10:01,153 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s2@group-8CBB938BA353: receive requestVote(PRE_VOTE, s0, group-8CBB938BA353, 0, <PROTO_DEFAULT>)
2025-07-09 10:10:01,153 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8CBB938BA353-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2025-07-09 10:10:01,153 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s2@group-8CBB938BA353 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0-last:<INITIAL_VALUE>. Peer's state: s2@group-8CBB938BA353:t0, leader=null, voted=, raftlog=Memoized:s2@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,154 [s1@group-8CBB938BA353-LeaderElection2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s1/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@2a873103
2025-07-09 10:10:01,155 [s2@group-8CBB938BA353-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s2@group-8CBB938BA353-LeaderElection3 PRE_VOTE round 1: result PASSED
2025-07-09 10:10:01,155 [s2@group-8CBB938BA353-LeaderElection3] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s2/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@127265d8
2025-07-09 10:10:01,159 [s0@group-8CBB938BA353-LeaderElection1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s0/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s0/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:01,160 [s0@group-8CBB938BA353-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s0@group-8CBB938BA353-LeaderElection1 ELECTION round 3: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,161 [s2@group-8CBB938BA353-LeaderElection3] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s2/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s2/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:01,161 [s2@group-8CBB938BA353-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s2@group-8CBB938BA353-LeaderElection3 ELECTION round 1: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,159 [s1@group-8CBB938BA353-LeaderElection2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s1/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s1/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:01,161 [s1@group-8CBB938BA353-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s1@group-8CBB938BA353-LeaderElection2 ELECTION round 2: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,165 [s1@group-8CBB938BA353-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:01,165 [s1@group-8CBB938BA353-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:01,166 [s0@group-8CBB938BA353-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:01,167 [s0@group-8CBB938BA353-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:01,168 [s2@group-8CBB938BA353-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:01,168 [s2@group-8CBB938BA353-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:01,169 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s0@group-8CBB938BA353: receive requestVote(ELECTION, s1, group-8CBB938BA353, 1, <PROTO_DEFAULT>)
2025-07-09 10:10:01,169 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8CBB938BA353-CANDIDATE: reject ELECTION from s1: already has voted for s0 at current term 1
2025-07-09 10:10:01,169 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s0@group-8CBB938BA353 replies to ELECTION vote request: s1<-s0#0:FAIL-t1-last:<INITIAL_VALUE>. Peer's state: s0@group-8CBB938BA353:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,170 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s1@group-8CBB938BA353: receive requestVote(ELECTION, s0, group-8CBB938BA353, 1, <PROTO_DEFAULT>)
2025-07-09 10:10:01,171 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8CBB938BA353-CANDIDATE: reject ELECTION from s0: already has voted for s1 at current term 1
2025-07-09 10:10:01,172 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s2@group-8CBB938BA353: receive requestVote(ELECTION, s1, group-8CBB938BA353, 1, <PROTO_DEFAULT>)
2025-07-09 10:10:01,172 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8CBB938BA353-CANDIDATE: reject ELECTION from s1: already has voted for s2 at current term 1
2025-07-09 10:10:01,173 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s2@group-8CBB938BA353 replies to ELECTION vote request: s1<-s2#0:FAIL-t1-last:<INITIAL_VALUE>. Peer's state: s2@group-8CBB938BA353:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,174 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s2@group-8CBB938BA353: receive requestVote(ELECTION, s0, group-8CBB938BA353, 1, <PROTO_DEFAULT>)
2025-07-09 10:10:01,174 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8CBB938BA353-CANDIDATE: reject ELECTION from s0: already has voted for s2 at current term 1
2025-07-09 10:10:01,174 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s2@group-8CBB938BA353 replies to ELECTION vote request: s0<-s2#0:FAIL-t1-last:<INITIAL_VALUE>. Peer's state: s2@group-8CBB938BA353:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,175 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s1@group-8CBB938BA353 replies to ELECTION vote request: s0<-s1#0:FAIL-t1-last:<INITIAL_VALUE>. Peer's state: s1@group-8CBB938BA353:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,176 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s1@group-8CBB938BA353: receive requestVote(ELECTION, s2, group-8CBB938BA353, 1, <PROTO_DEFAULT>)
2025-07-09 10:10:01,177 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8CBB938BA353-CANDIDATE: reject ELECTION from s2: already has voted for s1 at current term 1
2025-07-09 10:10:01,177 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s1@group-8CBB938BA353 replies to ELECTION vote request: s2<-s1#0:FAIL-t1-last:<INITIAL_VALUE>. Peer's state: s1@group-8CBB938BA353:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,178 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s0@group-8CBB938BA353: receive requestVote(ELECTION, s2, group-8CBB938BA353, 1, <PROTO_DEFAULT>)
2025-07-09 10:10:01,179 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8CBB938BA353-CANDIDATE: reject ELECTION from s2: already has voted for s0 at current term 1
2025-07-09 10:10:01,180 [s1@group-8CBB938BA353-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:waitForResults(573)) - rejectedPeers: [s0, s2], emptyCommit? true
2025-07-09 10:10:01,180 [s1@group-8CBB938BA353-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s1@group-8CBB938BA353-LeaderElection2: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2025-07-09 10:10:01,180 [s1@group-8CBB938BA353-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 0: s1<-s0#0:FAIL-t1-last:<INITIAL_VALUE>
2025-07-09 10:10:01,180 [s1@group-8CBB938BA353-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 1: s1<-s2#0:FAIL-t1-last:<INITIAL_VALUE>
2025-07-09 10:10:01,180 [s1@group-8CBB938BA353-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s1@group-8CBB938BA353-LeaderElection2 ELECTION round 2: result REJECTED
2025-07-09 10:10:01,180 [s1@group-8CBB938BA353-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s1@group-8CBB938BA353: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2025-07-09 10:10:01,181 [s1@group-8CBB938BA353-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s1: shutdown s1@group-8CBB938BA353-LeaderElection2
2025-07-09 10:10:01,180 [s0@group-8CBB938BA353-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:waitForResults(573)) - rejectedPeers: [s2, s1], emptyCommit? true
2025-07-09 10:10:01,182 [s0@group-8CBB938BA353-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s0@group-8CBB938BA353-LeaderElection1: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2025-07-09 10:10:01,182 [s0@group-8CBB938BA353-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 0: s0<-s1#0:FAIL-t1-last:<INITIAL_VALUE>
2025-07-09 10:10:01,182 [s0@group-8CBB938BA353-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 1: s0<-s2#0:FAIL-t1-last:<INITIAL_VALUE>
2025-07-09 10:10:01,182 [s0@group-8CBB938BA353-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s0@group-8CBB938BA353-LeaderElection1 ELECTION round 3: result REJECTED
2025-07-09 10:10:01,183 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s0@group-8CBB938BA353 replies to ELECTION vote request: s2<-s0#0:FAIL-t1-last:<INITIAL_VALUE>. Peer's state: s0@group-8CBB938BA353:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,183 [s0@group-8CBB938BA353-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-8CBB938BA353: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2025-07-09 10:10:01,184 [s0@group-8CBB938BA353-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-8CBB938BA353-LeaderElection1
2025-07-09 10:10:01,186 [s0@group-8CBB938BA353-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-8CBB938BA353-FollowerState
2025-07-09 10:10:01,187 [s2@group-8CBB938BA353-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:waitForResults(573)) - rejectedPeers: [s1, s0], emptyCommit? true
2025-07-09 10:10:01,187 [s2@group-8CBB938BA353-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s2@group-8CBB938BA353-LeaderElection3: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2025-07-09 10:10:01,187 [s2@group-8CBB938BA353-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 0: s2<-s0#0:FAIL-t1-last:<INITIAL_VALUE>
2025-07-09 10:10:01,187 [s2@group-8CBB938BA353-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 1: s2<-s1#0:FAIL-t1-last:<INITIAL_VALUE>
2025-07-09 10:10:01,186 [s1@group-8CBB938BA353-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8CBB938BA353-FollowerState
2025-07-09 10:10:01,188 [s1@group-8CBB938BA353-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(576)) - s1@group-8CBB938BA353: set firstElectionSinceStartup to false for REJECTED
2025-07-09 10:10:01,190 [s0@group-8CBB938BA353-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(576)) - s0@group-8CBB938BA353: set firstElectionSinceStartup to false for REJECTED
2025-07-09 10:10:01,190 [s2@group-8CBB938BA353-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s2@group-8CBB938BA353-LeaderElection3 ELECTION round 1: result REJECTED
2025-07-09 10:10:01,190 [s2@group-8CBB938BA353-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s2@group-8CBB938BA353: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2025-07-09 10:10:01,190 [s2@group-8CBB938BA353-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-8CBB938BA353-LeaderElection3
2025-07-09 10:10:01,190 [s2@group-8CBB938BA353-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-8CBB938BA353-FollowerState
2025-07-09 10:10:01,191 [s2@group-8CBB938BA353-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:01,191 [s2@group-8CBB938BA353-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:01,191 [s2@group-8CBB938BA353-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(576)) - s2@group-8CBB938BA353: set firstElectionSinceStartup to false for REJECTED
2025-07-09 10:10:01,330 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #3 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-8CBB938BA353:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
  s1:  RUNNING  FOLLOWER (RUNNING): s1@group-8CBB938BA353:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
  s2:  RUNNING  FOLLOWER (RUNNING): s2@group-8CBB938BA353:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,348 [s0@group-8CBB938BA353-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(161)) - s0@group-8CBB938BA353-FollowerState: change to CANDIDATE, lastRpcElapsedTime:161751620ns, electionTimeout:158ms
2025-07-09 10:10:01,348 [s0@group-8CBB938BA353-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-8CBB938BA353-FollowerState
2025-07-09 10:10:01,348 [s0@group-8CBB938BA353-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-8CBB938BA353: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2025-07-09 10:10:01,349 [s0@group-8CBB938BA353-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-8CBB938BA353-LeaderElection4
2025-07-09 10:10:01,349 [s0@group-8CBB938BA353-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s0@group-8CBB938BA353-LeaderElection4 PRE_VOTE round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,355 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s1@group-8CBB938BA353: receive requestVote(PRE_VOTE, s0, group-8CBB938BA353, 1, <PROTO_DEFAULT>)
2025-07-09 10:10:01,356 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8CBB938BA353-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2025-07-09 10:10:01,356 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s2@group-8CBB938BA353: receive requestVote(PRE_VOTE, s0, group-8CBB938BA353, 1, <PROTO_DEFAULT>)
2025-07-09 10:10:01,358 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8CBB938BA353-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2025-07-09 10:10:01,359 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s2@group-8CBB938BA353 replies to PRE_VOTE vote request: s0<-s2#0:OK-t1-last:<INITIAL_VALUE>. Peer's state: s2@group-8CBB938BA353:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,360 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s1@group-8CBB938BA353 replies to PRE_VOTE vote request: s0<-s1#0:OK-t1-last:<INITIAL_VALUE>. Peer's state: s1@group-8CBB938BA353:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,365 [s0@group-8CBB938BA353-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s0@group-8CBB938BA353-LeaderElection4: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2025-07-09 10:10:01,366 [s0@group-8CBB938BA353-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 0: s0<-s2#0:OK-t1-last:<INITIAL_VALUE>
2025-07-09 10:10:01,366 [s0@group-8CBB938BA353-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s0@group-8CBB938BA353-LeaderElection4 PRE_VOTE round 0: result PASSED
2025-07-09 10:10:01,366 [s0@group-8CBB938BA353-LeaderElection4] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s0/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@1d55188f
2025-07-09 10:10:01,369 [s0@group-8CBB938BA353-LeaderElection4] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s0/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s0/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:01,369 [s0@group-8CBB938BA353-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s0@group-8CBB938BA353-LeaderElection4 ELECTION round 0: submit vote requests at term 2 for conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,373 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s2@group-8CBB938BA353: receive requestVote(ELECTION, s0, group-8CBB938BA353, 2, <PROTO_DEFAULT>)
2025-07-09 10:10:01,373 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8CBB938BA353-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2025-07-09 10:10:01,374 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s2@group-8CBB938BA353: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2025-07-09 10:10:01,374 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-8CBB938BA353-FollowerState
2025-07-09 10:10:01,374 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-8CBB938BA353-FollowerState
2025-07-09 10:10:01,374 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s1@group-8CBB938BA353: receive requestVote(ELECTION, s0, group-8CBB938BA353, 2, <PROTO_DEFAULT>)
2025-07-09 10:10:01,374 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8CBB938BA353-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2025-07-09 10:10:01,375 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s1@group-8CBB938BA353: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2025-07-09 10:10:01,375 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-8CBB938BA353-FollowerState
2025-07-09 10:10:01,374 [s2@group-8CBB938BA353-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s2@group-8CBB938BA353-FollowerState was interrupted
2025-07-09 10:10:01,376 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8CBB938BA353-FollowerState
2025-07-09 10:10:01,376 [s1@group-8CBB938BA353-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s1@group-8CBB938BA353-FollowerState was interrupted
2025-07-09 10:10:01,376 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s2/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@74c67951
2025-07-09 10:10:01,377 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s1/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@fbe10d0
2025-07-09 10:10:01,378 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s1/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s1/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:01,378 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s2/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s2/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:01,379 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s1@group-8CBB938BA353 replies to ELECTION vote request: s0<-s1#0:OK-t2-last:<INITIAL_VALUE>. Peer's state: s1@group-8CBB938BA353:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,379 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s2@group-8CBB938BA353 replies to ELECTION vote request: s0<-s2#0:OK-t2-last:<INITIAL_VALUE>. Peer's state: s2@group-8CBB938BA353:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-8CBB938BA353-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,384 [s0@group-8CBB938BA353-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s0@group-8CBB938BA353-LeaderElection4: ELECTION PASSED received 1 response(s) and 0 exception(s):
2025-07-09 10:10:01,385 [s0@group-8CBB938BA353-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 0: s0<-s2#0:OK-t2-last:<INITIAL_VALUE>
2025-07-09 10:10:01,385 [s0@group-8CBB938BA353-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s0@group-8CBB938BA353-LeaderElection4 ELECTION round 0: result PASSED
2025-07-09 10:10:01,385 [s0@group-8CBB938BA353-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-8CBB938BA353-LeaderElection4
2025-07-09 10:10:01,386 [s0@group-8CBB938BA353-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-8CBB938BA353: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2025-07-09 10:10:01,395 [s0@group-8CBB938BA353-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.staging.catchup.gap = 1000 (default)
2025-07-09 10:10:01,396 [s0@group-8CBB938BA353-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.staging.timeout = 900ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:01,400 [s0@group-8CBB938BA353-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.write.element-limit = 4096 (default)
2025-07-09 10:10:01,401 [s0@group-8CBB938BA353-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2025-07-09 10:10:01,405 [s0@group-8CBB938BA353-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.watch.timeout = 10s (default)
2025-07-09 10:10:01,405 [s0@group-8CBB938BA353-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.watch.timeout.denomination = 1s (default)
2025-07-09 10:10:01,405 [s0@group-8CBB938BA353-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.watch.element-limit = 65536 (default)
2025-07-09 10:10:01,412 [s0@group-8CBB938BA353-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.read.leader.lease.enabled = false (default)
2025-07-09 10:10:01,414 [s0@group-8CBB938BA353-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2025-07-09 10:10:01,415 [s0@group-8CBB938BA353-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.log.log-metadata.enabled = true (default)
2025-07-09 10:10:01,415 [s0@group-8CBB938BA353-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2025-07-09 10:10:01,425 [s0@group-8CBB938BA353-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2025-07-09 10:10:01,426 [s0@group-8CBB938BA353-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2025-07-09 10:10:01,428 [s0@group-8CBB938BA353-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.log.appender.wait-time.min = 1ms (default)
2025-07-09 10:10:01,429 [s0@group-8CBB938BA353-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2025-07-09 10:10:01,430 [s0@group-8CBB938BA353-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2025-07-09 10:10:01,430 [s0@group-8CBB938BA353-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2025-07-09 10:10:01,430 [s0@group-8CBB938BA353-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2025-07-09 10:10:01,436 [s0@group-8CBB938BA353-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-8CBB938BA353-LeaderStateImpl
2025-07-09 10:10:01,436 [s0@group-8CBB938BA353-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-8CBB938BA353: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 1404ms
2025-07-09 10:10:01,460 [s0@group-8CBB938BA353-LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(440)) - s0@group-8CBB938BA353-SegmentedRaftLogWorker: Starting segment from index:0
2025-07-09 10:10:01,476 [s0@group-8CBB938BA353-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-8CBB938BA353: set configuration conf: {index: 0, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,483 [s0@group-8CBB938BA353-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2025-07-09 10:10:01,493 [s0@group-8CBB938BA353-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s0@group-8CBB938BA353-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s0/63d296a0-2e2b-4116-adab-8cbb938ba353/current/log_inprogress_0
2025-07-09 10:10:01,504 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-8CBB938BA353: change Leader from null to s0 at term 2 for appendEntries, leader elected after 1471ms
2025-07-09 10:10:01,504 [grpc-default-executor-4] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-8CBB938BA353: change Leader from null to s0 at term 2 for appendEntries, leader elected after 1472ms
2025-07-09 10:10:01,516 [grpc-default-executor-4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-8CBB938BA353: set configuration conf: {index: 0, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,517 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-8CBB938BA353: set configuration conf: {index: 0, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,519 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(440)) - s1@group-8CBB938BA353-SegmentedRaftLogWorker: Starting segment from index:0
2025-07-09 10:10:01,519 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(440)) - s2@group-8CBB938BA353-SegmentedRaftLogWorker: Starting segment from index:0
2025-07-09 10:10:01,520 [s2@group-8CBB938BA353-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2025-07-09 10:10:01,521 [s1@group-8CBB938BA353-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2025-07-09 10:10:01,537 [s2@group-8CBB938BA353-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s2@group-8CBB938BA353-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s2/63d296a0-2e2b-4116-adab-8cbb938ba353/current/log_inprogress_0
2025-07-09 10:10:01,538 [s1@group-8CBB938BA353-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s1@group-8CBB938BA353-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s1/63d296a0-2e2b-4116-adab-8cbb938ba353/current/log_inprogress_0
2025-07-09 10:10:01,543 [s0@group-8CBB938BA353-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s0/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@3b4c9ae6
2025-07-09 10:10:01,546 [s0@group-8CBB938BA353-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s0/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s0/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:10:01,546 [s0@group-8CBB938BA353-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(309)) - Leader s0@group-8CBB938BA353-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2025-07-09 10:10:01,623 [s1@group-8CBB938BA353-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s1/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@59218070
2025-07-09 10:10:01,624 [s2@group-8CBB938BA353-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s2/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@7f2db5af
2025-07-09 10:10:01,633 [s1@group-8CBB938BA353-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s1/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s1/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:10:01,633 [s2@group-8CBB938BA353-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s2/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcb1b96591/s2/63d296a0-2e2b-4116-adab-8cbb938ba353/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:10:01,782 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING    LEADER (RUNNING): s0@group-8CBB938BA353:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-8CBB938BA353-SegmentedRaftLog:OPENED:c0:last(t:2, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
  s1:  RUNNING  FOLLOWER (RUNNING): s1@group-8CBB938BA353:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-8CBB938BA353-SegmentedRaftLog:OPENED:c0:last(t:2, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
  s2:  RUNNING  FOLLOWER (RUNNING): s2@group-8CBB938BA353:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-8CBB938BA353-SegmentedRaftLog:OPENED:c0:last(t:2, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:01,886 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-7A8B4922CE3D->s0: receive RaftClientReply:client-7A8B4922CE3D->s0@group-8CBB938BA353, cid=1, SUCCESS, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2025-07-09 10:10:01,918 [s0@group-8CBB938BA353-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 1
2025-07-09 10:10:01,919 [s0@group-8CBB938BA353-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:2, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:01,924 [s1@group-8CBB938BA353-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 1
2025-07-09 10:10:01,927 [s1@group-8CBB938BA353-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:2, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:01,926 [s2@group-8CBB938BA353-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 1
2025-07-09 10:10:01,928 [s2@group-8CBB938BA353-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:2, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:01,931 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-7A8B4922CE3D->s0: receive RaftClientReply:client-7A8B4922CE3D->s0@group-8CBB938BA353, cid=2, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2025-07-09 10:10:01,943 [s0-client-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(331)) - query testing
2025-07-09 10:10:01,947 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-7A8B4922CE3D->s0: receive RaftClientReply:client-7A8B4922CE3D->s0@group-8CBB938BA353, cid=3, SUCCESS, logIndex=0, commits[s0:c2, s1:c1, s2:c1]
2025-07-09 10:10:02,951 [timer4] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-7A8B4922CE3D: Failed* RaftClientRequest:client-7A8B4922CE3D->s0@group-8CBB938BA353, cid=4, seq=1*, StaleRead(0), testing
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-7A8B4922CE3D->s0 request #4 timeout 1s
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:376)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:381)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:369)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-7A8B4922CE3D->s0 request #4 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:377)
	... 10 more
2025-07-09 10:10:05,960 [timer4] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(226)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=58, target=localhost:15002}}. 
2025-07-09 10:10:06,078 [s0-client-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(331)) - query testing
2025-07-09 10:10:06,080 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-7A8B4922CE3D->s0: receive RaftClientReply:client-7A8B4922CE3D->s0@group-8CBB938BA353, cid=4, SUCCESS, logIndex=0, commits[s0:c2, s1:c2, s2:c2]
2025-07-09 10:10:06,092 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(284)) - Failed RaftClientRequest:client-7A8B4922CE3D->s2@group-8CBB938BA353, cid=5, seq=null, Watch-ALL(0), Message:<EMPTY>, reply=RaftClientReply:client-7A8B4922CE3D->s2@group-8CBB938BA353, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-8CBB938BA353 is not the leader, suggested leader is: s0|localhost:15000, logIndex=0, commits[s2:c2, s0:c2, s1:c2]
2025-07-09 10:10:06,098 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-7A8B4922CE3D->s2: receive RaftClientReply:client-7A8B4922CE3D->s2@group-8CBB938BA353, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-8CBB938BA353 is not the leader, suggested leader is: s0|localhost:15000, logIndex=0, commits[s2:c2, s0:c2, s1:c2]
2025-07-09 10:10:06,106 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-7A8B4922CE3D->s0: receive RaftClientReply:client-7A8B4922CE3D->s0@group-8CBB938BA353, cid=5, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2025-07-09 10:10:06,109 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-7A8B4922CE3D->s0: receive RaftClientReply:client-7A8B4922CE3D->s0@group-8CBB938BA353, cid=6, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2025-07-09 10:10:06,115 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2025-07-09 10:10:06,115 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - *** 
2025-07-09 10:10:06,115 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - ***     Stopping MiniRaftClusterWithGrpc
2025-07-09 10:10:06,116 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - *** 
2025-07-09 10:10:06,116 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - ************************************************************** 
2025-07-09 10:10:06,116 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - printing ALL groups
  s0:  RUNNING    LEADER (RUNNING): s0@group-8CBB938BA353:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-8CBB938BA353-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 0, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
  s1:  RUNNING  FOLLOWER (RUNNING): s1@group-8CBB938BA353:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-8CBB938BA353-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 0, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
  s2:  RUNNING  FOLLOWER (RUNNING): s2@group-8CBB938BA353:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-8CBB938BA353-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 0, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2025-07-09 10:10:06,118 [MiniRaftCluster-1] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(422)) - s0: close
2025-07-09 10:10:06,118 [MiniRaftCluster-3] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(422)) - s2: close
2025-07-09 10:10:06,118 [MiniRaftCluster-2] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(422)) - s1: close
2025-07-09 10:10:06,120 [MiniRaftCluster-3] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2025-07-09 10:10:06,120 [MiniRaftCluster-1] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2025-07-09 10:10:06,120 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(527)) - s2@group-8CBB938BA353: shutdown
2025-07-09 10:10:06,120 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8CBB938BA353,id=s2
2025-07-09 10:10:06,120 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-8CBB938BA353-FollowerState
2025-07-09 10:10:06,120 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(163)) - s2@group-8CBB938BA353-StateMachineUpdater: set stopIndex = 2
2025-07-09 10:10:06,121 [s2@group-8CBB938BA353-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s2@group-8CBB938BA353-FollowerState was interrupted
2025-07-09 10:10:06,121 [s2@group-8CBB938BA353-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(140)) - s2@group-8CBB938BA353-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:2, i:2)
2025-07-09 10:10:06,120 [MiniRaftCluster-2] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2025-07-09 10:10:06,120 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(527)) - s0@group-8CBB938BA353: shutdown
2025-07-09 10:10:06,122 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8CBB938BA353,id=s0
2025-07-09 10:10:06,122 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s0: shutdown s0@group-8CBB938BA353-LeaderStateImpl
2025-07-09 10:10:06,123 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-8CBB938BA353-PendingRequests: sendNotLeaderResponses
2025-07-09 10:10:06,120 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(527)) - s1@group-8CBB938BA353: shutdown
2025-07-09 10:10:06,125 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8CBB938BA353,id=s1
2025-07-09 10:10:06,125 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-8CBB938BA353-FollowerState
2025-07-09 10:10:06,125 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(163)) - s1@group-8CBB938BA353-StateMachineUpdater: set stopIndex = 2
2025-07-09 10:10:06,125 [grpc-default-executor-3] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1507)) - s1@group-8CBB938BA353: Failed appendEntries* s0->s1#64-t2,previous=(t:2, i:2),leaderCommit=2,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-8CBB938BA353 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:808)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:807)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1498)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:652)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$appendEntriesAsync$29(RaftServerProxy.java:651)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntriesAsync(RaftServerProxy.java:651)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$1.process(GrpcServerProtocolService.java:245)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$1.process(GrpcServerProtocolService.java:242)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onNext(GrpcServerProtocolService.java:137)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:262)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:334)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:319)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:834)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-07-09 10:10:06,126 [s2@group-8CBB938BA353-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-8CBB938BA353-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2025-07-09 10:10:06,125 [s1@group-8CBB938BA353-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s1@group-8CBB938BA353-FollowerState was interrupted
2025-07-09 10:10:06,126 [grpc-default-executor-0] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1507)) - s2@group-8CBB938BA353: Failed appendEntries* s0->s2#68-t2,previous=(t:2, i:2),leaderCommit=2,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-8CBB938BA353 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:808)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:807)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1498)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:652)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$appendEntriesAsync$29(RaftServerProxy.java:651)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntriesAsync(RaftServerProxy.java:651)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$1.process(GrpcServerProtocolService.java:245)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$1.process(GrpcServerProtocolService.java:242)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onNext(GrpcServerProtocolService.java:137)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:262)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:334)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:319)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:834)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-07-09 10:10:06,126 [s1@group-8CBB938BA353-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(140)) - s1@group-8CBB938BA353-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:2, i:2)
2025-07-09 10:10:06,128 [s0@group-8CBB938BA353->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(300)) - s0@group-8CBB938BA353->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2025-07-09 10:10:06,128 [Thread-89] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2025-07-09 10:10:06,128 [s0@group-8CBB938BA353->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(300)) - s0@group-8CBB938BA353->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2025-07-09 10:10:06,128 [Thread-91] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2025-07-09 10:10:06,129 [Thread-90] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2025-07-09 10:10:06,130 [Thread-92] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2025-07-09 10:10:06,131 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(163)) - s0@group-8CBB938BA353-StateMachineUpdater: set stopIndex = 2
2025-07-09 10:10:06,133 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$6(171)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#10-t2,previous=(t:2, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1) 
2025-07-09 10:10:06,133 [s0@group-8CBB938BA353-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(140)) - s0@group-8CBB938BA353-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:2, i:2)
2025-07-09 10:10:06,134 [s0@group-8CBB938BA353-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-8CBB938BA353-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2025-07-09 10:10:06,134 [Thread-94] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2025-07-09 10:10:06,135 [s1@group-8CBB938BA353-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-8CBB938BA353-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2025-07-09 10:10:06,134 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$6(171)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#9-t2,previous=(t:2, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1) 
2025-07-09 10:10:06,139 [Thread-96] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2025-07-09 10:10:06,139 [MiniRaftCluster-3] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2025-07-09 10:10:06,139 [MiniRaftCluster-3] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s2: shutdown server GrpcServerProtocolService now
2025-07-09 10:10:06,141 [MiniRaftCluster-2] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2025-07-09 10:10:06,141 [MiniRaftCluster-2] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s1: shutdown server GrpcServerProtocolService now
2025-07-09 10:10:06,146 [MiniRaftCluster-3] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s2: shutdown server GrpcServerProtocolService successfully
2025-07-09 10:10:06,147 [MiniRaftCluster-3] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2025-07-09 10:10:06,148 [MiniRaftCluster-2] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s1: shutdown server GrpcServerProtocolService successfully
2025-07-09 10:10:06,148 [MiniRaftCluster-3] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2025-07-09 10:10:06,148 [MiniRaftCluster-2] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2025-07-09 10:10:06,150 [MiniRaftCluster-2] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2025-07-09 10:10:06,151 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(545)) - s0@group-8CBB938BA353->s2-GrpcLogAppender is already stopped
2025-07-09 10:10:06,152 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(545)) - s0@group-8CBB938BA353->s1-GrpcLogAppender is already stopped
2025-07-09 10:10:06,153 [MiniRaftCluster-1] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2025-07-09 10:10:06,153 [MiniRaftCluster-1] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server GrpcServerProtocolService now
2025-07-09 10:10:06,154 [MiniRaftCluster-1] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server GrpcServerProtocolService successfully
2025-07-09 10:10:06,154 [MiniRaftCluster-1] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2025-07-09 10:10:06,156 [MiniRaftCluster-1] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2025-07-09 10:10:06,920 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(254)) - s0@group-8CBB938BA353-SegmentedRaftLogWorker close()
2025-07-09 10:10:06,925 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(254)) - s1@group-8CBB938BA353-SegmentedRaftLogWorker close()
2025-07-09 10:10:06,927 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(254)) - s2@group-8CBB938BA353-SegmentedRaftLogWorker close()
2025-07-09 10:10:06,929 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2025-07-09 10:10:06,934 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2025-07-09 10:10:06,934 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2025-07-09 10:10:06,935 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(860)) - MiniRaftClusterWithGrpc shutdown completed
2025-07-09 10:10:06,948 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2025-07-09 10:10:06,948 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2025-07-09 10:10:06,948 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2025-07-09 10:10:06,950 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(136)) - Running runWithNewCluster
2025-07-09 10:10:06,951 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(308)) - new MiniRaftClusterWithGrpc with group-B632B4C50E75:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]
2025-07-09 10:10:06,951 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2025-07-09 10:10:06,951 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2025-07-09 10:10:06,952 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ...     Starting MiniRaftClusterWithGrpc
2025-07-09 10:10:06,952 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ... 
2025-07-09 10:10:06,952 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - .............................................................. 
2025-07-09 10:10:06,952 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(320)) - servers = {}
2025-07-09 10:10:06,953 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - newRaftServer: s0, group-B632B4C50E75:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020], format? true
2025-07-09 10:10:06,953 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(351)) - deleteFully target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s0
2025-07-09 10:10:06,953 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(364)) - deleteFully: target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s0 does not exist.
2025-07-09 10:10:06,953 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(390)) - Formatted directory target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s0
2025-07-09 10:10:06,955 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:06,955 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.admin.port = 15013 (custom)
2025-07-09 10:10:06,955 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:06,956 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.client.port = 15014 (custom)
2025-07-09 10:10:06,956 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.port = 15012 (custom)
2025-07-09 10:10:06,956 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.heartbeat.channel = true (default)
2025-07-09 10:10:06,958 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s0] (custom)
2025-07-09 10:10:06,959 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s0: addNew group-B632B4C50E75:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020] returns group-B632B4C50E75:java.util.concurrent.CompletableFuture@690677de[Not completed]
2025-07-09 10:10:06,959 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s0: new RaftServerImpl for group-B632B4C50E75:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020] with SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:06,960 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-B632B4C50E75: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:10:06,959 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - newRaftServer: s1, group-B632B4C50E75:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020], format? true
2025-07-09 10:10:06,960 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(351)) - deleteFully target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s1
2025-07-09 10:10:06,961 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(364)) - deleteFully: target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s1 does not exist.
2025-07-09 10:10:06,961 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(390)) - Formatted directory target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s1
2025-07-09 10:10:06,961 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:06,962 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.admin.port = 15017 (custom)
2025-07-09 10:10:06,962 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:06,962 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.client.port = 15018 (custom)
2025-07-09 10:10:06,963 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.port = 15016 (custom)
2025-07-09 10:10:06,964 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s1] (custom)
2025-07-09 10:10:06,965 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s1: addNew group-B632B4C50E75:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020] returns group-B632B4C50E75:java.util.concurrent.CompletableFuture@3bbc47c9[Not completed]
2025-07-09 10:10:06,965 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - newRaftServer: s2, group-B632B4C50E75:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020], format? true
2025-07-09 10:10:06,966 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(351)) - deleteFully target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s2
2025-07-09 10:10:06,965 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s1: new RaftServerImpl for group-B632B4C50E75:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020] with SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:06,966 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-B632B4C50E75: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:10:06,966 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(364)) - deleteFully: target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s2 does not exist.
2025-07-09 10:10:06,967 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(390)) - Formatted directory target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s2
2025-07-09 10:10:06,967 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:06,967 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.admin.port = 15021 (custom)
2025-07-09 10:10:06,968 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:06,968 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.client.port = 15022 (custom)
2025-07-09 10:10:06,968 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.port = 15020 (custom)
2025-07-09 10:10:06,970 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s2] (custom)
2025-07-09 10:10:06,971 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s2: addNew group-B632B4C50E75:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020] returns group-B632B4C50E75:java.util.concurrent.CompletableFuture@403cff1c[Not completed]
2025-07-09 10:10:06,971 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s2: new RaftServerImpl for group-B632B4C50E75:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020] with SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:06,972 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s0] (custom)
2025-07-09 10:10:06,972 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-B632B4C50E75: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:10:06,974 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s0/edd1d081-9eb9-4457-b811-b632b4c50e75 does not exist. Creating ...
2025-07-09 10:10:06,974 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s0/edd1d081-9eb9-4457-b811-b632b4c50e75
2025-07-09 10:10:06,976 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s0/edd1d081-9eb9-4457-b811-b632b4c50e75/in_use.lock acquired by nodename 11875@fv-az1788-284
2025-07-09 10:10:06,976 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s0/edd1d081-9eb9-4457-b811-b632b4c50e75/current
2025-07-09 10:10:06,976 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s0/edd1d081-9eb9-4457-b811-b632b4c50e75/sm
2025-07-09 10:10:06,976 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s0/edd1d081-9eb9-4457-b811-b632b4c50e75/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@1ca964f1
2025-07-09 10:10:06,977 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s0/edd1d081-9eb9-4457-b811-b632b4c50e75/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s0/edd1d081-9eb9-4457-b811-b632b4c50e75/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:06,978 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s0/edd1d081-9eb9-4457-b811-b632b4c50e75 has been successfully formatted.
2025-07-09 10:10:06,978 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:06,978 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2025-07-09 10:10:06,979 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-B632B4C50E75-cacheEviction-AwaitToRun,5,main] started
2025-07-09 10:10:06,979 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s0@group-B632B4C50E75-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s0/edd1d081-9eb9-4457-b811-b632b4c50e75
2025-07-09 10:10:06,981 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s0@group-B632B4C50E75-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:06,981 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s0@group-B632B4C50E75-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:06,982 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(405)) - s0@group-B632B4C50E75: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
2025-07-09 10:10:06,982 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-B632B4C50E75: changes role from      null to FOLLOWER at term 0 for startAsFollower
2025-07-09 10:10:06,982 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-B632B4C50E75-FollowerState
2025-07-09 10:10:06,982 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B632B4C50E75,id=s0
2025-07-09 10:10:06,982 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-B632B4C50E75,id=s0
2025-07-09 10:10:06,983 [s0@group-B632B4C50E75-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:06,983 [s0@group-B632B4C50E75-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:06,983 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(419)) - s0@group-B632B4C50E75: Successfully started.
2025-07-09 10:10:06,983 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(412)) - s0: start RPC server
2025-07-09 10:10:06,985 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15014
2025-07-09 10:10:06,986 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15012
2025-07-09 10:10:06,987 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15013
2025-07-09 10:10:06,987 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2025-07-09 10:10:06,988 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s1] (custom)
2025-07-09 10:10:06,988 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s1/edd1d081-9eb9-4457-b811-b632b4c50e75 does not exist. Creating ...
2025-07-09 10:10:06,988 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s1/edd1d081-9eb9-4457-b811-b632b4c50e75
2025-07-09 10:10:06,989 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s1/edd1d081-9eb9-4457-b811-b632b4c50e75/in_use.lock acquired by nodename 11875@fv-az1788-284
2025-07-09 10:10:06,989 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s1/edd1d081-9eb9-4457-b811-b632b4c50e75/current
2025-07-09 10:10:06,990 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s1/edd1d081-9eb9-4457-b811-b632b4c50e75/sm
2025-07-09 10:10:06,990 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s1/edd1d081-9eb9-4457-b811-b632b4c50e75/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@277d0e38
2025-07-09 10:10:06,991 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s1/edd1d081-9eb9-4457-b811-b632b4c50e75/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s1/edd1d081-9eb9-4457-b811-b632b4c50e75/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:06,991 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s1/edd1d081-9eb9-4457-b811-b632b4c50e75 has been successfully formatted.
2025-07-09 10:10:06,991 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:06,991 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2025-07-09 10:10:06,993 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-B632B4C50E75-cacheEviction-AwaitToRun,5,main] started
2025-07-09 10:10:06,993 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s1@group-B632B4C50E75-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s1/edd1d081-9eb9-4457-b811-b632b4c50e75
2025-07-09 10:10:06,995 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s1@group-B632B4C50E75-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:06,995 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s1@group-B632B4C50E75-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:06,996 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(405)) - s1@group-B632B4C50E75: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
2025-07-09 10:10:06,996 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s1@group-B632B4C50E75: changes role from      null to FOLLOWER at term 0 for startAsFollower
2025-07-09 10:10:06,996 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-B632B4C50E75-FollowerState
2025-07-09 10:10:06,996 [s1@group-B632B4C50E75-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:06,996 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B632B4C50E75,id=s1
2025-07-09 10:10:06,996 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-B632B4C50E75,id=s1
2025-07-09 10:10:06,996 [s1@group-B632B4C50E75-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:06,997 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(419)) - s1@group-B632B4C50E75: Successfully started.
2025-07-09 10:10:06,997 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(412)) - s1: start RPC server
2025-07-09 10:10:06,998 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s1: GrpcServicesImpl started, listening on 15018
2025-07-09 10:10:06,999 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s1: GrpcServicesImpl started, listening on 15016
2025-07-09 10:10:07,001 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s1: GrpcServicesImpl started, listening on 15017
2025-07-09 10:10:07,001 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2025-07-09 10:10:07,002 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s2] (custom)
2025-07-09 10:10:07,002 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s2/edd1d081-9eb9-4457-b811-b632b4c50e75 does not exist. Creating ...
2025-07-09 10:10:07,002 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s2/edd1d081-9eb9-4457-b811-b632b4c50e75
2025-07-09 10:10:07,003 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s2/edd1d081-9eb9-4457-b811-b632b4c50e75/in_use.lock acquired by nodename 11875@fv-az1788-284
2025-07-09 10:10:07,003 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s2/edd1d081-9eb9-4457-b811-b632b4c50e75/current
2025-07-09 10:10:07,003 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s2/edd1d081-9eb9-4457-b811-b632b4c50e75/sm
2025-07-09 10:10:07,004 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s2/edd1d081-9eb9-4457-b811-b632b4c50e75/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@3967809d
2025-07-09 10:10:07,004 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s2/edd1d081-9eb9-4457-b811-b632b4c50e75/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s2/edd1d081-9eb9-4457-b811-b632b4c50e75/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:07,004 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s2/edd1d081-9eb9-4457-b811-b632b4c50e75 has been successfully formatted.
2025-07-09 10:10:07,005 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:07,005 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2025-07-09 10:10:07,006 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-B632B4C50E75-cacheEviction-AwaitToRun,5,main] started
2025-07-09 10:10:07,006 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s2@group-B632B4C50E75-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s2/edd1d081-9eb9-4457-b811-b632b4c50e75
2025-07-09 10:10:07,008 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s2@group-B632B4C50E75-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:07,009 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s2@group-B632B4C50E75-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:07,009 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(405)) - s2@group-B632B4C50E75: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
2025-07-09 10:10:07,009 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s2@group-B632B4C50E75: changes role from      null to FOLLOWER at term 0 for startAsFollower
2025-07-09 10:10:07,009 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-B632B4C50E75-FollowerState
2025-07-09 10:10:07,010 [s2@group-B632B4C50E75-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:07,010 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B632B4C50E75,id=s2
2025-07-09 10:10:07,011 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-B632B4C50E75,id=s2
2025-07-09 10:10:07,011 [s2@group-B632B4C50E75-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:07,011 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(419)) - s2@group-B632B4C50E75: Successfully started.
2025-07-09 10:10:07,012 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(412)) - s2: start RPC server
2025-07-09 10:10:07,013 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s2: GrpcServicesImpl started, listening on 15022
2025-07-09 10:10:07,014 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s2: GrpcServicesImpl started, listening on 15020
2025-07-09 10:10:07,016 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s2: GrpcServicesImpl started, listening on 15021
2025-07-09 10:10:07,016 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2025-07-09 10:10:07,017 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-B632B4C50E75:t0, leader=null, voted=, raftlog=Memoized:s0@group-B632B4C50E75-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
  s1:  RUNNING  FOLLOWER (RUNNING): s1@group-B632B4C50E75:t0, leader=null, voted=, raftlog=Memoized:s1@group-B632B4C50E75-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
  s2:  RUNNING  FOLLOWER (RUNNING): s2@group-B632B4C50E75:t0, leader=null, voted=, raftlog=Memoized:s2@group-B632B4C50E75-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
2025-07-09 10:10:07,017 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-B632B4C50E75:t0, leader=null, voted=, raftlog=Memoized:s0@group-B632B4C50E75-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
  s1:  RUNNING  FOLLOWER (RUNNING): s1@group-B632B4C50E75:t0, leader=null, voted=, raftlog=Memoized:s1@group-B632B4C50E75-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
  s2:  RUNNING  FOLLOWER (RUNNING): s2@group-B632B4C50E75:t0, leader=null, voted=, raftlog=Memoized:s2@group-B632B4C50E75-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
2025-07-09 10:10:07,164 [s2@group-B632B4C50E75-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(161)) - s2@group-B632B4C50E75-FollowerState: change to CANDIDATE, lastRpcElapsedTime:154792929ns, electionTimeout:153ms
2025-07-09 10:10:07,165 [s2@group-B632B4C50E75-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-B632B4C50E75-FollowerState
2025-07-09 10:10:07,165 [s2@group-B632B4C50E75-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s2@group-B632B4C50E75: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2025-07-09 10:10:07,165 [s2@group-B632B4C50E75-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-B632B4C50E75-LeaderElection5
2025-07-09 10:10:07,166 [s2@group-B632B4C50E75-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s2@group-B632B4C50E75-LeaderElection5 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
2025-07-09 10:10:07,167 [s2@group-B632B4C50E75-LeaderElection5-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15012
2025-07-09 10:10:07,167 [s2@group-B632B4C50E75-LeaderElection5-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15016
2025-07-09 10:10:07,167 [s2@group-B632B4C50E75-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:07,167 [s2@group-B632B4C50E75-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:07,175 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s0@group-B632B4C50E75: receive requestVote(PRE_VOTE, s2, group-B632B4C50E75, 0, <PROTO_DEFAULT>)
2025-07-09 10:10:07,175 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s1@group-B632B4C50E75: receive requestVote(PRE_VOTE, s2, group-B632B4C50E75, 0, <PROTO_DEFAULT>)
2025-07-09 10:10:07,176 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-B632B4C50E75-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2025-07-09 10:10:07,176 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-B632B4C50E75-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2025-07-09 10:10:07,176 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s1@group-B632B4C50E75 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0-last:<INITIAL_VALUE>. Peer's state: s1@group-B632B4C50E75:t0, leader=null, voted=, raftlog=Memoized:s1@group-B632B4C50E75-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
2025-07-09 10:10:07,176 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s0@group-B632B4C50E75 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0-last:<INITIAL_VALUE>. Peer's state: s0@group-B632B4C50E75:t0, leader=null, voted=, raftlog=Memoized:s0@group-B632B4C50E75-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
2025-07-09 10:10:07,178 [s2@group-B632B4C50E75-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s2@group-B632B4C50E75-LeaderElection5: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2025-07-09 10:10:07,178 [s2@group-B632B4C50E75-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 0: s2<-s0#0:OK-t0-last:<INITIAL_VALUE>
2025-07-09 10:10:07,178 [s2@group-B632B4C50E75-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s2@group-B632B4C50E75-LeaderElection5 PRE_VOTE round 0: result PASSED
2025-07-09 10:10:07,179 [s2@group-B632B4C50E75-LeaderElection5] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s2/edd1d081-9eb9-4457-b811-b632b4c50e75/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@55c7c6d8
2025-07-09 10:10:07,180 [s2@group-B632B4C50E75-LeaderElection5] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s2/edd1d081-9eb9-4457-b811-b632b4c50e75/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s2/edd1d081-9eb9-4457-b811-b632b4c50e75/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:07,180 [s2@group-B632B4C50E75-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s2@group-B632B4C50E75-LeaderElection5 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
2025-07-09 10:10:07,181 [s2@group-B632B4C50E75-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:07,181 [s2@group-B632B4C50E75-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:07,183 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s0@group-B632B4C50E75: receive requestVote(ELECTION, s2, group-B632B4C50E75, 1, <PROTO_DEFAULT>)
2025-07-09 10:10:07,183 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-B632B4C50E75-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2025-07-09 10:10:07,183 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-B632B4C50E75: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s2
2025-07-09 10:10:07,183 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s1@group-B632B4C50E75: receive requestVote(ELECTION, s2, group-B632B4C50E75, 1, <PROTO_DEFAULT>)
2025-07-09 10:10:07,183 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-B632B4C50E75-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2025-07-09 10:10:07,183 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-B632B4C50E75-FollowerState
2025-07-09 10:10:07,184 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s1@group-B632B4C50E75: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s2
2025-07-09 10:10:07,184 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-B632B4C50E75-FollowerState
2025-07-09 10:10:07,184 [s0@group-B632B4C50E75-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s0@group-B632B4C50E75-FollowerState was interrupted
2025-07-09 10:10:07,184 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-B632B4C50E75-FollowerState
2025-07-09 10:10:07,184 [s1@group-B632B4C50E75-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s1@group-B632B4C50E75-FollowerState was interrupted
2025-07-09 10:10:07,184 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-B632B4C50E75-FollowerState
2025-07-09 10:10:07,185 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(576)) - s0@group-B632B4C50E75: set firstElectionSinceStartup to false for candidate:s2
2025-07-09 10:10:07,186 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s0/edd1d081-9eb9-4457-b811-b632b4c50e75/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@3330e982
2025-07-09 10:10:07,186 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(576)) - s1@group-B632B4C50E75: set firstElectionSinceStartup to false for candidate:s2
2025-07-09 10:10:07,186 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s1/edd1d081-9eb9-4457-b811-b632b4c50e75/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@5c7da7b8
2025-07-09 10:10:07,186 [s1@group-B632B4C50E75-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:07,187 [s1@group-B632B4C50E75-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:07,187 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s0/edd1d081-9eb9-4457-b811-b632b4c50e75/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s0/edd1d081-9eb9-4457-b811-b632b4c50e75/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:07,187 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s0@group-B632B4C50E75 replies to ELECTION vote request: s2<-s0#0:OK-t1-last:<INITIAL_VALUE>. Peer's state: s0@group-B632B4C50E75:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-B632B4C50E75-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
2025-07-09 10:10:07,187 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s1/edd1d081-9eb9-4457-b811-b632b4c50e75/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s1/edd1d081-9eb9-4457-b811-b632b4c50e75/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:07,188 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s1@group-B632B4C50E75 replies to ELECTION vote request: s2<-s1#0:OK-t1-last:<INITIAL_VALUE>. Peer's state: s1@group-B632B4C50E75:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-B632B4C50E75-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
2025-07-09 10:10:07,190 [s2@group-B632B4C50E75-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s2@group-B632B4C50E75-LeaderElection5: ELECTION PASSED received 1 response(s) and 0 exception(s):
2025-07-09 10:10:07,190 [s2@group-B632B4C50E75-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 0: s2<-s0#0:OK-t1-last:<INITIAL_VALUE>
2025-07-09 10:10:07,190 [s2@group-B632B4C50E75-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s2@group-B632B4C50E75-LeaderElection5 ELECTION round 0: result PASSED
2025-07-09 10:10:07,190 [s2@group-B632B4C50E75-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-B632B4C50E75-LeaderElection5
2025-07-09 10:10:07,190 [s2@group-B632B4C50E75-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s2@group-B632B4C50E75: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2025-07-09 10:10:07,191 [s2@group-B632B4C50E75-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.staging.timeout = 900ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:07,195 [s2@group-B632B4C50E75-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-B632B4C50E75-LeaderStateImpl
2025-07-09 10:10:07,196 [s2@group-B632B4C50E75-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(576)) - s2@group-B632B4C50E75: set firstElectionSinceStartup to false for becomeLeader
2025-07-09 10:10:07,196 [s2@group-B632B4C50E75-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-B632B4C50E75: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 223ms
2025-07-09 10:10:07,196 [s2@group-B632B4C50E75-LeaderElection5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(440)) - s2@group-B632B4C50E75-SegmentedRaftLogWorker: Starting segment from index:0
2025-07-09 10:10:07,196 [s2@group-B632B4C50E75-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-B632B4C50E75: set configuration conf: {index: 0, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
2025-07-09 10:10:07,199 [s2@group-B632B4C50E75-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2025-07-09 10:10:07,209 [grpc-default-executor-4] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-B632B4C50E75: change Leader from null to s2 at term 1 for appendEntries, leader elected after 249ms
2025-07-09 10:10:07,213 [grpc-default-executor-4] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-B632B4C50E75: change Leader from null to s2 at term 1 for appendEntries, leader elected after 246ms
2025-07-09 10:10:07,213 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-B632B4C50E75: set configuration conf: {index: 0, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
2025-07-09 10:10:07,214 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(440)) - s0@group-B632B4C50E75-SegmentedRaftLogWorker: Starting segment from index:0
2025-07-09 10:10:07,216 [s2@group-B632B4C50E75-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s2@group-B632B4C50E75-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s2/edd1d081-9eb9-4457-b811-b632b4c50e75/current/log_inprogress_0
2025-07-09 10:10:07,217 [s0@group-B632B4C50E75-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2025-07-09 10:10:07,217 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-B632B4C50E75: set configuration conf: {index: 0, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
2025-07-09 10:10:07,218 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(440)) - s1@group-B632B4C50E75-SegmentedRaftLogWorker: Starting segment from index:0
2025-07-09 10:10:07,220 [s1@group-B632B4C50E75-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2025-07-09 10:10:07,232 [s0@group-B632B4C50E75-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s0@group-B632B4C50E75-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s0/edd1d081-9eb9-4457-b811-b632b4c50e75/current/log_inprogress_0
2025-07-09 10:10:07,233 [s1@group-B632B4C50E75-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s1@group-B632B4C50E75-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s1/edd1d081-9eb9-4457-b811-b632b4c50e75/current/log_inprogress_0
2025-07-09 10:10:07,236 [s2@group-B632B4C50E75-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s2/edd1d081-9eb9-4457-b811-b632b4c50e75/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@b0b5cb2
2025-07-09 10:10:07,237 [s2@group-B632B4C50E75-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s2/edd1d081-9eb9-4457-b811-b632b4c50e75/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s2/edd1d081-9eb9-4457-b811-b632b4c50e75/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:10:07,237 [s2@group-B632B4C50E75-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(309)) - Leader s2@group-B632B4C50E75-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2025-07-09 10:10:07,314 [s1@group-B632B4C50E75-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s1/edd1d081-9eb9-4457-b811-b632b4c50e75/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@4ebb2f28
2025-07-09 10:10:07,318 [s1@group-B632B4C50E75-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s1/edd1d081-9eb9-4457-b811-b632b4c50e75/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s1/edd1d081-9eb9-4457-b811-b632b4c50e75/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:10:07,318 [s0@group-B632B4C50E75-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s0/edd1d081-9eb9-4457-b811-b632b4c50e75/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@53046c28
2025-07-09 10:10:07,320 [s0@group-B632B4C50E75-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s0/edd1d081-9eb9-4457-b811-b632b4c50e75/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpccc2f61c2/s0/edd1d081-9eb9-4457-b811-b632b4c50e75/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:10:07,468 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-B632B4C50E75:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-B632B4C50E75-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
  s1:  RUNNING  FOLLOWER (RUNNING): s1@group-B632B4C50E75:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-B632B4C50E75-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
  s2:  RUNNING    LEADER (RUNNING): s2@group-B632B4C50E75:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-B632B4C50E75-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
2025-07-09 10:10:07,484 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-042F238C4345->s0: receive RaftClientReply:client-042F238C4345->s0@group-B632B4C50E75, cid=7, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-B632B4C50E75 is not the leader, suggested leader is: s2|localhost:15020, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2025-07-09 10:10:07,484 [grpc-default-executor-1] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-042F238C4345: Failed* RaftClientRequest:client-042F238C4345->s0@group-B632B4C50E75, cid=7, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-B632B4C50E75 is not the leader, suggested leader is: s2|localhost:15020
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:317)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:308)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:551)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:648)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-B632B4C50E75 is not the leader, suggested leader is: s2|localhost:15020
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:402)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:313)
	... 11 more
2025-07-09 10:10:07,495 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-042F238C4345->s2: receive RaftClientReply:client-042F238C4345->s2@group-B632B4C50E75, cid=7, SUCCESS, logIndex=0, commits[s2:c0, s0:c0, s1:c0]
2025-07-09 10:10:07,501 [s2@group-B632B4C50E75-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 1
2025-07-09 10:10:07,502 [s2@group-B632B4C50E75-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:07,503 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-042F238C4345->s2: receive RaftClientReply:client-042F238C4345->s2@group-B632B4C50E75, cid=8, SUCCESS, logIndex=1, commits[s2:c1, s0:c0, s1:c0]
2025-07-09 10:10:07,503 [s1@group-B632B4C50E75-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 1
2025-07-09 10:10:07,504 [s1@group-B632B4C50E75-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:07,504 [s0@group-B632B4C50E75-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 1
2025-07-09 10:10:07,504 [s0@group-B632B4C50E75-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:07,505 [s2-client-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(331)) - query testing
2025-07-09 10:10:07,507 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-042F238C4345->s2: receive RaftClientReply:client-042F238C4345->s2@group-B632B4C50E75, cid=9, SUCCESS, logIndex=0, commits[s2:c2, s0:c1, s1:c1]
2025-07-09 10:10:08,507 [timer5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-042F238C4345: Failed* RaftClientRequest:client-042F238C4345->s2@group-B632B4C50E75, cid=10, seq=1*, StaleRead(0), testing
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-042F238C4345->s2 request #10 timeout 1s
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:376)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:381)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:369)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-042F238C4345->s2 request #10 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:377)
	... 10 more
2025-07-09 10:10:09,122 [timer3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(448)) - s0@group-8CBB938BA353->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=1, request=AppendEntriesRequest:cid=64,entriesCount=0
2025-07-09 10:10:09,123 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(448)) - s0@group-8CBB938BA353->s2-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=1, request=AppendEntriesRequest:cid=68,entriesCount=0
2025-07-09 10:10:11,509 [timer5] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(226)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=133, target=localhost:15022}}. 
2025-07-09 10:10:11,617 [s2-client-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(331)) - query testing
2025-07-09 10:10:11,619 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-042F238C4345->s2: receive RaftClientReply:client-042F238C4345->s2@group-B632B4C50E75, cid=10, SUCCESS, logIndex=0, commits[s2:c2, s0:c2, s1:c2]
2025-07-09 10:10:11,624 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(284)) - Failed RaftClientRequest:client-042F238C4345->s1@group-B632B4C50E75, cid=11, seq=null, Watch-ALL(0), Message:<EMPTY>, reply=RaftClientReply:client-042F238C4345->s1@group-B632B4C50E75, cid=11, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-B632B4C50E75 is not the leader, suggested leader is: s2|localhost:15020, logIndex=0, commits[s1:c2, s0:c2, s2:c2]
2025-07-09 10:10:11,626 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-042F238C4345->s1: receive RaftClientReply:client-042F238C4345->s1@group-B632B4C50E75, cid=11, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-B632B4C50E75 is not the leader, suggested leader is: s2|localhost:15020, logIndex=0, commits[s1:c2, s0:c2, s2:c2]
2025-07-09 10:10:11,630 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-042F238C4345->s2: receive RaftClientReply:client-042F238C4345->s2@group-B632B4C50E75, cid=11, SUCCESS, logIndex=2, commits[s2:c2, s0:c2, s1:c2]
2025-07-09 10:10:11,632 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-042F238C4345->s2: receive RaftClientReply:client-042F238C4345->s2@group-B632B4C50E75, cid=12, SUCCESS, logIndex=2, commits[s2:c2, s0:c2, s1:c2]
2025-07-09 10:10:11,636 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2025-07-09 10:10:11,637 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - *** 
2025-07-09 10:10:11,637 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - ***     Stopping MiniRaftClusterWithGrpc
2025-07-09 10:10:11,637 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - *** 
2025-07-09 10:10:11,637 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - ************************************************************** 
2025-07-09 10:10:11,638 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-B632B4C50E75:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-B632B4C50E75-SegmentedRaftLog:OPENED:c2:last(t:1, i:2), conf=conf: {index: 0, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
  s1:  RUNNING  FOLLOWER (RUNNING): s1@group-B632B4C50E75:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-B632B4C50E75-SegmentedRaftLog:OPENED:c2:last(t:1, i:2), conf=conf: {index: 0, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
  s2:  RUNNING    LEADER (RUNNING): s2@group-B632B4C50E75:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-B632B4C50E75-SegmentedRaftLog:OPENED:c2:last(t:1, i:2), conf=conf: {index: 0, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
2025-07-09 10:10:11,638 [MiniRaftCluster-4] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(422)) - s0: close
2025-07-09 10:10:11,638 [MiniRaftCluster-5] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(422)) - s1: close
2025-07-09 10:10:11,639 [MiniRaftCluster-6] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(422)) - s2: close
2025-07-09 10:10:11,639 [MiniRaftCluster-4] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2025-07-09 10:10:11,639 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(527)) - s0@group-B632B4C50E75: shutdown
2025-07-09 10:10:11,640 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B632B4C50E75,id=s0
2025-07-09 10:10:11,640 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-B632B4C50E75-FollowerState
2025-07-09 10:10:11,641 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(163)) - s0@group-B632B4C50E75-StateMachineUpdater: set stopIndex = 2
2025-07-09 10:10:11,642 [s0@group-B632B4C50E75-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(140)) - s0@group-B632B4C50E75-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:2)
2025-07-09 10:10:11,642 [MiniRaftCluster-5] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2025-07-09 10:10:11,641 [s0@group-B632B4C50E75-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s0@group-B632B4C50E75-FollowerState was interrupted
2025-07-09 10:10:11,642 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(527)) - s1@group-B632B4C50E75: shutdown
2025-07-09 10:10:11,643 [s0@group-B632B4C50E75-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-B632B4C50E75-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2025-07-09 10:10:11,643 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B632B4C50E75,id=s1
2025-07-09 10:10:11,643 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-B632B4C50E75-FollowerState
2025-07-09 10:10:11,643 [MiniRaftCluster-6] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2025-07-09 10:10:11,643 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(527)) - s2@group-B632B4C50E75: shutdown
2025-07-09 10:10:11,646 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B632B4C50E75,id=s2
2025-07-09 10:10:11,646 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s2: shutdown s2@group-B632B4C50E75-LeaderStateImpl
2025-07-09 10:10:11,643 [MiniRaftCluster-4] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2025-07-09 10:10:11,646 [MiniRaftCluster-4] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server GrpcServerProtocolService now
2025-07-09 10:10:11,646 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s2@group-B632B4C50E75-PendingRequests: sendNotLeaderResponses
2025-07-09 10:10:11,645 [Thread-153] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2025-07-09 10:10:11,645 [Thread-152] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2025-07-09 10:10:11,644 [MiniRaftCluster-5] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2025-07-09 10:10:11,647 [MiniRaftCluster-5] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s1: shutdown server GrpcServerProtocolService now
2025-07-09 10:10:11,644 [s1@group-B632B4C50E75-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s1@group-B632B4C50E75-FollowerState was interrupted
2025-07-09 10:10:11,644 [s1@group-B632B4C50E75-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(140)) - s1@group-B632B4C50E75-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:2)
2025-07-09 10:10:11,650 [grpc-default-executor-0] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(127)) - s1: APPEND_ENTRIES onError, lastRequest: s2->s1#7-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2025-07-09 10:10:11,644 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(163)) - s1@group-B632B4C50E75-StateMachineUpdater: set stopIndex = 2
2025-07-09 10:10:11,649 [grpc-default-executor-4] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(127)) - s0: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2025-07-09 10:10:11,652 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(545)) - s2@group-B632B4C50E75->s1-GrpcLogAppender is already stopped
2025-07-09 10:10:11,652 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(545)) - s2@group-B632B4C50E75->s0-GrpcLogAppender is already stopped
2025-07-09 10:10:11,646 [s2@group-B632B4C50E75->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(300)) - s2@group-B632B4C50E75->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2025-07-09 10:10:11,646 [s2@group-B632B4C50E75->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(300)) - s2@group-B632B4C50E75->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2025-07-09 10:10:11,653 [s1@group-B632B4C50E75-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-B632B4C50E75-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2025-07-09 10:10:11,654 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(163)) - s2@group-B632B4C50E75-StateMachineUpdater: set stopIndex = 2
2025-07-09 10:10:11,654 [grpc-default-executor-8] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(545)) - s2@group-B632B4C50E75->s0-GrpcLogAppender is already stopped
2025-07-09 10:10:11,653 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(545)) - s2@group-B632B4C50E75->s1-GrpcLogAppender is already stopped
2025-07-09 10:10:11,651 [MiniRaftCluster-4] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server GrpcServerProtocolService successfully
2025-07-09 10:10:11,656 [MiniRaftCluster-4] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2025-07-09 10:10:11,651 [MiniRaftCluster-5] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s1: shutdown server GrpcServerProtocolService successfully
2025-07-09 10:10:11,650 [grpc-default-executor-2] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(127)) - s1: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2025-07-09 10:10:11,650 [grpc-default-executor-3] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(127)) - s0: APPEND_ENTRIES onError, lastRequest: s2->s0#8-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2025-07-09 10:10:11,658 [MiniRaftCluster-4] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2025-07-09 10:10:11,656 [MiniRaftCluster-5] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2025-07-09 10:10:11,659 [MiniRaftCluster-5] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2025-07-09 10:10:11,655 [MiniRaftCluster-6] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2025-07-09 10:10:11,660 [MiniRaftCluster-6] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s2: shutdown server GrpcServerProtocolService now
2025-07-09 10:10:11,655 [s2@group-B632B4C50E75-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(140)) - s2@group-B632B4C50E75-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:2)
2025-07-09 10:10:11,660 [MiniRaftCluster-6] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s2: shutdown server GrpcServerProtocolService successfully
2025-07-09 10:10:11,660 [MiniRaftCluster-6] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2025-07-09 10:10:11,661 [s2@group-B632B4C50E75-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-B632B4C50E75-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2025-07-09 10:10:11,662 [MiniRaftCluster-6] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2025-07-09 10:10:12,504 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(254)) - s2@group-B632B4C50E75-SegmentedRaftLogWorker close()
2025-07-09 10:10:12,505 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2025-07-09 10:10:12,506 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(254)) - s1@group-B632B4C50E75-SegmentedRaftLogWorker close()
2025-07-09 10:10:12,506 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(254)) - s0@group-B632B4C50E75-SegmentedRaftLogWorker close()
2025-07-09 10:10:12,507 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2025-07-09 10:10:12,508 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2025-07-09 10:10:12,508 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(860)) - MiniRaftClusterWithGrpc shutdown completed
2025-07-09 10:10:12,513 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2025-07-09 10:10:12,513 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2025-07-09 10:10:12,513 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2025-07-09 10:10:12,517 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/server.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.pem
2025-07-09 10:10:12,700 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/server.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.crt
2025-07-09 10:10:12,701 [main] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.crt with options []: sun.nio.ch.ChannelInputStream@4769378c
2025-07-09 10:10:12,721 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2025-07-09 10:10:12,722 [main] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt with options []: sun.nio.ch.ChannelInputStream@5730b513
2025-07-09 10:10:12,729 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/client.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.pem
2025-07-09 10:10:12,730 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/client.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.crt
2025-07-09 10:10:12,731 [main] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.crt with options []: sun.nio.ch.ChannelInputStream@1f4cb17b
2025-07-09 10:10:12,737 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2025-07-09 10:10:12,738 [main] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt with options []: sun.nio.ch.ChannelInputStream@7aca299e
2025-07-09 10:10:12,744 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(308)) - new MiniRaftClusterWithGrpc with group-640E6E1041F6:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]
2025-07-09 10:10:12,745 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2025-07-09 10:10:12,745 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2025-07-09 10:10:12,745 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ...     Starting MiniRaftClusterWithGrpc
2025-07-09 10:10:12,746 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ... 
2025-07-09 10:10:12,746 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - .............................................................. 
2025-07-09 10:10:12,746 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(320)) - servers = {}
2025-07-09 10:10:12,746 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - newRaftServer: s3, group-640E6E1041F6:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032], format? true
2025-07-09 10:10:12,747 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(351)) - deleteFully target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s3
2025-07-09 10:10:12,747 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(364)) - deleteFully: target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s3 does not exist.
2025-07-09 10:10:12,747 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(390)) - Formatted directory target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s3
2025-07-09 10:10:12,748 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:12,748 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.admin.port = 15025 (custom)
2025-07-09 10:10:12,749 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:12,749 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.client.port = 15026 (custom)
2025-07-09 10:10:12,749 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.port = 15024 (custom)
2025-07-09 10:10:12,750 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.heartbeat.channel = false (custom)
2025-07-09 10:10:12,750 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:newNettyServerBuilder(209)) - Setting TLS for 0.0.0.0/0.0.0.0:15024
2025-07-09 10:10:12,896 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:newNettyServerBuilder(209)) - Setting TLS for 0.0.0.0/0.0.0.0:15025
2025-07-09 10:10:12,898 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:newNettyServerBuilder(209)) - Setting TLS for 0.0.0.0/0.0.0.0:15026
2025-07-09 10:10:12,900 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s3] (custom)
2025-07-09 10:10:12,901 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s3: addNew group-640E6E1041F6:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032] returns group-640E6E1041F6:java.util.concurrent.CompletableFuture@626ff077[Not completed]
2025-07-09 10:10:12,901 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - newRaftServer: s4, group-640E6E1041F6:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032], format? true
2025-07-09 10:10:12,901 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(351)) - deleteFully target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s4
2025-07-09 10:10:12,901 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s3: new RaftServerImpl for group-640E6E1041F6:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032] with SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:12,902 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(364)) - deleteFully: target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s4 does not exist.
2025-07-09 10:10:12,902 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(390)) - Formatted directory target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s4
2025-07-09 10:10:12,902 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s3@group-640E6E1041F6: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:10:12,903 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:12,903 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.admin.port = 15029 (custom)
2025-07-09 10:10:12,903 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:12,903 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.client.port = 15030 (custom)
2025-07-09 10:10:12,904 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.port = 15028 (custom)
2025-07-09 10:10:12,904 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:newNettyServerBuilder(209)) - Setting TLS for 0.0.0.0/0.0.0.0:15028
2025-07-09 10:10:12,906 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:newNettyServerBuilder(209)) - Setting TLS for 0.0.0.0/0.0.0.0:15029
2025-07-09 10:10:12,908 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:newNettyServerBuilder(209)) - Setting TLS for 0.0.0.0/0.0.0.0:15030
2025-07-09 10:10:12,909 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s4] (custom)
2025-07-09 10:10:12,911 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s4: addNew group-640E6E1041F6:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032] returns group-640E6E1041F6:java.util.concurrent.CompletableFuture@3a225534[Not completed]
2025-07-09 10:10:12,911 [s4-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s4: new RaftServerImpl for group-640E6E1041F6:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032] with SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:12,911 [s4-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s4@group-640E6E1041F6: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:10:12,911 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - newRaftServer: s5, group-640E6E1041F6:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032], format? true
2025-07-09 10:10:12,912 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(351)) - deleteFully target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s5
2025-07-09 10:10:12,913 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(364)) - deleteFully: target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s5 does not exist.
2025-07-09 10:10:12,913 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(390)) - Formatted directory target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s5
2025-07-09 10:10:12,914 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:12,914 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.admin.port = 15033 (custom)
2025-07-09 10:10:12,914 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:12,915 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.client.port = 15034 (custom)
2025-07-09 10:10:12,915 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.port = 15032 (custom)
2025-07-09 10:10:12,916 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:newNettyServerBuilder(209)) - Setting TLS for 0.0.0.0/0.0.0.0:15032
2025-07-09 10:10:12,917 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:newNettyServerBuilder(209)) - Setting TLS for 0.0.0.0/0.0.0.0:15033
2025-07-09 10:10:12,918 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:newNettyServerBuilder(209)) - Setting TLS for 0.0.0.0/0.0.0.0:15034
2025-07-09 10:10:12,920 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s5] (custom)
2025-07-09 10:10:12,921 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s5: addNew group-640E6E1041F6:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032] returns group-640E6E1041F6:java.util.concurrent.CompletableFuture@54224125[Not completed]
2025-07-09 10:10:12,921 [s5-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s5: new RaftServerImpl for group-640E6E1041F6:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032] with SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:12,921 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s3] (custom)
2025-07-09 10:10:12,921 [s5-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s5@group-640E6E1041F6: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:10:12,922 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s3/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6 does not exist. Creating ...
2025-07-09 10:10:12,922 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s3/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6
2025-07-09 10:10:12,924 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s3/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/in_use.lock acquired by nodename 11875@fv-az1788-284
2025-07-09 10:10:12,924 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s3/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current
2025-07-09 10:10:12,925 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s3/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/sm
2025-07-09 10:10:12,925 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s3/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@77d3e9f3
2025-07-09 10:10:12,926 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s3/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s3/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:12,926 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s3/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6 has been successfully formatted.
2025-07-09 10:10:12,926 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:12,927 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2025-07-09 10:10:12,927 [s3-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s3@group-640E6E1041F6-cacheEviction-AwaitToRun,5,main] started
2025-07-09 10:10:12,928 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s3@group-640E6E1041F6-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s3/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6
2025-07-09 10:10:12,930 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s3@group-640E6E1041F6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:12,930 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s3@group-640E6E1041F6-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:12,931 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(405)) - s3@group-640E6E1041F6: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
2025-07-09 10:10:12,931 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s3@group-640E6E1041F6: changes role from      null to FOLLOWER at term 0 for startAsFollower
2025-07-09 10:10:12,931 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-640E6E1041F6-FollowerState
2025-07-09 10:10:12,931 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-640E6E1041F6,id=s3
2025-07-09 10:10:12,931 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-640E6E1041F6,id=s3
2025-07-09 10:10:12,932 [s3@group-640E6E1041F6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:12,932 [s3@group-640E6E1041F6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:12,932 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(419)) - s3@group-640E6E1041F6: Successfully started.
2025-07-09 10:10:12,932 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(412)) - s3: start RPC server
2025-07-09 10:10:12,934 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s3: GrpcServicesImpl started, listening on 15026
2025-07-09 10:10:12,935 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s3: GrpcServicesImpl started, listening on 15024
2025-07-09 10:10:12,936 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s3: GrpcServicesImpl started, listening on 15025
2025-07-09 10:10:12,936 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s3: Started
2025-07-09 10:10:12,937 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s4] (custom)
2025-07-09 10:10:12,937 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s4/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6 does not exist. Creating ...
2025-07-09 10:10:12,937 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s4/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6
2025-07-09 10:10:12,938 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s4/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/in_use.lock acquired by nodename 11875@fv-az1788-284
2025-07-09 10:10:12,939 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s4/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current
2025-07-09 10:10:12,939 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s4/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/sm
2025-07-09 10:10:12,939 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s4/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@31a935f5
2025-07-09 10:10:12,940 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s4/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s4/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:12,940 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s4/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6 has been successfully formatted.
2025-07-09 10:10:12,940 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:12,940 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2025-07-09 10:10:12,941 [s4-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s4@group-640E6E1041F6-cacheEviction-AwaitToRun,5,main] started
2025-07-09 10:10:12,941 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s4@group-640E6E1041F6-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s4/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6
2025-07-09 10:10:12,942 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s4@group-640E6E1041F6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:12,942 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s4@group-640E6E1041F6-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:12,943 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(405)) - s4@group-640E6E1041F6: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
2025-07-09 10:10:12,943 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s4@group-640E6E1041F6: changes role from      null to FOLLOWER at term 0 for startAsFollower
2025-07-09 10:10:12,943 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s4: start s4@group-640E6E1041F6-FollowerState
2025-07-09 10:10:12,943 [s4@group-640E6E1041F6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:12,943 [s4@group-640E6E1041F6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:12,944 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-640E6E1041F6,id=s4
2025-07-09 10:10:12,944 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-640E6E1041F6,id=s4
2025-07-09 10:10:12,944 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(419)) - s4@group-640E6E1041F6: Successfully started.
2025-07-09 10:10:12,944 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(412)) - s4: start RPC server
2025-07-09 10:10:12,946 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s4: GrpcServicesImpl started, listening on 15030
2025-07-09 10:10:12,947 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s4: GrpcServicesImpl started, listening on 15028
2025-07-09 10:10:12,948 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s4: GrpcServicesImpl started, listening on 15029
2025-07-09 10:10:12,949 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s4: Started
2025-07-09 10:10:12,949 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s5] (custom)
2025-07-09 10:10:12,949 [s5-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s5/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6 does not exist. Creating ...
2025-07-09 10:10:12,950 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s5/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6
2025-07-09 10:10:12,953 [s5-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s5/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/in_use.lock acquired by nodename 11875@fv-az1788-284
2025-07-09 10:10:12,953 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s5/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current
2025-07-09 10:10:12,953 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s5/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/sm
2025-07-09 10:10:12,953 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s5/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@257ea0d5
2025-07-09 10:10:12,954 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s5/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s5/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:12,954 [s5-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s5/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6 has been successfully formatted.
2025-07-09 10:10:12,954 [s5-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:12,954 [s5-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2025-07-09 10:10:12,957 [s5-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s5@group-640E6E1041F6-cacheEviction-AwaitToRun,5,main] started
2025-07-09 10:10:12,957 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s5@group-640E6E1041F6-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s5/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6
2025-07-09 10:10:12,960 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s5@group-640E6E1041F6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:12,960 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s5@group-640E6E1041F6-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:12,960 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(405)) - s5@group-640E6E1041F6: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
2025-07-09 10:10:12,961 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s5@group-640E6E1041F6: changes role from      null to FOLLOWER at term 0 for startAsFollower
2025-07-09 10:10:12,961 [s5-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s5: start s5@group-640E6E1041F6-FollowerState
2025-07-09 10:10:12,961 [s5@group-640E6E1041F6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:12,961 [s5@group-640E6E1041F6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:12,961 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-640E6E1041F6,id=s5
2025-07-09 10:10:12,961 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-640E6E1041F6,id=s5
2025-07-09 10:10:12,962 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(419)) - s5@group-640E6E1041F6: Successfully started.
2025-07-09 10:10:12,962 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(412)) - s5: start RPC server
2025-07-09 10:10:12,964 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s5: GrpcServicesImpl started, listening on 15034
2025-07-09 10:10:12,965 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s5: GrpcServicesImpl started, listening on 15032
2025-07-09 10:10:12,966 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s5: GrpcServicesImpl started, listening on 15033
2025-07-09 10:10:12,967 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s5: Started
2025-07-09 10:10:12,968 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15026
2025-07-09 10:10:12,975 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15025
2025-07-09 10:10:13,127 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-3A6E039DAA24->s3: receive RaftClientReply:client-3A6E039DAA24->s3@group-640E6E1041F6, cid=13, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-640E6E1041F6 is not the leader, logIndex=0, commits[s3:c-1]
2025-07-09 10:10:13,127 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-3A6E039DAA24: Failed* RaftClientRequest:client-3A6E039DAA24->s3@group-640E6E1041F6, cid=13, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-640E6E1041F6 is not the leader
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:317)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:308)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:551)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:648)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-640E6E1041F6 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:402)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:313)
	... 11 more
2025-07-09 10:10:13,150 [s3@group-640E6E1041F6-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(161)) - s3@group-640E6E1041F6-FollowerState: change to CANDIDATE, lastRpcElapsedTime:219150767ns, electionTimeout:218ms
2025-07-09 10:10:13,150 [s3@group-640E6E1041F6-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown s3@group-640E6E1041F6-FollowerState
2025-07-09 10:10:13,150 [s3@group-640E6E1041F6-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s3@group-640E6E1041F6: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2025-07-09 10:10:13,151 [s3@group-640E6E1041F6-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-640E6E1041F6-LeaderElection6
2025-07-09 10:10:13,153 [s3@group-640E6E1041F6-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s3@group-640E6E1041F6-LeaderElection6 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
2025-07-09 10:10:13,154 [s3@group-640E6E1041F6-LeaderElection6-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s4|localhost:15028
2025-07-09 10:10:13,155 [s3@group-640E6E1041F6-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:13,155 [s3@group-640E6E1041F6-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:13,155 [s3@group-640E6E1041F6-LeaderElection6-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s5|localhost:15032
2025-07-09 10:10:13,176 [s4@group-640E6E1041F6-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(161)) - s4@group-640E6E1041F6-FollowerState: change to CANDIDATE, lastRpcElapsedTime:232698584ns, electionTimeout:231ms
2025-07-09 10:10:13,176 [s4@group-640E6E1041F6-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown s4@group-640E6E1041F6-FollowerState
2025-07-09 10:10:13,176 [s4@group-640E6E1041F6-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s4@group-640E6E1041F6: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2025-07-09 10:10:13,176 [s4@group-640E6E1041F6-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s4: start s4@group-640E6E1041F6-LeaderElection7
2025-07-09 10:10:13,181 [s4@group-640E6E1041F6-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s4@group-640E6E1041F6-LeaderElection7 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
2025-07-09 10:10:13,184 [s4@group-640E6E1041F6-LeaderElection7-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s3|localhost:15024
2025-07-09 10:10:13,187 [s4@group-640E6E1041F6-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:13,187 [s4@group-640E6E1041F6-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:13,187 [s4@group-640E6E1041F6-LeaderElection7-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s5|localhost:15032
2025-07-09 10:10:13,216 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s4@group-640E6E1041F6: receive requestVote(PRE_VOTE, s3, group-640E6E1041F6, 0, <PROTO_DEFAULT>)
2025-07-09 10:10:13,217 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-640E6E1041F6-CANDIDATE: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2025-07-09 10:10:13,217 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s4@group-640E6E1041F6 replies to PRE_VOTE vote request: s3<-s4#0:OK-t0-last:<INITIAL_VALUE>. Peer's state: s4@group-640E6E1041F6:t0, leader=null, voted=, raftlog=Memoized:s4@group-640E6E1041F6-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
2025-07-09 10:10:13,220 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s5@group-640E6E1041F6: receive requestVote(PRE_VOTE, s3, group-640E6E1041F6, 0, <PROTO_DEFAULT>)
2025-07-09 10:10:13,223 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-640E6E1041F6-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2025-07-09 10:10:13,223 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s5@group-640E6E1041F6 replies to PRE_VOTE vote request: s3<-s5#0:OK-t0-last:<INITIAL_VALUE>. Peer's state: s5@group-640E6E1041F6:t0, leader=null, voted=, raftlog=Memoized:s5@group-640E6E1041F6-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
2025-07-09 10:10:13,223 [s3@group-640E6E1041F6-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s3@group-640E6E1041F6-LeaderElection6: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2025-07-09 10:10:13,224 [s3@group-640E6E1041F6-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 0: s3<-s4#0:OK-t0-last:<INITIAL_VALUE>
2025-07-09 10:10:13,224 [s3@group-640E6E1041F6-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s3@group-640E6E1041F6-LeaderElection6 PRE_VOTE round 0: result PASSED
2025-07-09 10:10:13,224 [s3@group-640E6E1041F6-LeaderElection6] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s3/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@3abf0141
2025-07-09 10:10:13,225 [s3@group-640E6E1041F6-LeaderElection6] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s3/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s3/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:13,226 [s3@group-640E6E1041F6-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s3@group-640E6E1041F6-LeaderElection6 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
2025-07-09 10:10:13,232 [s3@group-640E6E1041F6-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:13,232 [s3@group-640E6E1041F6-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:13,234 [s5@group-640E6E1041F6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:13,234 [s5@group-640E6E1041F6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:13,238 [timer4] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15034
2025-07-09 10:10:13,238 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s5@group-640E6E1041F6: receive requestVote(ELECTION, s3, group-640E6E1041F6, 1, <PROTO_DEFAULT>)
2025-07-09 10:10:13,240 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-640E6E1041F6-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2025-07-09 10:10:13,240 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s5@group-640E6E1041F6: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s3
2025-07-09 10:10:13,240 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s5: shutdown s5@group-640E6E1041F6-FollowerState
2025-07-09 10:10:13,240 [s5@group-640E6E1041F6-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s5@group-640E6E1041F6-FollowerState was interrupted
2025-07-09 10:10:13,241 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s5: start s5@group-640E6E1041F6-FollowerState
2025-07-09 10:10:13,241 [timer4] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15033
2025-07-09 10:10:13,242 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(576)) - s5@group-640E6E1041F6: set firstElectionSinceStartup to false for candidate:s3
2025-07-09 10:10:13,243 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s5/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@3312f363
2025-07-09 10:10:13,248 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s5/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s5/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:13,248 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s5@group-640E6E1041F6 replies to ELECTION vote request: s3<-s5#0:OK-t1-last:<INITIAL_VALUE>. Peer's state: s5@group-640E6E1041F6:t1, leader=null, voted=s3, raftlog=Memoized:s5@group-640E6E1041F6-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
2025-07-09 10:10:13,252 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s4@group-640E6E1041F6: receive requestVote(ELECTION, s3, group-640E6E1041F6, 1, <PROTO_DEFAULT>)
2025-07-09 10:10:13,252 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-640E6E1041F6-CANDIDATE: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2025-07-09 10:10:13,253 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s4@group-640E6E1041F6: changes role from CANDIDATE to FOLLOWER at term 0 for candidate:s3
2025-07-09 10:10:13,253 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s4: shutdown s4@group-640E6E1041F6-LeaderElection7
2025-07-09 10:10:13,253 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s4: start s4@group-640E6E1041F6-FollowerState
2025-07-09 10:10:13,254 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(576)) - s4@group-640E6E1041F6: set firstElectionSinceStartup to false for candidate:s3
2025-07-09 10:10:13,254 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s4/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@409ef030
2025-07-09 10:10:13,255 [s3@group-640E6E1041F6-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s3@group-640E6E1041F6-LeaderElection6: ELECTION PASSED received 1 response(s) and 0 exception(s):
2025-07-09 10:10:13,256 [s3@group-640E6E1041F6-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 0: s3<-s5#0:OK-t1-last:<INITIAL_VALUE>
2025-07-09 10:10:13,257 [s3@group-640E6E1041F6-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s3@group-640E6E1041F6-LeaderElection6 ELECTION round 0: result PASSED
2025-07-09 10:10:13,258 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s4/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s4/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:13,259 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s4@group-640E6E1041F6 replies to ELECTION vote request: s3<-s4#0:OK-t1-last:<INITIAL_VALUE>. Peer's state: s4@group-640E6E1041F6:t1, leader=null, voted=s3, raftlog=Memoized:s4@group-640E6E1041F6-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
2025-07-09 10:10:13,259 [s3@group-640E6E1041F6-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s3: shutdown s3@group-640E6E1041F6-LeaderElection6
2025-07-09 10:10:13,260 [s3@group-640E6E1041F6-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s3@group-640E6E1041F6: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2025-07-09 10:10:13,260 [s3@group-640E6E1041F6-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.staging.timeout = 900ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:13,261 [s3@group-640E6E1041F6-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.write.element-limit = 10 (custom)
2025-07-09 10:10:13,261 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s3@group-640E6E1041F6: receive requestVote(PRE_VOTE, s4, group-640E6E1041F6, 0, <PROTO_DEFAULT>)
2025-07-09 10:10:13,262 [s3@group-640E6E1041F6-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2025-07-09 10:10:13,264 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s5@group-640E6E1041F6: receive requestVote(PRE_VOTE, s4, group-640E6E1041F6, 0, <PROTO_DEFAULT>)
2025-07-09 10:10:13,264 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-640E6E1041F6-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2025-07-09 10:10:13,264 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s5@group-640E6E1041F6 replies to PRE_VOTE vote request: s4<-s5#0:OK-t1-last:<INITIAL_VALUE>. Peer's state: s5@group-640E6E1041F6:t1, leader=null, voted=s3, raftlog=Memoized:s5@group-640E6E1041F6-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
2025-07-09 10:10:13,265 [s3@group-640E6E1041F6-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-640E6E1041F6-LeaderStateImpl
2025-07-09 10:10:13,266 [s3@group-640E6E1041F6-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(576)) - s3@group-640E6E1041F6: set firstElectionSinceStartup to false for becomeLeader
2025-07-09 10:10:13,266 [s3@group-640E6E1041F6-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s3@group-640E6E1041F6: change Leader from null to s3 at term 1 for becomeLeader, leader elected after 363ms
2025-07-09 10:10:13,266 [s3@group-640E6E1041F6-LeaderElection6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(440)) - s3@group-640E6E1041F6-SegmentedRaftLogWorker: Starting segment from index:0
2025-07-09 10:10:13,267 [s3@group-640E6E1041F6-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-640E6E1041F6: set configuration conf: {index: 0, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
2025-07-09 10:10:13,268 [s3@group-640E6E1041F6-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2025-07-09 10:10:13,275 [s4@group-640E6E1041F6-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s4@group-640E6E1041F6-LeaderElection7: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2025-07-09 10:10:13,275 [s4@group-640E6E1041F6-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 0: s4<-s5#0:OK-t1-last:<INITIAL_VALUE>
2025-07-09 10:10:13,275 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-640E6E1041F6-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2025-07-09 10:10:13,275 [s4@group-640E6E1041F6-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s4@group-640E6E1041F6-LeaderElection7 PRE_VOTE round 0: result DISCOVERED_A_NEW_TERM (term=1)
2025-07-09 10:10:13,276 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s3@group-640E6E1041F6 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1-last:(t:1, i:0). Peer's state: s3@group-640E6E1041F6:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-640E6E1041F6-SegmentedRaftLog:OPENED:c-1:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
2025-07-09 10:10:13,278 [s3@group-640E6E1041F6-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s3@group-640E6E1041F6-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s3/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/log_inprogress_0
2025-07-09 10:10:13,281 [grpc-default-executor-5] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s5@group-640E6E1041F6: change Leader from null to s3 at term 1 for appendEntries, leader elected after 359ms
2025-07-09 10:10:13,284 [grpc-default-executor-5] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s5@group-640E6E1041F6: set configuration conf: {index: 0, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
2025-07-09 10:10:13,285 [s5-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(440)) - s5@group-640E6E1041F6-SegmentedRaftLogWorker: Starting segment from index:0
2025-07-09 10:10:13,284 [grpc-default-executor-4] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s4@group-640E6E1041F6: change Leader from null to s3 at term 1 for appendEntries, leader elected after 373ms
2025-07-09 10:10:13,286 [s5@group-640E6E1041F6-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2025-07-09 10:10:13,290 [grpc-default-executor-4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-640E6E1041F6: set configuration conf: {index: 0, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
2025-07-09 10:10:13,292 [s4-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(440)) - s4@group-640E6E1041F6-SegmentedRaftLogWorker: Starting segment from index:0
2025-07-09 10:10:13,293 [s4@group-640E6E1041F6-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2025-07-09 10:10:13,296 [s5@group-640E6E1041F6-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s5@group-640E6E1041F6-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s5/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/log_inprogress_0
2025-07-09 10:10:13,309 [s3@group-640E6E1041F6-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s3/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@7603eee3
2025-07-09 10:10:13,311 [s4@group-640E6E1041F6-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s4@group-640E6E1041F6-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s4/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/log_inprogress_0
2025-07-09 10:10:13,311 [s3@group-640E6E1041F6-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s3/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s3/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:10:13,312 [s3@group-640E6E1041F6-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(309)) - Leader s3@group-640E6E1041F6-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2025-07-09 10:10:13,313 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-3A6E039DAA24->s5: receive RaftClientReply:client-3A6E039DAA24->s5@group-640E6E1041F6, cid=13, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s5@group-640E6E1041F6 is not the leader, suggested leader is: s3|localhost:15024, logIndex=0, commits[s5:c-1, s3:c-1, s4:c-1]
2025-07-09 10:10:13,314 [grpc-default-executor-1] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-3A6E039DAA24: Failed* RaftClientRequest:client-3A6E039DAA24->s5@group-640E6E1041F6, cid=13, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s5@group-640E6E1041F6 is not the leader, suggested leader is: s3|localhost:15024
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:317)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:308)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:551)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:648)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s5@group-640E6E1041F6 is not the leader, suggested leader is: s3|localhost:15024
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:402)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:313)
	... 11 more
2025-07-09 10:10:13,320 [timer4] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15026
2025-07-09 10:10:13,321 [timer4] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15025
2025-07-09 10:10:13,347 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-3A6E039DAA24->s3: receive RaftClientReply:client-3A6E039DAA24->s3@group-640E6E1041F6, cid=13, SUCCESS, logIndex=0, commits[s3:c0, s4:c-1, s5:c-1]
2025-07-09 10:10:13,352 [s4@group-640E6E1041F6-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s4/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@47fe6815
2025-07-09 10:10:13,353 [s5@group-640E6E1041F6-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s5/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@231229ee
2025-07-09 10:10:13,355 [s3@group-640E6E1041F6-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 1
2025-07-09 10:10:13,356 [s3@group-640E6E1041F6-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:13,356 [s4@group-640E6E1041F6-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s4/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s4/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:10:13,357 [s4@group-640E6E1041F6-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 1
2025-07-09 10:10:13,357 [s4@group-640E6E1041F6-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:13,357 [s5@group-640E6E1041F6-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s5/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc3b90984/s5/c5727ebe-bcf9-4bf4-bd83-640e6e1041f6/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:10:13,358 [s5@group-640E6E1041F6-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 1
2025-07-09 10:10:13,358 [s5@group-640E6E1041F6-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:13,359 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-3A6E039DAA24->s3: receive RaftClientReply:client-3A6E039DAA24->s3@group-640E6E1041F6, cid=14, SUCCESS, logIndex=1, commits[s3:c1, s4:c0, s5:c0]
2025-07-09 10:10:13,365 [main] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block FLUSH_STATE_MACHINE_DATA
2025-07-09 10:10:13,365 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15026
2025-07-09 10:10:13,367 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15025
2025-07-09 10:10:13,368 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15026
2025-07-09 10:10:13,370 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15025
2025-07-09 10:10:13,372 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15026
2025-07-09 10:10:13,374 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15025
2025-07-09 10:10:13,376 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15026
2025-07-09 10:10:13,379 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15025
2025-07-09 10:10:13,383 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15026
2025-07-09 10:10:13,388 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15025
2025-07-09 10:10:13,392 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15026
2025-07-09 10:10:13,396 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15025
2025-07-09 10:10:13,404 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15026
2025-07-09 10:10:13,407 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15025
2025-07-09 10:10:13,411 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15026
2025-07-09 10:10:13,416 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15025
2025-07-09 10:10:13,422 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15026
2025-07-09 10:10:13,423 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15025
2025-07-09 10:10:13,441 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15026
2025-07-09 10:10:13,442 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15025
2025-07-09 10:10:13,456 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15026
2025-07-09 10:10:13,460 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-E3EBBD9E13E7->s3: receive RaftClientReply:client-E3EBBD9E13E7->s3@group-640E6E1041F6, cid=15, SUCCESS, logIndex=2, commits[s3:c2, s4:c1, s5:c1]
2025-07-09 10:10:13,463 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-8E952480CD98->s3: receive RaftClientReply:client-8E952480CD98->s3@group-640E6E1041F6, cid=17, SUCCESS, logIndex=2, commits[s3:c2, s4:c1, s5:c1]
2025-07-09 10:10:13,462 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15025
2025-07-09 10:10:13,460 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-7781907C6BD6->s3: receive RaftClientReply:client-7781907C6BD6->s3@group-640E6E1041F6, cid=19, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c1]
2025-07-09 10:10:13,487 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-61BF0E42C8D2->s3: receive RaftClientReply:client-61BF0E42C8D2->s3@group-640E6E1041F6, cid=21, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2025-07-09 10:10:13,497 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-EB1D1B3506EF->s3: receive RaftClientReply:client-EB1D1B3506EF->s3@group-640E6E1041F6, cid=23, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2025-07-09 10:10:13,502 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-87603C0349F3->s3: receive RaftClientReply:client-87603C0349F3->s3@group-640E6E1041F6, cid=27, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2025-07-09 10:10:13,508 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-ED7451308E0D->s3: receive RaftClientReply:client-ED7451308E0D->s3@group-640E6E1041F6, cid=25, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2025-07-09 10:10:13,524 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-29C0198291FB->s3: receive RaftClientReply:client-29C0198291FB->s3@group-640E6E1041F6, cid=29, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2025-07-09 10:10:13,553 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-682CF908C59B->s3: receive RaftClientReply:client-682CF908C59B->s3@group-640E6E1041F6, cid=33, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2025-07-09 10:10:13,567 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-F992FB088A8B->s3: receive RaftClientReply:client-F992FB088A8B->s3@group-640E6E1041F6, cid=31, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2025-07-09 10:10:13,574 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-CB572A742639->s3: receive RaftClientReply:client-CB572A742639->s3@group-640E6E1041F6, cid=35, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2025-07-09 10:10:13,587 [grpc-default-executor-0] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-87603C0349F3: Failed* RaftClientRequest:client-87603C0349F3->s3@group-640E6E1041F6, cid=28, seq=2, RW, message 5
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-640E6E1041F6: Failed to acquire a pending write request for RaftClientRequest:client-87603C0349F3->s3@group-640E6E1041F6, cid=28, seq=2, RW, Message:6d6573736167652035
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:564)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:565)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$100(ClientCallImpl.java:72)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:733)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:714)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-640E6E1041F6: Failed to acquire a pending write request for RaftClientRequest:client-87603C0349F3->s3@group-640E6E1041F6, cid=28, seq=2, RW, Message:6d6573736167652035
	at org.apache.ratis.server.impl.RaftServerImpl.getResourceUnavailableReply(RaftServerImpl.java:813)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:833)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1008)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:972)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:942)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$11(RaftServerImpl.java:931)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:931)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2025-07-09 10:10:13,592 [grpc-default-executor-0] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(181)) - Failed to send request, message=message 5
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-640E6E1041F6: Failed to acquire a pending write request for RaftClientRequest:client-87603C0349F3->s3@group-640E6E1041F6, cid=28, seq=2, RW, Message:6d6573736167652035
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:111)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:395)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:155)
	at org.apache.ratis.client.impl.OrderedAsync.handleException(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequestWithRetry$7(OrderedAsync.java:217)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:564)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:565)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$100(ClientCallImpl.java:72)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:733)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:714)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-640E6E1041F6: Failed to acquire a pending write request for RaftClientRequest:client-87603C0349F3->s3@group-640E6E1041F6, cid=28, seq=2, RW, Message:6d6573736167652035
	at org.apache.ratis.server.impl.RaftServerImpl.getResourceUnavailableReply(RaftServerImpl.java:813)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:833)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1008)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:972)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:942)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$11(RaftServerImpl.java:931)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:931)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2025-07-09 10:10:14,494 [timer3] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-8E952480CD98: Failed* RaftClientRequest:client-8E952480CD98->s3@group-640E6E1041F6, cid=18, seq=2, RW, message 0
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-8E952480CD98->s3 request #18 timeout 1s
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:376)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:381)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:369)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-8E952480CD98->s3 request #18 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:377)
	... 10 more
2025-07-09 10:10:14,494 [timer3] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(181)) - Failed to send request, message=message 0
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-8E952480CD98->s3 request #18 timeout 1s
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:111)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:395)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:155)
	at org.apache.ratis.client.impl.OrderedAsync.handleException(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequestWithRetry$7(OrderedAsync.java:217)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:376)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:381)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:369)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-8E952480CD98->s3 request #18 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:377)
	... 10 more
2025-07-09 10:10:14,494 [timer4] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-E3EBBD9E13E7: Failed* RaftClientRequest:client-E3EBBD9E13E7->s3@group-640E6E1041F6, cid=16, seq=2, RW, 2nd Message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-E3EBBD9E13E7->s3 request #16 timeout 1s
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:376)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:381)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:369)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-E3EBBD9E13E7->s3 request #16 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:377)
	... 10 more
2025-07-09 10:10:14,495 [timer4] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(181)) - Failed to send request, message=2nd Message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-E3EBBD9E13E7->s3 request #16 timeout 1s
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:111)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:395)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:155)
	at org.apache.ratis.client.impl.OrderedAsync.handleException(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequestWithRetry$7(OrderedAsync.java:217)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:376)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:381)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:369)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-E3EBBD9E13E7->s3 request #16 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:377)
	... 10 more
2025-07-09 10:10:14,496 [timer5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-7781907C6BD6: Failed* RaftClientRequest:client-7781907C6BD6->s3@group-640E6E1041F6, cid=20, seq=2, RW, message 1
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-7781907C6BD6->s3 request #20 timeout 1s
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:376)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:381)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:369)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-7781907C6BD6->s3 request #20 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:377)
	... 10 more
2025-07-09 10:10:14,496 [timer5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(181)) - Failed to send request, message=message 1
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-7781907C6BD6->s3 request #20 timeout 1s
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:111)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:395)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:155)
	at org.apache.ratis.client.impl.OrderedAsync.handleException(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequestWithRetry$7(OrderedAsync.java:217)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:376)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:381)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:369)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-7781907C6BD6->s3 request #20 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:377)
	... 10 more
2025-07-09 10:10:14,508 [timer2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-61BF0E42C8D2: Failed* RaftClientRequest:client-61BF0E42C8D2->s3@group-640E6E1041F6, cid=22, seq=2, RW, message 2
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-61BF0E42C8D2->s3 request #22 timeout 1s
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:376)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:381)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:369)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-61BF0E42C8D2->s3 request #22 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:377)
	... 10 more
2025-07-09 10:10:14,508 [timer2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(181)) - Failed to send request, message=message 2
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-61BF0E42C8D2->s3 request #22 timeout 1s
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:111)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:395)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:155)
	at org.apache.ratis.client.impl.OrderedAsync.handleException(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequestWithRetry$7(OrderedAsync.java:217)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:376)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:381)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:369)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-61BF0E42C8D2->s3 request #22 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:377)
	... 10 more
2025-07-09 10:10:14,515 [timer5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-EB1D1B3506EF: Failed* RaftClientRequest:client-EB1D1B3506EF->s3@group-640E6E1041F6, cid=24, seq=2, RW, message 3
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-EB1D1B3506EF->s3 request #24 timeout 1s
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:376)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:381)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:369)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-EB1D1B3506EF->s3 request #24 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:377)
	... 10 more
2025-07-09 10:10:14,515 [timer5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(181)) - Failed to send request, message=message 3
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-EB1D1B3506EF->s3 request #24 timeout 1s
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:111)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:395)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:155)
	at org.apache.ratis.client.impl.OrderedAsync.handleException(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequestWithRetry$7(OrderedAsync.java:217)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:376)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:381)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:369)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-EB1D1B3506EF->s3 request #24 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:377)
	... 10 more
2025-07-09 10:10:14,516 [timer6] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-ED7451308E0D: Failed* RaftClientRequest:client-ED7451308E0D->s3@group-640E6E1041F6, cid=26, seq=2, RW, message 4
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-ED7451308E0D->s3 request #26 timeout 1s
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:376)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:381)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:369)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-ED7451308E0D->s3 request #26 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:377)
	... 10 more
2025-07-09 10:10:14,516 [timer6] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(181)) - Failed to send request, message=message 4
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-ED7451308E0D->s3 request #26 timeout 1s
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:111)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:395)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:155)
	at org.apache.ratis.client.impl.OrderedAsync.handleException(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequestWithRetry$7(OrderedAsync.java:217)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:376)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:381)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:369)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-ED7451308E0D->s3 request #26 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:377)
	... 10 more
2025-07-09 10:10:14,544 [timer2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-29C0198291FB: Failed* RaftClientRequest:client-29C0198291FB->s3@group-640E6E1041F6, cid=30, seq=2, RW, message 6
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-29C0198291FB->s3 request #30 timeout 1s
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:376)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:381)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:369)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-29C0198291FB->s3 request #30 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:377)
	... 10 more
2025-07-09 10:10:14,544 [timer2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(181)) - Failed to send request, message=message 6
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-29C0198291FB->s3 request #30 timeout 1s
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:111)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:395)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:155)
	at org.apache.ratis.client.impl.OrderedAsync.handleException(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequestWithRetry$7(OrderedAsync.java:217)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:376)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:381)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:369)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-29C0198291FB->s3 request #30 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:377)
	... 10 more
2025-07-09 10:10:14,557 [timer2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-682CF908C59B: Failed* RaftClientRequest:client-682CF908C59B->s3@group-640E6E1041F6, cid=34, seq=2, RW, message 8
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-682CF908C59B->s3 request #34 timeout 1s
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:376)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:381)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:369)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-682CF908C59B->s3 request #34 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:377)
	... 10 more
2025-07-09 10:10:14,557 [timer2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(181)) - Failed to send request, message=message 8
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-682CF908C59B->s3 request #34 timeout 1s
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:111)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:395)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:155)
	at org.apache.ratis.client.impl.OrderedAsync.handleException(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequestWithRetry$7(OrderedAsync.java:217)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:376)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:381)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:369)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-682CF908C59B->s3 request #34 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:377)
	... 10 more
2025-07-09 10:10:14,569 [timer5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-F992FB088A8B: Failed* RaftClientRequest:client-F992FB088A8B->s3@group-640E6E1041F6, cid=32, seq=2, RW, message 7
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-F992FB088A8B->s3 request #32 timeout 1s
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:376)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:381)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:369)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-F992FB088A8B->s3 request #32 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:377)
	... 10 more
2025-07-09 10:10:14,570 [timer5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(181)) - Failed to send request, message=message 7
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-F992FB088A8B->s3 request #32 timeout 1s
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:111)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:395)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:155)
	at org.apache.ratis.client.impl.OrderedAsync.handleException(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequestWithRetry$7(OrderedAsync.java:217)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:376)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:381)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:369)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-F992FB088A8B->s3 request #32 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:377)
	... 10 more
2025-07-09 10:10:14,584 [timer2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-CB572A742639: Failed* RaftClientRequest:client-CB572A742639->s3@group-640E6E1041F6, cid=36, seq=2, RW, message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-CB572A742639->s3 request #36 timeout 1s
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:376)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:381)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:369)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-CB572A742639->s3 request #36 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:377)
	... 10 more
2025-07-09 10:10:14,584 [timer2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(181)) - Failed to send request, message=message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-CB572A742639->s3 request #36 timeout 1s
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:111)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:395)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:155)
	at org.apache.ratis.client.impl.OrderedAsync.handleException(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequestWithRetry$7(OrderedAsync.java:217)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:376)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:381)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:369)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-CB572A742639->s3 request #36 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:377)
	... 10 more
2025-07-09 10:10:21,595 [Thread-206] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(226)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=222, target=localhost:15026}}. 
2025-07-09 10:10:22,968 [Timer-2] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:lambda$null$7(351)) - TIMED-PRINT: printing ALL groups
  s3:  RUNNING    LEADER (RUNNING): s3@group-640E6E1041F6:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-640E6E1041F6-SegmentedRaftLog:OPENED:c2:last(t:1, i:12), conf=conf: {index: 0, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
  s4:  RUNNING  FOLLOWER (RUNNING): s4@group-640E6E1041F6:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-640E6E1041F6-SegmentedRaftLog:OPENED:c2:last(t:1, i:12), conf=conf: {index: 0, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
  s5:  RUNNING  FOLLOWER (RUNNING): s5@group-640E6E1041F6:t1, leader=s3, voted=s3, raftlog=Memoized:s5@group-640E6E1041F6-SegmentedRaftLog:OPENED:c2:last(t:1, i:12), conf=conf: {index: 0, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}.
2025-07-09 10:10:23,502 [s3@group-640E6E1041F6-SegmentedRaftLogWorker] WARN  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:getFromFuture(98)) - Timeout 0/~
org.apache.ratis.protocol.exceptions.TimeoutIOException: Timeout 10s: s3@group-640E6E1041F6-SegmentedRaftLogWorker-flushStateMachineData
	at org.apache.ratis.util.IOUtils.getFromFuture(IOUtils.java:89)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker$StateMachineDataPolicy.getFromFuture(SegmentedRaftLogWorker.java:95)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker.flushIfNecessary(SegmentedRaftLogWorker.java:377)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker.access$1200(SegmentedRaftLogWorker.java:64)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker$WriteLog.execute(SegmentedRaftLogWorker.java:561)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker.run(SegmentedRaftLogWorker.java:317)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.util.concurrent.TimeoutException
	at java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1784)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1928)
	at org.apache.ratis.util.IOUtils.getFromFuture(IOUtils.java:80)
	... 10 more
2025-07-09 10:10:24,600 [Thread-209] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(226)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=229, target=localhost:15026}}. 
2025-07-09 10:10:27,603 [Thread-212] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(226)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=235, target=localhost:15026}}. 
2025-07-09 10:10:30,607 [Thread-215] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(226)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=242, target=localhost:15026}}. 
2025-07-09 10:10:32,968 [Timer-2] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:lambda$null$7(351)) - TIMED-PRINT: printing ALL groups
  s3:  RUNNING    LEADER (RUNNING): s3@group-640E6E1041F6:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-640E6E1041F6-SegmentedRaftLog:OPENED:c2:last(t:1, i:12), conf=conf: {index: 0, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
  s4:  RUNNING  FOLLOWER (RUNNING): s4@group-640E6E1041F6:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-640E6E1041F6-SegmentedRaftLog:OPENED:c2:last(t:1, i:12), conf=conf: {index: 0, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
  s5:  RUNNING  FOLLOWER (RUNNING): s5@group-640E6E1041F6:t1, leader=s3, voted=s3, raftlog=Memoized:s5@group-640E6E1041F6-SegmentedRaftLog:OPENED:c2:last(t:1, i:12), conf=conf: {index: 0, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}.
2025-07-09 10:10:33,503 [s3@group-640E6E1041F6-SegmentedRaftLogWorker] WARN  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:getFromFuture(98)) - Timeout 1/~
org.apache.ratis.protocol.exceptions.TimeoutIOException: Timeout 10s: s3@group-640E6E1041F6-SegmentedRaftLogWorker-flushStateMachineData
	at org.apache.ratis.util.IOUtils.getFromFuture(IOUtils.java:89)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker$StateMachineDataPolicy.getFromFuture(SegmentedRaftLogWorker.java:95)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker.flushIfNecessary(SegmentedRaftLogWorker.java:377)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker.access$1200(SegmentedRaftLogWorker.java:64)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker$WriteLog.execute(SegmentedRaftLogWorker.java:561)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker.run(SegmentedRaftLogWorker.java:317)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.util.concurrent.TimeoutException
	at java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1784)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1928)
	at org.apache.ratis.util.IOUtils.getFromFuture(IOUtils.java:80)
	... 10 more
2025-07-09 10:10:33,611 [Thread-218] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(226)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=250, target=localhost:15026}}. 
2025-07-09 10:10:36,614 [Thread-221] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(226)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=256, target=localhost:15026}}. 
2025-07-09 10:10:39,619 [Thread-227] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(226)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=271, target=localhost:15026}}. 
2025-07-09 10:10:42,622 [Thread-230] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(226)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=278, target=localhost:15026}}. 
2025-07-09 10:10:42,968 [Timer-2] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:lambda$null$7(351)) - TIMED-PRINT: printing ALL groups
  s3:  RUNNING    LEADER (RUNNING): s3@group-640E6E1041F6:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-640E6E1041F6-SegmentedRaftLog:OPENED:c2:last(t:1, i:12), conf=conf: {index: 0, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
  s4:  RUNNING  FOLLOWER (RUNNING): s4@group-640E6E1041F6:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-640E6E1041F6-SegmentedRaftLog:OPENED:c2:last(t:1, i:12), conf=conf: {index: 0, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
  s5:  RUNNING  FOLLOWER (RUNNING): s5@group-640E6E1041F6:t1, leader=s3, voted=s3, raftlog=Memoized:s5@group-640E6E1041F6-SegmentedRaftLog:OPENED:c2:last(t:1, i:12), conf=conf: {index: 0, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}.
2025-07-09 10:10:43,503 [s3@group-640E6E1041F6-SegmentedRaftLogWorker] WARN  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:getFromFuture(98)) - Timeout 2/~
org.apache.ratis.protocol.exceptions.TimeoutIOException: Timeout 10s: s3@group-640E6E1041F6-SegmentedRaftLogWorker-flushStateMachineData
	at org.apache.ratis.util.IOUtils.getFromFuture(IOUtils.java:89)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker$StateMachineDataPolicy.getFromFuture(SegmentedRaftLogWorker.java:95)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker.flushIfNecessary(SegmentedRaftLogWorker.java:377)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker.access$1200(SegmentedRaftLogWorker.java:64)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker$WriteLog.execute(SegmentedRaftLogWorker.java:561)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker.run(SegmentedRaftLogWorker.java:317)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.util.concurrent.TimeoutException
	at java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1784)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1928)
	at org.apache.ratis.util.IOUtils.getFromFuture(IOUtils.java:80)
	... 10 more
2025-07-09 10:10:45,626 [Thread-233] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(226)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=284, target=localhost:15026}}. 
2025-07-09 10:10:48,631 [Thread-236] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(226)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=292, target=localhost:15026}}. 
2025-07-09 10:10:48,633 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2025-07-09 10:10:48,633 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - *** 
2025-07-09 10:10:48,633 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - ***     Stopping MiniRaftClusterWithGrpc
2025-07-09 10:10:48,633 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - *** 
2025-07-09 10:10:48,633 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - ************************************************************** 
2025-07-09 10:10:48,634 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - printing ALL groups
  s3:  RUNNING    LEADER (RUNNING): s3@group-640E6E1041F6:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-640E6E1041F6-SegmentedRaftLog:OPENED:c2:last(t:1, i:12), conf=conf: {index: 0, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
  s4:  RUNNING  FOLLOWER (RUNNING): s4@group-640E6E1041F6:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-640E6E1041F6-SegmentedRaftLog:OPENED:c2:last(t:1, i:12), conf=conf: {index: 0, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
  s5:  RUNNING  FOLLOWER (RUNNING): s5@group-640E6E1041F6:t1, leader=s3, voted=s3, raftlog=Memoized:s5@group-640E6E1041F6-SegmentedRaftLog:OPENED:c2:last(t:1, i:12), conf=conf: {index: 0, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
2025-07-09 10:10:48,634 [MiniRaftCluster-7] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(422)) - s3: close
2025-07-09 10:10:48,634 [MiniRaftCluster-8] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(422)) - s4: close
2025-07-09 10:10:48,635 [MiniRaftCluster-9] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(422)) - s5: close
2025-07-09 10:10:48,635 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(527)) - s3@group-640E6E1041F6: shutdown
2025-07-09 10:10:48,635 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-640E6E1041F6,id=s3
2025-07-09 10:10:48,635 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s3: shutdown s3@group-640E6E1041F6-LeaderStateImpl
2025-07-09 10:10:48,635 [MiniRaftCluster-7] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2025-07-09 10:10:48,635 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(527)) - s4@group-640E6E1041F6: shutdown
2025-07-09 10:10:48,636 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-640E6E1041F6,id=s4
2025-07-09 10:10:48,636 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown s4@group-640E6E1041F6-FollowerState
2025-07-09 10:10:48,636 [Thread-243] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s4 Close channels
2025-07-09 10:10:48,635 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(527)) - s5@group-640E6E1041F6: shutdown
2025-07-09 10:10:48,636 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-640E6E1041F6,id=s5
2025-07-09 10:10:48,636 [s5-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s5: shutdown s5@group-640E6E1041F6-FollowerState
2025-07-09 10:10:48,635 [MiniRaftCluster-9] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2025-07-09 10:10:48,635 [MiniRaftCluster-8] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2025-07-09 10:10:48,636 [s3@group-640E6E1041F6->s5-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(300)) - s3@group-640E6E1041F6->s5-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2025-07-09 10:10:48,635 [s3@group-640E6E1041F6->s4-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(300)) - s3@group-640E6E1041F6->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2025-07-09 10:10:48,635 [s3-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s3@group-640E6E1041F6-PendingRequests: sendNotLeaderResponses
2025-07-09 10:10:48,638 [s5-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(163)) - s5@group-640E6E1041F6-StateMachineUpdater: set stopIndex = 2
2025-07-09 10:10:48,638 [s4@group-640E6E1041F6-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(140)) - s4@group-640E6E1041F6-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:2)
2025-07-09 10:10:48,638 [s5@group-640E6E1041F6-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(140)) - s5@group-640E6E1041F6-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:2)
2025-07-09 10:10:48,638 [s4@group-640E6E1041F6-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s4@group-640E6E1041F6-FollowerState was interrupted
2025-07-09 10:10:48,639 [Thread-244] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s5 Close channels
2025-07-09 10:10:48,638 [s5@group-640E6E1041F6-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s5@group-640E6E1041F6-FollowerState was interrupted
2025-07-09 10:10:48,638 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(163)) - s4@group-640E6E1041F6-StateMachineUpdater: set stopIndex = 2
2025-07-09 10:10:48,639 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$6(171)) - s4: Completed APPEND_ENTRIES, lastRequest: s3->s4#18-t1,previous=(t:1, i:11),leaderCommit=2,initializing? false,entries: size=1, first=(t:1, i:12), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0 
2025-07-09 10:10:48,640 [Thread-246] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s3 Close channels
2025-07-09 10:10:48,640 [Thread-249] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s5 Close channels
2025-07-09 10:10:48,640 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$6(171)) - s5: Completed APPEND_ENTRIES, lastRequest: s3->s5#16-t1,previous=(t:1, i:11),leaderCommit=2,initializing? false,entries: size=1, first=(t:1, i:12), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0 
2025-07-09 10:10:48,643 [MiniRaftCluster-8] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2025-07-09 10:10:48,643 [MiniRaftCluster-8] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s4: shutdown server GrpcServerProtocolService now
2025-07-09 10:10:48,643 [MiniRaftCluster-9] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2025-07-09 10:10:48,643 [MiniRaftCluster-9] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s5: shutdown server GrpcServerProtocolService now
2025-07-09 10:10:48,644 [s5@group-640E6E1041F6-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s5@group-640E6E1041F6-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2025-07-09 10:10:48,644 [s4@group-640E6E1041F6-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s4@group-640E6E1041F6-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2025-07-09 10:10:48,648 [MiniRaftCluster-9] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s5: shutdown server GrpcServerProtocolService successfully
2025-07-09 10:10:48,649 [MiniRaftCluster-9] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2025-07-09 10:10:48,650 [MiniRaftCluster-9] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2025-07-09 10:10:48,651 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(545)) - s3@group-640E6E1041F6->s5-GrpcLogAppender is already stopped
2025-07-09 10:10:48,652 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(163)) - s3@group-640E6E1041F6-StateMachineUpdater: set stopIndex = 2
2025-07-09 10:10:48,652 [s3@group-640E6E1041F6-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(140)) - s3@group-640E6E1041F6-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:2)
2025-07-09 10:10:48,653 [s3@group-640E6E1041F6-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s3@group-640E6E1041F6-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2025-07-09 10:10:48,654 [MiniRaftCluster-8] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s4: shutdown server GrpcServerProtocolService successfully
2025-07-09 10:10:48,654 [MiniRaftCluster-8] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2025-07-09 10:10:48,656 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(545)) - s3@group-640E6E1041F6->s4-GrpcLogAppender is already stopped
2025-07-09 10:10:48,658 [MiniRaftCluster-8] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2025-07-09 10:10:48,658 [MiniRaftCluster-7] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2025-07-09 10:10:48,658 [MiniRaftCluster-7] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s3: shutdown server GrpcServerProtocolService now
2025-07-09 10:10:48,658 [MiniRaftCluster-7] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s3: shutdown server GrpcServerProtocolService successfully
2025-07-09 10:10:48,658 [MiniRaftCluster-7] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2025-07-09 10:10:48,660 [MiniRaftCluster-7] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2025-07-09 10:10:48,769 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$null$7(175)) - s5: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s3"
  replyId: "s5"
  raftGroupId {
    id: "\305r~\276\274\371K\364\275\203d\016n\020A\366"
  }
  callId: 471
  success: true
}
term: 1
nextIndex: 13
followerCommit: 2
matchIndex: 18446744073709551615
isHearbeat: true
 
2025-07-09 10:10:48,769 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$null$7(175)) - s4: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s3"
  replyId: "s4"
  raftGroupId {
    id: "\305r~\276\274\371K\364\275\203d\016n\020A\366"
  }
  callId: 473
  success: true
}
term: 1
nextIndex: 13
followerCommit: 2
matchIndex: 18446744073709551615
isHearbeat: true
 
2025-07-09 10:10:49,597 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(254)) - s5@group-640E6E1041F6-SegmentedRaftLogWorker close()
2025-07-09 10:10:49,597 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(254)) - s4@group-640E6E1041F6-SegmentedRaftLogWorker close()
2025-07-09 10:10:49,598 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s4: Stopped
2025-07-09 10:10:49,599 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s5: Stopped
2025-07-09 10:10:51,653 [s3-impl-thread1] WARN  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$close$3(251)) - s3@group-640E6E1041F6-SegmentedRaftLogWorker: shutdown timeout in 3s
2025-07-09 10:10:51,655 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(254)) - s3@group-640E6E1041F6-SegmentedRaftLogWorker close()
2025-07-09 10:10:51,656 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s3: Stopped
2025-07-09 10:10:51,656 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(860)) - MiniRaftClusterWithGrpc shutdown completed

2025-07-09 10:10:51,665 [1] false failed
java.util.concurrent.TimeoutException: Timed out waiting for condition.
	at org.apache.ratis.RaftTestUtil.waitFor(RaftTestUtil.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRequestMetrics(TestRaftServerWithGrpc.java:283)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testTlsWithKeyAndTrustManager(TestRaftServerWithGrpc.java:401)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.Optional.ifPresent(Optional.java:159)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:647)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
"grpc-shared-destroyer-0" Id=299 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@2b85edc7
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@2b85edc7
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"grpc-default-executor-10" Id=251 TIMED_WAITING on java.util.concurrent.SynchronousQueue$TransferStack@2bf45b7c
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.SynchronousQueue$TransferStack@2bf45b7c
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)
	at java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)
	at java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"grpc-default-executor-9" Id=250 TIMED_WAITING on java.util.concurrent.SynchronousQueue$TransferStack@2bf45b7c
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.SynchronousQueue$TransferStack@2bf45b7c
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)
	at java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)
	at java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"grpc-default-executor-8" Id=249 TIMED_WAITING on java.util.concurrent.SynchronousQueue$TransferStack@2bf45b7c
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.SynchronousQueue$TransferStack@2bf45b7c
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)
	at java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)
	at java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"grpc-default-executor-7" Id=248 TIMED_WAITING on java.util.concurrent.SynchronousQueue$TransferStack@2bf45b7c
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.SynchronousQueue$TransferStack@2bf45b7c
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)
	at java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)
	at java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"grpc-default-executor-6" Id=247 TIMED_WAITING on java.util.concurrent.SynchronousQueue$TransferStack@2bf45b7c
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.SynchronousQueue$TransferStack@2bf45b7c
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)
	at java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)
	at java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"grpc-default-executor-5" Id=237 TIMED_WAITING on java.util.concurrent.SynchronousQueue$TransferStack@2bf45b7c
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.SynchronousQueue$TransferStack@2bf45b7c
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)
	at java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)
	at java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"grpc-default-executor-4" Id=236 TIMED_WAITING on java.util.concurrent.SynchronousQueue$TransferStack@2bf45b7c
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.SynchronousQueue$TransferStack@2bf45b7c
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)
	at java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)
	at java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"grpc-default-executor-3" Id=228 TIMED_WAITING on java.util.concurrent.SynchronousQueue$TransferStack@2bf45b7c
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.SynchronousQueue$TransferStack@2bf45b7c
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)
	at java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)
	at java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"grpc-default-executor-2" Id=216 TIMED_WAITING on java.util.concurrent.SynchronousQueue$TransferStack@2bf45b7c
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.SynchronousQueue$TransferStack@2bf45b7c
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)
	at java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)
	at java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"grpc-default-executor-1" Id=215 TIMED_WAITING on java.util.concurrent.SynchronousQueue$TransferStack@2bf45b7c
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.SynchronousQueue$TransferStack@2bf45b7c
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)
	at java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)
	at java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"grpc-default-executor-0" Id=214 TIMED_WAITING on java.util.concurrent.SynchronousQueue$TransferStack@2bf45b7c
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.SynchronousQueue$TransferStack@2bf45b7c
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)
	at java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)
	at java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"s3@group-640E6E1041F6-SegmentedRaftLogWorker" Id=197 TIMED_WAITING on java.util.concurrent.CompletableFuture$Signaller@2559f65c
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.CompletableFuture$Signaller@2559f65c
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.CompletableFuture$Signaller.block(CompletableFuture.java:1709)
	at java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3323)
	at java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1788)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1928)
	at org.apache.ratis.util.IOUtils.getFromFuture(IOUtils.java:80)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker$StateMachineDataPolicy.getFromFuture(SegmentedRaftLogWorker.java:95)
	...

	Number of locked synchronizers = 1
	- java.util.concurrent.ThreadPoolExecutor$Worker@79140979


"timer0" Id=105 TIMED_WAITING on java.util.TaskQueue@490704a5
	at java.lang.Object.wait(Native Method)
	-  waiting on java.util.TaskQueue@490704a5
	at java.util.TimerThread.mainLoop(Timer.java:552)
	at java.util.TimerThread.run(Timer.java:505)


"timer7" Id=104 TIMED_WAITING on java.util.TaskQueue@4d682397
	at java.lang.Object.wait(Native Method)
	-  waiting on java.util.TaskQueue@4d682397
	at java.util.TimerThread.mainLoop(Timer.java:552)
	at java.util.TimerThread.run(Timer.java:505)


"timer6" Id=103 TIMED_WAITING on java.util.TaskQueue@444ebefd
	at java.lang.Object.wait(Native Method)
	-  waiting on java.util.TaskQueue@444ebefd
	at java.util.TimerThread.mainLoop(Timer.java:552)
	at java.util.TimerThread.run(Timer.java:505)


"timer5" Id=102 TIMED_WAITING on java.util.TaskQueue@2ecf4b3e
	at java.lang.Object.wait(Native Method)
	-  waiting on java.util.TaskQueue@2ecf4b3e
	at java.util.TimerThread.mainLoop(Timer.java:552)
	at java.util.TimerThread.run(Timer.java:505)


"timer4" Id=101 WAITING on java.util.TaskQueue@5f1c406e
	at java.lang.Object.wait(Native Method)
	-  waiting on java.util.TaskQueue@5f1c406e
	at java.lang.Object.wait(Object.java:502)
	at java.util.TimerThread.mainLoop(Timer.java:526)
	at java.util.TimerThread.run(Timer.java:505)


"timer3" Id=98 WAITING on java.util.TaskQueue@5364b481
	at java.lang.Object.wait(Native Method)
	-  waiting on java.util.TaskQueue@5364b481
	at java.lang.Object.wait(Object.java:502)
	at java.util.TimerThread.mainLoop(Timer.java:526)
	at java.util.TimerThread.run(Timer.java:505)


"timer2" Id=97 WAITING on java.util.TaskQueue@62ec4146
	at java.lang.Object.wait(Native Method)
	-  waiting on java.util.TaskQueue@62ec4146
	at java.lang.Object.wait(Object.java:502)
	at java.util.TimerThread.mainLoop(Timer.java:526)
	at java.util.TimerThread.run(Timer.java:505)


"timer1" Id=96 WAITING on java.util.TaskQueue@362e709e
	at java.lang.Object.wait(Native Method)
	-  waiting on java.util.TaskQueue@362e709e
	at java.lang.Object.wait(Object.java:502)
	at java.util.TimerThread.mainLoop(Timer.java:526)
	at java.util.TimerThread.run(Timer.java:505)


"junit-jupiter-timeout-watcher" Id=16 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@b0c4905
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@b0c4905
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"gradle-enterprise-test-client-gradle-enterprise-test-listener" Id=14 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@7d3a2459
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@7d3a2459
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
	at java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
	at com.gradle.maven.scan.extension.test.listener.obfuscated.k.a.a(SourceFile:130)
	at com.gradle.maven.scan.extension.test.listener.obfuscated.k.a.b(SourceFile:93)
	at com.gradle.maven.scan.extension.test.listener.obfuscated.k.a$$Lambda$269/649329985.run(Unknown Source)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	...

	Number of locked synchronizers = 1
	- java.util.concurrent.ThreadPoolExecutor$Worker@7494f96a


"process reaper" Id=12 TIMED_WAITING on java.util.concurrent.SynchronousQueue$TransferStack@7d5cbcc9
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.SynchronousQueue$TransferStack@7d5cbcc9
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)
	at java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)
	at java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"surefire-forkedjvm-ping-30s" Id=11 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@3833897c
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@3833897c
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"surefire-forkedjvm-command-thread" Id=10 RUNNABLE (in native)
	at java.io.FileInputStream.readBytes(Native Method)
	at java.io.FileInputStream.read(FileInputStream.java:255)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	-  locked java.io.BufferedInputStream@519eab1e
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.maven.surefire.booter.MasterProcessCommand.decode(MasterProcessCommand.java:113)
	at org.apache.maven.surefire.booter.CommandReader$CommandRunnable.run(CommandReader.java:383)
	at java.lang.Thread.run(Thread.java:750)


"Signal Dispatcher" Id=4 RUNNABLE


"Finalizer" Id=3 WAITING on java.lang.ref.ReferenceQueue$Lock@7d2a4598
	at java.lang.Object.wait(Native Method)
	-  waiting on java.lang.ref.ReferenceQueue$Lock@7d2a4598
	at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:144)
	at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:165)
	at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:188)


"Reference Handler" Id=2 WAITING on java.lang.ref.Reference$Lock@65880400
	at java.lang.Object.wait(Native Method)
	-  waiting on java.lang.ref.Reference$Lock@65880400
	at java.lang.Object.wait(Object.java:502)
	at java.lang.ref.Reference.tryHandlePending(Reference.java:191)
	at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:153)


"main" Id=1 RUNNABLE
	at sun.management.ThreadImpl.dumpThreads0(Native Method)
	at sun.management.ThreadImpl.dumpAllThreads(ThreadImpl.java:503)
	at sun.management.ThreadImpl.dumpAllThreads(ThreadImpl.java:491)
	at org.apache.ratis.util.JavaUtils.dumpAllThreads(JavaUtils.java:274)
	at org.apache.ratis.JUnit5TestExecutionListener.executionFinished(JUnit5TestExecutionListener.java:40)
	at org.junit.platform.launcher.core.CompositeTestExecutionListener.lambda$executionFinished$10(CompositeTestExecutionListener.java:74)
	at org.junit.platform.launcher.core.CompositeTestExecutionListener$$Lambda$1469/215618634.accept(Unknown Source)
	at org.junit.platform.launcher.core.CompositeTestExecutionListener.lambda$notifyEach$21(CompositeTestExecutionListener.java:110)
	...


2025-07-09 10:10:51,703 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2025-07-09 10:10:51,704 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2025-07-09 10:10:51,704 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2025-07-09 10:10:51,706 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/server.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.pem
2025-07-09 10:10:51,707 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/server.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.crt
2025-07-09 10:10:51,707 [main] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.crt with options []: sun.nio.ch.ChannelInputStream@415419a4
2025-07-09 10:10:51,712 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2025-07-09 10:10:51,712 [main] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt with options []: sun.nio.ch.ChannelInputStream@65b69ccb
2025-07-09 10:10:51,718 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/client.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.pem
2025-07-09 10:10:51,719 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/client.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.crt
2025-07-09 10:10:51,719 [main] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.crt with options []: sun.nio.ch.ChannelInputStream@4a9f0360
2025-07-09 10:10:51,723 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2025-07-09 10:10:51,724 [main] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt with options []: sun.nio.ch.ChannelInputStream@6f12b637
2025-07-09 10:10:51,727 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(308)) - new MiniRaftClusterWithGrpc with group-441201FFE3A5:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]
2025-07-09 10:10:51,727 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2025-07-09 10:10:51,727 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2025-07-09 10:10:51,727 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ...     Starting MiniRaftClusterWithGrpc
2025-07-09 10:10:51,728 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ... 
2025-07-09 10:10:51,728 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - .............................................................. 
2025-07-09 10:10:51,728 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(320)) - servers = {}
2025-07-09 10:10:51,728 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - newRaftServer: s3, group-441201FFE3A5:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044], format? true
2025-07-09 10:10:51,729 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(351)) - deleteFully target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s3
2025-07-09 10:10:51,729 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(364)) - deleteFully: target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s3 does not exist.
2025-07-09 10:10:51,729 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(390)) - Formatted directory target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s3
2025-07-09 10:10:51,730 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:51,731 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.admin.port = 15037 (custom)
2025-07-09 10:10:51,731 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:51,731 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.client.port = 15038 (custom)
2025-07-09 10:10:51,732 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.port = 15036 (custom)
2025-07-09 10:10:51,732 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.heartbeat.channel = true (default)
2025-07-09 10:10:51,732 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:newNettyServerBuilder(209)) - Setting TLS for 0.0.0.0/0.0.0.0:15036
2025-07-09 10:10:51,735 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:newNettyServerBuilder(209)) - Setting TLS for 0.0.0.0/0.0.0.0:15037
2025-07-09 10:10:51,736 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:newNettyServerBuilder(209)) - Setting TLS for 0.0.0.0/0.0.0.0:15038
2025-07-09 10:10:51,738 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s3] (custom)
2025-07-09 10:10:51,738 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s3: addNew group-441201FFE3A5:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044] returns group-441201FFE3A5:java.util.concurrent.CompletableFuture@7d1cfe97[Not completed]
2025-07-09 10:10:51,739 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - newRaftServer: s4, group-441201FFE3A5:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044], format? true
2025-07-09 10:10:51,739 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(351)) - deleteFully target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s4
2025-07-09 10:10:51,739 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s3: new RaftServerImpl for group-441201FFE3A5:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044] with SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:51,739 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(364)) - deleteFully: target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s4 does not exist.
2025-07-09 10:10:51,740 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(390)) - Formatted directory target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s4
2025-07-09 10:10:51,740 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:51,740 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.admin.port = 15041 (custom)
2025-07-09 10:10:51,741 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:51,741 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.client.port = 15042 (custom)
2025-07-09 10:10:51,740 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s3@group-441201FFE3A5: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:10:51,741 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.port = 15040 (custom)
2025-07-09 10:10:51,742 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:newNettyServerBuilder(209)) - Setting TLS for 0.0.0.0/0.0.0.0:15040
2025-07-09 10:10:51,743 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:newNettyServerBuilder(209)) - Setting TLS for 0.0.0.0/0.0.0.0:15041
2025-07-09 10:10:51,744 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:newNettyServerBuilder(209)) - Setting TLS for 0.0.0.0/0.0.0.0:15042
2025-07-09 10:10:51,745 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s4] (custom)
2025-07-09 10:10:51,746 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s4: addNew group-441201FFE3A5:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044] returns group-441201FFE3A5:java.util.concurrent.CompletableFuture@240f712e[Not completed]
2025-07-09 10:10:51,746 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - newRaftServer: s5, group-441201FFE3A5:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044], format? true
2025-07-09 10:10:51,746 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(351)) - deleteFully target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s5
2025-07-09 10:10:51,746 [s4-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s4: new RaftServerImpl for group-441201FFE3A5:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044] with SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:51,747 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(364)) - deleteFully: target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s5 does not exist.
2025-07-09 10:10:51,747 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(390)) - Formatted directory target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s5
2025-07-09 10:10:51,747 [s4-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s4@group-441201FFE3A5: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:10:51,748 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:51,748 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.admin.port = 15045 (custom)
2025-07-09 10:10:51,748 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:51,748 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.client.port = 15046 (custom)
2025-07-09 10:10:51,749 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.port = 15044 (custom)
2025-07-09 10:10:51,749 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:newNettyServerBuilder(209)) - Setting TLS for 0.0.0.0/0.0.0.0:15044
2025-07-09 10:10:51,751 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:newNettyServerBuilder(209)) - Setting TLS for 0.0.0.0/0.0.0.0:15045
2025-07-09 10:10:51,752 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:newNettyServerBuilder(209)) - Setting TLS for 0.0.0.0/0.0.0.0:15046
2025-07-09 10:10:51,753 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s5] (custom)
2025-07-09 10:10:51,754 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s5: addNew group-441201FFE3A5:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044] returns group-441201FFE3A5:java.util.concurrent.CompletableFuture@641ab175[Not completed]
2025-07-09 10:10:51,755 [s5-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s5: new RaftServerImpl for group-441201FFE3A5:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044] with SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:51,755 [s5-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s5@group-441201FFE3A5: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:10:51,756 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s3] (custom)
2025-07-09 10:10:51,756 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s3/4e4d0f08-b92c-4396-9240-441201ffe3a5 does not exist. Creating ...
2025-07-09 10:10:51,756 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s3/4e4d0f08-b92c-4396-9240-441201ffe3a5
2025-07-09 10:10:51,758 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s3/4e4d0f08-b92c-4396-9240-441201ffe3a5/in_use.lock acquired by nodename 11875@fv-az1788-284
2025-07-09 10:10:51,758 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s3/4e4d0f08-b92c-4396-9240-441201ffe3a5/current
2025-07-09 10:10:51,758 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s3/4e4d0f08-b92c-4396-9240-441201ffe3a5/sm
2025-07-09 10:10:51,758 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s3/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@f35bcce
2025-07-09 10:10:51,759 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s3/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s3/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:51,759 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s3/4e4d0f08-b92c-4396-9240-441201ffe3a5 has been successfully formatted.
2025-07-09 10:10:51,760 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:51,760 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2025-07-09 10:10:51,760 [s3-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s3@group-441201FFE3A5-cacheEviction-AwaitToRun,5,main] started
2025-07-09 10:10:51,760 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s3@group-441201FFE3A5-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s3/4e4d0f08-b92c-4396-9240-441201ffe3a5
2025-07-09 10:10:51,761 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s3@group-441201FFE3A5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:51,761 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s3@group-441201FFE3A5-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:51,762 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(405)) - s3@group-441201FFE3A5: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
2025-07-09 10:10:51,762 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s3@group-441201FFE3A5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2025-07-09 10:10:51,762 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-441201FFE3A5-FollowerState
2025-07-09 10:10:51,762 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-441201FFE3A5,id=s3
2025-07-09 10:10:51,763 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-441201FFE3A5,id=s3
2025-07-09 10:10:51,763 [s3@group-441201FFE3A5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:51,763 [s3@group-441201FFE3A5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:51,763 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(419)) - s3@group-441201FFE3A5: Successfully started.
2025-07-09 10:10:51,764 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(412)) - s3: start RPC server
2025-07-09 10:10:51,765 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s3: GrpcServicesImpl started, listening on 15038
2025-07-09 10:10:51,767 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s3: GrpcServicesImpl started, listening on 15036
2025-07-09 10:10:51,768 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s3: GrpcServicesImpl started, listening on 15037
2025-07-09 10:10:51,769 [JvmPauseMonitor9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s3: Started
2025-07-09 10:10:51,769 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s4] (custom)
2025-07-09 10:10:51,769 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s4/4e4d0f08-b92c-4396-9240-441201ffe3a5 does not exist. Creating ...
2025-07-09 10:10:51,770 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s4/4e4d0f08-b92c-4396-9240-441201ffe3a5
2025-07-09 10:10:51,771 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s4/4e4d0f08-b92c-4396-9240-441201ffe3a5/in_use.lock acquired by nodename 11875@fv-az1788-284
2025-07-09 10:10:51,771 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s4/4e4d0f08-b92c-4396-9240-441201ffe3a5/current
2025-07-09 10:10:51,771 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s4/4e4d0f08-b92c-4396-9240-441201ffe3a5/sm
2025-07-09 10:10:51,771 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s4/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@1a93c0c0
2025-07-09 10:10:51,772 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s4/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s4/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:51,772 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s4/4e4d0f08-b92c-4396-9240-441201ffe3a5 has been successfully formatted.
2025-07-09 10:10:51,773 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:51,773 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2025-07-09 10:10:51,774 [s4-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s4@group-441201FFE3A5-cacheEviction-AwaitToRun,5,main] started
2025-07-09 10:10:51,774 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s4@group-441201FFE3A5-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s4/4e4d0f08-b92c-4396-9240-441201ffe3a5
2025-07-09 10:10:51,776 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s4@group-441201FFE3A5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:51,776 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s4@group-441201FFE3A5-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:51,777 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(405)) - s4@group-441201FFE3A5: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
2025-07-09 10:10:51,777 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s4@group-441201FFE3A5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2025-07-09 10:10:51,777 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s4: start s4@group-441201FFE3A5-FollowerState
2025-07-09 10:10:51,777 [s4@group-441201FFE3A5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:51,777 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-441201FFE3A5,id=s4
2025-07-09 10:10:51,778 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-441201FFE3A5,id=s4
2025-07-09 10:10:51,777 [s4@group-441201FFE3A5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:51,778 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(419)) - s4@group-441201FFE3A5: Successfully started.
2025-07-09 10:10:51,778 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(412)) - s4: start RPC server
2025-07-09 10:10:51,779 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s4: GrpcServicesImpl started, listening on 15042
2025-07-09 10:10:51,780 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s4: GrpcServicesImpl started, listening on 15040
2025-07-09 10:10:51,781 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s4: GrpcServicesImpl started, listening on 15041
2025-07-09 10:10:51,782 [JvmPauseMonitor10] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s4: Started
2025-07-09 10:10:51,782 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s5] (custom)
2025-07-09 10:10:51,782 [s5-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s5/4e4d0f08-b92c-4396-9240-441201ffe3a5 does not exist. Creating ...
2025-07-09 10:10:51,783 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s5/4e4d0f08-b92c-4396-9240-441201ffe3a5
2025-07-09 10:10:51,785 [s5-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s5/4e4d0f08-b92c-4396-9240-441201ffe3a5/in_use.lock acquired by nodename 11875@fv-az1788-284
2025-07-09 10:10:51,785 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s5/4e4d0f08-b92c-4396-9240-441201ffe3a5/current
2025-07-09 10:10:51,785 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s5/4e4d0f08-b92c-4396-9240-441201ffe3a5/sm
2025-07-09 10:10:51,785 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s5/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@11c6d441
2025-07-09 10:10:51,786 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s5/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s5/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:51,786 [s5-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s5/4e4d0f08-b92c-4396-9240-441201ffe3a5 has been successfully formatted.
2025-07-09 10:10:51,786 [s5-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:51,787 [s5-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2025-07-09 10:10:51,787 [s5-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s5@group-441201FFE3A5-cacheEviction-AwaitToRun,5,main] started
2025-07-09 10:10:51,787 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s5@group-441201FFE3A5-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s5/4e4d0f08-b92c-4396-9240-441201ffe3a5
2025-07-09 10:10:51,790 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s5@group-441201FFE3A5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:51,790 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s5@group-441201FFE3A5-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:51,790 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(405)) - s5@group-441201FFE3A5: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
2025-07-09 10:10:51,791 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s5@group-441201FFE3A5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2025-07-09 10:10:51,791 [s5-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s5: start s5@group-441201FFE3A5-FollowerState
2025-07-09 10:10:51,791 [s5@group-441201FFE3A5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:51,791 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-441201FFE3A5,id=s5
2025-07-09 10:10:51,791 [s5@group-441201FFE3A5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:51,791 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-441201FFE3A5,id=s5
2025-07-09 10:10:51,791 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(419)) - s5@group-441201FFE3A5: Successfully started.
2025-07-09 10:10:51,792 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(412)) - s5: start RPC server
2025-07-09 10:10:51,793 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s5: GrpcServicesImpl started, listening on 15046
2025-07-09 10:10:51,794 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s5: GrpcServicesImpl started, listening on 15044
2025-07-09 10:10:51,795 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s5: GrpcServicesImpl started, listening on 15045
2025-07-09 10:10:51,795 [JvmPauseMonitor11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s5: Started
2025-07-09 10:10:51,796 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15038
2025-07-09 10:10:51,797 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15037
2025-07-09 10:10:51,823 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-DA17B1EDE473->s3: receive RaftClientReply:client-DA17B1EDE473->s3@group-441201FFE3A5, cid=37, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-441201FFE3A5 is not the leader, logIndex=0, commits[s3:c-1]
2025-07-09 10:10:51,824 [grpc-default-executor-0] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-DA17B1EDE473: Failed* RaftClientRequest:client-DA17B1EDE473->s3@group-441201FFE3A5, cid=37, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-441201FFE3A5 is not the leader
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:317)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:308)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:551)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:648)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-441201FFE3A5 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:402)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:313)
	... 11 more
2025-07-09 10:10:51,928 [timer7] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15046
2025-07-09 10:10:51,929 [timer7] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15045
2025-07-09 10:10:51,954 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-DA17B1EDE473->s5: receive RaftClientReply:client-DA17B1EDE473->s5@group-441201FFE3A5, cid=37, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s5@group-441201FFE3A5 is not the leader, logIndex=0, commits[s5:c-1]
2025-07-09 10:10:51,955 [grpc-default-executor-0] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-DA17B1EDE473: Failed* RaftClientRequest:client-DA17B1EDE473->s5@group-441201FFE3A5, cid=37, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s5@group-441201FFE3A5 is not the leader
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:317)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:308)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:551)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:648)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s5@group-441201FFE3A5 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:402)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:313)
	... 11 more
2025-07-09 10:10:51,979 [s3@group-441201FFE3A5-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(161)) - s3@group-441201FFE3A5-FollowerState: change to CANDIDATE, lastRpcElapsedTime:217277667ns, electionTimeout:216ms
2025-07-09 10:10:51,979 [s3@group-441201FFE3A5-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown s3@group-441201FFE3A5-FollowerState
2025-07-09 10:10:51,980 [s3@group-441201FFE3A5-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s3@group-441201FFE3A5: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2025-07-09 10:10:51,980 [s3@group-441201FFE3A5-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-441201FFE3A5-LeaderElection8
2025-07-09 10:10:51,980 [s3@group-441201FFE3A5-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s3@group-441201FFE3A5-LeaderElection8 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
2025-07-09 10:10:51,981 [s3@group-441201FFE3A5-LeaderElection8-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s4|localhost:15040
2025-07-09 10:10:51,981 [s3@group-441201FFE3A5-LeaderElection8-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s5|localhost:15044
2025-07-09 10:10:51,981 [s3@group-441201FFE3A5-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:51,982 [s3@group-441201FFE3A5-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:52,012 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s5@group-441201FFE3A5: receive requestVote(PRE_VOTE, s3, group-441201FFE3A5, 0, <PROTO_DEFAULT>)
2025-07-09 10:10:52,013 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-441201FFE3A5-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2025-07-09 10:10:52,013 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s5@group-441201FFE3A5 replies to PRE_VOTE vote request: s3<-s5#0:OK-t0-last:<INITIAL_VALUE>. Peer's state: s5@group-441201FFE3A5:t0, leader=null, voted=, raftlog=Memoized:s5@group-441201FFE3A5-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
2025-07-09 10:10:52,015 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s4@group-441201FFE3A5: receive requestVote(PRE_VOTE, s3, group-441201FFE3A5, 0, <PROTO_DEFAULT>)
2025-07-09 10:10:52,016 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-441201FFE3A5-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2025-07-09 10:10:52,016 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s4@group-441201FFE3A5 replies to PRE_VOTE vote request: s3<-s4#0:OK-t0-last:<INITIAL_VALUE>. Peer's state: s4@group-441201FFE3A5:t0, leader=null, voted=, raftlog=Memoized:s4@group-441201FFE3A5-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
2025-07-09 10:10:52,016 [s3@group-441201FFE3A5-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s3@group-441201FFE3A5-LeaderElection8: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2025-07-09 10:10:52,016 [s3@group-441201FFE3A5-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 0: s3<-s5#0:OK-t0-last:<INITIAL_VALUE>
2025-07-09 10:10:52,017 [s3@group-441201FFE3A5-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s3@group-441201FFE3A5-LeaderElection8 PRE_VOTE round 0: result PASSED
2025-07-09 10:10:52,017 [s3@group-441201FFE3A5-LeaderElection8] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s3/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@1bcac329
2025-07-09 10:10:52,020 [s3@group-441201FFE3A5-LeaderElection8] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s3/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s3/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:52,020 [s3@group-441201FFE3A5-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s3@group-441201FFE3A5-LeaderElection8 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
2025-07-09 10:10:52,021 [s3@group-441201FFE3A5-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:52,021 [s3@group-441201FFE3A5-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:52,024 [s5@group-441201FFE3A5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:52,024 [s5@group-441201FFE3A5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:52,025 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s4@group-441201FFE3A5: receive requestVote(ELECTION, s3, group-441201FFE3A5, 1, <PROTO_DEFAULT>)
2025-07-09 10:10:52,025 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-441201FFE3A5-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2025-07-09 10:10:52,025 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s4@group-441201FFE3A5: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s3
2025-07-09 10:10:52,025 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown s4@group-441201FFE3A5-FollowerState
2025-07-09 10:10:52,026 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s5@group-441201FFE3A5: receive requestVote(ELECTION, s3, group-441201FFE3A5, 1, <PROTO_DEFAULT>)
2025-07-09 10:10:52,026 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-441201FFE3A5-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2025-07-09 10:10:52,026 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s4: start s4@group-441201FFE3A5-FollowerState
2025-07-09 10:10:52,026 [s4@group-441201FFE3A5-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s4@group-441201FFE3A5-FollowerState was interrupted
2025-07-09 10:10:52,026 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s5@group-441201FFE3A5: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s3
2025-07-09 10:10:52,027 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s5: shutdown s5@group-441201FFE3A5-FollowerState
2025-07-09 10:10:52,027 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(576)) - s4@group-441201FFE3A5: set firstElectionSinceStartup to false for candidate:s3
2025-07-09 10:10:52,027 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s4/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@19a9137f
2025-07-09 10:10:52,027 [s5@group-441201FFE3A5-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s5@group-441201FFE3A5-FollowerState was interrupted
2025-07-09 10:10:52,030 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s5: start s5@group-441201FFE3A5-FollowerState
2025-07-09 10:10:52,030 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(576)) - s5@group-441201FFE3A5: set firstElectionSinceStartup to false for candidate:s3
2025-07-09 10:10:52,030 [grpc-default-executor-8] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s5/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@229578d9
2025-07-09 10:10:52,033 [grpc-default-executor-8] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s5/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s5/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:52,034 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s4/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s4/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:52,034 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s5@group-441201FFE3A5 replies to ELECTION vote request: s3<-s5#0:OK-t1-last:<INITIAL_VALUE>. Peer's state: s5@group-441201FFE3A5:t1, leader=null, voted=s3, raftlog=Memoized:s5@group-441201FFE3A5-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
2025-07-09 10:10:52,034 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s4@group-441201FFE3A5 replies to ELECTION vote request: s3<-s4#0:OK-t1-last:<INITIAL_VALUE>. Peer's state: s4@group-441201FFE3A5:t1, leader=null, voted=s3, raftlog=Memoized:s4@group-441201FFE3A5-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
2025-07-09 10:10:52,037 [s3@group-441201FFE3A5-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s3@group-441201FFE3A5-LeaderElection8: ELECTION PASSED received 1 response(s) and 0 exception(s):
2025-07-09 10:10:52,037 [s3@group-441201FFE3A5-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 0: s3<-s5#0:OK-t1-last:<INITIAL_VALUE>
2025-07-09 10:10:52,038 [s3@group-441201FFE3A5-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s3@group-441201FFE3A5-LeaderElection8 ELECTION round 0: result PASSED
2025-07-09 10:10:52,039 [s3@group-441201FFE3A5-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s3: shutdown s3@group-441201FFE3A5-LeaderElection8
2025-07-09 10:10:52,039 [s3@group-441201FFE3A5-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s3@group-441201FFE3A5: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2025-07-09 10:10:52,039 [s3@group-441201FFE3A5-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.staging.timeout = 900ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:52,041 [s3@group-441201FFE3A5-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-441201FFE3A5-LeaderStateImpl
2025-07-09 10:10:52,042 [s3@group-441201FFE3A5-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(576)) - s3@group-441201FFE3A5: set firstElectionSinceStartup to false for becomeLeader
2025-07-09 10:10:52,042 [s3@group-441201FFE3A5-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s3@group-441201FFE3A5: change Leader from null to s3 at term 1 for becomeLeader, leader elected after 300ms
2025-07-09 10:10:52,042 [s3@group-441201FFE3A5-LeaderElection8] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(440)) - s3@group-441201FFE3A5-SegmentedRaftLogWorker: Starting segment from index:0
2025-07-09 10:10:52,042 [s3@group-441201FFE3A5-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-441201FFE3A5: set configuration conf: {index: 0, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
2025-07-09 10:10:52,043 [s3@group-441201FFE3A5-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2025-07-09 10:10:52,055 [s3@group-441201FFE3A5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s3@group-441201FFE3A5-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s3/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/log_inprogress_0
2025-07-09 10:10:52,059 [timer1] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15042
2025-07-09 10:10:52,060 [timer1] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15041
2025-07-09 10:10:52,075 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s4@group-441201FFE3A5: change Leader from null to s3 at term 1 for appendEntries, leader elected after 327ms
2025-07-09 10:10:52,082 [grpc-default-executor-8] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-441201FFE3A5: set configuration conf: {index: 0, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
2025-07-09 10:10:52,084 [s4-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(440)) - s4@group-441201FFE3A5-SegmentedRaftLogWorker: Starting segment from index:0
2025-07-09 10:10:52,084 [grpc-default-executor-8] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s5@group-441201FFE3A5: change Leader from null to s3 at term 1 for appendEntries, leader elected after 328ms
2025-07-09 10:10:52,086 [s4@group-441201FFE3A5-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2025-07-09 10:10:52,086 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s5@group-441201FFE3A5: set configuration conf: {index: 0, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
2025-07-09 10:10:52,088 [s5-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(440)) - s5@group-441201FFE3A5-SegmentedRaftLogWorker: Starting segment from index:0
2025-07-09 10:10:52,091 [s5@group-441201FFE3A5-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2025-07-09 10:10:52,098 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-DA17B1EDE473->s4: receive RaftClientReply:client-DA17B1EDE473->s4@group-441201FFE3A5, cid=37, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s4@group-441201FFE3A5 is not the leader, suggested leader is: s3|localhost:15036, logIndex=0, commits[s4:c-1, s3:c-1, s5:c-1]
2025-07-09 10:10:52,099 [grpc-default-executor-10] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-DA17B1EDE473: Failed* RaftClientRequest:client-DA17B1EDE473->s4@group-441201FFE3A5, cid=37, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s4@group-441201FFE3A5 is not the leader, suggested leader is: s3|localhost:15036
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:317)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:308)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:551)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:648)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s4@group-441201FFE3A5 is not the leader, suggested leader is: s3|localhost:15036
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:402)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:313)
	... 11 more
2025-07-09 10:10:52,102 [s4@group-441201FFE3A5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s4@group-441201FFE3A5-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s4/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/log_inprogress_0
2025-07-09 10:10:52,102 [s5@group-441201FFE3A5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s5@group-441201FFE3A5-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s5/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/log_inprogress_0
2025-07-09 10:10:52,102 [timer7] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15038
2025-07-09 10:10:52,105 [timer7] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15037
2025-07-09 10:10:52,111 [s3@group-441201FFE3A5-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s3/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@40e15f67
2025-07-09 10:10:52,113 [s3@group-441201FFE3A5-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s3/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s3/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:10:52,114 [s3@group-441201FFE3A5-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(309)) - Leader s3@group-441201FFE3A5-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2025-07-09 10:10:52,136 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-DA17B1EDE473->s3: receive RaftClientReply:client-DA17B1EDE473->s3@group-441201FFE3A5, cid=37, SUCCESS, logIndex=0, commits[s3:c0, s4:c-1, s5:c-1]
2025-07-09 10:10:52,140 [s5@group-441201FFE3A5-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s5/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@34b39ecd
2025-07-09 10:10:52,142 [s4@group-441201FFE3A5-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s4/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@dc95366
2025-07-09 10:10:52,143 [s5@group-441201FFE3A5-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s5/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s5/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:10:52,143 [s3@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 1
2025-07-09 10:10:52,143 [s4@group-441201FFE3A5-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s4/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcba90e0e3/s4/4e4d0f08-b92c-4396-9240-441201ffe3a5/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:10:52,144 [s3@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,145 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-DA17B1EDE473->s3: receive RaftClientReply:client-DA17B1EDE473->s3@group-441201FFE3A5, cid=38, SUCCESS, logIndex=1, commits[s3:c1, s4:c0, s5:c0]
2025-07-09 10:10:52,146 [s4@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 1
2025-07-09 10:10:52,146 [s4@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,148 [s5@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 1
2025-07-09 10:10:52,148 [s5@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,150 [main] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block FLUSH_STATE_MACHINE_DATA
2025-07-09 10:10:52,151 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15038
2025-07-09 10:10:52,152 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15037
2025-07-09 10:10:52,156 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15038
2025-07-09 10:10:52,157 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15037
2025-07-09 10:10:52,158 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15038
2025-07-09 10:10:52,159 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15037
2025-07-09 10:10:52,162 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15038
2025-07-09 10:10:52,163 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15037
2025-07-09 10:10:52,164 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15038
2025-07-09 10:10:52,166 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15037
2025-07-09 10:10:52,169 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15038
2025-07-09 10:10:52,170 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15037
2025-07-09 10:10:52,173 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15038
2025-07-09 10:10:52,173 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15037
2025-07-09 10:10:52,178 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15038
2025-07-09 10:10:52,179 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15037
2025-07-09 10:10:52,186 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15038
2025-07-09 10:10:52,187 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15037
2025-07-09 10:10:52,192 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15038
2025-07-09 10:10:52,193 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15037
2025-07-09 10:10:52,202 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15038
2025-07-09 10:10:52,203 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15037
2025-07-09 10:10:52,241 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-018EDD1F36D3->s3: receive RaftClientReply:client-018EDD1F36D3->s3@group-441201FFE3A5, cid=39, SUCCESS, logIndex=2, commits[s3:c2, s4:c1, s5:c1]
2025-07-09 10:10:52,247 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-54F8A3803126->s3: receive RaftClientReply:client-54F8A3803126->s3@group-441201FFE3A5, cid=41, SUCCESS, logIndex=2, commits[s3:c2, s4:c1, s5:c1]
2025-07-09 10:10:52,259 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-61321AAEDD5A->s3: receive RaftClientReply:client-61321AAEDD5A->s3@group-441201FFE3A5, cid=43, SUCCESS, logIndex=2, commits[s3:c2, s4:c1, s5:c1]
2025-07-09 10:10:52,262 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-89FCED23E0B4->s3: receive RaftClientReply:client-89FCED23E0B4->s3@group-441201FFE3A5, cid=53, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2025-07-09 10:10:52,267 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-F525522EFB3E->s3: receive RaftClientReply:client-F525522EFB3E->s3@group-441201FFE3A5, cid=45, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2025-07-09 10:10:52,268 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-DA613AE69405->s3: receive RaftClientReply:client-DA613AE69405->s3@group-441201FFE3A5, cid=49, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2025-07-09 10:10:52,269 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-235140DBFD8B->s3: receive RaftClientReply:client-235140DBFD8B->s3@group-441201FFE3A5, cid=51, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2025-07-09 10:10:52,272 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-0A24D6D3734F->s3: receive RaftClientReply:client-0A24D6D3734F->s3@group-441201FFE3A5, cid=47, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2025-07-09 10:10:52,273 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-9F31338A46E2->s3: receive RaftClientReply:client-9F31338A46E2->s3@group-441201FFE3A5, cid=55, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2025-07-09 10:10:52,276 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-62F72154206F->s3: receive RaftClientReply:client-62F72154206F->s3@group-441201FFE3A5, cid=59, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2025-07-09 10:10:52,277 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-7713B50A14E4->s3: receive RaftClientReply:client-7713B50A14E4->s3@group-441201FFE3A5, cid=57, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2025-07-09 10:10:52,291 [grpc-default-executor-1] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-7713B50A14E4: Failed* RaftClientRequest:client-7713B50A14E4->s3@group-441201FFE3A5, cid=58, seq=2, RW, message 8
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-441201FFE3A5: Failed to acquire a pending write request for RaftClientRequest:client-7713B50A14E4->s3@group-441201FFE3A5, cid=58, seq=2, RW, Message:6d6573736167652038
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:564)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:565)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$100(ClientCallImpl.java:72)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:733)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:714)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-441201FFE3A5: Failed to acquire a pending write request for RaftClientRequest:client-7713B50A14E4->s3@group-441201FFE3A5, cid=58, seq=2, RW, Message:6d6573736167652038
	at org.apache.ratis.server.impl.RaftServerImpl.getResourceUnavailableReply(RaftServerImpl.java:813)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:833)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1008)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:972)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:942)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$11(RaftServerImpl.java:931)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:931)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2025-07-09 10:10:52,292 [grpc-default-executor-1] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(181)) - Failed to send request, message=message 8
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-441201FFE3A5: Failed to acquire a pending write request for RaftClientRequest:client-7713B50A14E4->s3@group-441201FFE3A5, cid=58, seq=2, RW, Message:6d6573736167652038
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:111)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:395)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:155)
	at org.apache.ratis.client.impl.OrderedAsync.handleException(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequestWithRetry$7(OrderedAsync.java:217)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:564)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:565)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$100(ClientCallImpl.java:72)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:733)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:714)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-441201FFE3A5: Failed to acquire a pending write request for RaftClientRequest:client-7713B50A14E4->s3@group-441201FFE3A5, cid=58, seq=2, RW, Message:6d6573736167652038
	at org.apache.ratis.server.impl.RaftServerImpl.getResourceUnavailableReply(RaftServerImpl.java:813)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:833)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1008)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:972)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:942)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$11(RaftServerImpl.java:931)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:931)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2025-07-09 10:10:52,504 [main] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock FLUSH_STATE_MACHINE_DATA
2025-07-09 10:10:52,507 [s3@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 3
2025-07-09 10:10:52,507 [s3@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=11, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,509 [s3@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 4
2025-07-09 10:10:52,509 [s3@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,510 [s3@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 5
2025-07-09 10:10:52,511 [s3@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 5, message 6 -> (t:1, i:5), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,510 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-018EDD1F36D3->s3: receive RaftClientReply:client-018EDD1F36D3->s3@group-441201FFE3A5, cid=40, SUCCESS, logIndex=3, commits[s3:c3, s4:c2, s5:c2]
2025-07-09 10:10:52,511 [s3@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 6
2025-07-09 10:10:52,511 [s3@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 6, message 1 -> (t:1, i:6), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,512 [s3@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 7
2025-07-09 10:10:52,512 [s3@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 7, message 2 -> (t:1, i:7), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,512 [s4@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 3
2025-07-09 10:10:52,514 [s4@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=11, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,514 [s3@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 8
2025-07-09 10:10:52,514 [s3@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 8, message 5 -> (t:1, i:8), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,514 [s3@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 9
2025-07-09 10:10:52,514 [s3@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 9, message 7 -> (t:1, i:9), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,515 [s3@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 10
2025-07-09 10:10:52,515 [s3@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 10, message 4 -> (t:1, i:10), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,515 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-54F8A3803126->s3: receive RaftClientReply:client-54F8A3803126->s3@group-441201FFE3A5, cid=42, SUCCESS, logIndex=4, commits[s3:c12, s4:c2, s5:c2]
2025-07-09 10:10:52,516 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-89FCED23E0B4->s3: receive RaftClientReply:client-89FCED23E0B4->s3@group-441201FFE3A5, cid=54, SUCCESS, logIndex=5, commits[s3:c12, s4:c2, s5:c2]
2025-07-09 10:10:52,516 [s4@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 4
2025-07-09 10:10:52,517 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-DA613AE69405->s3: receive RaftClientReply:client-DA613AE69405->s3@group-441201FFE3A5, cid=50, SUCCESS, logIndex=10, commits[s3:c12, s4:c3, s5:c2]
2025-07-09 10:10:52,517 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-F525522EFB3E->s3: receive RaftClientReply:client-F525522EFB3E->s3@group-441201FFE3A5, cid=46, SUCCESS, logIndex=7, commits[s3:c12, s4:c3, s5:c2]
2025-07-09 10:10:52,515 [s3@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 11
2025-07-09 10:10:52,515 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-61321AAEDD5A->s3: receive RaftClientReply:client-61321AAEDD5A->s3@group-441201FFE3A5, cid=44, SUCCESS, logIndex=6, commits[s3:c12, s4:c2, s5:c2]
2025-07-09 10:10:52,517 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-235140DBFD8B->s3: receive RaftClientReply:client-235140DBFD8B->s3@group-441201FFE3A5, cid=52, SUCCESS, logIndex=8, commits[s3:c12, s4:c3, s5:c2]
2025-07-09 10:10:52,517 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-9F31338A46E2->s3: receive RaftClientReply:client-9F31338A46E2->s3@group-441201FFE3A5, cid=56, SUCCESS, logIndex=9, commits[s3:c12, s4:c3, s5:c2]
2025-07-09 10:10:52,517 [s3@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 11, message 3 -> (t:1, i:11), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,517 [s4@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,519 [s3@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 12
2025-07-09 10:10:52,520 [s4@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 5
2025-07-09 10:10:52,520 [s4@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 5, message 6 -> (t:1, i:5), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,519 [s5@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 3
2025-07-09 10:10:52,521 [s4@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 6
2025-07-09 10:10:52,521 [s4@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 6, message 1 -> (t:1, i:6), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,521 [s4@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 7
2025-07-09 10:10:52,521 [s4@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 7, message 2 -> (t:1, i:7), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,522 [s4@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 8
2025-07-09 10:10:52,522 [s4@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 8, message 5 -> (t:1, i:8), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,522 [s4@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 9
2025-07-09 10:10:52,522 [s4@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 9, message 7 -> (t:1, i:9), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,523 [s4@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 10
2025-07-09 10:10:52,523 [s4@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 10, message 4 -> (t:1, i:10), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,520 [s3@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 12, message 9 -> (t:1, i:12), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,523 [s4@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 11
2025-07-09 10:10:52,523 [s4@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 11, message 3 -> (t:1, i:11), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,524 [s4@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 12
2025-07-09 10:10:52,524 [s4@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 12, message 9 -> (t:1, i:12), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,523 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-0A24D6D3734F->s3: receive RaftClientReply:client-0A24D6D3734F->s3@group-441201FFE3A5, cid=48, SUCCESS, logIndex=11, commits[s3:c13, s4:c3, s5:c12]
2025-07-09 10:10:52,524 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-62F72154206F->s3: receive RaftClientReply:client-62F72154206F->s3@group-441201FFE3A5, cid=60, SUCCESS, logIndex=12, commits[s3:c14, s4:c12, s5:c12]
2025-07-09 10:10:52,521 [s5@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=11, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,525 [s5@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 4
2025-07-09 10:10:52,525 [s5@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,526 [s5@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 5
2025-07-09 10:10:52,526 [s5@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 5, message 6 -> (t:1, i:5), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,528 [s5@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 6
2025-07-09 10:10:52,528 [s5@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 6, message 1 -> (t:1, i:6), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,529 [s5@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 7
2025-07-09 10:10:52,529 [s5@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 7, message 2 -> (t:1, i:7), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,529 [s5@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 8
2025-07-09 10:10:52,529 [s5@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 8, message 5 -> (t:1, i:8), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,530 [s5@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 9
2025-07-09 10:10:52,530 [s5@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 9, message 7 -> (t:1, i:9), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,530 [s5@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 10
2025-07-09 10:10:52,530 [s5@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 10, message 4 -> (t:1, i:10), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,530 [s5@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 11
2025-07-09 10:10:52,531 [s5@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 11, message 3 -> (t:1, i:11), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,532 [s5@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 12
2025-07-09 10:10:52,532 [s5@group-441201FFE3A5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 12, message 9 -> (t:1, i:12), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:52,533 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15038
2025-07-09 10:10:52,535 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15037
2025-07-09 10:10:52,560 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-8F29B3935E8F->s3: receive RaftClientReply:client-8F29B3935E8F->s3@group-441201FFE3A5, cid=61, SUCCESS, logIndex=14, commits[s3:c14, s4:c12, s5:c12]
2025-07-09 10:10:52,583 [grpc-default-executor-9] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-8F29B3935E8F: Failed* RaftClientRequest:client-8F29B3935E8F->s3@group-441201FFE3A5, cid=62, seq=2, RW, 1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-441201FFE3A5: Failed to acquire a pending write request for RaftClientRequest:client-8F29B3935E8F->s3@group-441201FFE3A5, cid=62, seq=2, RW, Message:ab662b0a858a1add7462...(size=1049600)
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:564)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:565)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$100(ClientCallImpl.java:72)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:733)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:714)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-441201FFE3A5: Failed to acquire a pending write request for RaftClientRequest:client-8F29B3935E8F->s3@group-441201FFE3A5, cid=62, seq=2, RW, Message:ab662b0a858a1add7462...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.getResourceUnavailableReply(RaftServerImpl.java:813)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:833)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1008)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:972)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:942)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$11(RaftServerImpl.java:931)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:931)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2025-07-09 10:10:52,584 [grpc-default-executor-9] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(181)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-441201FFE3A5: Failed to acquire a pending write request for RaftClientRequest:client-8F29B3935E8F->s3@group-441201FFE3A5, cid=62, seq=2, RW, Message:ab662b0a858a1add7462...(size=1049600)
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:111)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:395)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:155)
	at org.apache.ratis.client.impl.OrderedAsync.handleException(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequestWithRetry$7(OrderedAsync.java:217)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:564)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:565)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$100(ClientCallImpl.java:72)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:733)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:714)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-441201FFE3A5: Failed to acquire a pending write request for RaftClientRequest:client-8F29B3935E8F->s3@group-441201FFE3A5, cid=62, seq=2, RW, Message:ab662b0a858a1add7462...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.getResourceUnavailableReply(RaftServerImpl.java:813)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:833)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1008)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:972)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:942)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$11(RaftServerImpl.java:931)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:931)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2025-07-09 10:10:52,874 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2025-07-09 10:10:52,874 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - *** 
2025-07-09 10:10:52,875 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - ***     Stopping MiniRaftClusterWithGrpc
2025-07-09 10:10:52,875 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - *** 
2025-07-09 10:10:52,875 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - ************************************************************** 
2025-07-09 10:10:52,876 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - printing ALL groups
  s3:  RUNNING    LEADER (RUNNING): s3@group-441201FFE3A5:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-441201FFE3A5-SegmentedRaftLog:OPENED:c14:last(t:1, i:14), conf=conf: {index: 0, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
  s4:  RUNNING  FOLLOWER (RUNNING): s4@group-441201FFE3A5:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-441201FFE3A5-SegmentedRaftLog:OPENED:c14:last(t:1, i:14), conf=conf: {index: 0, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
  s5:  RUNNING  FOLLOWER (RUNNING): s5@group-441201FFE3A5:t1, leader=s3, voted=s3, raftlog=Memoized:s5@group-441201FFE3A5-SegmentedRaftLog:OPENED:c14:last(t:1, i:14), conf=conf: {index: 0, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
2025-07-09 10:10:52,876 [MiniRaftCluster-10] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(422)) - s3: close
2025-07-09 10:10:52,877 [MiniRaftCluster-11] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(422)) - s4: close
2025-07-09 10:10:52,877 [MiniRaftCluster-12] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(422)) - s5: close
2025-07-09 10:10:52,878 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(527)) - s4@group-441201FFE3A5: shutdown
2025-07-09 10:10:52,878 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(527)) - s3@group-441201FFE3A5: shutdown
2025-07-09 10:10:52,879 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-441201FFE3A5,id=s3
2025-07-09 10:10:52,879 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s3: shutdown s3@group-441201FFE3A5-LeaderStateImpl
2025-07-09 10:10:52,878 [MiniRaftCluster-11] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2025-07-09 10:10:52,878 [MiniRaftCluster-10] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2025-07-09 10:10:52,879 [s3@group-441201FFE3A5->s5-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(300)) - s3@group-441201FFE3A5->s5-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2025-07-09 10:10:52,879 [s3@group-441201FFE3A5->s4-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(300)) - s3@group-441201FFE3A5->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2025-07-09 10:10:52,879 [s3-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s3@group-441201FFE3A5-PendingRequests: sendNotLeaderResponses
2025-07-09 10:10:52,879 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(527)) - s5@group-441201FFE3A5: shutdown
2025-07-09 10:10:52,881 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-441201FFE3A5,id=s5
2025-07-09 10:10:52,879 [MiniRaftCluster-12] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2025-07-09 10:10:52,879 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-441201FFE3A5,id=s4
2025-07-09 10:10:52,882 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown s4@group-441201FFE3A5-FollowerState
2025-07-09 10:10:52,882 [s5-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s5: shutdown s5@group-441201FFE3A5-FollowerState
2025-07-09 10:10:52,881 [MiniRaftCluster-11] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2025-07-09 10:10:52,882 [MiniRaftCluster-11] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s4: shutdown server GrpcServerProtocolService now
2025-07-09 10:10:52,884 [s5-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(163)) - s5@group-441201FFE3A5-StateMachineUpdater: set stopIndex = 14
2025-07-09 10:10:52,884 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(163)) - s4@group-441201FFE3A5-StateMachineUpdater: set stopIndex = 14
2025-07-09 10:10:52,884 [s4@group-441201FFE3A5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(140)) - s4@group-441201FFE3A5-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:14)
2025-07-09 10:10:52,884 [s5@group-441201FFE3A5-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s5@group-441201FFE3A5-FollowerState was interrupted
2025-07-09 10:10:52,885 [Thread-345] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s4 Close channels
2025-07-09 10:10:52,884 [s4@group-441201FFE3A5-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s4@group-441201FFE3A5-FollowerState was interrupted
2025-07-09 10:10:52,886 [s4@group-441201FFE3A5-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s4@group-441201FFE3A5-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2025-07-09 10:10:52,886 [grpc-default-executor-8] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(558)) - s3@group-441201FFE3A5->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2025-07-09 10:10:52,886 [MiniRaftCluster-12] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2025-07-09 10:10:52,888 [MiniRaftCluster-12] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s5: shutdown server GrpcServerProtocolService now
2025-07-09 10:10:52,885 [s5@group-441201FFE3A5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(140)) - s5@group-441201FFE3A5-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:14)
2025-07-09 10:10:52,888 [grpc-default-executor-8] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(237)) - s3@group-441201FFE3A5->s4-GrpcLogAppender: Failed to getClient for s4
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s3 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:207)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:212)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:70)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:559)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:565)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$100(ClientCallImpl.java:72)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:733)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:714)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-07-09 10:10:52,889 [s5@group-441201FFE3A5-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s5@group-441201FFE3A5-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2025-07-09 10:10:52,890 [Thread-346] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s5 Close channels
2025-07-09 10:10:52,890 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(545)) - s3@group-441201FFE3A5->s5-GrpcLogAppender is already stopped
2025-07-09 10:10:52,891 [MiniRaftCluster-11] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s4: shutdown server GrpcServerProtocolService successfully
2025-07-09 10:10:52,891 [MiniRaftCluster-11] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2025-07-09 10:10:52,891 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(163)) - s3@group-441201FFE3A5-StateMachineUpdater: set stopIndex = 14
2025-07-09 10:10:52,892 [MiniRaftCluster-12] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s5: shutdown server GrpcServerProtocolService successfully
2025-07-09 10:10:52,892 [MiniRaftCluster-12] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2025-07-09 10:10:52,892 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(545)) - s3@group-441201FFE3A5->s5-GrpcLogAppender is already stopped
2025-07-09 10:10:52,892 [MiniRaftCluster-12] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2025-07-09 10:10:52,892 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(545)) - s3@group-441201FFE3A5->s4-GrpcLogAppender is already stopped
2025-07-09 10:10:52,893 [MiniRaftCluster-11] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2025-07-09 10:10:52,893 [s3@group-441201FFE3A5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(140)) - s3@group-441201FFE3A5-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:14)
2025-07-09 10:10:52,893 [s3@group-441201FFE3A5-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s3@group-441201FFE3A5-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2025-07-09 10:10:52,895 [MiniRaftCluster-10] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2025-07-09 10:10:52,895 [MiniRaftCluster-10] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s3: shutdown server GrpcServerProtocolService now
2025-07-09 10:10:52,896 [MiniRaftCluster-10] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s3: shutdown server GrpcServerProtocolService successfully
2025-07-09 10:10:52,896 [MiniRaftCluster-10] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2025-07-09 10:10:52,896 [MiniRaftCluster-10] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2025-07-09 10:10:53,504 [s3@group-640E6E1041F6-SegmentedRaftLogWorker] WARN  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:getFromFuture(98)) - Timeout 3/~
org.apache.ratis.protocol.exceptions.TimeoutIOException: Timeout 10s: s3@group-640E6E1041F6-SegmentedRaftLogWorker-flushStateMachineData
	at org.apache.ratis.util.IOUtils.getFromFuture(IOUtils.java:89)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker$StateMachineDataPolicy.getFromFuture(SegmentedRaftLogWorker.java:95)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker.flushIfNecessary(SegmentedRaftLogWorker.java:377)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker.access$1200(SegmentedRaftLogWorker.java:64)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker$WriteLog.execute(SegmentedRaftLogWorker.java:561)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker.run(SegmentedRaftLogWorker.java:317)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.util.concurrent.TimeoutException
	at java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1784)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1928)
	at org.apache.ratis.util.IOUtils.getFromFuture(IOUtils.java:80)
	... 10 more
2025-07-09 10:10:53,516 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(254)) - s3@group-441201FFE3A5-SegmentedRaftLogWorker close()
2025-07-09 10:10:53,517 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(254)) - s4@group-441201FFE3A5-SegmentedRaftLogWorker close()
2025-07-09 10:10:53,517 [JvmPauseMonitor9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s3: Stopped
2025-07-09 10:10:53,518 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(254)) - s5@group-441201FFE3A5-SegmentedRaftLogWorker close()
2025-07-09 10:10:53,519 [JvmPauseMonitor10] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s4: Stopped
2025-07-09 10:10:53,520 [JvmPauseMonitor11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s5: Stopped
2025-07-09 10:10:53,520 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(860)) - MiniRaftClusterWithGrpc shutdown completed
2025-07-09 10:10:53,524 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2025-07-09 10:10:53,524 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2025-07-09 10:10:53,524 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2025-07-09 10:10:53,526 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(136)) - Running runWithNewCluster
2025-07-09 10:10:53,527 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(308)) - new MiniRaftClusterWithGrpc with group-E0FCC97CF5B7:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]
2025-07-09 10:10:53,527 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2025-07-09 10:10:53,527 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2025-07-09 10:10:53,527 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ...     Starting MiniRaftClusterWithGrpc
2025-07-09 10:10:53,527 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ... 
2025-07-09 10:10:53,528 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - .............................................................. 
2025-07-09 10:10:53,528 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(320)) - servers = {}
2025-07-09 10:10:53,528 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - newRaftServer: s0, group-E0FCC97CF5B7:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056], format? true
2025-07-09 10:10:53,528 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(351)) - deleteFully target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s0
2025-07-09 10:10:53,528 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(364)) - deleteFully: target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s0 does not exist.
2025-07-09 10:10:53,529 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(390)) - Formatted directory target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s0
2025-07-09 10:10:53,529 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:53,529 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.admin.port = 15049 (custom)
2025-07-09 10:10:53,529 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:53,530 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.client.port = 15050 (custom)
2025-07-09 10:10:53,530 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.port = 15048 (custom)
2025-07-09 10:10:53,530 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.heartbeat.channel = false (custom)
2025-07-09 10:10:53,532 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s0] (custom)
2025-07-09 10:10:53,533 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s0: addNew group-E0FCC97CF5B7:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056] returns group-E0FCC97CF5B7:java.util.concurrent.CompletableFuture@1e366f0f[Not completed]
2025-07-09 10:10:53,533 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s0: new RaftServerImpl for group-E0FCC97CF5B7:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056] with SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:53,533 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - newRaftServer: s1, group-E0FCC97CF5B7:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056], format? true
2025-07-09 10:10:53,534 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(351)) - deleteFully target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s1
2025-07-09 10:10:53,534 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(364)) - deleteFully: target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s1 does not exist.
2025-07-09 10:10:53,534 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(390)) - Formatted directory target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s1
2025-07-09 10:10:53,534 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-E0FCC97CF5B7: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:10:53,535 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:53,535 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.admin.port = 15053 (custom)
2025-07-09 10:10:53,535 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:53,536 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.client.port = 15054 (custom)
2025-07-09 10:10:53,536 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.port = 15052 (custom)
2025-07-09 10:10:53,538 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s1] (custom)
2025-07-09 10:10:53,539 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s1: addNew group-E0FCC97CF5B7:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056] returns group-E0FCC97CF5B7:java.util.concurrent.CompletableFuture@586b78d7[Not completed]
2025-07-09 10:10:53,540 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - newRaftServer: s2, group-E0FCC97CF5B7:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056], format? true
2025-07-09 10:10:53,540 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(351)) - deleteFully target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s2
2025-07-09 10:10:53,540 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(364)) - deleteFully: target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s2 does not exist.
2025-07-09 10:10:53,540 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(390)) - Formatted directory target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s2
2025-07-09 10:10:53,541 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:53,541 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.admin.port = 15057 (custom)
2025-07-09 10:10:53,541 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:53,542 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.client.port = 15058 (custom)
2025-07-09 10:10:53,542 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.port = 15056 (custom)
2025-07-09 10:10:53,540 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s1: new RaftServerImpl for group-E0FCC97CF5B7:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056] with SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:53,543 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-E0FCC97CF5B7: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:10:53,545 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s2] (custom)
2025-07-09 10:10:53,545 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s2: addNew group-E0FCC97CF5B7:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056] returns group-E0FCC97CF5B7:java.util.concurrent.CompletableFuture@43255f91[Not completed]
2025-07-09 10:10:53,546 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s2: new RaftServerImpl for group-E0FCC97CF5B7:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056] with SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:53,546 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s0] (custom)
2025-07-09 10:10:53,546 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-E0FCC97CF5B7: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:10:53,546 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s0/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7 does not exist. Creating ...
2025-07-09 10:10:53,547 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s0/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7
2025-07-09 10:10:53,548 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s0/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/in_use.lock acquired by nodename 11875@fv-az1788-284
2025-07-09 10:10:53,548 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s0/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current
2025-07-09 10:10:53,548 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s0/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/sm
2025-07-09 10:10:53,548 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s0/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@14e9e443
2025-07-09 10:10:53,549 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s0/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s0/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:53,550 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s0/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7 has been successfully formatted.
2025-07-09 10:10:53,550 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:53,550 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2025-07-09 10:10:53,551 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-E0FCC97CF5B7-cacheEviction-AwaitToRun,5,main] started
2025-07-09 10:10:53,551 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s0@group-E0FCC97CF5B7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s0/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7
2025-07-09 10:10:53,551 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s0@group-E0FCC97CF5B7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:53,552 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s0@group-E0FCC97CF5B7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:53,552 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(405)) - s0@group-E0FCC97CF5B7: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}
2025-07-09 10:10:53,552 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-E0FCC97CF5B7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2025-07-09 10:10:53,552 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-E0FCC97CF5B7-FollowerState
2025-07-09 10:10:53,553 [s0@group-E0FCC97CF5B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:53,553 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E0FCC97CF5B7,id=s0
2025-07-09 10:10:53,553 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-E0FCC97CF5B7,id=s0
2025-07-09 10:10:53,553 [s0@group-E0FCC97CF5B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:53,553 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(419)) - s0@group-E0FCC97CF5B7: Successfully started.
2025-07-09 10:10:53,553 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(412)) - s0: start RPC server
2025-07-09 10:10:53,555 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15050
2025-07-09 10:10:53,556 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15048
2025-07-09 10:10:53,557 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15049
2025-07-09 10:10:53,557 [JvmPauseMonitor12] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2025-07-09 10:10:53,558 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s1] (custom)
2025-07-09 10:10:53,558 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s1/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7 does not exist. Creating ...
2025-07-09 10:10:53,558 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s1/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7
2025-07-09 10:10:53,559 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s1/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/in_use.lock acquired by nodename 11875@fv-az1788-284
2025-07-09 10:10:53,559 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s1/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current
2025-07-09 10:10:53,560 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s1/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/sm
2025-07-09 10:10:53,560 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s1/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@65037fde
2025-07-09 10:10:53,561 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s1/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s1/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:53,561 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s1/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7 has been successfully formatted.
2025-07-09 10:10:53,561 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:53,561 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2025-07-09 10:10:53,562 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-E0FCC97CF5B7-cacheEviction-AwaitToRun,5,main] started
2025-07-09 10:10:53,562 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s1@group-E0FCC97CF5B7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s1/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7
2025-07-09 10:10:53,564 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s1@group-E0FCC97CF5B7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:53,564 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s1@group-E0FCC97CF5B7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:53,564 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(405)) - s1@group-E0FCC97CF5B7: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}
2025-07-09 10:10:53,565 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s1@group-E0FCC97CF5B7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2025-07-09 10:10:53,565 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-E0FCC97CF5B7-FollowerState
2025-07-09 10:10:53,565 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E0FCC97CF5B7,id=s1
2025-07-09 10:10:53,565 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-E0FCC97CF5B7,id=s1
2025-07-09 10:10:53,565 [s1@group-E0FCC97CF5B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:53,565 [s1@group-E0FCC97CF5B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:53,566 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(419)) - s1@group-E0FCC97CF5B7: Successfully started.
2025-07-09 10:10:53,566 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(412)) - s1: start RPC server
2025-07-09 10:10:53,567 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s1: GrpcServicesImpl started, listening on 15054
2025-07-09 10:10:53,568 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s1: GrpcServicesImpl started, listening on 15052
2025-07-09 10:10:53,569 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s1: GrpcServicesImpl started, listening on 15053
2025-07-09 10:10:53,570 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s2] (custom)
2025-07-09 10:10:53,570 [JvmPauseMonitor13] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2025-07-09 10:10:53,570 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s2/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7 does not exist. Creating ...
2025-07-09 10:10:53,571 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s2/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7
2025-07-09 10:10:53,572 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s2/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/in_use.lock acquired by nodename 11875@fv-az1788-284
2025-07-09 10:10:53,572 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s2/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current
2025-07-09 10:10:53,572 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s2/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/sm
2025-07-09 10:10:53,572 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s2/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@438439ce
2025-07-09 10:10:53,573 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s2/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s2/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:53,573 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s2/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7 has been successfully formatted.
2025-07-09 10:10:53,573 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:53,573 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2025-07-09 10:10:53,574 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-E0FCC97CF5B7-cacheEviction-AwaitToRun,5,main] started
2025-07-09 10:10:53,574 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s2@group-E0FCC97CF5B7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s2/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7
2025-07-09 10:10:53,576 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s2@group-E0FCC97CF5B7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:53,576 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s2@group-E0FCC97CF5B7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:53,577 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(405)) - s2@group-E0FCC97CF5B7: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}
2025-07-09 10:10:53,577 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s2@group-E0FCC97CF5B7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2025-07-09 10:10:53,577 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-E0FCC97CF5B7-FollowerState
2025-07-09 10:10:53,577 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E0FCC97CF5B7,id=s2
2025-07-09 10:10:53,577 [s2@group-E0FCC97CF5B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:53,577 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-E0FCC97CF5B7,id=s2
2025-07-09 10:10:53,577 [s2@group-E0FCC97CF5B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:53,578 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(419)) - s2@group-E0FCC97CF5B7: Successfully started.
2025-07-09 10:10:53,578 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(412)) - s2: start RPC server
2025-07-09 10:10:53,579 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s2: GrpcServicesImpl started, listening on 15058
2025-07-09 10:10:53,580 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s2: GrpcServicesImpl started, listening on 15056
2025-07-09 10:10:53,581 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s2: GrpcServicesImpl started, listening on 15057
2025-07-09 10:10:53,582 [JvmPauseMonitor14] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2025-07-09 10:10:53,590 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-FD6282A9CB4D->s0: receive RaftClientReply:client-FD6282A9CB4D->s0@group-E0FCC97CF5B7, cid=63, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-E0FCC97CF5B7 is not the leader, logIndex=0, commits[s0:c-1]
2025-07-09 10:10:53,591 [grpc-default-executor-6] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-FD6282A9CB4D: Failed* RaftClientRequest:client-FD6282A9CB4D->s0@group-E0FCC97CF5B7, cid=63, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-E0FCC97CF5B7 is not the leader
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:317)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:308)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:551)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:648)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-E0FCC97CF5B7 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:402)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:313)
	... 11 more
2025-07-09 10:10:53,640 [timer0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$6(171)) - s5: Completed APPEND_ENTRIES, lastRequest: null  (Repeated 3 times in the last 5.002s)
2025-07-09 10:10:53,640 [timer7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$6(171)) - s4: Completed APPEND_ENTRIES, lastRequest: s3->s4#18-t1,previous=(t:1, i:13),leaderCommit=12,initializing? false,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)  (Repeated 3 times in the last 5.002s)
2025-07-09 10:10:53,701 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-FD6282A9CB4D->s1: receive RaftClientReply:client-FD6282A9CB4D->s1@group-E0FCC97CF5B7, cid=63, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-E0FCC97CF5B7 is not the leader, logIndex=0, commits[s1:c-1]
2025-07-09 10:10:53,701 [grpc-default-executor-9] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-FD6282A9CB4D: Failed* RaftClientRequest:client-FD6282A9CB4D->s1@group-E0FCC97CF5B7, cid=63, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-E0FCC97CF5B7 is not the leader
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:317)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:308)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:551)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:648)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-E0FCC97CF5B7 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:402)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:313)
	... 11 more
2025-07-09 10:10:53,770 [timer5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$null$7(175)) - s5: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s3"
  replyId: "s5"
  raftGroupId {
    id: "NM\017\b\271,C\226\222@D\022\001\377\343\245"
  }
  callId: 28
  success: true
}
term: 1
nextIndex: 15
followerCommit: 14
matchIndex: 18446744073709551615
isHearbeat: true
  (Repeated 3 times in the last 5.129s)
2025-07-09 10:10:53,771 [timer6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$null$7(175)) - s4: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s3"
  replyId: "s4"
  raftGroupId {
    id: "NM\017\b\271,C\226\222@D\022\001\377\343\245"
  }
  callId: 26
  success: true
}
term: 1
nextIndex: 15
followerCommit: 14
matchIndex: 18446744073709551615
isHearbeat: true
  (Repeated 3 times in the last 5.131s)
2025-07-09 10:10:53,785 [s1@group-E0FCC97CF5B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(161)) - s1@group-E0FCC97CF5B7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:220020247ns, electionTimeout:219ms
2025-07-09 10:10:53,785 [s1@group-E0FCC97CF5B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-E0FCC97CF5B7-FollowerState
2025-07-09 10:10:53,785 [s1@group-E0FCC97CF5B7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s1@group-E0FCC97CF5B7: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2025-07-09 10:10:53,786 [s1@group-E0FCC97CF5B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-E0FCC97CF5B7-LeaderElection9
2025-07-09 10:10:53,786 [s1@group-E0FCC97CF5B7-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s1@group-E0FCC97CF5B7-LeaderElection9 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}
2025-07-09 10:10:53,788 [s1@group-E0FCC97CF5B7-LeaderElection9-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15048
2025-07-09 10:10:53,788 [s1@group-E0FCC97CF5B7-LeaderElection9-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15056
2025-07-09 10:10:53,788 [s1@group-E0FCC97CF5B7-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:53,789 [s1@group-E0FCC97CF5B7-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:53,794 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s2@group-E0FCC97CF5B7: receive requestVote(PRE_VOTE, s1, group-E0FCC97CF5B7, 0, <PROTO_DEFAULT>)
2025-07-09 10:10:53,795 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-E0FCC97CF5B7-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2025-07-09 10:10:53,795 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s0@group-E0FCC97CF5B7: receive requestVote(PRE_VOTE, s1, group-E0FCC97CF5B7, 0, <PROTO_DEFAULT>)
2025-07-09 10:10:53,795 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-E0FCC97CF5B7-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2025-07-09 10:10:53,796 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s2@group-E0FCC97CF5B7 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0-last:<INITIAL_VALUE>. Peer's state: s2@group-E0FCC97CF5B7:t0, leader=null, voted=, raftlog=Memoized:s2@group-E0FCC97CF5B7-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}
2025-07-09 10:10:53,796 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s0@group-E0FCC97CF5B7 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0-last:<INITIAL_VALUE>. Peer's state: s0@group-E0FCC97CF5B7:t0, leader=null, voted=, raftlog=Memoized:s0@group-E0FCC97CF5B7-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}
2025-07-09 10:10:53,797 [s1@group-E0FCC97CF5B7-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s1@group-E0FCC97CF5B7-LeaderElection9: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2025-07-09 10:10:53,797 [s1@group-E0FCC97CF5B7-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 0: s1<-s2#0:OK-t0-last:<INITIAL_VALUE>
2025-07-09 10:10:53,797 [s1@group-E0FCC97CF5B7-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s1@group-E0FCC97CF5B7-LeaderElection9 PRE_VOTE round 0: result PASSED
2025-07-09 10:10:53,798 [s1@group-E0FCC97CF5B7-LeaderElection9] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s1/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@32f2b97b
2025-07-09 10:10:53,799 [s1@group-E0FCC97CF5B7-LeaderElection9] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s1/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s1/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:53,799 [s1@group-E0FCC97CF5B7-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s1@group-E0FCC97CF5B7-LeaderElection9 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}
2025-07-09 10:10:53,800 [s1@group-E0FCC97CF5B7-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:53,800 [s1@group-E0FCC97CF5B7-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:53,801 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s0@group-E0FCC97CF5B7: receive requestVote(ELECTION, s1, group-E0FCC97CF5B7, 1, <PROTO_DEFAULT>)
2025-07-09 10:10:53,801 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s2@group-E0FCC97CF5B7: receive requestVote(ELECTION, s1, group-E0FCC97CF5B7, 1, <PROTO_DEFAULT>)
2025-07-09 10:10:53,801 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-E0FCC97CF5B7-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2025-07-09 10:10:53,801 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-E0FCC97CF5B7: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s1
2025-07-09 10:10:53,801 [grpc-default-executor-9] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-E0FCC97CF5B7-FollowerState
2025-07-09 10:10:53,802 [s0@group-E0FCC97CF5B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s0@group-E0FCC97CF5B7-FollowerState was interrupted
2025-07-09 10:10:53,802 [grpc-default-executor-9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-E0FCC97CF5B7-FollowerState
2025-07-09 10:10:53,802 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-E0FCC97CF5B7-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2025-07-09 10:10:53,802 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s2@group-E0FCC97CF5B7: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s1
2025-07-09 10:10:53,802 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(576)) - s0@group-E0FCC97CF5B7: set firstElectionSinceStartup to false for candidate:s1
2025-07-09 10:10:53,802 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-E0FCC97CF5B7-FollowerState
2025-07-09 10:10:53,803 [grpc-default-executor-9] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s0/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@59e449a2
2025-07-09 10:10:53,803 [s2@group-E0FCC97CF5B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s2@group-E0FCC97CF5B7-FollowerState was interrupted
2025-07-09 10:10:53,803 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-E0FCC97CF5B7-FollowerState
2025-07-09 10:10:53,804 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(576)) - s2@group-E0FCC97CF5B7: set firstElectionSinceStartup to false for candidate:s1
2025-07-09 10:10:53,804 [grpc-default-executor-6] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s2/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@17fe69b5
2025-07-09 10:10:53,805 [grpc-default-executor-9] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s0/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s0/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:53,805 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s0@group-E0FCC97CF5B7 replies to ELECTION vote request: s1<-s0#0:OK-t1-last:<INITIAL_VALUE>. Peer's state: s0@group-E0FCC97CF5B7:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-E0FCC97CF5B7-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}
2025-07-09 10:10:53,806 [grpc-default-executor-6] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s2/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s2/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:53,807 [s1@group-E0FCC97CF5B7-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s1@group-E0FCC97CF5B7-LeaderElection9: ELECTION PASSED received 1 response(s) and 0 exception(s):
2025-07-09 10:10:53,807 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s2@group-E0FCC97CF5B7 replies to ELECTION vote request: s1<-s2#0:OK-t1-last:<INITIAL_VALUE>. Peer's state: s2@group-E0FCC97CF5B7:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-E0FCC97CF5B7-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}
2025-07-09 10:10:53,807 [s1@group-E0FCC97CF5B7-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 0: s1<-s0#0:OK-t1-last:<INITIAL_VALUE>
2025-07-09 10:10:53,807 [s1@group-E0FCC97CF5B7-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s1@group-E0FCC97CF5B7-LeaderElection9 ELECTION round 0: result PASSED
2025-07-09 10:10:53,808 [s1@group-E0FCC97CF5B7-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s1: shutdown s1@group-E0FCC97CF5B7-LeaderElection9
2025-07-09 10:10:53,808 [s1@group-E0FCC97CF5B7-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s1@group-E0FCC97CF5B7: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2025-07-09 10:10:53,808 [s1@group-E0FCC97CF5B7-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.staging.timeout = 900ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:53,811 [s1@group-E0FCC97CF5B7-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-E0FCC97CF5B7-LeaderStateImpl
2025-07-09 10:10:53,811 [s1@group-E0FCC97CF5B7-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(576)) - s1@group-E0FCC97CF5B7: set firstElectionSinceStartup to false for becomeLeader
2025-07-09 10:10:53,811 [s1@group-E0FCC97CF5B7-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-E0FCC97CF5B7: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 268ms
2025-07-09 10:10:53,811 [s1@group-E0FCC97CF5B7-LeaderElection9] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(440)) - s1@group-E0FCC97CF5B7-SegmentedRaftLogWorker: Starting segment from index:0
2025-07-09 10:10:53,812 [s1@group-E0FCC97CF5B7-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-E0FCC97CF5B7: set configuration conf: {index: 0, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}
2025-07-09 10:10:53,812 [s1@group-E0FCC97CF5B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2025-07-09 10:10:53,817 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-FD6282A9CB4D->s0: receive RaftClientReply:client-FD6282A9CB4D->s0@group-E0FCC97CF5B7, cid=63, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-E0FCC97CF5B7 is not the leader, logIndex=0, commits[s0:c-1]
2025-07-09 10:10:53,818 [grpc-default-executor-5] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-E0FCC97CF5B7: change Leader from null to s1 at term 1 for appendEntries, leader elected after 283ms
2025-07-09 10:10:53,818 [grpc-default-executor-9] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-E0FCC97CF5B7: change Leader from null to s1 at term 1 for appendEntries, leader elected after 271ms
2025-07-09 10:10:53,819 [grpc-default-executor-5] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-E0FCC97CF5B7: set configuration conf: {index: 0, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}
2025-07-09 10:10:53,821 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(440)) - s0@group-E0FCC97CF5B7-SegmentedRaftLogWorker: Starting segment from index:0
2025-07-09 10:10:53,822 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-E0FCC97CF5B7: set configuration conf: {index: 0, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}
2025-07-09 10:10:53,822 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(440)) - s2@group-E0FCC97CF5B7-SegmentedRaftLogWorker: Starting segment from index:0
2025-07-09 10:10:53,823 [s0@group-E0FCC97CF5B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2025-07-09 10:10:53,823 [s1@group-E0FCC97CF5B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s1@group-E0FCC97CF5B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s1/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/log_inprogress_0
2025-07-09 10:10:53,824 [s2@group-E0FCC97CF5B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2025-07-09 10:10:53,837 [s0@group-E0FCC97CF5B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s0@group-E0FCC97CF5B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s0/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/log_inprogress_0
2025-07-09 10:10:53,838 [s2@group-E0FCC97CF5B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s2@group-E0FCC97CF5B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s2/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/log_inprogress_0
2025-07-09 10:10:53,839 [s1@group-E0FCC97CF5B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s1/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@7bcf78cc
2025-07-09 10:10:53,841 [s1@group-E0FCC97CF5B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s1/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s1/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:10:53,841 [s1@group-E0FCC97CF5B7-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(309)) - Leader s1@group-E0FCC97CF5B7-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2025-07-09 10:10:53,916 [s2@group-E0FCC97CF5B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s2/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@501265cd
2025-07-09 10:10:53,917 [s0@group-E0FCC97CF5B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s0/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@672d6c8e
2025-07-09 10:10:53,918 [s2@group-E0FCC97CF5B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s2/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s2/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:10:53,918 [s0@group-E0FCC97CF5B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s0/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc923dceb0/s0/1a3798b0-fdc4-4bc7-9f0f-e0fcc97cf5b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:10:53,930 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-FD6282A9CB4D->s2: receive RaftClientReply:client-FD6282A9CB4D->s2@group-E0FCC97CF5B7, cid=63, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-E0FCC97CF5B7 is not the leader, suggested leader is: s1|localhost:15052, logIndex=0, commits[s2:c0, s0:c-1, s1:c0]
2025-07-09 10:10:53,930 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-FD6282A9CB4D: Failed* RaftClientRequest:client-FD6282A9CB4D->s2@group-E0FCC97CF5B7, cid=63, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-E0FCC97CF5B7 is not the leader, suggested leader is: s1|localhost:15052
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:317)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:308)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:551)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:648)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-E0FCC97CF5B7 is not the leader, suggested leader is: s1|localhost:15052
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:402)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:313)
	... 11 more
2025-07-09 10:10:53,938 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-FD6282A9CB4D->s1: receive RaftClientReply:client-FD6282A9CB4D->s1@group-E0FCC97CF5B7, cid=63, SUCCESS, logIndex=0, commits[s1:c0, s0:c0, s2:c0]
2025-07-09 10:10:53,942 [s1@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 1
2025-07-09 10:10:53,943 [s1@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:53,944 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-FD6282A9CB4D->s1: receive RaftClientReply:client-FD6282A9CB4D->s1@group-E0FCC97CF5B7, cid=64, SUCCESS, logIndex=1, commits[s1:c1, s0:c0, s2:c0]
2025-07-09 10:10:53,944 [s2@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 1
2025-07-09 10:10:53,944 [s2@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:53,945 [s0@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 1
2025-07-09 10:10:53,946 [s0@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:53,948 [main] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block FLUSH_STATE_MACHINE_DATA
2025-07-09 10:10:53,962 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-00706B903B64->s1: receive RaftClientReply:client-00706B903B64->s1@group-E0FCC97CF5B7, cid=65, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2025-07-09 10:10:53,979 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-D931C255693C->s1: receive RaftClientReply:client-D931C255693C->s1@group-E0FCC97CF5B7, cid=67, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2025-07-09 10:10:53,988 [grpc-default-executor-11] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-94D5A6E36A5E->s1: receive RaftClientReply:client-94D5A6E36A5E->s1@group-E0FCC97CF5B7, cid=69, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2025-07-09 10:10:53,991 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-E3F9A9399F41->s1: receive RaftClientReply:client-E3F9A9399F41->s1@group-E0FCC97CF5B7, cid=71, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2025-07-09 10:10:53,993 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-AD76091D6B52->s1: receive RaftClientReply:client-AD76091D6B52->s1@group-E0FCC97CF5B7, cid=75, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2025-07-09 10:10:53,992 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-42B5C399CB28->s1: receive RaftClientReply:client-42B5C399CB28->s1@group-E0FCC97CF5B7, cid=73, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2025-07-09 10:10:53,994 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-30AE2DB06949->s1: receive RaftClientReply:client-30AE2DB06949->s1@group-E0FCC97CF5B7, cid=77, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2025-07-09 10:10:53,996 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-C2D18FDBE0E1->s1: receive RaftClientReply:client-C2D18FDBE0E1->s1@group-E0FCC97CF5B7, cid=83, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2025-07-09 10:10:53,996 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-1630E445085C->s1: receive RaftClientReply:client-1630E445085C->s1@group-E0FCC97CF5B7, cid=81, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2025-07-09 10:10:53,997 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-42F06799A754->s1: receive RaftClientReply:client-42F06799A754->s1@group-E0FCC97CF5B7, cid=79, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2025-07-09 10:10:54,002 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-E4A6ADB60840->s1: receive RaftClientReply:client-E4A6ADB60840->s1@group-E0FCC97CF5B7, cid=85, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2025-07-09 10:10:54,020 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-E4A6ADB60840: Failed* RaftClientRequest:client-E4A6ADB60840->s1@group-E0FCC97CF5B7, cid=86, seq=2, RW, message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-E0FCC97CF5B7: Failed to acquire a pending write request for RaftClientRequest:client-E4A6ADB60840->s1@group-E0FCC97CF5B7, cid=86, seq=2, RW, Message:6d6573736167652039
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:564)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:565)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$100(ClientCallImpl.java:72)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:733)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:714)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-E0FCC97CF5B7: Failed to acquire a pending write request for RaftClientRequest:client-E4A6ADB60840->s1@group-E0FCC97CF5B7, cid=86, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.getResourceUnavailableReply(RaftServerImpl.java:813)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:833)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1008)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:972)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:942)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$11(RaftServerImpl.java:931)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:931)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2025-07-09 10:10:54,020 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(181)) - Failed to send request, message=message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-E0FCC97CF5B7: Failed to acquire a pending write request for RaftClientRequest:client-E4A6ADB60840->s1@group-E0FCC97CF5B7, cid=86, seq=2, RW, Message:6d6573736167652039
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:111)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:395)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:155)
	at org.apache.ratis.client.impl.OrderedAsync.handleException(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequestWithRetry$7(OrderedAsync.java:217)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:564)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:565)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$100(ClientCallImpl.java:72)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:733)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:714)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-E0FCC97CF5B7: Failed to acquire a pending write request for RaftClientRequest:client-E4A6ADB60840->s1@group-E0FCC97CF5B7, cid=86, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.getResourceUnavailableReply(RaftServerImpl.java:813)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:833)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1008)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:972)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:942)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$11(RaftServerImpl.java:931)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:931)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2025-07-09 10:10:54,287 [main] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock FLUSH_STATE_MACHINE_DATA
2025-07-09 10:10:54,288 [s1@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 3
2025-07-09 10:10:54,289 [s1@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 3, message 0 -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,291 [s1@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 4
2025-07-09 10:10:54,291 [s1@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 4, message 5 -> (t:1, i:4), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,291 [s0@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 3
2025-07-09 10:10:54,291 [s1@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 5
2025-07-09 10:10:54,291 [s1@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 5, message 3 -> (t:1, i:5), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,291 [s1@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 6
2025-07-09 10:10:54,291 [s0@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 3, message 0 -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,293 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-42B5C399CB28->s1: receive RaftClientReply:client-42B5C399CB28->s1@group-E0FCC97CF5B7, cid=74, SUCCESS, logIndex=5, commits[s1:c12, s0:c2, s2:c2]
2025-07-09 10:10:54,292 [s1@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 6, message 1 -> (t:1, i:6), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,294 [s1@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 7
2025-07-09 10:10:54,293 [s0@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 4
2025-07-09 10:10:54,294 [s0@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 4, message 5 -> (t:1, i:4), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,294 [s1@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 7, message 2 -> (t:1, i:7), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,295 [s1@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 8
2025-07-09 10:10:54,295 [s1@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 8, 2nd Messag... -> (t:1, i:8), STATEMACHINELOGENTRY, WRITE: logData.size=11, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,295 [s1@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 9
2025-07-09 10:10:54,295 [s0@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 5
2025-07-09 10:10:54,296 [s0@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 5, message 3 -> (t:1, i:5), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,296 [s0@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 6
2025-07-09 10:10:54,296 [s0@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 6, message 1 -> (t:1, i:6), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,296 [s0@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 7
2025-07-09 10:10:54,296 [s0@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 7, message 2 -> (t:1, i:7), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,296 [s0@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 8
2025-07-09 10:10:54,297 [s0@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 8, 2nd Messag... -> (t:1, i:8), STATEMACHINELOGENTRY, WRITE: logData.size=11, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,297 [s1@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 9, message 4 -> (t:1, i:9), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,297 [s0@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 9
2025-07-09 10:10:54,297 [s0@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 9, message 4 -> (t:1, i:9), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,297 [s1@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 10
2025-07-09 10:10:54,297 [s1@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 10, message 8 -> (t:1, i:10), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,297 [s0@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 10
2025-07-09 10:10:54,297 [s1@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 11
2025-07-09 10:10:54,297 [s0@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 10, message 8 -> (t:1, i:10), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,298 [s1@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,298 [s0@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 11
2025-07-09 10:10:54,298 [s0@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,298 [s1@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 12
2025-07-09 10:10:54,298 [s1@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 12, message 6 -> (t:1, i:12), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,298 [s0@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 12
2025-07-09 10:10:54,298 [s0@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 12, message 6 -> (t:1, i:12), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,299 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-E3F9A9399F41->s1: receive RaftClientReply:client-E3F9A9399F41->s1@group-E0FCC97CF5B7, cid=72, SUCCESS, logIndex=7, commits[s1:c14, s0:c12, s2:c2]
2025-07-09 10:10:54,299 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-94D5A6E36A5E->s1: receive RaftClientReply:client-94D5A6E36A5E->s1@group-E0FCC97CF5B7, cid=70, SUCCESS, logIndex=6, commits[s1:c14, s0:c12, s2:c2]
2025-07-09 10:10:54,299 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-D931C255693C->s1: receive RaftClientReply:client-D931C255693C->s1@group-E0FCC97CF5B7, cid=68, SUCCESS, logIndex=3, commits[s1:c3, s0:c2, s2:c2]
2025-07-09 10:10:54,300 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-30AE2DB06949->s1: receive RaftClientReply:client-30AE2DB06949->s1@group-E0FCC97CF5B7, cid=78, SUCCESS, logIndex=4, commits[s1:c12, s0:c2, s2:c2]
2025-07-09 10:10:54,301 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-AD76091D6B52->s1: receive RaftClientReply:client-AD76091D6B52->s1@group-E0FCC97CF5B7, cid=76, SUCCESS, logIndex=9, commits[s1:c14, s0:c12, s2:c2]
2025-07-09 10:10:54,301 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-1630E445085C->s1: receive RaftClientReply:client-1630E445085C->s1@group-E0FCC97CF5B7, cid=82, SUCCESS, logIndex=11, commits[s1:c14, s0:c12, s2:c2]
2025-07-09 10:10:54,300 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-00706B903B64->s1: receive RaftClientReply:client-00706B903B64->s1@group-E0FCC97CF5B7, cid=66, SUCCESS, logIndex=8, commits[s1:c14, s0:c12, s2:c2]
2025-07-09 10:10:54,300 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-42F06799A754->s1: receive RaftClientReply:client-42F06799A754->s1@group-E0FCC97CF5B7, cid=80, SUCCESS, logIndex=12, commits[s1:c14, s0:c12, s2:c2]
2025-07-09 10:10:54,302 [s2@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 3
2025-07-09 10:10:54,303 [s2@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 3, message 0 -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,304 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-C2D18FDBE0E1->s1: receive RaftClientReply:client-C2D18FDBE0E1->s1@group-E0FCC97CF5B7, cid=84, SUCCESS, logIndex=10, commits[s1:c14, s0:c12, s2:c2]
2025-07-09 10:10:54,305 [s2@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 4
2025-07-09 10:10:54,305 [s2@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 4, message 5 -> (t:1, i:4), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,305 [s2@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 5
2025-07-09 10:10:54,305 [s2@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 5, message 3 -> (t:1, i:5), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,305 [s2@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 6
2025-07-09 10:10:54,305 [s2@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 6, message 1 -> (t:1, i:6), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,306 [s2@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 7
2025-07-09 10:10:54,306 [s2@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 7, message 2 -> (t:1, i:7), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,306 [s2@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 8
2025-07-09 10:10:54,306 [s2@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 8, 2nd Messag... -> (t:1, i:8), STATEMACHINELOGENTRY, WRITE: logData.size=11, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,306 [s2@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 9
2025-07-09 10:10:54,306 [s2@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 9, message 4 -> (t:1, i:9), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,307 [s2@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 10
2025-07-09 10:10:54,307 [s2@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 10, message 8 -> (t:1, i:10), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,307 [s2@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 11
2025-07-09 10:10:54,307 [s2@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,308 [s2@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 12
2025-07-09 10:10:54,308 [s2@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 12, message 6 -> (t:1, i:12), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:54,309 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-E102788F938C->s1: receive RaftClientReply:client-E102788F938C->s1@group-E0FCC97CF5B7, cid=87, SUCCESS, logIndex=14, commits[s1:c14, s0:c12, s2:c2]
2025-07-09 10:10:54,320 [grpc-default-executor-1] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-E102788F938C: Failed* RaftClientRequest:client-E102788F938C->s1@group-E0FCC97CF5B7, cid=88, seq=2, RW, 1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-E0FCC97CF5B7: Failed to acquire a pending write request for RaftClientRequest:client-E102788F938C->s1@group-E0FCC97CF5B7, cid=88, seq=2, RW, Message:16607b125be961f07a76...(size=1049600)
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:564)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:565)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$100(ClientCallImpl.java:72)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:733)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:714)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-E0FCC97CF5B7: Failed to acquire a pending write request for RaftClientRequest:client-E102788F938C->s1@group-E0FCC97CF5B7, cid=88, seq=2, RW, Message:16607b125be961f07a76...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.getResourceUnavailableReply(RaftServerImpl.java:813)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:833)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1008)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:972)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:942)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$11(RaftServerImpl.java:931)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:931)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2025-07-09 10:10:54,321 [grpc-default-executor-1] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(181)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-E0FCC97CF5B7: Failed to acquire a pending write request for RaftClientRequest:client-E102788F938C->s1@group-E0FCC97CF5B7, cid=88, seq=2, RW, Message:16607b125be961f07a76...(size=1049600)
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:111)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:395)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:155)
	at org.apache.ratis.client.impl.OrderedAsync.handleException(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequestWithRetry$7(OrderedAsync.java:217)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:564)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:565)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$100(ClientCallImpl.java:72)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:733)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:714)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-E0FCC97CF5B7: Failed to acquire a pending write request for RaftClientRequest:client-E102788F938C->s1@group-E0FCC97CF5B7, cid=88, seq=2, RW, Message:16607b125be961f07a76...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.getResourceUnavailableReply(RaftServerImpl.java:813)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:833)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1008)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:972)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:942)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$11(RaftServerImpl.java:931)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:931)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2025-07-09 10:10:54,623 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2025-07-09 10:10:54,623 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - *** 
2025-07-09 10:10:54,623 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - ***     Stopping MiniRaftClusterWithGrpc
2025-07-09 10:10:54,623 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - *** 
2025-07-09 10:10:54,623 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - ************************************************************** 
2025-07-09 10:10:54,624 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-E0FCC97CF5B7:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-E0FCC97CF5B7-SegmentedRaftLog:OPENED:c14:last(t:1, i:14), conf=conf: {index: 0, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}
  s1:  RUNNING    LEADER (RUNNING): s1@group-E0FCC97CF5B7:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-E0FCC97CF5B7-SegmentedRaftLog:OPENED:c14:last(t:1, i:14), conf=conf: {index: 0, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}
  s2:  RUNNING  FOLLOWER (RUNNING): s2@group-E0FCC97CF5B7:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-E0FCC97CF5B7-SegmentedRaftLog:OPENED:c14:last(t:1, i:14), conf=conf: {index: 0, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}
2025-07-09 10:10:54,624 [MiniRaftCluster-13] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(422)) - s0: close
2025-07-09 10:10:54,624 [MiniRaftCluster-14] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(422)) - s1: close
2025-07-09 10:10:54,625 [MiniRaftCluster-15] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(422)) - s2: close
2025-07-09 10:10:54,625 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(527)) - s0@group-E0FCC97CF5B7: shutdown
2025-07-09 10:10:54,625 [MiniRaftCluster-13] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2025-07-09 10:10:54,626 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(527)) - s2@group-E0FCC97CF5B7: shutdown
2025-07-09 10:10:54,626 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E0FCC97CF5B7,id=s2
2025-07-09 10:10:54,626 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-E0FCC97CF5B7-FollowerState
2025-07-09 10:10:54,626 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(163)) - s2@group-E0FCC97CF5B7-StateMachineUpdater: set stopIndex = 14
2025-07-09 10:10:54,626 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E0FCC97CF5B7,id=s0
2025-07-09 10:10:54,627 [s2@group-E0FCC97CF5B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s2@group-E0FCC97CF5B7-FollowerState was interrupted
2025-07-09 10:10:54,627 [s2@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(140)) - s2@group-E0FCC97CF5B7-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:14)
2025-07-09 10:10:54,626 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(527)) - s1@group-E0FCC97CF5B7: shutdown
2025-07-09 10:10:54,626 [MiniRaftCluster-14] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2025-07-09 10:10:54,626 [MiniRaftCluster-15] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2025-07-09 10:10:54,628 [MiniRaftCluster-13] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2025-07-09 10:10:54,629 [Thread-443] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2025-07-09 10:10:54,630 [Thread-445] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2025-07-09 10:10:54,627 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E0FCC97CF5B7,id=s1
2025-07-09 10:10:54,630 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s1: shutdown s1@group-E0FCC97CF5B7-LeaderStateImpl
2025-07-09 10:10:54,630 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s1@group-E0FCC97CF5B7-PendingRequests: sendNotLeaderResponses
2025-07-09 10:10:54,631 [s1@group-E0FCC97CF5B7->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(300)) - s1@group-E0FCC97CF5B7->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2025-07-09 10:10:54,627 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-E0FCC97CF5B7-FollowerState
2025-07-09 10:10:54,632 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(163)) - s0@group-E0FCC97CF5B7-StateMachineUpdater: set stopIndex = 14
2025-07-09 10:10:54,629 [MiniRaftCluster-13] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server GrpcServerProtocolService now
2025-07-09 10:10:54,632 [s0@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(140)) - s0@group-E0FCC97CF5B7-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:14)
2025-07-09 10:10:54,629 [s2@group-E0FCC97CF5B7-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-E0FCC97CF5B7-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2025-07-09 10:10:54,632 [s1@group-E0FCC97CF5B7->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(300)) - s1@group-E0FCC97CF5B7->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2025-07-09 10:10:54,633 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$6(171)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#21-t1,previous=(t:1, i:13),leaderCommit=12,initializing? false,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12) 
2025-07-09 10:10:54,633 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$null$7(175)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s0"
  raftGroupId {
    id: "\0327\230\260\375\304K\307\237\017\340\374\311|\365\267"
  }
  callId: 29
  success: true
}
term: 1
nextIndex: 15
followerCommit: 14
matchIndex: 18446744073709551615
isHearbeat: true
 
2025-07-09 10:10:54,634 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(558)) - s1@group-E0FCC97CF5B7->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2025-07-09 10:10:54,634 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(237)) - s1@group-E0FCC97CF5B7->s0-GrpcLogAppender: Failed to getClient for s0
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:207)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:212)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:70)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:559)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:565)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$100(ClientCallImpl.java:72)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:733)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:714)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-07-09 10:10:54,632 [s0@group-E0FCC97CF5B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s0@group-E0FCC97CF5B7-FollowerState was interrupted
2025-07-09 10:10:54,635 [MiniRaftCluster-15] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2025-07-09 10:10:54,635 [MiniRaftCluster-15] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s2: shutdown server GrpcServerProtocolService now
2025-07-09 10:10:54,636 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(163)) - s1@group-E0FCC97CF5B7-StateMachineUpdater: set stopIndex = 14
2025-07-09 10:10:54,636 [s1@group-E0FCC97CF5B7-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(140)) - s1@group-E0FCC97CF5B7-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:14)
2025-07-09 10:10:54,636 [MiniRaftCluster-13] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server GrpcServerProtocolService successfully
2025-07-09 10:10:54,638 [MiniRaftCluster-13] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2025-07-09 10:10:54,637 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$6(171)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#19-t1,previous=(t:1, i:13),leaderCommit=12,initializing? false,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12) 
2025-07-09 10:10:54,637 [s0@group-E0FCC97CF5B7-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-E0FCC97CF5B7-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2025-07-09 10:10:54,638 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$null$7(175)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s2"
  raftGroupId {
    id: "\0327\230\260\375\304K\307\237\017\340\374\311|\365\267"
  }
  callId: 28
  success: true
}
term: 1
nextIndex: 15
followerCommit: 14
matchIndex: 18446744073709551615
isHearbeat: true
 
2025-07-09 10:10:54,638 [MiniRaftCluster-15] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s2: shutdown server GrpcServerProtocolService successfully
2025-07-09 10:10:54,638 [MiniRaftCluster-15] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2025-07-09 10:10:54,639 [MiniRaftCluster-15] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2025-07-09 10:10:54,639 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(545)) - s1@group-E0FCC97CF5B7->s2-GrpcLogAppender is already stopped
2025-07-09 10:10:54,639 [MiniRaftCluster-13] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2025-07-09 10:10:54,639 [s1@group-E0FCC97CF5B7-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-E0FCC97CF5B7-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2025-07-09 10:10:54,640 [MiniRaftCluster-14] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2025-07-09 10:10:54,640 [MiniRaftCluster-14] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s1: shutdown server GrpcServerProtocolService now
2025-07-09 10:10:54,640 [MiniRaftCluster-14] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s1: shutdown server GrpcServerProtocolService successfully
2025-07-09 10:10:54,640 [MiniRaftCluster-14] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2025-07-09 10:10:54,640 [MiniRaftCluster-14] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2025-07-09 10:10:55,292 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(254)) - s1@group-E0FCC97CF5B7-SegmentedRaftLogWorker close()
2025-07-09 10:10:55,293 [JvmPauseMonitor13] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2025-07-09 10:10:55,294 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(254)) - s0@group-E0FCC97CF5B7-SegmentedRaftLogWorker close()
2025-07-09 10:10:55,294 [JvmPauseMonitor12] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2025-07-09 10:10:55,304 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(254)) - s2@group-E0FCC97CF5B7-SegmentedRaftLogWorker close()
2025-07-09 10:10:55,305 [JvmPauseMonitor14] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2025-07-09 10:10:55,305 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(860)) - MiniRaftClusterWithGrpc shutdown completed
2025-07-09 10:10:55,308 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2025-07-09 10:10:55,309 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2025-07-09 10:10:55,309 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2025-07-09 10:10:55,311 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(136)) - Running runWithNewCluster
2025-07-09 10:10:55,312 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(308)) - new MiniRaftClusterWithGrpc with group-DF77D1554A9A:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]
2025-07-09 10:10:55,312 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2025-07-09 10:10:55,312 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2025-07-09 10:10:55,313 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ...     Starting MiniRaftClusterWithGrpc
2025-07-09 10:10:55,313 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ... 
2025-07-09 10:10:55,313 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - .............................................................. 
2025-07-09 10:10:55,313 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(320)) - servers = {}
2025-07-09 10:10:55,313 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - newRaftServer: s0, group-DF77D1554A9A:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068], format? true
2025-07-09 10:10:55,314 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(351)) - deleteFully target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s0
2025-07-09 10:10:55,314 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(364)) - deleteFully: target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s0 does not exist.
2025-07-09 10:10:55,314 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(390)) - Formatted directory target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s0
2025-07-09 10:10:55,315 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:55,315 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.admin.port = 15061 (custom)
2025-07-09 10:10:55,316 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:55,316 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.client.port = 15062 (custom)
2025-07-09 10:10:55,316 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.port = 15060 (custom)
2025-07-09 10:10:55,317 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.heartbeat.channel = true (default)
2025-07-09 10:10:55,319 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s0] (custom)
2025-07-09 10:10:55,320 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s0: addNew group-DF77D1554A9A:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068] returns group-DF77D1554A9A:java.util.concurrent.CompletableFuture@26f07261[Not completed]
2025-07-09 10:10:55,320 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - newRaftServer: s1, group-DF77D1554A9A:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068], format? true
2025-07-09 10:10:55,321 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(351)) - deleteFully target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s1
2025-07-09 10:10:55,321 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(364)) - deleteFully: target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s1 does not exist.
2025-07-09 10:10:55,321 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(390)) - Formatted directory target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s1
2025-07-09 10:10:55,320 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s0: new RaftServerImpl for group-DF77D1554A9A:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068] with SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:55,322 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-DF77D1554A9A: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:10:55,322 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:55,322 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.admin.port = 15065 (custom)
2025-07-09 10:10:55,322 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:55,323 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.client.port = 15066 (custom)
2025-07-09 10:10:55,323 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.port = 15064 (custom)
2025-07-09 10:10:55,325 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s1] (custom)
2025-07-09 10:10:55,326 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s1: addNew group-DF77D1554A9A:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068] returns group-DF77D1554A9A:java.util.concurrent.CompletableFuture@57df93c1[Not completed]
2025-07-09 10:10:55,326 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s1: new RaftServerImpl for group-DF77D1554A9A:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068] with SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:55,326 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-DF77D1554A9A: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:10:55,326 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - newRaftServer: s2, group-DF77D1554A9A:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068], format? true
2025-07-09 10:10:55,327 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(351)) - deleteFully target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s2
2025-07-09 10:10:55,328 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(364)) - deleteFully: target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s2 does not exist.
2025-07-09 10:10:55,328 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(390)) - Formatted directory target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s2
2025-07-09 10:10:55,329 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:55,329 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.admin.port = 15069 (custom)
2025-07-09 10:10:55,329 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:55,330 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.client.port = 15070 (custom)
2025-07-09 10:10:55,330 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.port = 15068 (custom)
2025-07-09 10:10:55,333 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s2] (custom)
2025-07-09 10:10:55,334 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s2: addNew group-DF77D1554A9A:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068] returns group-DF77D1554A9A:java.util.concurrent.CompletableFuture@7a6e0f3c[Not completed]
2025-07-09 10:10:55,335 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s2: new RaftServerImpl for group-DF77D1554A9A:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068] with SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:55,335 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s0] (custom)
2025-07-09 10:10:55,335 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-DF77D1554A9A: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:10:55,336 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s0/d8247ccb-64f9-4e62-8852-df77d1554a9a does not exist. Creating ...
2025-07-09 10:10:55,336 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s0/d8247ccb-64f9-4e62-8852-df77d1554a9a
2025-07-09 10:10:55,338 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s0/d8247ccb-64f9-4e62-8852-df77d1554a9a/in_use.lock acquired by nodename 11875@fv-az1788-284
2025-07-09 10:10:55,338 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s0/d8247ccb-64f9-4e62-8852-df77d1554a9a/current
2025-07-09 10:10:55,338 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s0/d8247ccb-64f9-4e62-8852-df77d1554a9a/sm
2025-07-09 10:10:55,338 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s0/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@df09fb
2025-07-09 10:10:55,339 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s0/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s0/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:55,340 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s0/d8247ccb-64f9-4e62-8852-df77d1554a9a has been successfully formatted.
2025-07-09 10:10:55,340 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:55,340 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2025-07-09 10:10:55,341 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-DF77D1554A9A-cacheEviction-AwaitToRun,5,main] started
2025-07-09 10:10:55,341 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s0@group-DF77D1554A9A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s0/d8247ccb-64f9-4e62-8852-df77d1554a9a
2025-07-09 10:10:55,342 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s0@group-DF77D1554A9A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:55,342 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s0@group-DF77D1554A9A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:55,342 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(405)) - s0@group-DF77D1554A9A: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}
2025-07-09 10:10:55,342 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-DF77D1554A9A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2025-07-09 10:10:55,343 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-DF77D1554A9A-FollowerState
2025-07-09 10:10:55,343 [s0@group-DF77D1554A9A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:55,343 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DF77D1554A9A,id=s0
2025-07-09 10:10:55,343 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-DF77D1554A9A,id=s0
2025-07-09 10:10:55,343 [s0@group-DF77D1554A9A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:55,343 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(419)) - s0@group-DF77D1554A9A: Successfully started.
2025-07-09 10:10:55,343 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(412)) - s0: start RPC server
2025-07-09 10:10:55,345 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15062
2025-07-09 10:10:55,346 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15060
2025-07-09 10:10:55,347 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15061
2025-07-09 10:10:55,347 [JvmPauseMonitor15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2025-07-09 10:10:55,347 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s1] (custom)
2025-07-09 10:10:55,347 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s1/d8247ccb-64f9-4e62-8852-df77d1554a9a does not exist. Creating ...
2025-07-09 10:10:55,348 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s1/d8247ccb-64f9-4e62-8852-df77d1554a9a
2025-07-09 10:10:55,349 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s1/d8247ccb-64f9-4e62-8852-df77d1554a9a/in_use.lock acquired by nodename 11875@fv-az1788-284
2025-07-09 10:10:55,349 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s1/d8247ccb-64f9-4e62-8852-df77d1554a9a/current
2025-07-09 10:10:55,349 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s1/d8247ccb-64f9-4e62-8852-df77d1554a9a/sm
2025-07-09 10:10:55,349 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s1/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@15c2d55f
2025-07-09 10:10:55,350 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s1/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s1/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:55,350 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s1/d8247ccb-64f9-4e62-8852-df77d1554a9a has been successfully formatted.
2025-07-09 10:10:55,351 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:55,351 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2025-07-09 10:10:55,352 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-DF77D1554A9A-cacheEviction-AwaitToRun,5,main] started
2025-07-09 10:10:55,352 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s1@group-DF77D1554A9A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s1/d8247ccb-64f9-4e62-8852-df77d1554a9a
2025-07-09 10:10:55,353 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s1@group-DF77D1554A9A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:55,353 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s1@group-DF77D1554A9A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:55,353 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(405)) - s1@group-DF77D1554A9A: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}
2025-07-09 10:10:55,353 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s1@group-DF77D1554A9A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2025-07-09 10:10:55,353 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-DF77D1554A9A-FollowerState
2025-07-09 10:10:55,354 [s1@group-DF77D1554A9A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:55,354 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DF77D1554A9A,id=s1
2025-07-09 10:10:55,354 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-DF77D1554A9A,id=s1
2025-07-09 10:10:55,354 [s1@group-DF77D1554A9A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:55,354 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(419)) - s1@group-DF77D1554A9A: Successfully started.
2025-07-09 10:10:55,354 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(412)) - s1: start RPC server
2025-07-09 10:10:55,355 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s1: GrpcServicesImpl started, listening on 15066
2025-07-09 10:10:55,356 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s1: GrpcServicesImpl started, listening on 15064
2025-07-09 10:10:55,357 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s1: GrpcServicesImpl started, listening on 15065
2025-07-09 10:10:55,357 [JvmPauseMonitor16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2025-07-09 10:10:55,357 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s2] (custom)
2025-07-09 10:10:55,357 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s2/d8247ccb-64f9-4e62-8852-df77d1554a9a does not exist. Creating ...
2025-07-09 10:10:55,358 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s2/d8247ccb-64f9-4e62-8852-df77d1554a9a
2025-07-09 10:10:55,359 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s2/d8247ccb-64f9-4e62-8852-df77d1554a9a/in_use.lock acquired by nodename 11875@fv-az1788-284
2025-07-09 10:10:55,359 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s2/d8247ccb-64f9-4e62-8852-df77d1554a9a/current
2025-07-09 10:10:55,359 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s2/d8247ccb-64f9-4e62-8852-df77d1554a9a/sm
2025-07-09 10:10:55,359 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s2/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@21a7a88e
2025-07-09 10:10:55,360 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s2/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s2/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:55,360 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s2/d8247ccb-64f9-4e62-8852-df77d1554a9a has been successfully formatted.
2025-07-09 10:10:55,361 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:55,361 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2025-07-09 10:10:55,361 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-DF77D1554A9A-cacheEviction-AwaitToRun,5,main] started
2025-07-09 10:10:55,362 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s2@group-DF77D1554A9A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s2/d8247ccb-64f9-4e62-8852-df77d1554a9a
2025-07-09 10:10:55,362 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s2@group-DF77D1554A9A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:55,362 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s2@group-DF77D1554A9A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:55,363 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(405)) - s2@group-DF77D1554A9A: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}
2025-07-09 10:10:55,363 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s2@group-DF77D1554A9A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2025-07-09 10:10:55,363 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-DF77D1554A9A-FollowerState
2025-07-09 10:10:55,363 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DF77D1554A9A,id=s2
2025-07-09 10:10:55,363 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-DF77D1554A9A,id=s2
2025-07-09 10:10:55,364 [s2@group-DF77D1554A9A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:55,364 [s2@group-DF77D1554A9A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:55,364 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(419)) - s2@group-DF77D1554A9A: Successfully started.
2025-07-09 10:10:55,364 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(412)) - s2: start RPC server
2025-07-09 10:10:55,365 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s2: GrpcServicesImpl started, listening on 15070
2025-07-09 10:10:55,365 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s2: GrpcServicesImpl started, listening on 15068
2025-07-09 10:10:55,366 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s2: GrpcServicesImpl started, listening on 15069
2025-07-09 10:10:55,366 [JvmPauseMonitor17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2025-07-09 10:10:55,374 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-82C324F9B1BC->s0: receive RaftClientReply:client-82C324F9B1BC->s0@group-DF77D1554A9A, cid=89, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-DF77D1554A9A is not the leader, logIndex=0, commits[s0:c-1]
2025-07-09 10:10:55,374 [grpc-default-executor-8] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-82C324F9B1BC: Failed* RaftClientRequest:client-82C324F9B1BC->s0@group-DF77D1554A9A, cid=89, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-DF77D1554A9A is not the leader
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:317)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:308)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:551)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:648)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-DF77D1554A9A is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:402)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:313)
	... 11 more
2025-07-09 10:10:55,483 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-82C324F9B1BC->s2: receive RaftClientReply:client-82C324F9B1BC->s2@group-DF77D1554A9A, cid=89, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-DF77D1554A9A is not the leader, logIndex=0, commits[s2:c-1]
2025-07-09 10:10:55,483 [grpc-default-executor-0] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-82C324F9B1BC: Failed* RaftClientRequest:client-82C324F9B1BC->s2@group-DF77D1554A9A, cid=89, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-DF77D1554A9A is not the leader
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:317)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:308)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:551)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:648)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-DF77D1554A9A is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:402)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:313)
	... 11 more
2025-07-09 10:10:55,540 [s0@group-DF77D1554A9A-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(161)) - s0@group-DF77D1554A9A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:197712305ns, electionTimeout:197ms
2025-07-09 10:10:55,540 [s0@group-DF77D1554A9A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-DF77D1554A9A-FollowerState
2025-07-09 10:10:55,541 [s0@group-DF77D1554A9A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-DF77D1554A9A: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2025-07-09 10:10:55,541 [s0@group-DF77D1554A9A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-DF77D1554A9A-LeaderElection10
2025-07-09 10:10:55,542 [s0@group-DF77D1554A9A-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s0@group-DF77D1554A9A-LeaderElection10 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}
2025-07-09 10:10:55,542 [s0@group-DF77D1554A9A-LeaderElection10-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15064
2025-07-09 10:10:55,542 [s0@group-DF77D1554A9A-LeaderElection10-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15068
2025-07-09 10:10:55,542 [s0@group-DF77D1554A9A-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:55,543 [s0@group-DF77D1554A9A-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:55,547 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s2@group-DF77D1554A9A: receive requestVote(PRE_VOTE, s0, group-DF77D1554A9A, 0, <PROTO_DEFAULT>)
2025-07-09 10:10:55,547 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s1@group-DF77D1554A9A: receive requestVote(PRE_VOTE, s0, group-DF77D1554A9A, 0, <PROTO_DEFAULT>)
2025-07-09 10:10:55,547 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-DF77D1554A9A-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2025-07-09 10:10:55,547 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-DF77D1554A9A-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2025-07-09 10:10:55,547 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s2@group-DF77D1554A9A replies to PRE_VOTE vote request: s0<-s2#0:OK-t0-last:<INITIAL_VALUE>. Peer's state: s2@group-DF77D1554A9A:t0, leader=null, voted=, raftlog=Memoized:s2@group-DF77D1554A9A-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}
2025-07-09 10:10:55,547 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s1@group-DF77D1554A9A replies to PRE_VOTE vote request: s0<-s1#0:OK-t0-last:<INITIAL_VALUE>. Peer's state: s1@group-DF77D1554A9A:t0, leader=null, voted=, raftlog=Memoized:s1@group-DF77D1554A9A-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}
2025-07-09 10:10:55,548 [s0@group-DF77D1554A9A-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s0@group-DF77D1554A9A-LeaderElection10: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2025-07-09 10:10:55,548 [s0@group-DF77D1554A9A-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 0: s0<-s2#0:OK-t0-last:<INITIAL_VALUE>
2025-07-09 10:10:55,548 [s0@group-DF77D1554A9A-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s0@group-DF77D1554A9A-LeaderElection10 PRE_VOTE round 0: result PASSED
2025-07-09 10:10:55,548 [s0@group-DF77D1554A9A-LeaderElection10] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s0/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@51b21991
2025-07-09 10:10:55,550 [s0@group-DF77D1554A9A-LeaderElection10] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s0/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s0/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:55,550 [s0@group-DF77D1554A9A-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s0@group-DF77D1554A9A-LeaderElection10 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}
2025-07-09 10:10:55,550 [s0@group-DF77D1554A9A-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:55,550 [s0@group-DF77D1554A9A-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:55,551 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s1@group-DF77D1554A9A: receive requestVote(ELECTION, s0, group-DF77D1554A9A, 1, <PROTO_DEFAULT>)
2025-07-09 10:10:55,551 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s2@group-DF77D1554A9A: receive requestVote(ELECTION, s0, group-DF77D1554A9A, 1, <PROTO_DEFAULT>)
2025-07-09 10:10:55,551 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-DF77D1554A9A-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2025-07-09 10:10:55,551 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-DF77D1554A9A-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2025-07-09 10:10:55,552 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s2@group-DF77D1554A9A: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s0
2025-07-09 10:10:55,552 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-DF77D1554A9A-FollowerState
2025-07-09 10:10:55,551 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s1@group-DF77D1554A9A: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s0
2025-07-09 10:10:55,552 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-DF77D1554A9A-FollowerState
2025-07-09 10:10:55,552 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-DF77D1554A9A-FollowerState
2025-07-09 10:10:55,552 [s2@group-DF77D1554A9A-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s2@group-DF77D1554A9A-FollowerState was interrupted
2025-07-09 10:10:55,552 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(576)) - s2@group-DF77D1554A9A: set firstElectionSinceStartup to false for candidate:s0
2025-07-09 10:10:55,552 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-DF77D1554A9A-FollowerState
2025-07-09 10:10:55,552 [s1@group-DF77D1554A9A-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s1@group-DF77D1554A9A-FollowerState was interrupted
2025-07-09 10:10:55,553 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(576)) - s1@group-DF77D1554A9A: set firstElectionSinceStartup to false for candidate:s0
2025-07-09 10:10:55,553 [grpc-default-executor-8] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s2/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@1aee185e
2025-07-09 10:10:55,553 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s1/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@5a28a742
2025-07-09 10:10:55,555 [grpc-default-executor-8] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s2/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s2/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:55,555 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s1/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s1/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:55,555 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s2@group-DF77D1554A9A replies to ELECTION vote request: s0<-s2#0:OK-t1-last:<INITIAL_VALUE>. Peer's state: s2@group-DF77D1554A9A:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-DF77D1554A9A-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}
2025-07-09 10:10:55,555 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s1@group-DF77D1554A9A replies to ELECTION vote request: s0<-s1#0:OK-t1-last:<INITIAL_VALUE>. Peer's state: s1@group-DF77D1554A9A:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-DF77D1554A9A-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}
2025-07-09 10:10:55,556 [s0@group-DF77D1554A9A-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s0@group-DF77D1554A9A-LeaderElection10: ELECTION PASSED received 1 response(s) and 0 exception(s):
2025-07-09 10:10:55,556 [s0@group-DF77D1554A9A-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 0: s0<-s2#0:OK-t1-last:<INITIAL_VALUE>
2025-07-09 10:10:55,556 [s0@group-DF77D1554A9A-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s0@group-DF77D1554A9A-LeaderElection10 ELECTION round 0: result PASSED
2025-07-09 10:10:55,556 [s0@group-DF77D1554A9A-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-DF77D1554A9A-LeaderElection10
2025-07-09 10:10:55,556 [s0@group-DF77D1554A9A-LeaderElection10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-DF77D1554A9A: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2025-07-09 10:10:55,556 [s0@group-DF77D1554A9A-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.staging.timeout = 900ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:55,557 [s0@group-DF77D1554A9A-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-DF77D1554A9A-LeaderStateImpl
2025-07-09 10:10:55,557 [s0@group-DF77D1554A9A-LeaderElection10] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(576)) - s0@group-DF77D1554A9A: set firstElectionSinceStartup to false for becomeLeader
2025-07-09 10:10:55,557 [s0@group-DF77D1554A9A-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-DF77D1554A9A: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 235ms
2025-07-09 10:10:55,558 [s0@group-DF77D1554A9A-LeaderElection10] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(440)) - s0@group-DF77D1554A9A-SegmentedRaftLogWorker: Starting segment from index:0
2025-07-09 10:10:55,558 [s0@group-DF77D1554A9A-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-DF77D1554A9A: set configuration conf: {index: 0, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}
2025-07-09 10:10:55,558 [s0@group-DF77D1554A9A-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2025-07-09 10:10:55,565 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-DF77D1554A9A: change Leader from null to s0 at term 1 for appendEntries, leader elected after 238ms
2025-07-09 10:10:55,565 [grpc-default-executor-5] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-DF77D1554A9A: change Leader from null to s0 at term 1 for appendEntries, leader elected after 229ms
2025-07-09 10:10:55,567 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-DF77D1554A9A: set configuration conf: {index: 0, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}
2025-07-09 10:10:55,567 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(440)) - s1@group-DF77D1554A9A-SegmentedRaftLogWorker: Starting segment from index:0
2025-07-09 10:10:55,567 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-DF77D1554A9A: set configuration conf: {index: 0, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}
2025-07-09 10:10:55,568 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(440)) - s2@group-DF77D1554A9A-SegmentedRaftLogWorker: Starting segment from index:0
2025-07-09 10:10:55,568 [s1@group-DF77D1554A9A-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2025-07-09 10:10:55,568 [s2@group-DF77D1554A9A-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2025-07-09 10:10:55,569 [s0@group-DF77D1554A9A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s0@group-DF77D1554A9A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s0/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/log_inprogress_0
2025-07-09 10:10:55,584 [s1@group-DF77D1554A9A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s1@group-DF77D1554A9A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s1/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/log_inprogress_0
2025-07-09 10:10:55,585 [s2@group-DF77D1554A9A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s2@group-DF77D1554A9A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s2/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/log_inprogress_0
2025-07-09 10:10:55,588 [s0@group-DF77D1554A9A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s0/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@7e44404e
2025-07-09 10:10:55,596 [s0@group-DF77D1554A9A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s0/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s0/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:10:55,596 [s0@group-DF77D1554A9A-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(309)) - Leader s0@group-DF77D1554A9A-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2025-07-09 10:10:55,606 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-82C324F9B1BC->s0: receive RaftClientReply:client-82C324F9B1BC->s0@group-DF77D1554A9A, cid=89, SUCCESS, logIndex=0, commits[s0:c0, s1:c-1, s2:c-1]
2025-07-09 10:10:55,610 [s2@group-DF77D1554A9A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s2/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@5b4dfd22
2025-07-09 10:10:55,611 [s0@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 1
2025-07-09 10:10:55,611 [s0@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,613 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-82C324F9B1BC->s0: receive RaftClientReply:client-82C324F9B1BC->s0@group-DF77D1554A9A, cid=90, SUCCESS, logIndex=1, commits[s0:c1, s1:c-1, s2:c0]
2025-07-09 10:10:55,615 [s1@group-DF77D1554A9A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s1/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@16a8d9a7
2025-07-09 10:10:55,616 [s2@group-DF77D1554A9A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s2/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s2/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:10:55,617 [s1@group-DF77D1554A9A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s1/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc9373962b/s1/d8247ccb-64f9-4e62-8852-df77d1554a9a/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:10:55,618 [s2@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 1
2025-07-09 10:10:55,618 [s2@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,619 [s1@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 1
2025-07-09 10:10:55,619 [s1@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,620 [main] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block FLUSH_STATE_MACHINE_DATA
2025-07-09 10:10:55,631 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-94FF5E404140->s0: receive RaftClientReply:client-94FF5E404140->s0@group-DF77D1554A9A, cid=93, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2025-07-09 10:10:55,631 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-8D9300D18906->s0: receive RaftClientReply:client-8D9300D18906->s0@group-DF77D1554A9A, cid=91, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2025-07-09 10:10:55,644 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-F9B410FFD9FD->s0: receive RaftClientReply:client-F9B410FFD9FD->s0@group-DF77D1554A9A, cid=95, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2025-07-09 10:10:55,647 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-F5F411821E4C->s0: receive RaftClientReply:client-F5F411821E4C->s0@group-DF77D1554A9A, cid=105, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c1]
2025-07-09 10:10:55,649 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-45BF0196D816->s0: receive RaftClientReply:client-45BF0196D816->s0@group-DF77D1554A9A, cid=107, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c1]
2025-07-09 10:10:55,651 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-AB7E414DD211->s0: receive RaftClientReply:client-AB7E414DD211->s0@group-DF77D1554A9A, cid=99, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c1]
2025-07-09 10:10:55,651 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-B3510121D0C6->s0: receive RaftClientReply:client-B3510121D0C6->s0@group-DF77D1554A9A, cid=101, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c1]
2025-07-09 10:10:55,652 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-6EE8D09BBF55->s0: receive RaftClientReply:client-6EE8D09BBF55->s0@group-DF77D1554A9A, cid=97, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c1]
2025-07-09 10:10:55,653 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-B93B30BB9786->s0: receive RaftClientReply:client-B93B30BB9786->s0@group-DF77D1554A9A, cid=103, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2025-07-09 10:10:55,653 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-01A586EDEECB->s0: receive RaftClientReply:client-01A586EDEECB->s0@group-DF77D1554A9A, cid=111, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c1]
2025-07-09 10:10:55,660 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-3B164F1885CD->s0: receive RaftClientReply:client-3B164F1885CD->s0@group-DF77D1554A9A, cid=109, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2025-07-09 10:10:55,668 [grpc-default-executor-6] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-3B164F1885CD: Failed* RaftClientRequest:client-3B164F1885CD->s0@group-DF77D1554A9A, cid=110, seq=2, RW, message 8
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-DF77D1554A9A: Failed to acquire a pending write request for RaftClientRequest:client-3B164F1885CD->s0@group-DF77D1554A9A, cid=110, seq=2, RW, Message:6d6573736167652038
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:564)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:565)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$100(ClientCallImpl.java:72)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:733)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:714)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-DF77D1554A9A: Failed to acquire a pending write request for RaftClientRequest:client-3B164F1885CD->s0@group-DF77D1554A9A, cid=110, seq=2, RW, Message:6d6573736167652038
	at org.apache.ratis.server.impl.RaftServerImpl.getResourceUnavailableReply(RaftServerImpl.java:813)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:833)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1008)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:972)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:942)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$11(RaftServerImpl.java:931)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:931)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2025-07-09 10:10:55,669 [grpc-default-executor-6] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(181)) - Failed to send request, message=message 8
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-DF77D1554A9A: Failed to acquire a pending write request for RaftClientRequest:client-3B164F1885CD->s0@group-DF77D1554A9A, cid=110, seq=2, RW, Message:6d6573736167652038
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:111)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:395)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:155)
	at org.apache.ratis.client.impl.OrderedAsync.handleException(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequestWithRetry$7(OrderedAsync.java:217)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:564)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:565)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$100(ClientCallImpl.java:72)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:733)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:714)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-DF77D1554A9A: Failed to acquire a pending write request for RaftClientRequest:client-3B164F1885CD->s0@group-DF77D1554A9A, cid=110, seq=2, RW, Message:6d6573736167652038
	at org.apache.ratis.server.impl.RaftServerImpl.getResourceUnavailableReply(RaftServerImpl.java:813)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:833)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1008)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:972)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:942)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$11(RaftServerImpl.java:931)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:931)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2025-07-09 10:10:55,942 [main] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock FLUSH_STATE_MACHINE_DATA
2025-07-09 10:10:55,950 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-49456FE5D6D6->s0: receive RaftClientReply:client-49456FE5D6D6->s0@group-DF77D1554A9A, cid=113, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2025-07-09 10:10:55,951 [s0@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 3
2025-07-09 10:10:55,951 [s0@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 3, message 0 -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,951 [s0@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 4
2025-07-09 10:10:55,952 [s0@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 4, 2nd Messag... -> (t:1, i:4), STATEMACHINELOGENTRY, WRITE: logData.size=11, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,954 [s0@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 5
2025-07-09 10:10:55,954 [s0@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,954 [s1@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 3
2025-07-09 10:10:55,954 [s1@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 3, message 0 -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,954 [s0@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 6
2025-07-09 10:10:55,954 [s0@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 6, message 6 -> (t:1, i:6), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,955 [s1@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 4
2025-07-09 10:10:55,955 [s0@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 7
2025-07-09 10:10:55,955 [s1@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 4, 2nd Messag... -> (t:1, i:4), STATEMACHINELOGENTRY, WRITE: logData.size=11, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,955 [s0@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 7, message 4 -> (t:1, i:7), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,955 [s0@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 8
2025-07-09 10:10:55,956 [s0@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 8, message 7 -> (t:1, i:8), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,956 [s0@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 9
2025-07-09 10:10:55,956 [s0@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 9, message 3 -> (t:1, i:9), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,956 [s0@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 10
2025-07-09 10:10:55,956 [s0@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 10, message 9 -> (t:1, i:10), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,956 [s0@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 11
2025-07-09 10:10:55,957 [s0@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 11, message 2 -> (t:1, i:11), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,957 [s0@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 12
2025-07-09 10:10:55,957 [s0@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 12, message 5 -> (t:1, i:12), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,958 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-F5F411821E4C->s0: receive RaftClientReply:client-F5F411821E4C->s0@group-DF77D1554A9A, cid=106, SUCCESS, logIndex=6, commits[s0:c12, s1:c2, s2:c2]
2025-07-09 10:10:55,959 [s2@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 3
2025-07-09 10:10:55,959 [s2@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 3, message 0 -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,959 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-8D9300D18906->s0: receive RaftClientReply:client-8D9300D18906->s0@group-DF77D1554A9A, cid=92, SUCCESS, logIndex=4, commits[s0:c4, s1:c2, s2:c2]
2025-07-09 10:10:55,959 [s2@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 4
2025-07-09 10:10:55,959 [s2@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 4, 2nd Messag... -> (t:1, i:4), STATEMACHINELOGENTRY, WRITE: logData.size=11, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,960 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-45BF0196D816->s0: receive RaftClientReply:client-45BF0196D816->s0@group-DF77D1554A9A, cid=108, SUCCESS, logIndex=8, commits[s0:c12, s1:c2, s2:c2]
2025-07-09 10:10:55,961 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-94FF5E404140->s0: receive RaftClientReply:client-94FF5E404140->s0@group-DF77D1554A9A, cid=94, SUCCESS, logIndex=3, commits[s0:c4, s1:c2, s2:c2]
2025-07-09 10:10:55,961 [s2@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 5
2025-07-09 10:10:55,961 [s2@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,961 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-6EE8D09BBF55->s0: receive RaftClientReply:client-6EE8D09BBF55->s0@group-DF77D1554A9A, cid=98, SUCCESS, logIndex=11, commits[s0:c12, s1:c2, s2:c2]
2025-07-09 10:10:55,962 [s2@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 6
2025-07-09 10:10:55,962 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-F9B410FFD9FD->s0: receive RaftClientReply:client-F9B410FFD9FD->s0@group-DF77D1554A9A, cid=96, SUCCESS, logIndex=5, commits[s0:c12, s1:c2, s2:c2]
2025-07-09 10:10:55,962 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-B3510121D0C6->s0: receive RaftClientReply:client-B3510121D0C6->s0@group-DF77D1554A9A, cid=102, SUCCESS, logIndex=7, commits[s0:c12, s1:c2, s2:c2]
2025-07-09 10:10:55,962 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-01A586EDEECB->s0: receive RaftClientReply:client-01A586EDEECB->s0@group-DF77D1554A9A, cid=112, SUCCESS, logIndex=10, commits[s0:c12, s1:c2, s2:c2]
2025-07-09 10:10:55,962 [s1@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 5
2025-07-09 10:10:55,962 [s1@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,963 [s1@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 6
2025-07-09 10:10:55,963 [s1@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 6, message 6 -> (t:1, i:6), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,963 [s1@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 7
2025-07-09 10:10:55,963 [s1@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 7, message 4 -> (t:1, i:7), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,963 [s1@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 8
2025-07-09 10:10:55,963 [s1@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 8, message 7 -> (t:1, i:8), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,962 [s2@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 6, message 6 -> (t:1, i:6), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,965 [s1@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 9
2025-07-09 10:10:55,965 [s1@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 9, message 3 -> (t:1, i:9), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,965 [s1@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 10
2025-07-09 10:10:55,967 [s1@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 10, message 9 -> (t:1, i:10), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,965 [s2@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 7
2025-07-09 10:10:55,967 [s1@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 11
2025-07-09 10:10:55,967 [s1@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 11, message 2 -> (t:1, i:11), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,969 [s1@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 12
2025-07-09 10:10:55,969 [s1@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 12, message 5 -> (t:1, i:12), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,966 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-B93B30BB9786->s0: receive RaftClientReply:client-B93B30BB9786->s0@group-DF77D1554A9A, cid=104, SUCCESS, logIndex=12, commits[s0:c12, s1:c2, s2:c2]
2025-07-09 10:10:55,964 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-AB7E414DD211->s0: receive RaftClientReply:client-AB7E414DD211->s0@group-DF77D1554A9A, cid=100, SUCCESS, logIndex=9, commits[s0:c12, s1:c2, s2:c2]
2025-07-09 10:10:55,968 [grpc-default-executor-0] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-49456FE5D6D6: Failed* RaftClientRequest:client-49456FE5D6D6->s0@group-DF77D1554A9A, cid=114, seq=2, RW, 1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-DF77D1554A9A: Failed to acquire a pending write request for RaftClientRequest:client-49456FE5D6D6->s0@group-DF77D1554A9A, cid=114, seq=2, RW, Message:3f3b33335dd4ecf2561c...(size=1049600)
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:564)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:565)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$100(ClientCallImpl.java:72)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:733)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:714)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-DF77D1554A9A: Failed to acquire a pending write request for RaftClientRequest:client-49456FE5D6D6->s0@group-DF77D1554A9A, cid=114, seq=2, RW, Message:3f3b33335dd4ecf2561c...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.getResourceUnavailableReply(RaftServerImpl.java:813)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:833)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1008)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:972)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:942)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$11(RaftServerImpl.java:931)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:931)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2025-07-09 10:10:55,970 [grpc-default-executor-0] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(181)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-DF77D1554A9A: Failed to acquire a pending write request for RaftClientRequest:client-49456FE5D6D6->s0@group-DF77D1554A9A, cid=114, seq=2, RW, Message:3f3b33335dd4ecf2561c...(size=1049600)
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:111)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:395)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:155)
	at org.apache.ratis.client.impl.OrderedAsync.handleException(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequestWithRetry$7(OrderedAsync.java:217)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:564)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:565)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$100(ClientCallImpl.java:72)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:733)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:714)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-DF77D1554A9A: Failed to acquire a pending write request for RaftClientRequest:client-49456FE5D6D6->s0@group-DF77D1554A9A, cid=114, seq=2, RW, Message:3f3b33335dd4ecf2561c...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.getResourceUnavailableReply(RaftServerImpl.java:813)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:833)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1008)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:972)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:942)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$11(RaftServerImpl.java:931)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:931)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2025-07-09 10:10:55,967 [s2@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 7, message 4 -> (t:1, i:7), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,971 [s2@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 8
2025-07-09 10:10:55,971 [s2@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 8, message 7 -> (t:1, i:8), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,971 [s2@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 9
2025-07-09 10:10:55,971 [s2@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 9, message 3 -> (t:1, i:9), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,972 [s2@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 10
2025-07-09 10:10:55,972 [s2@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 10, message 9 -> (t:1, i:10), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,972 [s2@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 11
2025-07-09 10:10:55,972 [s2@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 11, message 2 -> (t:1, i:11), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:55,972 [s2@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 12
2025-07-09 10:10:55,972 [s2@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 12, message 5 -> (t:1, i:12), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:10:56,262 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2025-07-09 10:10:56,262 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - *** 
2025-07-09 10:10:56,262 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - ***     Stopping MiniRaftClusterWithGrpc
2025-07-09 10:10:56,262 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - *** 
2025-07-09 10:10:56,263 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - ************************************************************** 
2025-07-09 10:10:56,263 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - printing ALL groups
  s0:  RUNNING    LEADER (RUNNING): s0@group-DF77D1554A9A:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-DF77D1554A9A-SegmentedRaftLog:OPENED:c14:last(t:1, i:14), conf=conf: {index: 0, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}
  s1:  RUNNING  FOLLOWER (RUNNING): s1@group-DF77D1554A9A:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-DF77D1554A9A-SegmentedRaftLog:OPENED:c14:last(t:1, i:14), conf=conf: {index: 0, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}
  s2:  RUNNING  FOLLOWER (RUNNING): s2@group-DF77D1554A9A:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-DF77D1554A9A-SegmentedRaftLog:OPENED:c14:last(t:1, i:14), conf=conf: {index: 0, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}
2025-07-09 10:10:56,263 [MiniRaftCluster-16] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(422)) - s0: close
2025-07-09 10:10:56,263 [MiniRaftCluster-17] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(422)) - s1: close
2025-07-09 10:10:56,264 [MiniRaftCluster-18] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(422)) - s2: close
2025-07-09 10:10:56,264 [MiniRaftCluster-17] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2025-07-09 10:10:56,265 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(527)) - s2@group-DF77D1554A9A: shutdown
2025-07-09 10:10:56,265 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(527)) - s0@group-DF77D1554A9A: shutdown
2025-07-09 10:10:56,265 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DF77D1554A9A,id=s0
2025-07-09 10:10:56,265 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(527)) - s1@group-DF77D1554A9A: shutdown
2025-07-09 10:10:56,265 [MiniRaftCluster-18] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2025-07-09 10:10:56,265 [MiniRaftCluster-16] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2025-07-09 10:10:56,265 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DF77D1554A9A,id=s1
2025-07-09 10:10:56,265 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-DF77D1554A9A-FollowerState
2025-07-09 10:10:56,265 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(163)) - s1@group-DF77D1554A9A-StateMachineUpdater: set stopIndex = 14
2025-07-09 10:10:56,265 [s1@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(140)) - s1@group-DF77D1554A9A-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:14)
2025-07-09 10:10:56,265 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s0: shutdown s0@group-DF77D1554A9A-LeaderStateImpl
2025-07-09 10:10:56,266 [s0@group-DF77D1554A9A->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(300)) - s0@group-DF77D1554A9A->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2025-07-09 10:10:56,266 [s0@group-DF77D1554A9A->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(300)) - s0@group-DF77D1554A9A->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2025-07-09 10:10:56,267 [MiniRaftCluster-18] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2025-07-09 10:10:56,267 [MiniRaftCluster-18] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s2: shutdown server GrpcServerProtocolService now
2025-07-09 10:10:56,265 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DF77D1554A9A,id=s2
2025-07-09 10:10:56,268 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-DF77D1554A9A-FollowerState
2025-07-09 10:10:56,268 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(163)) - s2@group-DF77D1554A9A-StateMachineUpdater: set stopIndex = 14
2025-07-09 10:10:56,268 [Thread-546] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2025-07-09 10:10:56,268 [Thread-545] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2025-07-09 10:10:56,267 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$null$7(175)) - s1: Completed APPEND_ENTRIES, lastReply: null 
2025-07-09 10:10:56,267 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$6(171)) - s1: Completed APPEND_ENTRIES, lastRequest: null 
2025-07-09 10:10:56,270 [MiniRaftCluster-18] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s2: shutdown server GrpcServerProtocolService successfully
2025-07-09 10:10:56,270 [MiniRaftCluster-18] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2025-07-09 10:10:56,266 [s1@group-DF77D1554A9A-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-DF77D1554A9A-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2025-07-09 10:10:56,266 [MiniRaftCluster-17] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2025-07-09 10:10:56,271 [MiniRaftCluster-17] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s1: shutdown server GrpcServerProtocolService now
2025-07-09 10:10:56,272 [MiniRaftCluster-16] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2025-07-09 10:10:56,266 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-DF77D1554A9A-PendingRequests: sendNotLeaderResponses
2025-07-09 10:10:56,266 [s1@group-DF77D1554A9A-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s1@group-DF77D1554A9A-FollowerState was interrupted
2025-07-09 10:10:56,272 [MiniRaftCluster-16] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server GrpcServerProtocolService now
2025-07-09 10:10:56,272 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(558)) - s0@group-DF77D1554A9A->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2025-07-09 10:10:56,273 [MiniRaftCluster-17] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s1: shutdown server GrpcServerProtocolService successfully
2025-07-09 10:10:56,273 [MiniRaftCluster-17] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2025-07-09 10:10:56,270 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(558)) - s0@group-DF77D1554A9A->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2025-07-09 10:10:56,273 [MiniRaftCluster-16] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server GrpcServerProtocolService successfully
2025-07-09 10:10:56,273 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(163)) - s0@group-DF77D1554A9A-StateMachineUpdater: set stopIndex = 14
2025-07-09 10:10:56,270 [MiniRaftCluster-18] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2025-07-09 10:10:56,273 [MiniRaftCluster-17] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2025-07-09 10:10:56,270 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(558)) - s0@group-DF77D1554A9A->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2025-07-09 10:10:56,274 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(237)) - s0@group-DF77D1554A9A->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:207)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:212)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:70)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:559)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:565)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$100(ClientCallImpl.java:72)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:733)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:714)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-07-09 10:10:56,269 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(558)) - s0@group-DF77D1554A9A->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2025-07-09 10:10:56,274 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(237)) - s0@group-DF77D1554A9A->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:207)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:212)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:70)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:559)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:565)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$100(ClientCallImpl.java:72)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:733)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:714)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-07-09 10:10:56,269 [s2@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(140)) - s2@group-DF77D1554A9A-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:14)
2025-07-09 10:10:56,269 [s2@group-DF77D1554A9A-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s2@group-DF77D1554A9A-FollowerState was interrupted
2025-07-09 10:10:56,275 [s2@group-DF77D1554A9A-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-DF77D1554A9A-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2025-07-09 10:10:56,273 [s0@group-DF77D1554A9A-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(140)) - s0@group-DF77D1554A9A-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:14)
2025-07-09 10:10:56,273 [MiniRaftCluster-16] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2025-07-09 10:10:56,273 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(237)) - s0@group-DF77D1554A9A->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:207)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:212)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:70)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:559)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:565)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$100(ClientCallImpl.java:72)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:733)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:714)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-07-09 10:10:56,273 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(237)) - s0@group-DF77D1554A9A->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:207)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:212)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:70)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:559)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:565)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$100(ClientCallImpl.java:72)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:733)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:714)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-07-09 10:10:56,275 [s0@group-DF77D1554A9A-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-DF77D1554A9A-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2025-07-09 10:10:56,276 [MiniRaftCluster-16] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2025-07-09 10:10:56,955 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(254)) - s0@group-DF77D1554A9A-SegmentedRaftLogWorker close()
2025-07-09 10:10:56,956 [JvmPauseMonitor15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2025-07-09 10:10:56,961 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(254)) - s2@group-DF77D1554A9A-SegmentedRaftLogWorker close()
2025-07-09 10:10:56,962 [JvmPauseMonitor17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2025-07-09 10:10:56,963 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(254)) - s1@group-DF77D1554A9A-SegmentedRaftLogWorker close()
2025-07-09 10:10:56,963 [JvmPauseMonitor16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2025-07-09 10:10:56,963 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(860)) - MiniRaftClusterWithGrpc shutdown completed
2025-07-09 10:10:56,967 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2025-07-09 10:10:56,967 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2025-07-09 10:10:56,968 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2025-07-09 10:10:56,969 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(136)) - Running runWithNewCluster
2025-07-09 10:10:56,970 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(308)) - new MiniRaftClusterWithGrpc with group-BC6ADE9DD466:[s0|localhost:15072]
2025-07-09 10:10:56,970 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2025-07-09 10:10:56,970 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2025-07-09 10:10:56,971 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ...     Starting MiniRaftClusterWithGrpc
2025-07-09 10:10:56,971 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ... 
2025-07-09 10:10:56,971 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - .............................................................. 
2025-07-09 10:10:56,971 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(320)) - servers = {}
2025-07-09 10:10:56,971 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - newRaftServer: s0, group-BC6ADE9DD466:[s0|localhost:15072], format? true
2025-07-09 10:10:56,972 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(351)) - deleteFully target/test/data/d26fc21a/MiniRaftClusterWithGrpceb6850f7/s0
2025-07-09 10:10:56,972 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(364)) - deleteFully: target/test/data/d26fc21a/MiniRaftClusterWithGrpceb6850f7/s0 does not exist.
2025-07-09 10:10:56,972 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(390)) - Formatted directory target/test/data/d26fc21a/MiniRaftClusterWithGrpceb6850f7/s0
2025-07-09 10:10:56,973 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:56,973 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.admin.port = 15073 (custom)
2025-07-09 10:10:56,973 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:56,973 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.client.port = 15074 (custom)
2025-07-09 10:10:56,974 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.port = 15072 (custom)
2025-07-09 10:10:56,974 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.heartbeat.channel = false (custom)
2025-07-09 10:10:56,976 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpceb6850f7/s0] (custom)
2025-07-09 10:10:56,976 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s0: addNew group-BC6ADE9DD466:[s0|localhost:15072] returns group-BC6ADE9DD466:java.util.concurrent.CompletableFuture@f9ac719[Not completed]
2025-07-09 10:10:56,977 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s0: new RaftServerImpl for group-BC6ADE9DD466:[s0|localhost:15072] with SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:56,977 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-BC6ADE9DD466: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15072]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:10:56,978 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpceb6850f7/s0/d23bf795-8fd0-4bcc-baa8-bc6ade9dd466 does not exist. Creating ...
2025-07-09 10:10:56,978 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpceb6850f7/s0/d23bf795-8fd0-4bcc-baa8-bc6ade9dd466
2025-07-09 10:10:56,979 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpceb6850f7/s0/d23bf795-8fd0-4bcc-baa8-bc6ade9dd466/in_use.lock acquired by nodename 11875@fv-az1788-284
2025-07-09 10:10:56,980 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpceb6850f7/s0/d23bf795-8fd0-4bcc-baa8-bc6ade9dd466/current
2025-07-09 10:10:56,980 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpceb6850f7/s0/d23bf795-8fd0-4bcc-baa8-bc6ade9dd466/sm
2025-07-09 10:10:56,980 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpceb6850f7/s0/d23bf795-8fd0-4bcc-baa8-bc6ade9dd466/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@9d6cd3a
2025-07-09 10:10:56,982 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpceb6850f7/s0/d23bf795-8fd0-4bcc-baa8-bc6ade9dd466/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpceb6850f7/s0/d23bf795-8fd0-4bcc-baa8-bc6ade9dd466/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:56,982 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpceb6850f7/s0/d23bf795-8fd0-4bcc-baa8-bc6ade9dd466 has been successfully formatted.
2025-07-09 10:10:56,982 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:56,982 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2025-07-09 10:10:56,982 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-BC6ADE9DD466-cacheEviction-AwaitToRun,5,main] started
2025-07-09 10:10:56,982 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s0@group-BC6ADE9DD466-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpceb6850f7/s0/d23bf795-8fd0-4bcc-baa8-bc6ade9dd466
2025-07-09 10:10:56,984 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s0@group-BC6ADE9DD466-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:56,984 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s0@group-BC6ADE9DD466-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:56,985 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(405)) - s0@group-BC6ADE9DD466: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15072]|listeners:[], old=null}
2025-07-09 10:10:56,985 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-BC6ADE9DD466: changes role from      null to FOLLOWER at term 0 for startAsFollower
2025-07-09 10:10:56,985 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-BC6ADE9DD466-FollowerState
2025-07-09 10:10:56,985 [s0@group-BC6ADE9DD466-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:56,985 [s0@group-BC6ADE9DD466-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:56,985 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BC6ADE9DD466,id=s0
2025-07-09 10:10:56,985 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-BC6ADE9DD466,id=s0
2025-07-09 10:10:56,986 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(419)) - s0@group-BC6ADE9DD466: Successfully started.
2025-07-09 10:10:56,986 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(412)) - s0: start RPC server
2025-07-09 10:10:56,987 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15074
2025-07-09 10:10:56,987 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15072
2025-07-09 10:10:56,987 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15073
2025-07-09 10:10:56,988 [JvmPauseMonitor18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2025-07-09 10:10:56,988 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-BC6ADE9DD466:t0, leader=null, voted=, raftlog=Memoized:s0@group-BC6ADE9DD466-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15072]|listeners:[], old=null}
2025-07-09 10:10:56,988 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-BC6ADE9DD466:t0, leader=null, voted=, raftlog=Memoized:s0@group-BC6ADE9DD466-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15072]|listeners:[], old=null}
2025-07-09 10:10:57,262 [s0@group-BC6ADE9DD466-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(161)) - s0@group-BC6ADE9DD466-FollowerState: change to CANDIDATE, lastRpcElapsedTime:276628152ns, electionTimeout:276ms
2025-07-09 10:10:57,262 [s0@group-BC6ADE9DD466-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-BC6ADE9DD466-FollowerState
2025-07-09 10:10:57,262 [s0@group-BC6ADE9DD466-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-BC6ADE9DD466: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2025-07-09 10:10:57,262 [s0@group-BC6ADE9DD466-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-BC6ADE9DD466-LeaderElection11
2025-07-09 10:10:57,263 [s0@group-BC6ADE9DD466-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s0@group-BC6ADE9DD466-LeaderElection11 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15072]|listeners:[], old=null}
2025-07-09 10:10:57,263 [s0@group-BC6ADE9DD466-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s0@group-BC6ADE9DD466-LeaderElection11 PRE_VOTE round 0: result PASSED (term=0)
2025-07-09 10:10:57,263 [s0@group-BC6ADE9DD466-LeaderElection11] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpceb6850f7/s0/d23bf795-8fd0-4bcc-baa8-bc6ade9dd466/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@36f525d8
2025-07-09 10:10:57,264 [s0@group-BC6ADE9DD466-LeaderElection11] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpceb6850f7/s0/d23bf795-8fd0-4bcc-baa8-bc6ade9dd466/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpceb6850f7/s0/d23bf795-8fd0-4bcc-baa8-bc6ade9dd466/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:57,264 [s0@group-BC6ADE9DD466-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s0@group-BC6ADE9DD466-LeaderElection11 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15072]|listeners:[], old=null}
2025-07-09 10:10:57,264 [s0@group-BC6ADE9DD466-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s0@group-BC6ADE9DD466-LeaderElection11 ELECTION round 0: result PASSED (term=1)
2025-07-09 10:10:57,265 [s0@group-BC6ADE9DD466-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-BC6ADE9DD466-LeaderElection11
2025-07-09 10:10:57,265 [s0@group-BC6ADE9DD466-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-BC6ADE9DD466: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2025-07-09 10:10:57,265 [s0@group-BC6ADE9DD466-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.staging.timeout = 900ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:57,265 [s0@group-BC6ADE9DD466-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.write.element-limit = 4096 (default)
2025-07-09 10:10:57,265 [s0@group-BC6ADE9DD466-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2025-07-09 10:10:57,266 [s0@group-BC6ADE9DD466-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-BC6ADE9DD466-LeaderStateImpl
2025-07-09 10:10:57,266 [s0@group-BC6ADE9DD466-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(576)) - s0@group-BC6ADE9DD466: set firstElectionSinceStartup to false for becomeLeader
2025-07-09 10:10:57,266 [s0@group-BC6ADE9DD466-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-BC6ADE9DD466: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 288ms
2025-07-09 10:10:57,266 [s0@group-BC6ADE9DD466-LeaderElection11] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(440)) - s0@group-BC6ADE9DD466-SegmentedRaftLogWorker: Starting segment from index:0
2025-07-09 10:10:57,266 [s0@group-BC6ADE9DD466-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-BC6ADE9DD466: set configuration conf: {index: 0, cur=peers:[s0|localhost:15072]|listeners:[], old=null}
2025-07-09 10:10:57,266 [s0@group-BC6ADE9DD466-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2025-07-09 10:10:57,276 [s0@group-BC6ADE9DD466-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s0@group-BC6ADE9DD466-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpceb6850f7/s0/d23bf795-8fd0-4bcc-baa8-bc6ade9dd466/current/log_inprogress_0
2025-07-09 10:10:57,277 [s0@group-BC6ADE9DD466-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpceb6850f7/s0/d23bf795-8fd0-4bcc-baa8-bc6ade9dd466/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@7b803fa3
2025-07-09 10:10:57,277 [s0@group-BC6ADE9DD466-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpceb6850f7/s0/d23bf795-8fd0-4bcc-baa8-bc6ade9dd466/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpceb6850f7/s0/d23bf795-8fd0-4bcc-baa8-bc6ade9dd466/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:10:57,278 [s0@group-BC6ADE9DD466-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(309)) - Leader s0@group-BC6ADE9DD466-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2025-07-09 10:10:57,439 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING    LEADER (RUNNING): s0@group-BC6ADE9DD466:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BC6ADE9DD466-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15072]|listeners:[], old=null}
2025-07-09 10:10:57,439 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:57,440 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:57,442 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(153)) - run 'appendEntries'
2025-07-09 10:10:57,442 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - Expected the test "appendEntries" to throw UnsupportedOperationException with cause(s) []
2025-07-09 10:10:57,443 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(153)) - run 'installSnapshot'
2025-07-09 10:10:57,443 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - Expected the test "installSnapshot" to throw UnsupportedOperationException with cause(s) []
2025-07-09 10:10:57,444 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2025-07-09 10:10:57,444 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - *** 
2025-07-09 10:10:57,444 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - ***     Stopping MiniRaftClusterWithGrpc
2025-07-09 10:10:57,444 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - *** 
2025-07-09 10:10:57,444 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - ************************************************************** 
2025-07-09 10:10:57,445 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - printing ALL groups
  s0:  RUNNING    LEADER (RUNNING): s0@group-BC6ADE9DD466:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BC6ADE9DD466-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15072]|listeners:[], old=null}
2025-07-09 10:10:57,445 [MiniRaftCluster-19] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(422)) - s0: close
2025-07-09 10:10:57,445 [MiniRaftCluster-19] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2025-07-09 10:10:57,445 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(527)) - s0@group-BC6ADE9DD466: shutdown
2025-07-09 10:10:57,446 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BC6ADE9DD466,id=s0
2025-07-09 10:10:57,446 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s0: shutdown s0@group-BC6ADE9DD466-LeaderStateImpl
2025-07-09 10:10:57,446 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-BC6ADE9DD466-PendingRequests: sendNotLeaderResponses
2025-07-09 10:10:57,446 [MiniRaftCluster-19] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2025-07-09 10:10:57,446 [MiniRaftCluster-19] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server GrpcServerProtocolService now
2025-07-09 10:10:57,446 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(163)) - s0@group-BC6ADE9DD466-StateMachineUpdater: set stopIndex = 0
2025-07-09 10:10:57,446 [s0@group-BC6ADE9DD466-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(140)) - s0@group-BC6ADE9DD466-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:0)
2025-07-09 10:10:57,447 [MiniRaftCluster-19] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server GrpcServerProtocolService successfully
2025-07-09 10:10:57,447 [MiniRaftCluster-19] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2025-07-09 10:10:57,447 [s0@group-BC6ADE9DD466-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-BC6ADE9DD466-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2025-07-09 10:10:57,447 [MiniRaftCluster-19] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2025-07-09 10:10:58,278 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(254)) - s0@group-BC6ADE9DD466-SegmentedRaftLogWorker close()
2025-07-09 10:10:58,278 [JvmPauseMonitor18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2025-07-09 10:10:58,278 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(860)) - MiniRaftClusterWithGrpc shutdown completed
2025-07-09 10:10:58,280 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2025-07-09 10:10:58,280 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2025-07-09 10:10:58,281 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2025-07-09 10:10:58,282 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(136)) - Running runWithNewCluster
2025-07-09 10:10:58,283 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(308)) - new MiniRaftClusterWithGrpc with group-4E6E96B90600:[s0|localhost:15076]
2025-07-09 10:10:58,283 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2025-07-09 10:10:58,283 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2025-07-09 10:10:58,284 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ...     Starting MiniRaftClusterWithGrpc
2025-07-09 10:10:58,284 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ... 
2025-07-09 10:10:58,284 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - .............................................................. 
2025-07-09 10:10:58,284 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(320)) - servers = {}
2025-07-09 10:10:58,284 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - newRaftServer: s0, group-4E6E96B90600:[s0|localhost:15076], format? true
2025-07-09 10:10:58,285 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(351)) - deleteFully target/test/data/d26fc21a/MiniRaftClusterWithGrpc22f1c189/s0
2025-07-09 10:10:58,285 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(364)) - deleteFully: target/test/data/d26fc21a/MiniRaftClusterWithGrpc22f1c189/s0 does not exist.
2025-07-09 10:10:58,285 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(390)) - Formatted directory target/test/data/d26fc21a/MiniRaftClusterWithGrpc22f1c189/s0
2025-07-09 10:10:58,286 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:58,286 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.admin.port = 15077 (custom)
2025-07-09 10:10:58,286 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:58,286 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.client.port = 15078 (custom)
2025-07-09 10:10:58,287 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.port = 15076 (custom)
2025-07-09 10:10:58,287 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.heartbeat.channel = true (default)
2025-07-09 10:10:58,289 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc22f1c189/s0] (custom)
2025-07-09 10:10:58,289 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s0: addNew group-4E6E96B90600:[s0|localhost:15076] returns group-4E6E96B90600:java.util.concurrent.CompletableFuture@81cd90e[Not completed]
2025-07-09 10:10:58,289 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s0: new RaftServerImpl for group-4E6E96B90600:[s0|localhost:15076] with SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:58,290 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-4E6E96B90600: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15076]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:10:58,291 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc22f1c189/s0/f603d496-d2dd-40ce-8e93-4e6e96b90600 does not exist. Creating ...
2025-07-09 10:10:58,291 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc22f1c189/s0/f603d496-d2dd-40ce-8e93-4e6e96b90600
2025-07-09 10:10:58,295 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc22f1c189/s0/f603d496-d2dd-40ce-8e93-4e6e96b90600/in_use.lock acquired by nodename 11875@fv-az1788-284
2025-07-09 10:10:58,295 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc22f1c189/s0/f603d496-d2dd-40ce-8e93-4e6e96b90600/current
2025-07-09 10:10:58,295 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc22f1c189/s0/f603d496-d2dd-40ce-8e93-4e6e96b90600/sm
2025-07-09 10:10:58,296 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc22f1c189/s0/f603d496-d2dd-40ce-8e93-4e6e96b90600/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@61025717
2025-07-09 10:10:58,297 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc22f1c189/s0/f603d496-d2dd-40ce-8e93-4e6e96b90600/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc22f1c189/s0/f603d496-d2dd-40ce-8e93-4e6e96b90600/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:58,297 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc22f1c189/s0/f603d496-d2dd-40ce-8e93-4e6e96b90600 has been successfully formatted.
2025-07-09 10:10:58,297 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:58,297 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2025-07-09 10:10:58,297 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-4E6E96B90600-cacheEviction-AwaitToRun,5,main] started
2025-07-09 10:10:58,297 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s0@group-4E6E96B90600-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc22f1c189/s0/f603d496-d2dd-40ce-8e93-4e6e96b90600
2025-07-09 10:10:58,298 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s0@group-4E6E96B90600-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:58,298 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s0@group-4E6E96B90600-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:58,299 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(405)) - s0@group-4E6E96B90600: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15076]|listeners:[], old=null}
2025-07-09 10:10:58,299 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-4E6E96B90600: changes role from      null to FOLLOWER at term 0 for startAsFollower
2025-07-09 10:10:58,299 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-4E6E96B90600-FollowerState
2025-07-09 10:10:58,299 [s0@group-4E6E96B90600-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:58,299 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4E6E96B90600,id=s0
2025-07-09 10:10:58,299 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-4E6E96B90600,id=s0
2025-07-09 10:10:58,299 [s0@group-4E6E96B90600-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:58,300 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(419)) - s0@group-4E6E96B90600: Successfully started.
2025-07-09 10:10:58,300 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(412)) - s0: start RPC server
2025-07-09 10:10:58,300 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15078
2025-07-09 10:10:58,301 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15076
2025-07-09 10:10:58,301 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15077
2025-07-09 10:10:58,302 [JvmPauseMonitor19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2025-07-09 10:10:58,302 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-4E6E96B90600:t0, leader=null, voted=, raftlog=Memoized:s0@group-4E6E96B90600-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15076]|listeners:[], old=null}
2025-07-09 10:10:58,302 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-4E6E96B90600:t0, leader=null, voted=, raftlog=Memoized:s0@group-4E6E96B90600-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15076]|listeners:[], old=null}
2025-07-09 10:10:58,468 [s0@group-4E6E96B90600-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(161)) - s0@group-4E6E96B90600-FollowerState: change to CANDIDATE, lastRpcElapsedTime:168676094ns, electionTimeout:168ms
2025-07-09 10:10:58,468 [s0@group-4E6E96B90600-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-4E6E96B90600-FollowerState
2025-07-09 10:10:58,468 [s0@group-4E6E96B90600-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-4E6E96B90600: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2025-07-09 10:10:58,468 [s0@group-4E6E96B90600-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-4E6E96B90600-LeaderElection12
2025-07-09 10:10:58,469 [s0@group-4E6E96B90600-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s0@group-4E6E96B90600-LeaderElection12 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15076]|listeners:[], old=null}
2025-07-09 10:10:58,469 [s0@group-4E6E96B90600-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s0@group-4E6E96B90600-LeaderElection12 PRE_VOTE round 0: result PASSED (term=0)
2025-07-09 10:10:58,469 [s0@group-4E6E96B90600-LeaderElection12] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc22f1c189/s0/f603d496-d2dd-40ce-8e93-4e6e96b90600/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@77ea67cb
2025-07-09 10:10:58,470 [s0@group-4E6E96B90600-LeaderElection12] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc22f1c189/s0/f603d496-d2dd-40ce-8e93-4e6e96b90600/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc22f1c189/s0/f603d496-d2dd-40ce-8e93-4e6e96b90600/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:58,470 [s0@group-4E6E96B90600-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s0@group-4E6E96B90600-LeaderElection12 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15076]|listeners:[], old=null}
2025-07-09 10:10:58,470 [s0@group-4E6E96B90600-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s0@group-4E6E96B90600-LeaderElection12 ELECTION round 0: result PASSED (term=1)
2025-07-09 10:10:58,471 [s0@group-4E6E96B90600-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-4E6E96B90600-LeaderElection12
2025-07-09 10:10:58,471 [s0@group-4E6E96B90600-LeaderElection12] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-4E6E96B90600: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2025-07-09 10:10:58,471 [s0@group-4E6E96B90600-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.staging.timeout = 900ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:58,472 [s0@group-4E6E96B90600-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-4E6E96B90600-LeaderStateImpl
2025-07-09 10:10:58,472 [s0@group-4E6E96B90600-LeaderElection12] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(576)) - s0@group-4E6E96B90600: set firstElectionSinceStartup to false for becomeLeader
2025-07-09 10:10:58,472 [s0@group-4E6E96B90600-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-4E6E96B90600: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 182ms
2025-07-09 10:10:58,472 [s0@group-4E6E96B90600-LeaderElection12] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(440)) - s0@group-4E6E96B90600-SegmentedRaftLogWorker: Starting segment from index:0
2025-07-09 10:10:58,472 [s0@group-4E6E96B90600-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-4E6E96B90600: set configuration conf: {index: 0, cur=peers:[s0|localhost:15076]|listeners:[], old=null}
2025-07-09 10:10:58,473 [s0@group-4E6E96B90600-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2025-07-09 10:10:58,484 [s0@group-4E6E96B90600-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s0@group-4E6E96B90600-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc22f1c189/s0/f603d496-d2dd-40ce-8e93-4e6e96b90600/current/log_inprogress_0
2025-07-09 10:10:58,485 [s0@group-4E6E96B90600-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc22f1c189/s0/f603d496-d2dd-40ce-8e93-4e6e96b90600/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@622e7fb0
2025-07-09 10:10:58,486 [s0@group-4E6E96B90600-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc22f1c189/s0/f603d496-d2dd-40ce-8e93-4e6e96b90600/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc22f1c189/s0/f603d496-d2dd-40ce-8e93-4e6e96b90600/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:10:58,486 [s0@group-4E6E96B90600-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(309)) - Leader s0@group-4E6E96B90600-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2025-07-09 10:10:58,591 [timer3] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  (Repeated 2 times in the last 5.001s) client-FD6282A9CB4D: Failed* RaftClientRequest:client-FD6282A9CB4D->s0@group-E0FCC97CF5B7, cid=63, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-E0FCC97CF5B7 is not the leader
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:317)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:308)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:551)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:648)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-E0FCC97CF5B7 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:402)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:313)
	... 11 more
2025-07-09 10:10:58,753 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING    LEADER (RUNNING): s0@group-4E6E96B90600:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-4E6E96B90600-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15076]|listeners:[], old=null}
2025-07-09 10:10:58,753 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:58,754 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:58,756 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(153)) - run 'appendEntries'
2025-07-09 10:10:58,756 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - Expected the test "appendEntries" to throw UnsupportedOperationException with cause(s) []
2025-07-09 10:10:58,757 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(153)) - run 'installSnapshot'
2025-07-09 10:10:58,757 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - Expected the test "installSnapshot" to throw UnsupportedOperationException with cause(s) []
2025-07-09 10:10:58,757 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2025-07-09 10:10:58,758 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - *** 
2025-07-09 10:10:58,758 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - ***     Stopping MiniRaftClusterWithGrpc
2025-07-09 10:10:58,758 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - *** 
2025-07-09 10:10:58,758 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - ************************************************************** 
2025-07-09 10:10:58,759 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - printing ALL groups
  s0:  RUNNING    LEADER (RUNNING): s0@group-4E6E96B90600:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-4E6E96B90600-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15076]|listeners:[], old=null}
2025-07-09 10:10:58,759 [MiniRaftCluster-20] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(422)) - s0: close
2025-07-09 10:10:58,760 [MiniRaftCluster-20] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2025-07-09 10:10:58,760 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(527)) - s0@group-4E6E96B90600: shutdown
2025-07-09 10:10:58,760 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4E6E96B90600,id=s0
2025-07-09 10:10:58,761 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s0: shutdown s0@group-4E6E96B90600-LeaderStateImpl
2025-07-09 10:10:58,761 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-4E6E96B90600-PendingRequests: sendNotLeaderResponses
2025-07-09 10:10:58,761 [MiniRaftCluster-20] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2025-07-09 10:10:58,761 [MiniRaftCluster-20] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server GrpcServerProtocolService now
2025-07-09 10:10:58,761 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(163)) - s0@group-4E6E96B90600-StateMachineUpdater: set stopIndex = 0
2025-07-09 10:10:58,761 [s0@group-4E6E96B90600-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(140)) - s0@group-4E6E96B90600-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:0)
2025-07-09 10:10:58,761 [MiniRaftCluster-20] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server GrpcServerProtocolService successfully
2025-07-09 10:10:58,762 [MiniRaftCluster-20] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2025-07-09 10:10:58,762 [s0@group-4E6E96B90600-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-4E6E96B90600-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2025-07-09 10:10:58,762 [MiniRaftCluster-20] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2025-07-09 10:10:59,486 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(254)) - s0@group-4E6E96B90600-SegmentedRaftLogWorker close()
2025-07-09 10:10:59,487 [JvmPauseMonitor19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2025-07-09 10:10:59,487 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(860)) - MiniRaftClusterWithGrpc shutdown completed
2025-07-09 10:10:59,491 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2025-07-09 10:10:59,492 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2025-07-09 10:10:59,492 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2025-07-09 10:10:59,494 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(136)) - Running runWithNewCluster
2025-07-09 10:10:59,495 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(308)) - new MiniRaftClusterWithGrpc with group-8482968A567B:[s0|localhost:15080]
2025-07-09 10:10:59,495 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2025-07-09 10:10:59,495 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2025-07-09 10:10:59,495 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ...     Starting MiniRaftClusterWithGrpc
2025-07-09 10:10:59,496 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ... 
2025-07-09 10:10:59,496 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - .............................................................. 
2025-07-09 10:10:59,496 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(320)) - servers = {}
2025-07-09 10:10:59,496 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - newRaftServer: s0, group-8482968A567B:[s0|localhost:15080], format? true
2025-07-09 10:10:59,497 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(351)) - deleteFully target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0
2025-07-09 10:10:59,497 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(364)) - deleteFully: target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0 does not exist.
2025-07-09 10:10:59,497 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(390)) - Formatted directory target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0
2025-07-09 10:10:59,498 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:59,498 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.admin.port = 15081 (custom)
2025-07-09 10:10:59,498 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:59,498 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.client.port = 15082 (custom)
2025-07-09 10:10:59,500 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.port = 15080 (custom)
2025-07-09 10:10:59,500 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.heartbeat.channel = false (custom)
2025-07-09 10:10:59,502 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0] (custom)
2025-07-09 10:10:59,502 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s0: addNew group-8482968A567B:[s0|localhost:15080] returns group-8482968A567B:java.util.concurrent.CompletableFuture@256aabbe[Not completed]
2025-07-09 10:10:59,502 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s0: new RaftServerImpl for group-8482968A567B:[s0|localhost:15080] with SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:59,503 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-8482968A567B: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15080]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:10:59,505 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b does not exist. Creating ...
2025-07-09 10:10:59,505 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b
2025-07-09 10:10:59,506 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b/in_use.lock acquired by nodename 11875@fv-az1788-284
2025-07-09 10:10:59,506 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b/current
2025-07-09 10:10:59,506 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b/sm
2025-07-09 10:10:59,507 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@658002ba
2025-07-09 10:10:59,508 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:59,508 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b has been successfully formatted.
2025-07-09 10:10:59,508 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2025-07-09 10:10:59,508 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2025-07-09 10:10:59,509 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-8482968A567B-cacheEviction-AwaitToRun,5,main] started
2025-07-09 10:10:59,509 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s0@group-8482968A567B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b
2025-07-09 10:10:59,510 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s0@group-8482968A567B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:59,510 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s0@group-8482968A567B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2025-07-09 10:10:59,510 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(405)) - s0@group-8482968A567B: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15080]|listeners:[], old=null}
2025-07-09 10:10:59,510 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-8482968A567B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2025-07-09 10:10:59,510 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-8482968A567B-FollowerState
2025-07-09 10:10:59,510 [s0@group-8482968A567B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:10:59,510 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8482968A567B,id=s0
2025-07-09 10:10:59,511 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-8482968A567B,id=s0
2025-07-09 10:10:59,511 [s0@group-8482968A567B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:59,511 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(419)) - s0@group-8482968A567B: Successfully started.
2025-07-09 10:10:59,511 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(412)) - s0: start RPC server
2025-07-09 10:10:59,512 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15082
2025-07-09 10:10:59,512 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15080
2025-07-09 10:10:59,513 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15081
2025-07-09 10:10:59,513 [JvmPauseMonitor20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2025-07-09 10:10:59,513 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-8482968A567B:t0, leader=null, voted=, raftlog=Memoized:s0@group-8482968A567B-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15080]|listeners:[], old=null}
2025-07-09 10:10:59,514 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-8482968A567B:t0, leader=null, voted=, raftlog=Memoized:s0@group-8482968A567B-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15080]|listeners:[], old=null}
2025-07-09 10:10:59,639 [timer3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$6(171)) - s2: Completed APPEND_ENTRIES, lastRequest: null  (Repeated 3 times in the last 5.001s)
2025-07-09 10:10:59,639 [timer4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$null$7(175)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s2"
  raftGroupId {
    id: "\330$|\313d\371Nb\210R\337w\321UJ\232"
  }
  callId: 31
  success: true
}
term: 1
nextIndex: 15
followerCommit: 14
matchIndex: 18446744073709551615
isHearbeat: true
  (Repeated 3 times in the last 5.001s)
2025-07-09 10:10:59,774 [s0@group-8482968A567B-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(161)) - s0@group-8482968A567B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:263789749ns, electionTimeout:263ms
2025-07-09 10:10:59,774 [s0@group-8482968A567B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-8482968A567B-FollowerState
2025-07-09 10:10:59,774 [s0@group-8482968A567B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-8482968A567B: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2025-07-09 10:10:59,775 [s0@group-8482968A567B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-8482968A567B-LeaderElection13
2025-07-09 10:10:59,775 [s0@group-8482968A567B-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s0@group-8482968A567B-LeaderElection13 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15080]|listeners:[], old=null}
2025-07-09 10:10:59,775 [s0@group-8482968A567B-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s0@group-8482968A567B-LeaderElection13 PRE_VOTE round 0: result PASSED (term=0)
2025-07-09 10:10:59,776 [s0@group-8482968A567B-LeaderElection13] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@24c38c77
2025-07-09 10:10:59,777 [s0@group-8482968A567B-LeaderElection13] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:10:59,777 [s0@group-8482968A567B-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s0@group-8482968A567B-LeaderElection13 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15080]|listeners:[], old=null}
2025-07-09 10:10:59,777 [s0@group-8482968A567B-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s0@group-8482968A567B-LeaderElection13 ELECTION round 0: result PASSED (term=1)
2025-07-09 10:10:59,777 [s0@group-8482968A567B-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-8482968A567B-LeaderElection13
2025-07-09 10:10:59,777 [s0@group-8482968A567B-LeaderElection13] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-8482968A567B: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2025-07-09 10:10:59,777 [s0@group-8482968A567B-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.staging.timeout = 900ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:10:59,778 [s0@group-8482968A567B-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-8482968A567B-LeaderStateImpl
2025-07-09 10:10:59,778 [s0@group-8482968A567B-LeaderElection13] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(576)) - s0@group-8482968A567B: set firstElectionSinceStartup to false for becomeLeader
2025-07-09 10:10:59,778 [s0@group-8482968A567B-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-8482968A567B: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 275ms
2025-07-09 10:10:59,778 [s0@group-8482968A567B-LeaderElection13] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(440)) - s0@group-8482968A567B-SegmentedRaftLogWorker: Starting segment from index:0
2025-07-09 10:10:59,778 [s0@group-8482968A567B-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-8482968A567B: set configuration conf: {index: 0, cur=peers:[s0|localhost:15080]|listeners:[], old=null}
2025-07-09 10:10:59,779 [s0@group-8482968A567B-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2025-07-09 10:10:59,788 [s0@group-8482968A567B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s0@group-8482968A567B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b/current/log_inprogress_0
2025-07-09 10:10:59,788 [s0@group-8482968A567B-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@7ed7844d
2025-07-09 10:10:59,789 [s0@group-8482968A567B-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:10:59,790 [s0@group-8482968A567B-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(309)) - Leader s0@group-8482968A567B-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2025-07-09 10:10:59,964 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING    LEADER (RUNNING): s0@group-8482968A567B:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-8482968A567B-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15080]|listeners:[], old=null}
2025-07-09 10:10:59,968 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:59,968 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:59,970 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(270)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b
2025-07-09 10:10:59,970 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s0: addNew group-8482968A567B:[s0|localhost:15080] returns group-8482968A567B:java.util.concurrent.CompletableFuture@bddac1c[Not completed]
2025-07-09 10:10:59,970 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s0: new RaftServerImpl for group-8482968A567B:[s0|localhost:15080] with SimpleStateMachine4Testing:s0:group-8482968A567B
2025-07-09 10:10:59,970 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2025-07-09 10:10:59,971 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-8482968A567B: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15080]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:10:59,971 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2025-07-09 10:10:59,971 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server GrpcServerProtocolService now
2025-07-09 10:10:59,972 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server GrpcServerProtocolService successfully
2025-07-09 10:10:59,972 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2025-07-09 10:10:59,972 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2025-07-09 10:10:59,973 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(153)) - run 'Starting a new server with the same address should fail'
2025-07-09 10:10:59,973 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:59,973 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:10:59,975 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(270)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b
2025-07-09 10:10:59,975 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s0: addNew group-8482968A567B:[s0|localhost:15080] returns group-8482968A567B:java.util.concurrent.CompletableFuture@5749e633[Not completed]
2025-07-09 10:10:59,975 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s0: new RaftServerImpl for group-8482968A567B:[s0|localhost:15080] with SimpleStateMachine4Testing:s0:group-8482968A567B
2025-07-09 10:10:59,975 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-8482968A567B: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15080]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:10:59,976 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:223)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:56)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:106)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:66)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:176)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:129)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:100)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:118)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:68)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:401)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-07-09 10:10:59,977 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(231)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b/in_use.lock", attempt #1/5, sleep 1s and then retry: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b. The directory is already locked
2025-07-09 10:11:00,977 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:223)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:56)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:106)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:66)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:176)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:129)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:100)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:118)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:68)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:401)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-07-09 10:11:00,977 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(231)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b/in_use.lock", attempt #2/5, sleep 1s and then retry: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b. The directory is already locked
2025-07-09 10:11:01,270 [timer6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$6(171)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#18-t1,previous=(t:1, i:13),leaderCommit=12,initializing? false,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)  (Repeated 2 times in the last 5.003s)
2025-07-09 10:11:01,270 [timer5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$null$7(175)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s1"
  raftGroupId {
    id: "\330$|\313d\371Nb\210R\337w\321UJ\232"
  }
  callId: 26
  success: true
}
term: 1
nextIndex: 15
followerCommit: 14
matchIndex: 18446744073709551615
isHearbeat: true
  (Repeated 2 times in the last 5.002s)
2025-07-09 10:11:01,978 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:223)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:56)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:106)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:66)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:176)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:129)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:100)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:118)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:68)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:401)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-07-09 10:11:01,978 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(231)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b/in_use.lock", attempt #3/5, sleep 1s and then retry: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b. The directory is already locked
2025-07-09 10:11:02,978 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:223)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:56)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:106)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:66)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:176)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:129)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:100)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:118)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:68)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:401)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-07-09 10:11:02,979 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(231)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b/in_use.lock", attempt #4/5, sleep 1s and then retry: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b. The directory is already locked
2025-07-09 10:11:03,504 [s3@group-640E6E1041F6-SegmentedRaftLogWorker] WARN  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:getFromFuture(98)) - Timeout 4/~
org.apache.ratis.protocol.exceptions.TimeoutIOException: Timeout 10s: s3@group-640E6E1041F6-SegmentedRaftLogWorker-flushStateMachineData
	at org.apache.ratis.util.IOUtils.getFromFuture(IOUtils.java:89)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker$StateMachineDataPolicy.getFromFuture(SegmentedRaftLogWorker.java:95)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker.flushIfNecessary(SegmentedRaftLogWorker.java:377)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker.access$1200(SegmentedRaftLogWorker.java:64)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker$WriteLog.execute(SegmentedRaftLogWorker.java:561)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker.run(SegmentedRaftLogWorker.java:317)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.util.concurrent.TimeoutException
	at java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1784)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1928)
	at org.apache.ratis.util.IOUtils.getFromFuture(IOUtils.java:80)
	... 10 more
2025-07-09 10:11:03,979 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc5500447a/s0/585ac6ce-e7fc-43f9-9553-8482968a567b
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:223)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:56)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:106)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:66)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:176)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:129)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:100)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:118)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:68)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:401)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-07-09 10:11:03,980 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - Expected the test "Starting a new server with the same address should fail" to throw CompletionException with cause(s) [IOException, OverlappingFileLockException]
2025-07-09 10:11:03,981 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:11:03,981 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:11:03,983 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2025-07-09 10:11:03,983 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - *** 
2025-07-09 10:11:03,983 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - ***     Stopping MiniRaftClusterWithGrpc
2025-07-09 10:11:03,983 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - *** 
2025-07-09 10:11:03,984 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - ************************************************************** 
2025-07-09 10:11:03,984 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - printing ALL groups
  s0:  RUNNING    LEADER (RUNNING): s0@group-8482968A567B:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-8482968A567B-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15080]|listeners:[], old=null}
2025-07-09 10:11:03,984 [MiniRaftCluster-21] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(422)) - s0: close
2025-07-09 10:11:03,985 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(527)) - s0@group-8482968A567B: shutdown
2025-07-09 10:11:03,985 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8482968A567B,id=s0
2025-07-09 10:11:03,985 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s0: shutdown s0@group-8482968A567B-LeaderStateImpl
2025-07-09 10:11:03,985 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-8482968A567B-PendingRequests: sendNotLeaderResponses
2025-07-09 10:11:03,985 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(163)) - s0@group-8482968A567B-StateMachineUpdater: set stopIndex = 0
2025-07-09 10:11:03,986 [s0@group-8482968A567B-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(140)) - s0@group-8482968A567B-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:0)
2025-07-09 10:11:03,986 [s0@group-8482968A567B-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-8482968A567B-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2025-07-09 10:11:04,790 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(254)) - s0@group-8482968A567B-SegmentedRaftLogWorker close()
2025-07-09 10:11:04,791 [JvmPauseMonitor20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2025-07-09 10:11:04,791 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(860)) - MiniRaftClusterWithGrpc shutdown completed
2025-07-09 10:11:04,793 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2025-07-09 10:11:04,793 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2025-07-09 10:11:04,793 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2025-07-09 10:11:04,795 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(136)) - Running runWithNewCluster
2025-07-09 10:11:04,796 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(308)) - new MiniRaftClusterWithGrpc with group-E53243EA87AC:[s0|localhost:15084]
2025-07-09 10:11:04,796 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2025-07-09 10:11:04,796 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2025-07-09 10:11:04,796 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ...     Starting MiniRaftClusterWithGrpc
2025-07-09 10:11:04,796 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ... 
2025-07-09 10:11:04,797 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - .............................................................. 
2025-07-09 10:11:04,797 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(320)) - servers = {}
2025-07-09 10:11:04,797 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - newRaftServer: s0, group-E53243EA87AC:[s0|localhost:15084], format? true
2025-07-09 10:11:04,798 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(351)) - deleteFully target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0
2025-07-09 10:11:04,798 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(364)) - deleteFully: target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0 does not exist.
2025-07-09 10:11:04,798 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(390)) - Formatted directory target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0
2025-07-09 10:11:04,799 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:11:04,799 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.admin.port = 15085 (custom)
2025-07-09 10:11:04,800 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:11:04,800 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.client.port = 15086 (custom)
2025-07-09 10:11:04,801 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.port = 15084 (custom)
2025-07-09 10:11:04,801 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.heartbeat.channel = true (default)
2025-07-09 10:11:04,803 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0] (custom)
2025-07-09 10:11:04,804 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s0: addNew group-E53243EA87AC:[s0|localhost:15084] returns group-E53243EA87AC:java.util.concurrent.CompletableFuture@41c83af0[Not completed]
2025-07-09 10:11:04,805 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s0: new RaftServerImpl for group-E53243EA87AC:[s0|localhost:15084] with SimpleStateMachine4Testing:uninitialized
2025-07-09 10:11:04,805 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-E53243EA87AC: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15084]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:11:04,807 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac does not exist. Creating ...
2025-07-09 10:11:04,807 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac
2025-07-09 10:11:04,808 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac/in_use.lock acquired by nodename 11875@fv-az1788-284
2025-07-09 10:11:04,809 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac/current
2025-07-09 10:11:04,809 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac/sm
2025-07-09 10:11:04,809 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@3b2821e2
2025-07-09 10:11:04,810 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:11:04,810 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac has been successfully formatted.
2025-07-09 10:11:04,811 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2025-07-09 10:11:04,811 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2025-07-09 10:11:04,811 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-E53243EA87AC-cacheEviction-AwaitToRun,5,main] started
2025-07-09 10:11:04,812 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s0@group-E53243EA87AC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac
2025-07-09 10:11:04,813 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s0@group-E53243EA87AC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2025-07-09 10:11:04,813 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s0@group-E53243EA87AC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2025-07-09 10:11:04,813 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(405)) - s0@group-E53243EA87AC: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15084]|listeners:[], old=null}
2025-07-09 10:11:04,814 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-E53243EA87AC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2025-07-09 10:11:04,814 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-E53243EA87AC-FollowerState
2025-07-09 10:11:04,814 [s0@group-E53243EA87AC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:11:04,814 [s0@group-E53243EA87AC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:11:04,814 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E53243EA87AC,id=s0
2025-07-09 10:11:04,814 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-E53243EA87AC,id=s0
2025-07-09 10:11:04,815 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(419)) - s0@group-E53243EA87AC: Successfully started.
2025-07-09 10:11:04,815 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(412)) - s0: start RPC server
2025-07-09 10:11:04,816 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15086
2025-07-09 10:11:04,816 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15084
2025-07-09 10:11:04,817 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15085
2025-07-09 10:11:04,817 [JvmPauseMonitor21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2025-07-09 10:11:04,818 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-E53243EA87AC:t0, leader=null, voted=, raftlog=Memoized:s0@group-E53243EA87AC-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15084]|listeners:[], old=null}
2025-07-09 10:11:04,819 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-E53243EA87AC:t0, leader=null, voted=, raftlog=Memoized:s0@group-E53243EA87AC-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15084]|listeners:[], old=null}
2025-07-09 10:11:05,001 [s0@group-E53243EA87AC-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(161)) - s0@group-E53243EA87AC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:187528968ns, electionTimeout:187ms
2025-07-09 10:11:05,001 [s0@group-E53243EA87AC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-E53243EA87AC-FollowerState
2025-07-09 10:11:05,002 [s0@group-E53243EA87AC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-E53243EA87AC: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2025-07-09 10:11:05,002 [s0@group-E53243EA87AC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-E53243EA87AC-LeaderElection14
2025-07-09 10:11:05,002 [s0@group-E53243EA87AC-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s0@group-E53243EA87AC-LeaderElection14 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15084]|listeners:[], old=null}
2025-07-09 10:11:05,003 [s0@group-E53243EA87AC-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s0@group-E53243EA87AC-LeaderElection14 PRE_VOTE round 0: result PASSED (term=0)
2025-07-09 10:11:05,003 [s0@group-E53243EA87AC-LeaderElection14] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@5b879709
2025-07-09 10:11:05,004 [s0@group-E53243EA87AC-LeaderElection14] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:11:05,004 [s0@group-E53243EA87AC-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s0@group-E53243EA87AC-LeaderElection14 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15084]|listeners:[], old=null}
2025-07-09 10:11:05,004 [s0@group-E53243EA87AC-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s0@group-E53243EA87AC-LeaderElection14 ELECTION round 0: result PASSED (term=1)
2025-07-09 10:11:05,004 [s0@group-E53243EA87AC-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-E53243EA87AC-LeaderElection14
2025-07-09 10:11:05,004 [s0@group-E53243EA87AC-LeaderElection14] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-E53243EA87AC: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2025-07-09 10:11:05,005 [s0@group-E53243EA87AC-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.staging.timeout = 900ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:11:05,005 [s0@group-E53243EA87AC-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-E53243EA87AC-LeaderStateImpl
2025-07-09 10:11:05,005 [s0@group-E53243EA87AC-LeaderElection14] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(576)) - s0@group-E53243EA87AC: set firstElectionSinceStartup to false for becomeLeader
2025-07-09 10:11:05,005 [s0@group-E53243EA87AC-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-E53243EA87AC: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 200ms
2025-07-09 10:11:05,005 [s0@group-E53243EA87AC-LeaderElection14] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(440)) - s0@group-E53243EA87AC-SegmentedRaftLogWorker: Starting segment from index:0
2025-07-09 10:11:05,006 [s0@group-E53243EA87AC-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-E53243EA87AC: set configuration conf: {index: 0, cur=peers:[s0|localhost:15084]|listeners:[], old=null}
2025-07-09 10:11:05,006 [s0@group-E53243EA87AC-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2025-07-09 10:11:05,014 [s0@group-E53243EA87AC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s0@group-E53243EA87AC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac/current/log_inprogress_0
2025-07-09 10:11:05,015 [s0@group-E53243EA87AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@51a8098e
2025-07-09 10:11:05,016 [s0@group-E53243EA87AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:11:05,016 [s0@group-E53243EA87AC-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(309)) - Leader s0@group-E53243EA87AC-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2025-07-09 10:11:05,269 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING    LEADER (RUNNING): s0@group-E53243EA87AC:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-E53243EA87AC-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15084]|listeners:[], old=null}
2025-07-09 10:11:05,271 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:11:05,271 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:11:05,273 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(270)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac
2025-07-09 10:11:05,274 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s0: addNew group-E53243EA87AC:[s0|localhost:15084] returns group-E53243EA87AC:java.util.concurrent.CompletableFuture@3ec98000[Not completed]
2025-07-09 10:11:05,274 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s0: new RaftServerImpl for group-E53243EA87AC:[s0|localhost:15084] with SimpleStateMachine4Testing:s0:group-E53243EA87AC
2025-07-09 10:11:05,274 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2025-07-09 10:11:05,274 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-E53243EA87AC: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15084]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:11:05,275 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2025-07-09 10:11:05,275 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server GrpcServerProtocolService now
2025-07-09 10:11:05,275 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server GrpcServerProtocolService successfully
2025-07-09 10:11:05,276 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2025-07-09 10:11:05,276 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2025-07-09 10:11:05,276 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(153)) - run 'Starting a new server with the same address should fail'
2025-07-09 10:11:05,277 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:11:05,277 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:11:05,280 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(270)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac
2025-07-09 10:11:05,280 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s0: addNew group-E53243EA87AC:[s0|localhost:15084] returns group-E53243EA87AC:java.util.concurrent.CompletableFuture@17e66aed[Not completed]
2025-07-09 10:11:05,280 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s0: new RaftServerImpl for group-E53243EA87AC:[s0|localhost:15084] with SimpleStateMachine4Testing:s0:group-E53243EA87AC
2025-07-09 10:11:05,281 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-E53243EA87AC: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15084]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:11:05,282 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:223)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:56)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:106)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:66)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:176)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:129)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:100)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:118)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:68)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:401)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-07-09 10:11:05,282 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(231)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac/in_use.lock", attempt #1/5, sleep 1s and then retry: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac. The directory is already locked
2025-07-09 10:11:06,282 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:223)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:56)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:106)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:66)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:176)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:129)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:100)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:118)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:68)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:401)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-07-09 10:11:06,283 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(231)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac/in_use.lock", attempt #2/5, sleep 1s and then retry: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac. The directory is already locked
2025-07-09 10:11:07,283 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:223)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:56)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:106)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:66)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:176)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:129)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:100)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:118)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:68)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:401)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-07-09 10:11:07,283 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(231)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac/in_use.lock", attempt #3/5, sleep 1s and then retry: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac. The directory is already locked
2025-07-09 10:11:08,284 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:223)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:56)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:106)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:66)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:176)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:129)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:100)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:118)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:68)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:401)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-07-09 10:11:08,284 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(231)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac/in_use.lock", attempt #4/5, sleep 1s and then retry: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac. The directory is already locked
2025-07-09 10:11:09,284 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc2ed3b087/s0/a4d15b9c-3d77-4c4b-b49b-e53243ea87ac
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:223)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:56)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:106)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:66)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:176)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:129)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:100)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:118)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:68)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:401)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-07-09 10:11:09,285 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - Expected the test "Starting a new server with the same address should fail" to throw CompletionException with cause(s) [IOException, OverlappingFileLockException]
2025-07-09 10:11:09,286 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:11:09,286 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:11:09,287 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2025-07-09 10:11:09,288 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - *** 
2025-07-09 10:11:09,288 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - ***     Stopping MiniRaftClusterWithGrpc
2025-07-09 10:11:09,288 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - *** 
2025-07-09 10:11:09,288 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - ************************************************************** 
2025-07-09 10:11:09,288 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - printing ALL groups
  s0:  RUNNING    LEADER (RUNNING): s0@group-E53243EA87AC:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-E53243EA87AC-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15084]|listeners:[], old=null}
2025-07-09 10:11:09,289 [MiniRaftCluster-22] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(422)) - s0: close
2025-07-09 10:11:09,289 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(527)) - s0@group-E53243EA87AC: shutdown
2025-07-09 10:11:09,289 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E53243EA87AC,id=s0
2025-07-09 10:11:09,289 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s0: shutdown s0@group-E53243EA87AC-LeaderStateImpl
2025-07-09 10:11:09,289 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-E53243EA87AC-PendingRequests: sendNotLeaderResponses
2025-07-09 10:11:09,290 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(163)) - s0@group-E53243EA87AC-StateMachineUpdater: set stopIndex = 0
2025-07-09 10:11:09,290 [s0@group-E53243EA87AC-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(140)) - s0@group-E53243EA87AC-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:0)
2025-07-09 10:11:09,290 [s0@group-E53243EA87AC-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-E53243EA87AC-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2025-07-09 10:11:10,017 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(254)) - s0@group-E53243EA87AC-SegmentedRaftLogWorker close()
2025-07-09 10:11:10,017 [JvmPauseMonitor21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2025-07-09 10:11:10,017 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(860)) - MiniRaftClusterWithGrpc shutdown completed
2025-07-09 10:11:10,020 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2025-07-09 10:11:10,021 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2025-07-09 10:11:10,021 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2025-07-09 10:11:10,022 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(136)) - Running runWithNewCluster
2025-07-09 10:11:10,023 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(308)) - new MiniRaftClusterWithGrpc with group-F835AC0A7F0E:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]
2025-07-09 10:11:10,023 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2025-07-09 10:11:10,023 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2025-07-09 10:11:10,024 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ...     Starting MiniRaftClusterWithGrpc
2025-07-09 10:11:10,024 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ... 
2025-07-09 10:11:10,024 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - .............................................................. 
2025-07-09 10:11:10,024 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(320)) - servers = {}
2025-07-09 10:11:10,024 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - newRaftServer: s0, group-F835AC0A7F0E:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096], format? true
2025-07-09 10:11:10,025 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(351)) - deleteFully target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0
2025-07-09 10:11:10,025 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(364)) - deleteFully: target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0 does not exist.
2025-07-09 10:11:10,025 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(390)) - Formatted directory target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0
2025-07-09 10:11:10,026 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:11:10,026 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.admin.port = 15089 (custom)
2025-07-09 10:11:10,026 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:11:10,027 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.client.port = 15090 (custom)
2025-07-09 10:11:10,027 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.port = 15088 (custom)
2025-07-09 10:11:10,027 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.heartbeat.channel = false (custom)
2025-07-09 10:11:10,029 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0] (custom)
2025-07-09 10:11:10,029 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s0: addNew group-F835AC0A7F0E:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096] returns group-F835AC0A7F0E:java.util.concurrent.CompletableFuture@6f00c40e[Not completed]
2025-07-09 10:11:10,029 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s0: new RaftServerImpl for group-F835AC0A7F0E:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096] with SimpleStateMachine4Testing:uninitialized
2025-07-09 10:11:10,030 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - newRaftServer: s1, group-F835AC0A7F0E:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096], format? true
2025-07-09 10:11:10,030 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(351)) - deleteFully target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1
2025-07-09 10:11:10,030 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-F835AC0A7F0E: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:11:10,030 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(364)) - deleteFully: target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1 does not exist.
2025-07-09 10:11:10,030 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(390)) - Formatted directory target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1
2025-07-09 10:11:10,031 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:11:10,031 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.admin.port = 15093 (custom)
2025-07-09 10:11:10,031 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:11:10,032 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.client.port = 15094 (custom)
2025-07-09 10:11:10,032 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.port = 15092 (custom)
2025-07-09 10:11:10,033 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1] (custom)
2025-07-09 10:11:10,034 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s1: addNew group-F835AC0A7F0E:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096] returns group-F835AC0A7F0E:java.util.concurrent.CompletableFuture@60739eca[Not completed]
2025-07-09 10:11:10,034 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s1: new RaftServerImpl for group-F835AC0A7F0E:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096] with SimpleStateMachine4Testing:uninitialized
2025-07-09 10:11:10,034 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - newRaftServer: s2, group-F835AC0A7F0E:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096], format? true
2025-07-09 10:11:10,035 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(351)) - deleteFully target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2
2025-07-09 10:11:10,035 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-F835AC0A7F0E: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:11:10,035 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(364)) - deleteFully: target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2 does not exist.
2025-07-09 10:11:10,035 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(390)) - Formatted directory target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2
2025-07-09 10:11:10,036 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:11:10,036 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.admin.port = 15097 (custom)
2025-07-09 10:11:10,036 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:11:10,036 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.client.port = 15098 (custom)
2025-07-09 10:11:10,037 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.port = 15096 (custom)
2025-07-09 10:11:10,038 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2] (custom)
2025-07-09 10:11:10,039 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s2: addNew group-F835AC0A7F0E:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096] returns group-F835AC0A7F0E:java.util.concurrent.CompletableFuture@147aceec[Not completed]
2025-07-09 10:11:10,039 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s2: new RaftServerImpl for group-F835AC0A7F0E:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096] with SimpleStateMachine4Testing:uninitialized
2025-07-09 10:11:10,039 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-F835AC0A7F0E: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:11:10,039 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0] (custom)
2025-07-09 10:11:10,039 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0/52b423cd-a571-485c-af83-f835ac0a7f0e does not exist. Creating ...
2025-07-09 10:11:10,040 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0/52b423cd-a571-485c-af83-f835ac0a7f0e
2025-07-09 10:11:10,041 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0/52b423cd-a571-485c-af83-f835ac0a7f0e/in_use.lock acquired by nodename 11875@fv-az1788-284
2025-07-09 10:11:10,041 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0/52b423cd-a571-485c-af83-f835ac0a7f0e/current
2025-07-09 10:11:10,041 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0/52b423cd-a571-485c-af83-f835ac0a7f0e/sm
2025-07-09 10:11:10,041 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@6cd30936
2025-07-09 10:11:10,042 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:11:10,043 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0/52b423cd-a571-485c-af83-f835ac0a7f0e has been successfully formatted.
2025-07-09 10:11:10,043 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2025-07-09 10:11:10,043 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2025-07-09 10:11:10,044 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-F835AC0A7F0E-cacheEviction-AwaitToRun,5,main] started
2025-07-09 10:11:10,044 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s0@group-F835AC0A7F0E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0/52b423cd-a571-485c-af83-f835ac0a7f0e
2025-07-09 10:11:10,045 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s0@group-F835AC0A7F0E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2025-07-09 10:11:10,045 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s0@group-F835AC0A7F0E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2025-07-09 10:11:10,046 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(405)) - s0@group-F835AC0A7F0E: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,046 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-F835AC0A7F0E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2025-07-09 10:11:10,046 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-F835AC0A7F0E-FollowerState
2025-07-09 10:11:10,046 [s0@group-F835AC0A7F0E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:11:10,046 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F835AC0A7F0E,id=s0
2025-07-09 10:11:10,047 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-F835AC0A7F0E,id=s0
2025-07-09 10:11:10,046 [s0@group-F835AC0A7F0E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:11:10,047 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(419)) - s0@group-F835AC0A7F0E: Successfully started.
2025-07-09 10:11:10,047 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(412)) - s0: start RPC server
2025-07-09 10:11:10,048 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15090
2025-07-09 10:11:10,048 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15088
2025-07-09 10:11:10,048 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15089
2025-07-09 10:11:10,049 [JvmPauseMonitor22] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2025-07-09 10:11:10,049 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1] (custom)
2025-07-09 10:11:10,049 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1/52b423cd-a571-485c-af83-f835ac0a7f0e does not exist. Creating ...
2025-07-09 10:11:10,050 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1/52b423cd-a571-485c-af83-f835ac0a7f0e
2025-07-09 10:11:10,050 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1/52b423cd-a571-485c-af83-f835ac0a7f0e/in_use.lock acquired by nodename 11875@fv-az1788-284
2025-07-09 10:11:10,051 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1/52b423cd-a571-485c-af83-f835ac0a7f0e/current
2025-07-09 10:11:10,051 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1/52b423cd-a571-485c-af83-f835ac0a7f0e/sm
2025-07-09 10:11:10,051 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@55657298
2025-07-09 10:11:10,052 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:11:10,052 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1/52b423cd-a571-485c-af83-f835ac0a7f0e has been successfully formatted.
2025-07-09 10:11:10,052 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2025-07-09 10:11:10,052 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2025-07-09 10:11:10,053 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-F835AC0A7F0E-cacheEviction-AwaitToRun,5,main] started
2025-07-09 10:11:10,053 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s1@group-F835AC0A7F0E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1/52b423cd-a571-485c-af83-f835ac0a7f0e
2025-07-09 10:11:10,053 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s1@group-F835AC0A7F0E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2025-07-09 10:11:10,054 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s1@group-F835AC0A7F0E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2025-07-09 10:11:10,054 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(405)) - s1@group-F835AC0A7F0E: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,054 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s1@group-F835AC0A7F0E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2025-07-09 10:11:10,054 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-F835AC0A7F0E-FollowerState
2025-07-09 10:11:10,054 [s1@group-F835AC0A7F0E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:11:10,054 [s1@group-F835AC0A7F0E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:11:10,054 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F835AC0A7F0E,id=s1
2025-07-09 10:11:10,054 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-F835AC0A7F0E,id=s1
2025-07-09 10:11:10,055 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(419)) - s1@group-F835AC0A7F0E: Successfully started.
2025-07-09 10:11:10,055 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(412)) - s1: start RPC server
2025-07-09 10:11:10,055 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s1: GrpcServicesImpl started, listening on 15094
2025-07-09 10:11:10,056 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s1: GrpcServicesImpl started, listening on 15092
2025-07-09 10:11:10,056 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s1: GrpcServicesImpl started, listening on 15093
2025-07-09 10:11:10,057 [JvmPauseMonitor23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2025-07-09 10:11:10,057 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2] (custom)
2025-07-09 10:11:10,057 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e does not exist. Creating ...
2025-07-09 10:11:10,058 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e
2025-07-09 10:11:10,058 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e/in_use.lock acquired by nodename 11875@fv-az1788-284
2025-07-09 10:11:10,059 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e/current
2025-07-09 10:11:10,059 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e/sm
2025-07-09 10:11:10,059 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@34838644
2025-07-09 10:11:10,060 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:11:10,060 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e has been successfully formatted.
2025-07-09 10:11:10,060 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2025-07-09 10:11:10,060 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2025-07-09 10:11:10,061 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-F835AC0A7F0E-cacheEviction-AwaitToRun,5,main] started
2025-07-09 10:11:10,061 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s2@group-F835AC0A7F0E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e
2025-07-09 10:11:10,063 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s2@group-F835AC0A7F0E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2025-07-09 10:11:10,063 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s2@group-F835AC0A7F0E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2025-07-09 10:11:10,063 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(405)) - s2@group-F835AC0A7F0E: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,063 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s2@group-F835AC0A7F0E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2025-07-09 10:11:10,063 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-F835AC0A7F0E-FollowerState
2025-07-09 10:11:10,064 [s2@group-F835AC0A7F0E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:11:10,064 [s2@group-F835AC0A7F0E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:11:10,064 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F835AC0A7F0E,id=s2
2025-07-09 10:11:10,064 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-F835AC0A7F0E,id=s2
2025-07-09 10:11:10,064 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(419)) - s2@group-F835AC0A7F0E: Successfully started.
2025-07-09 10:11:10,064 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(412)) - s2: start RPC server
2025-07-09 10:11:10,065 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s2: GrpcServicesImpl started, listening on 15098
2025-07-09 10:11:10,066 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s2: GrpcServicesImpl started, listening on 15096
2025-07-09 10:11:10,066 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s2: GrpcServicesImpl started, listening on 15097
2025-07-09 10:11:10,067 [JvmPauseMonitor24] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2025-07-09 10:11:10,068 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-F835AC0A7F0E:t0, leader=null, voted=, raftlog=Memoized:s0@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
  s1:  RUNNING  FOLLOWER (RUNNING): s1@group-F835AC0A7F0E:t0, leader=null, voted=, raftlog=Memoized:s1@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
  s2:  RUNNING  FOLLOWER (RUNNING): s2@group-F835AC0A7F0E:t0, leader=null, voted=, raftlog=Memoized:s2@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,068 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-F835AC0A7F0E:t0, leader=null, voted=, raftlog=Memoized:s0@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
  s1:  RUNNING  FOLLOWER (RUNNING): s1@group-F835AC0A7F0E:t0, leader=null, voted=, raftlog=Memoized:s1@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
  s2:  RUNNING  FOLLOWER (RUNNING): s2@group-F835AC0A7F0E:t0, leader=null, voted=, raftlog=Memoized:s2@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,223 [s1@group-F835AC0A7F0E-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(161)) - s1@group-F835AC0A7F0E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:169517529ns, electionTimeout:169ms
2025-07-09 10:11:10,224 [s1@group-F835AC0A7F0E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-F835AC0A7F0E-FollowerState
2025-07-09 10:11:10,224 [s1@group-F835AC0A7F0E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s1@group-F835AC0A7F0E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2025-07-09 10:11:10,224 [s1@group-F835AC0A7F0E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-F835AC0A7F0E-LeaderElection15
2025-07-09 10:11:10,225 [s1@group-F835AC0A7F0E-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s1@group-F835AC0A7F0E-LeaderElection15 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,225 [s1@group-F835AC0A7F0E-LeaderElection15-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15088
2025-07-09 10:11:10,226 [s1@group-F835AC0A7F0E-LeaderElection15-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15096
2025-07-09 10:11:10,225 [s1@group-F835AC0A7F0E-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:11:10,226 [s1@group-F835AC0A7F0E-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:11:10,229 [s2@group-F835AC0A7F0E-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(161)) - s2@group-F835AC0A7F0E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:165667880ns, electionTimeout:165ms
2025-07-09 10:11:10,229 [s2@group-F835AC0A7F0E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-F835AC0A7F0E-FollowerState
2025-07-09 10:11:10,229 [s2@group-F835AC0A7F0E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s2@group-F835AC0A7F0E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2025-07-09 10:11:10,229 [s2@group-F835AC0A7F0E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-F835AC0A7F0E-LeaderElection16
2025-07-09 10:11:10,230 [s2@group-F835AC0A7F0E-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s2@group-F835AC0A7F0E-LeaderElection16 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,230 [s2@group-F835AC0A7F0E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:11:10,230 [s2@group-F835AC0A7F0E-LeaderElection16-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15092
2025-07-09 10:11:10,230 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s0@group-F835AC0A7F0E: receive requestVote(PRE_VOTE, s1, group-F835AC0A7F0E, 0, <PROTO_DEFAULT>)
2025-07-09 10:11:10,231 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-F835AC0A7F0E-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2025-07-09 10:11:10,231 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s0@group-F835AC0A7F0E replies to PRE_VOTE vote request: s1<-s0#0:OK-t0-last:<INITIAL_VALUE>. Peer's state: s0@group-F835AC0A7F0E:t0, leader=null, voted=, raftlog=Memoized:s0@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,230 [s2@group-F835AC0A7F0E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:11:10,230 [s2@group-F835AC0A7F0E-LeaderElection16-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15088
2025-07-09 10:11:10,231 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s2@group-F835AC0A7F0E: receive requestVote(PRE_VOTE, s1, group-F835AC0A7F0E, 0, <PROTO_DEFAULT>)
2025-07-09 10:11:10,233 [s1@group-F835AC0A7F0E-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s1@group-F835AC0A7F0E-LeaderElection15: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2025-07-09 10:11:10,233 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-F835AC0A7F0E-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2025-07-09 10:11:10,233 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s2@group-F835AC0A7F0E replies to PRE_VOTE vote request: s1<-s2#0:OK-t0-last:<INITIAL_VALUE>. Peer's state: s2@group-F835AC0A7F0E:t0, leader=null, voted=, raftlog=Memoized:s2@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,233 [s1@group-F835AC0A7F0E-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 0: s1<-s0#0:OK-t0-last:<INITIAL_VALUE>
2025-07-09 10:11:10,233 [s1@group-F835AC0A7F0E-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s1@group-F835AC0A7F0E-LeaderElection15 PRE_VOTE round 0: result PASSED
2025-07-09 10:11:10,234 [s1@group-F835AC0A7F0E-LeaderElection15] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@51a7a782
2025-07-09 10:11:10,235 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s1@group-F835AC0A7F0E: receive requestVote(PRE_VOTE, s2, group-F835AC0A7F0E, 0, <PROTO_DEFAULT>)
2025-07-09 10:11:10,235 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-F835AC0A7F0E-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2025-07-09 10:11:10,235 [s1@group-F835AC0A7F0E-LeaderElection15] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:11:10,236 [s1@group-F835AC0A7F0E-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s1@group-F835AC0A7F0E-LeaderElection15 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,236 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s1@group-F835AC0A7F0E replies to PRE_VOTE vote request: s2<-s1#0:OK-t1-last:<INITIAL_VALUE>. Peer's state: s1@group-F835AC0A7F0E:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,237 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s0@group-F835AC0A7F0E: receive requestVote(PRE_VOTE, s2, group-F835AC0A7F0E, 0, <PROTO_DEFAULT>)
2025-07-09 10:11:10,237 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-F835AC0A7F0E-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2025-07-09 10:11:10,238 [s2@group-F835AC0A7F0E-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s2@group-F835AC0A7F0E-LeaderElection16: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2025-07-09 10:11:10,238 [s2@group-F835AC0A7F0E-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 0: s2<-s1#0:OK-t1-last:<INITIAL_VALUE>
2025-07-09 10:11:10,238 [s2@group-F835AC0A7F0E-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s2@group-F835AC0A7F0E-LeaderElection16 PRE_VOTE round 0: result DISCOVERED_A_NEW_TERM (term=1)
2025-07-09 10:11:10,238 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s0@group-F835AC0A7F0E replies to PRE_VOTE vote request: s2<-s0#0:OK-t0-last:<INITIAL_VALUE>. Peer's state: s0@group-F835AC0A7F0E:t0, leader=null, voted=, raftlog=Memoized:s0@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,238 [s1@group-F835AC0A7F0E-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:11:10,239 [s1@group-F835AC0A7F0E-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:11:10,239 [s2@group-F835AC0A7F0E-LeaderElection16] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s2@group-F835AC0A7F0E: changes role from CANDIDATE to FOLLOWER at term 0 for DISCOVERED_A_NEW_TERM (term=1)
2025-07-09 10:11:10,239 [s2@group-F835AC0A7F0E-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-F835AC0A7F0E-LeaderElection16
2025-07-09 10:11:10,239 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s2@group-F835AC0A7F0E: receive requestVote(ELECTION, s1, group-F835AC0A7F0E, 1, <PROTO_DEFAULT>)
2025-07-09 10:11:10,239 [s2@group-F835AC0A7F0E-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-F835AC0A7F0E-FollowerState
2025-07-09 10:11:10,240 [s2@group-F835AC0A7F0E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:11:10,240 [s2@group-F835AC0A7F0E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:11:10,240 [s2@group-F835AC0A7F0E-LeaderElection16] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(576)) - s2@group-F835AC0A7F0E: set firstElectionSinceStartup to false for DISCOVERED_A_NEW_TERM (term=1)
2025-07-09 10:11:10,240 [s2@group-F835AC0A7F0E-LeaderElection16] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@70a36663
2025-07-09 10:11:10,240 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s0@group-F835AC0A7F0E: receive requestVote(ELECTION, s1, group-F835AC0A7F0E, 1, <PROTO_DEFAULT>)
2025-07-09 10:11:10,241 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-F835AC0A7F0E-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2025-07-09 10:11:10,241 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-F835AC0A7F0E: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s1
2025-07-09 10:11:10,241 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-F835AC0A7F0E-FollowerState
2025-07-09 10:11:10,241 [s2@group-F835AC0A7F0E-LeaderElection16] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:11:10,241 [s0@group-F835AC0A7F0E-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s0@group-F835AC0A7F0E-FollowerState was interrupted
2025-07-09 10:11:10,241 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-F835AC0A7F0E-FollowerState
2025-07-09 10:11:10,242 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-F835AC0A7F0E-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2025-07-09 10:11:10,242 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s2@group-F835AC0A7F0E: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2025-07-09 10:11:10,242 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-F835AC0A7F0E-FollowerState
2025-07-09 10:11:10,242 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-F835AC0A7F0E-FollowerState
2025-07-09 10:11:10,242 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(576)) - s0@group-F835AC0A7F0E: set firstElectionSinceStartup to false for candidate:s1
2025-07-09 10:11:10,243 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@6dbc6d80
2025-07-09 10:11:10,243 [s2@group-F835AC0A7F0E-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s2@group-F835AC0A7F0E-FollowerState was interrupted
2025-07-09 10:11:10,243 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@6fd40af
2025-07-09 10:11:10,244 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:11:10,244 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s2@group-F835AC0A7F0E replies to ELECTION vote request: s1<-s2#0:OK-t1-last:<INITIAL_VALUE>. Peer's state: s2@group-F835AC0A7F0E:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,245 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:11:10,245 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s0@group-F835AC0A7F0E replies to ELECTION vote request: s1<-s0#0:OK-t1-last:<INITIAL_VALUE>. Peer's state: s0@group-F835AC0A7F0E:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,246 [s1@group-F835AC0A7F0E-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s1@group-F835AC0A7F0E-LeaderElection15: ELECTION PASSED received 1 response(s) and 0 exception(s):
2025-07-09 10:11:10,246 [s1@group-F835AC0A7F0E-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 0: s1<-s2#0:OK-t1-last:<INITIAL_VALUE>
2025-07-09 10:11:10,246 [s1@group-F835AC0A7F0E-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s1@group-F835AC0A7F0E-LeaderElection15 ELECTION round 0: result PASSED
2025-07-09 10:11:10,246 [s1@group-F835AC0A7F0E-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s1: shutdown s1@group-F835AC0A7F0E-LeaderElection15
2025-07-09 10:11:10,247 [s1@group-F835AC0A7F0E-LeaderElection15] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s1@group-F835AC0A7F0E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2025-07-09 10:11:10,247 [s1@group-F835AC0A7F0E-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.staging.timeout = 900ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:11:10,248 [s1@group-F835AC0A7F0E-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-F835AC0A7F0E-LeaderStateImpl
2025-07-09 10:11:10,248 [s1@group-F835AC0A7F0E-LeaderElection15] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(576)) - s1@group-F835AC0A7F0E: set firstElectionSinceStartup to false for becomeLeader
2025-07-09 10:11:10,248 [s1@group-F835AC0A7F0E-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-F835AC0A7F0E: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 212ms
2025-07-09 10:11:10,248 [s1@group-F835AC0A7F0E-LeaderElection15] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(440)) - s1@group-F835AC0A7F0E-SegmentedRaftLogWorker: Starting segment from index:0
2025-07-09 10:11:10,249 [s1@group-F835AC0A7F0E-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-F835AC0A7F0E: set configuration conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,249 [s1@group-F835AC0A7F0E-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2025-07-09 10:11:10,251 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-F835AC0A7F0E: change Leader from null to s1 at term 1 for appendEntries, leader elected after 221ms
2025-07-09 10:11:10,252 [grpc-default-executor-5] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-F835AC0A7F0E: change Leader from null to s1 at term 1 for appendEntries, leader elected after 212ms
2025-07-09 10:11:10,255 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-F835AC0A7F0E: set configuration conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,255 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-F835AC0A7F0E: set configuration conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,255 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(440)) - s2@group-F835AC0A7F0E-SegmentedRaftLogWorker: Starting segment from index:0
2025-07-09 10:11:10,256 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(440)) - s0@group-F835AC0A7F0E-SegmentedRaftLogWorker: Starting segment from index:0
2025-07-09 10:11:10,256 [s0@group-F835AC0A7F0E-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2025-07-09 10:11:10,256 [s2@group-F835AC0A7F0E-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2025-07-09 10:11:10,278 [s1@group-F835AC0A7F0E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s1@group-F835AC0A7F0E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1/52b423cd-a571-485c-af83-f835ac0a7f0e/current/log_inprogress_0
2025-07-09 10:11:10,280 [s2@group-F835AC0A7F0E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s2@group-F835AC0A7F0E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e/current/log_inprogress_0
2025-07-09 10:11:10,280 [s0@group-F835AC0A7F0E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s0@group-F835AC0A7F0E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0/52b423cd-a571-485c-af83-f835ac0a7f0e/current/log_inprogress_0
2025-07-09 10:11:10,282 [s1@group-F835AC0A7F0E-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@11fba18b
2025-07-09 10:11:10,283 [s1@group-F835AC0A7F0E-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:11:10,283 [s1@group-F835AC0A7F0E-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(309)) - Leader s1@group-F835AC0A7F0E-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2025-07-09 10:11:10,359 [s0@group-F835AC0A7F0E-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@6bc25e0a
2025-07-09 10:11:10,359 [s2@group-F835AC0A7F0E-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@66e811c7
2025-07-09 10:11:10,361 [s0@group-F835AC0A7F0E-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:11:10,361 [s2@group-F835AC0A7F0E-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:11:10,518 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-F835AC0A7F0E:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
  s1:  RUNNING    LEADER (RUNNING): s1@group-F835AC0A7F0E:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
  s2:  RUNNING  FOLLOWER (RUNNING): s2@group-F835AC0A7F0E:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,524 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-7BB6509677B9->s0: receive RaftClientReply:client-7BB6509677B9->s0@group-F835AC0A7F0E, cid=115, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-F835AC0A7F0E is not the leader, suggested leader is: s1|localhost:15092, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2025-07-09 10:11:10,524 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-7BB6509677B9: Failed* RaftClientRequest:client-7BB6509677B9->s0@group-F835AC0A7F0E, cid=115, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-F835AC0A7F0E is not the leader, suggested leader is: s1|localhost:15092
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:317)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:308)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:551)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:648)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-F835AC0A7F0E is not the leader, suggested leader is: s1|localhost:15092
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:402)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:313)
	... 11 more
2025-07-09 10:11:10,530 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-7BB6509677B9->s1: receive RaftClientReply:client-7BB6509677B9->s1@group-F835AC0A7F0E, cid=115, SUCCESS, logIndex=0, commits[s1:c0, s0:c0, s2:c0]
2025-07-09 10:11:10,533 [s1@group-F835AC0A7F0E-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 1
2025-07-09 10:11:10,533 [s1@group-F835AC0A7F0E-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:11:10,534 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-7BB6509677B9->s1: receive RaftClientReply:client-7BB6509677B9->s1@group-F835AC0A7F0E, cid=116, SUCCESS, logIndex=1, commits[s1:c1, s0:c0, s2:c0]
2025-07-09 10:11:10,541 [s2@group-F835AC0A7F0E-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 1
2025-07-09 10:11:10,541 [s0@group-F835AC0A7F0E-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 1
2025-07-09 10:11:10,541 [s2@group-F835AC0A7F0E-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:11:10,541 [s0@group-F835AC0A7F0E-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:11:10,545 [s1@group-F835AC0A7F0E-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 3
2025-07-09 10:11:10,545 [s1@group-F835AC0A7F0E-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=2, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:11:10,547 [s0@group-F835AC0A7F0E-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 3
2025-07-09 10:11:10,547 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-DD0F5D42D6C3->s1: receive RaftClientReply:client-DD0F5D42D6C3->s1@group-F835AC0A7F0E, cid=1, SUCCESS, logIndex=3, commits[s1:c3, s0:c2, s2:c2]
2025-07-09 10:11:10,547 [s2@group-F835AC0A7F0E-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 3
2025-07-09 10:11:10,548 [s2@group-F835AC0A7F0E-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=2, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:11:10,547 [s0@group-F835AC0A7F0E-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=2, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:11:10,549 [main] INFO  grpc.TestRaftServerWithGrpc (TestRaftServerWithGrpc.java:runTestLeaderRestart(202)) - cache entry 1@client-DD0F5D42D6C3:done
2025-07-09 10:11:10,550 [main] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block START_TRANSACTION
2025-07-09 10:11:10,554 [main] WARN  grpc.TestRaftServerWithGrpc (JavaUtils.java:attempt(231)) - FAILED "invalidate cache entry", attempt #1/10, sleep 100ms and then retry: org.opentest4j.AssertionFailedError: expected: <null> but was: <1@client-DD0F5D42D6C3:done>
2025-07-09 10:11:10,654 [main] INFO  grpc.TestRaftServerWithGrpc (TestRaftServerWithGrpc.java:runTestLeaderRestart(213)) - cache entry not found for 1@client-DD0F5D42D6C3
2025-07-09 10:11:10,658 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s1
2025-07-09 10:11:10,659 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-F835AC0A7F0E:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
  s1:  RUNNING    LEADER (RUNNING): s1@group-F835AC0A7F0E:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
  s2:  RUNNING  FOLLOWER (RUNNING): s2@group-F835AC0A7F0E:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,659 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-F835AC0A7F0E:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
  s1:  RUNNING    LEADER (RUNNING): s1@group-F835AC0A7F0E:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
  s2:  RUNNING  FOLLOWER (RUNNING): s2@group-F835AC0A7F0E:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,660 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "changeLeader-changeLeader", attempt #1/20, sleep 100ms and then retry: org.opentest4j.TestAbortedException: Failed to change leader: newLeader == oldLeader == s1
2025-07-09 10:11:10,703 [grpc-default-executor-5] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2025-07-09 10:11:10,704 [grpc-default-executor-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s1
2025-07-09 10:11:10,760 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-F835AC0A7F0E:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
  s1:  RUNNING    LEADER (RUNNING): s1@group-F835AC0A7F0E:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
  s2:  RUNNING  FOLLOWER (RUNNING): s2@group-F835AC0A7F0E:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,761 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-F835AC0A7F0E:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
  s1:  RUNNING    LEADER (RUNNING): s1@group-F835AC0A7F0E:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
  s2:  RUNNING  FOLLOWER (RUNNING): s2@group-F835AC0A7F0E:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,761 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "changeLeader-changeLeader", attempt #2/20, sleep 100ms and then retry: org.opentest4j.TestAbortedException: Failed to change leader: newLeader == oldLeader == s1
2025-07-09 10:11:10,862 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-F835AC0A7F0E:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
  s1:  RUNNING    LEADER (RUNNING): s1@group-F835AC0A7F0E:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
  s2:  RUNNING  FOLLOWER (RUNNING): s2@group-F835AC0A7F0E:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,862 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-F835AC0A7F0E:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
  s1:  RUNNING    LEADER (RUNNING): s1@group-F835AC0A7F0E:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
  s2:  RUNNING  FOLLOWER (RUNNING): s2@group-F835AC0A7F0E:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,862 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "changeLeader-changeLeader", attempt #3/20, sleep 100ms and then retry: org.opentest4j.TestAbortedException: Failed to change leader: newLeader == oldLeader == s1
2025-07-09 10:11:10,914 [s0@group-F835AC0A7F0E-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(161)) - s0@group-F835AC0A7F0E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:288669568ns, electionTimeout:270ms
2025-07-09 10:11:10,914 [s0@group-F835AC0A7F0E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-F835AC0A7F0E-FollowerState
2025-07-09 10:11:10,914 [s0@group-F835AC0A7F0E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-F835AC0A7F0E: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2025-07-09 10:11:10,914 [s0@group-F835AC0A7F0E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-F835AC0A7F0E-LeaderElection17
2025-07-09 10:11:10,915 [s0@group-F835AC0A7F0E-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-F835AC0A7F0E: change Leader from s1 to null at term 1 for PRE_VOTE
2025-07-09 10:11:10,915 [s0@group-F835AC0A7F0E-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s0@group-F835AC0A7F0E-LeaderElection17 PRE_VOTE round 0: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,915 [s0@group-F835AC0A7F0E-LeaderElection17-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15092
2025-07-09 10:11:10,915 [s0@group-F835AC0A7F0E-LeaderElection17-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15096
2025-07-09 10:11:10,920 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s1@group-F835AC0A7F0E: receive requestVote(PRE_VOTE, s0, group-F835AC0A7F0E, 1, (t:1, i:4))
2025-07-09 10:11:10,920 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s2@group-F835AC0A7F0E: receive requestVote(PRE_VOTE, s0, group-F835AC0A7F0E, 1, (t:1, i:4))
2025-07-09 10:11:10,920 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-F835AC0A7F0E-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2025-07-09 10:11:10,920 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s1@group-F835AC0A7F0E replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1-last:(t:1, i:4). Peer's state: s1@group-F835AC0A7F0E:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,920 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-F835AC0A7F0E-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2025-07-09 10:11:10,920 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s2@group-F835AC0A7F0E replies to PRE_VOTE vote request: s0<-s2#0:OK-t1-last:(t:1, i:4). Peer's state: s2@group-F835AC0A7F0E:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,921 [s0@group-F835AC0A7F0E-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s0@group-F835AC0A7F0E-LeaderElection17: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2025-07-09 10:11:10,921 [s0@group-F835AC0A7F0E-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 0: s0<-s2#0:OK-t1-last:(t:1, i:4)
2025-07-09 10:11:10,922 [s0@group-F835AC0A7F0E-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s0@group-F835AC0A7F0E-LeaderElection17 PRE_VOTE round 0: result PASSED
2025-07-09 10:11:10,922 [s0@group-F835AC0A7F0E-LeaderElection17] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@55ed66
2025-07-09 10:11:10,923 [s0@group-F835AC0A7F0E-LeaderElection17] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:11:10,923 [s0@group-F835AC0A7F0E-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s0@group-F835AC0A7F0E-LeaderElection17 ELECTION round 0: submit vote requests at term 2 for conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,924 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s1@group-F835AC0A7F0E: receive requestVote(ELECTION, s0, group-F835AC0A7F0E, 2, (t:1, i:4))
2025-07-09 10:11:10,924 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-F835AC0A7F0E-LEADER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2025-07-09 10:11:10,924 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s1@group-F835AC0A7F0E: changes role from    LEADER to FOLLOWER at term 1 for candidate:s0
2025-07-09 10:11:10,925 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s1: shutdown s1@group-F835AC0A7F0E-LeaderStateImpl
2025-07-09 10:11:10,924 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s2@group-F835AC0A7F0E: receive requestVote(ELECTION, s0, group-F835AC0A7F0E, 2, (t:1, i:4))
2025-07-09 10:11:10,925 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-F835AC0A7F0E-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2025-07-09 10:11:10,925 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s2@group-F835AC0A7F0E: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2025-07-09 10:11:10,925 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-F835AC0A7F0E-FollowerState
2025-07-09 10:11:10,925 [s1@group-F835AC0A7F0E->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(300)) - s1@group-F835AC0A7F0E->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2025-07-09 10:11:10,925 [s2@group-F835AC0A7F0E-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s2@group-F835AC0A7F0E-FollowerState was interrupted
2025-07-09 10:11:10,925 [s1@group-F835AC0A7F0E->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(300)) - s1@group-F835AC0A7F0E->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2025-07-09 10:11:10,925 [grpc-default-executor-6] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s1@group-F835AC0A7F0E-PendingRequests: sendNotLeaderResponses
2025-07-09 10:11:10,925 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-F835AC0A7F0E: change Leader from s1 to null at term 2 for updateCurrentTerm
2025-07-09 10:11:10,926 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-F835AC0A7F0E-FollowerState
2025-07-09 10:11:10,927 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@4027cad9
2025-07-09 10:11:10,927 [grpc-default-executor-6] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-F835AC0A7F0E: change Leader from s1 to null at term 1 for candidate:s0
2025-07-09 10:11:10,927 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-F835AC0A7F0E-FollowerState
2025-07-09 10:11:10,928 [grpc-default-executor-6] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@2a250dae
2025-07-09 10:11:10,928 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:11:10,928 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s2@group-F835AC0A7F0E replies to ELECTION vote request: s0<-s2#0:OK-t2-last:(t:1, i:4). Peer's state: s2@group-F835AC0A7F0E:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,929 [s0@group-F835AC0A7F0E-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s0@group-F835AC0A7F0E-LeaderElection17: ELECTION PASSED received 1 response(s) and 0 exception(s):
2025-07-09 10:11:10,929 [grpc-default-executor-6] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:11:10,929 [s0@group-F835AC0A7F0E-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 0: s0<-s2#0:OK-t2-last:(t:1, i:4)
2025-07-09 10:11:10,929 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s1@group-F835AC0A7F0E replies to ELECTION vote request: s0<-s1#0:OK-t2-last:(t:1, i:4). Peer's state: s1@group-F835AC0A7F0E:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,929 [s0@group-F835AC0A7F0E-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s0@group-F835AC0A7F0E-LeaderElection17 ELECTION round 0: result PASSED
2025-07-09 10:11:10,929 [s0@group-F835AC0A7F0E-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-F835AC0A7F0E-LeaderElection17
2025-07-09 10:11:10,929 [s0@group-F835AC0A7F0E-LeaderElection17] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-F835AC0A7F0E: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2025-07-09 10:11:10,929 [s0@group-F835AC0A7F0E-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.staging.timeout = 900ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:11:10,931 [s0@group-F835AC0A7F0E-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-F835AC0A7F0E-LeaderStateImpl
2025-07-09 10:11:10,931 [s0@group-F835AC0A7F0E-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-F835AC0A7F0E: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 15ms
2025-07-09 10:11:10,931 [s0@group-F835AC0A7F0E-LeaderElection17] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(445)) - s0@group-F835AC0A7F0E-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2025-07-09 10:11:10,932 [s0@group-F835AC0A7F0E-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-F835AC0A7F0E: set configuration conf: {index: 5, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,933 [s0@group-F835AC0A7F0E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0/52b423cd-a571-485c-af83-f835ac0a7f0e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0/52b423cd-a571-485c-af83-f835ac0a7f0e/current/log_0-4
2025-07-09 10:11:10,933 [s0@group-F835AC0A7F0E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(604)) - s0@group-F835AC0A7F0E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0/52b423cd-a571-485c-af83-f835ac0a7f0e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0/52b423cd-a571-485c-af83-f835ac0a7f0e/current/log_0-4
2025-07-09 10:11:10,933 [s0@group-F835AC0A7F0E-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_5 at position 0
2025-07-09 10:11:10,934 [grpc-default-executor-6] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-F835AC0A7F0E: change Leader from null to s0 at term 2 for appendEntries, leader elected after 7ms
2025-07-09 10:11:10,935 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-F835AC0A7F0E: change Leader from null to s0 at term 2 for appendEntries, leader elected after 9ms
2025-07-09 10:11:10,939 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-F835AC0A7F0E: set configuration conf: {index: 5, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,940 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-F835AC0A7F0E: set configuration conf: {index: 5, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,940 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(445)) - s1@group-F835AC0A7F0E-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2025-07-09 10:11:10,940 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(445)) - s2@group-F835AC0A7F0E-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2025-07-09 10:11:10,941 [s1@group-F835AC0A7F0E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1/52b423cd-a571-485c-af83-f835ac0a7f0e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1/52b423cd-a571-485c-af83-f835ac0a7f0e/current/log_0-4
2025-07-09 10:11:10,941 [s1@group-F835AC0A7F0E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(604)) - s1@group-F835AC0A7F0E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1/52b423cd-a571-485c-af83-f835ac0a7f0e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1/52b423cd-a571-485c-af83-f835ac0a7f0e/current/log_0-4
2025-07-09 10:11:10,941 [s2@group-F835AC0A7F0E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e/current/log_0-4
2025-07-09 10:11:10,941 [s2@group-F835AC0A7F0E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(604)) - s2@group-F835AC0A7F0E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e/current/log_0-4
2025-07-09 10:11:10,941 [s1@group-F835AC0A7F0E-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_5 at position 0
2025-07-09 10:11:10,941 [s2@group-F835AC0A7F0E-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_5 at position 0
2025-07-09 10:11:10,944 [s0@group-F835AC0A7F0E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s0@group-F835AC0A7F0E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0/52b423cd-a571-485c-af83-f835ac0a7f0e/current/log_inprogress_5
2025-07-09 10:11:10,954 [s1@group-F835AC0A7F0E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s1@group-F835AC0A7F0E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1/52b423cd-a571-485c-af83-f835ac0a7f0e/current/log_inprogress_5
2025-07-09 10:11:10,955 [s2@group-F835AC0A7F0E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s2@group-F835AC0A7F0E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e/current/log_inprogress_5
2025-07-09 10:11:10,955 [s0@group-F835AC0A7F0E-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@6505ad02
2025-07-09 10:11:10,957 [s0@group-F835AC0A7F0E-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s0/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:11:10,957 [s0@group-F835AC0A7F0E-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(309)) - Leader s0@group-F835AC0A7F0E-LeaderStateImpl is ready since appliedIndex == startIndex == 5
2025-07-09 10:11:10,958 [s1@group-F835AC0A7F0E-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@1f3c5dc4
2025-07-09 10:11:10,958 [s2@group-F835AC0A7F0E-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@682fe36a
2025-07-09 10:11:10,960 [s1@group-F835AC0A7F0E-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s1/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:11:10,960 [s2@group-F835AC0A7F0E-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpc8576db4a/s2/52b423cd-a571-485c-af83-f835ac0a7f0e/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:11:10,963 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING    LEADER (RUNNING): s0@group-F835AC0A7F0E:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c6:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
  s1:  RUNNING  FOLLOWER (RUNNING): s1@group-F835AC0A7F0E:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c5:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
  s2:  RUNNING  FOLLOWER (RUNNING): s2@group-F835AC0A7F0E:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c5:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,963 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING    LEADER (RUNNING): s0@group-F835AC0A7F0E:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c6:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
  s1:  RUNNING  FOLLOWER (RUNNING): s1@group-F835AC0A7F0E:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c5:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
  s2:  RUNNING  FOLLOWER (RUNNING): s2@group-F835AC0A7F0E:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c5:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:10,964 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$15(492)) - Changed leader from s1 to s0
2025-07-09 10:11:10,964 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s1
2025-07-09 10:11:10,965 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(153)) - run 'request should fail'
2025-07-09 10:11:10,965 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - Expected the test "request should fail" to throw ExecutionException with cause(s) [AlreadyClosedException]
2025-07-09 10:11:10,965 [main] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock START_TRANSACTION
2025-07-09 10:11:10,968 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(153)) - run 'request should timeout'
2025-07-09 10:11:11,004 [grpc-default-executor-5] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2025-07-09 10:11:11,004 [grpc-default-executor-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s1
2025-07-09 10:11:11,005 [grpc-default-executor-2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-F835AC0A7F0E: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2025-07-09 10:11:11,005 [grpc-default-executor-5] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-F835AC0A7F0E: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2025-07-09 10:11:11,006 [grpc-default-executor-2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-F835AC0A7F0E: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2025-07-09 10:11:11,006 [grpc-default-executor-5] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-F835AC0A7F0E: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2025-07-09 10:11:11,006 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(519)) - s1@group-F835AC0A7F0E->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2025-07-09 10:11:11,006 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(519)) - s1@group-F835AC0A7F0E->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2025-07-09 10:11:11,006 [grpc-default-executor-5] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-F835AC0A7F0E: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2025-07-09 10:11:11,006 [grpc-default-executor-2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-F835AC0A7F0E: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2025-07-09 10:11:11,007 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(519)) - s1@group-F835AC0A7F0E->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2025-07-09 10:11:11,007 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(519)) - s1@group-F835AC0A7F0E->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2025-07-09 10:11:11,007 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(519)) - s1@group-F835AC0A7F0E->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2025-07-09 10:11:11,007 [grpc-default-executor-1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-F835AC0A7F0E: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2025-07-09 10:11:11,007 [grpc-default-executor-2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-F835AC0A7F0E: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2025-07-09 10:11:11,008 [grpc-default-executor-2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-F835AC0A7F0E: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2025-07-09 10:11:11,008 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(519)) - s1@group-F835AC0A7F0E->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2025-07-09 10:11:11,008 [grpc-default-executor-5] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-F835AC0A7F0E: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2025-07-09 10:11:11,008 [grpc-default-executor-5] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-F835AC0A7F0E: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2025-07-09 10:11:11,008 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(519)) - s1@group-F835AC0A7F0E->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2025-07-09 10:11:11,009 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(519)) - s1@group-F835AC0A7F0E->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2025-07-09 10:11:11,009 [grpc-default-executor-3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-F835AC0A7F0E: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2025-07-09 10:11:11,009 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(519)) - s1@group-F835AC0A7F0E->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2025-07-09 10:11:11,009 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$6(171)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#10-t1,previous=(t:1, i:3),leaderCommit=3,initializing? false,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3) 
2025-07-09 10:11:11,010 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(519)) - s1@group-F835AC0A7F0E->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2025-07-09 10:11:11,010 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(519)) - s1@group-F835AC0A7F0E->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2025-07-09 10:11:11,008 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$6(171)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#10-t1,previous=(t:1, i:3),leaderCommit=3,initializing? false,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3) 
2025-07-09 10:11:11,011 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$null$7(175)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s0"
  raftGroupId {
    id: "R\264#\315\245qH\\\257\203\3705\254\n\177\016"
  }
  callId: 19
}
term: 2
nextIndex: 7
result: NOT_LEADER
followerCommit: 6
matchIndex: 18446744073709551615
isHearbeat: true
 
2025-07-09 10:11:11,012 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(519)) - s1@group-F835AC0A7F0E->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2025-07-09 10:11:11,011 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$null$7(175)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s2"
  raftGroupId {
    id: "R\264#\315\245qH\\\257\203\3705\254\n\177\016"
  }
  callId: 19
}
term: 2
nextIndex: 7
result: NOT_LEADER
followerCommit: 5
matchIndex: 18446744073709551615
isHearbeat: true
 
2025-07-09 10:11:11,013 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(558)) - s1@group-F835AC0A7F0E->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2025-07-09 10:11:11,015 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(558)) - s1@group-F835AC0A7F0E->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2025-07-09 10:11:11,967 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - Expected the test "request should timeout" to throw ExecutionException with cause(s) [TimeoutIOException]
2025-07-09 10:11:11,972 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-DD0F5D42D6C3->s1: receive RaftClientReply:client-DD0F5D42D6C3->s1@group-F835AC0A7F0E, cid=3, FAILED org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Server:2-OrderedRequestStreamObserver2 is closing: seq = 3 > nextToProcess = -1 will NEVER be processed; request = 3:null, logIndex=0, commits[]
2025-07-09 10:11:13,505 [s3@group-640E6E1041F6-SegmentedRaftLogWorker] WARN  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:getFromFuture(98)) - Timeout 5/~
org.apache.ratis.protocol.exceptions.TimeoutIOException: Timeout 10s: s3@group-640E6E1041F6-SegmentedRaftLogWorker-flushStateMachineData
	at org.apache.ratis.util.IOUtils.getFromFuture(IOUtils.java:89)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker$StateMachineDataPolicy.getFromFuture(SegmentedRaftLogWorker.java:95)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker.flushIfNecessary(SegmentedRaftLogWorker.java:377)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker.access$1200(SegmentedRaftLogWorker.java:64)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker$WriteLog.execute(SegmentedRaftLogWorker.java:561)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker.run(SegmentedRaftLogWorker.java:317)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.util.concurrent.TimeoutException
	at java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1784)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1928)
	at org.apache.ratis.util.IOUtils.getFromFuture(IOUtils.java:80)
	... 10 more
2025-07-09 10:11:14,968 [Thread-667] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(226)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=928, target=localhost:15094}}. 
2025-07-09 10:11:14,969 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2025-07-09 10:11:14,970 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - *** 
2025-07-09 10:11:14,970 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - ***     Stopping MiniRaftClusterWithGrpc
2025-07-09 10:11:14,970 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - *** 
2025-07-09 10:11:14,970 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - ************************************************************** 
2025-07-09 10:11:14,970 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - printing ALL groups
  s0:  RUNNING    LEADER (RUNNING): s0@group-F835AC0A7F0E:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c6:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
  s1:  RUNNING  FOLLOWER (RUNNING): s1@group-F835AC0A7F0E:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c6:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
  s2:  RUNNING  FOLLOWER (RUNNING): s2@group-F835AC0A7F0E:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-F835AC0A7F0E-SegmentedRaftLog:OPENED:c6:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2025-07-09 10:11:14,971 [MiniRaftCluster-23] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(422)) - s0: close
2025-07-09 10:11:14,971 [MiniRaftCluster-24] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(422)) - s1: close
2025-07-09 10:11:14,972 [MiniRaftCluster-23] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2025-07-09 10:11:14,972 [MiniRaftCluster-24] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2025-07-09 10:11:14,972 [MiniRaftCluster-25] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(422)) - s2: close
2025-07-09 10:11:14,972 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(527)) - s1@group-F835AC0A7F0E: shutdown
2025-07-09 10:11:14,972 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(527)) - s0@group-F835AC0A7F0E: shutdown
2025-07-09 10:11:14,972 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F835AC0A7F0E,id=s0
2025-07-09 10:11:14,972 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s0: shutdown s0@group-F835AC0A7F0E-LeaderStateImpl
2025-07-09 10:11:14,972 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F835AC0A7F0E,id=s1
2025-07-09 10:11:14,972 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-F835AC0A7F0E-FollowerState
2025-07-09 10:11:14,972 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(527)) - s2@group-F835AC0A7F0E: shutdown
2025-07-09 10:11:14,972 [MiniRaftCluster-25] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2025-07-09 10:11:14,973 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F835AC0A7F0E,id=s2
2025-07-09 10:11:14,973 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-F835AC0A7F0E-FollowerState
2025-07-09 10:11:14,973 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(163)) - s2@group-F835AC0A7F0E-StateMachineUpdater: set stopIndex = 6
2025-07-09 10:11:14,973 [Thread-673] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2025-07-09 10:11:14,973 [Thread-674] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2025-07-09 10:11:14,973 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-F835AC0A7F0E-PendingRequests: sendNotLeaderResponses
2025-07-09 10:11:14,973 [s0@group-F835AC0A7F0E->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(300)) - s0@group-F835AC0A7F0E->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2025-07-09 10:11:14,973 [s1@group-F835AC0A7F0E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(140)) - s1@group-F835AC0A7F0E-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:2, i:6)
2025-07-09 10:11:14,975 [s2@group-F835AC0A7F0E-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s2@group-F835AC0A7F0E-FollowerState was interrupted
2025-07-09 10:11:14,973 [s1@group-F835AC0A7F0E-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s1@group-F835AC0A7F0E-FollowerState was interrupted
2025-07-09 10:11:14,973 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(163)) - s1@group-F835AC0A7F0E-StateMachineUpdater: set stopIndex = 6
2025-07-09 10:11:14,974 [Thread-677] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2025-07-09 10:11:14,975 [Thread-676] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2025-07-09 10:11:14,974 [Thread-675] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2025-07-09 10:11:14,974 [s2@group-F835AC0A7F0E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(140)) - s2@group-F835AC0A7F0E-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:2, i:6)
2025-07-09 10:11:14,973 [s0@group-F835AC0A7F0E->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(300)) - s0@group-F835AC0A7F0E->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2025-07-09 10:11:14,977 [MiniRaftCluster-25] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2025-07-09 10:11:14,977 [MiniRaftCluster-25] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s2: shutdown server GrpcServerProtocolService now
2025-07-09 10:11:14,977 [s2@group-F835AC0A7F0E-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-F835AC0A7F0E-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2025-07-09 10:11:14,977 [s0@group-F835AC0A7F0E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(140)) - s0@group-F835AC0A7F0E-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:2, i:6)
2025-07-09 10:11:14,978 [MiniRaftCluster-25] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s2: shutdown server GrpcServerProtocolService successfully
2025-07-09 10:11:14,978 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(558)) - s0@group-F835AC0A7F0E->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2025-07-09 10:11:14,976 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$6(171)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5) 
2025-07-09 10:11:14,979 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$null$7(175)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s1"
  raftGroupId {
    id: "R\264#\315\245qH\\\257\203\3705\254\n\177\016"
  }
  callId: 55
  success: true
}
term: 2
nextIndex: 7
followerCommit: 6
matchIndex: 18446744073709551615
isHearbeat: true
 
2025-07-09 10:11:14,976 [Thread-680] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2025-07-09 10:11:14,975 [s1@group-F835AC0A7F0E-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-F835AC0A7F0E-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2025-07-09 10:11:14,979 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(237)) - s0@group-F835AC0A7F0E->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:207)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:212)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:70)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:559)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:565)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$100(ClientCallImpl.java:72)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:733)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:714)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-07-09 10:11:14,980 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(558)) - s0@group-F835AC0A7F0E->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2025-07-09 10:11:14,978 [MiniRaftCluster-25] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2025-07-09 10:11:14,980 [MiniRaftCluster-25] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2025-07-09 10:11:14,977 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(163)) - s0@group-F835AC0A7F0E-StateMachineUpdater: set stopIndex = 6
2025-07-09 10:11:14,981 [MiniRaftCluster-23] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2025-07-09 10:11:14,981 [s0@group-F835AC0A7F0E-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-F835AC0A7F0E-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2025-07-09 10:11:14,980 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(237)) - s0@group-F835AC0A7F0E->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:207)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:212)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:70)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:559)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:565)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$100(ClientCallImpl.java:72)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:733)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:714)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-07-09 10:11:14,980 [MiniRaftCluster-24] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2025-07-09 10:11:14,981 [MiniRaftCluster-24] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s1: shutdown server GrpcServerProtocolService now
2025-07-09 10:11:14,981 [MiniRaftCluster-23] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server GrpcServerProtocolService now
2025-07-09 10:11:14,981 [MiniRaftCluster-24] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s1: shutdown server GrpcServerProtocolService successfully
2025-07-09 10:11:14,982 [MiniRaftCluster-24] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2025-07-09 10:11:14,982 [MiniRaftCluster-23] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server GrpcServerProtocolService successfully
2025-07-09 10:11:14,982 [MiniRaftCluster-23] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2025-07-09 10:11:14,982 [MiniRaftCluster-24] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2025-07-09 10:11:14,982 [MiniRaftCluster-23] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2025-07-09 10:11:15,958 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(254)) - s0@group-F835AC0A7F0E-SegmentedRaftLogWorker close()
2025-07-09 10:11:15,959 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(254)) - s1@group-F835AC0A7F0E-SegmentedRaftLogWorker close()
2025-07-09 10:11:15,959 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(254)) - s2@group-F835AC0A7F0E-SegmentedRaftLogWorker close()
2025-07-09 10:11:15,960 [JvmPauseMonitor23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2025-07-09 10:11:15,960 [JvmPauseMonitor22] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2025-07-09 10:11:15,960 [JvmPauseMonitor24] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2025-07-09 10:11:15,960 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(860)) - MiniRaftClusterWithGrpc shutdown completed
2025-07-09 10:11:15,962 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2025-07-09 10:11:15,962 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2025-07-09 10:11:15,963 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2025-07-09 10:11:15,964 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(136)) - Running runWithNewCluster
2025-07-09 10:11:15,964 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(308)) - new MiniRaftClusterWithGrpc with group-87FD14D21323:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]
2025-07-09 10:11:15,965 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2025-07-09 10:11:15,965 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2025-07-09 10:11:15,965 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ...     Starting MiniRaftClusterWithGrpc
2025-07-09 10:11:15,965 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ... 
2025-07-09 10:11:15,965 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - .............................................................. 
2025-07-09 10:11:15,966 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(320)) - servers = {}
2025-07-09 10:11:15,966 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - newRaftServer: s0, group-87FD14D21323:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108], format? true
2025-07-09 10:11:15,966 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(351)) - deleteFully target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0
2025-07-09 10:11:15,966 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(364)) - deleteFully: target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0 does not exist.
2025-07-09 10:11:15,967 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(390)) - Formatted directory target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0
2025-07-09 10:11:15,967 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:11:15,967 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.admin.port = 15101 (custom)
2025-07-09 10:11:15,968 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:11:15,968 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.client.port = 15102 (custom)
2025-07-09 10:11:15,968 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.port = 15100 (custom)
2025-07-09 10:11:15,968 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.heartbeat.channel = true (default)
2025-07-09 10:11:15,970 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0] (custom)
2025-07-09 10:11:15,971 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s0: addNew group-87FD14D21323:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108] returns group-87FD14D21323:java.util.concurrent.CompletableFuture@eb09112[Not completed]
2025-07-09 10:11:15,971 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s0: new RaftServerImpl for group-87FD14D21323:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108] with SimpleStateMachine4Testing:uninitialized
2025-07-09 10:11:15,971 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - newRaftServer: s1, group-87FD14D21323:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108], format? true
2025-07-09 10:11:15,971 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(351)) - deleteFully target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1
2025-07-09 10:11:15,971 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-87FD14D21323: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:11:15,971 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(364)) - deleteFully: target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1 does not exist.
2025-07-09 10:11:15,972 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(390)) - Formatted directory target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1
2025-07-09 10:11:15,972 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:11:15,973 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.admin.port = 15105 (custom)
2025-07-09 10:11:15,973 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:11:15,973 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.client.port = 15106 (custom)
2025-07-09 10:11:15,974 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.port = 15104 (custom)
2025-07-09 10:11:15,976 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1] (custom)
2025-07-09 10:11:15,977 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s1: addNew group-87FD14D21323:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108] returns group-87FD14D21323:java.util.concurrent.CompletableFuture@4c9bed65[Not completed]
2025-07-09 10:11:15,977 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s1: new RaftServerImpl for group-87FD14D21323:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108] with SimpleStateMachine4Testing:uninitialized
2025-07-09 10:11:15,977 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - newRaftServer: s2, group-87FD14D21323:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108], format? true
2025-07-09 10:11:15,977 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(351)) - deleteFully target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2
2025-07-09 10:11:15,977 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-87FD14D21323: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:11:15,978 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(364)) - deleteFully: target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2 does not exist.
2025-07-09 10:11:15,978 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(390)) - Formatted directory target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2
2025-07-09 10:11:15,979 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:11:15,979 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.admin.port = 15109 (custom)
2025-07-09 10:11:15,979 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(69)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2025-07-09 10:11:15,980 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.client.port = 15110 (custom)
2025-07-09 10:11:15,980 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(62)) - raft.grpc.server.port = 15108 (custom)
2025-07-09 10:11:15,982 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2] (custom)
2025-07-09 10:11:15,983 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(105)) - s2: addNew group-87FD14D21323:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108] returns group-87FD14D21323:java.util.concurrent.CompletableFuture@63b2418e[Not completed]
2025-07-09 10:11:15,983 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(268)) - s2: new RaftServerImpl for group-87FD14D21323:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108] with SimpleStateMachine4Testing:uninitialized
2025-07-09 10:11:15,983 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0] (custom)
2025-07-09 10:11:15,984 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-87FD14D21323: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}, confs=<EMPTY_MAP>
2025-07-09 10:11:15,984 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0/1b32efc6-5196-406f-ad10-87fd14d21323 does not exist. Creating ...
2025-07-09 10:11:15,984 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0/1b32efc6-5196-406f-ad10-87fd14d21323
2025-07-09 10:11:15,986 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0/1b32efc6-5196-406f-ad10-87fd14d21323/in_use.lock acquired by nodename 11875@fv-az1788-284
2025-07-09 10:11:15,986 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0/1b32efc6-5196-406f-ad10-87fd14d21323/current
2025-07-09 10:11:15,986 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0/1b32efc6-5196-406f-ad10-87fd14d21323/sm
2025-07-09 10:11:15,986 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@369a343e
2025-07-09 10:11:15,987 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:11:15,987 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0/1b32efc6-5196-406f-ad10-87fd14d21323 has been successfully formatted.
2025-07-09 10:11:15,987 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2025-07-09 10:11:15,987 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2025-07-09 10:11:15,988 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-87FD14D21323-cacheEviction-AwaitToRun,5,main] started
2025-07-09 10:11:15,988 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s0@group-87FD14D21323-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0/1b32efc6-5196-406f-ad10-87fd14d21323
2025-07-09 10:11:15,989 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s0@group-87FD14D21323-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2025-07-09 10:11:15,989 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s0@group-87FD14D21323-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2025-07-09 10:11:15,989 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(405)) - s0@group-87FD14D21323: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:15,989 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-87FD14D21323: changes role from      null to FOLLOWER at term 0 for startAsFollower
2025-07-09 10:11:15,989 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-87FD14D21323-FollowerState
2025-07-09 10:11:15,989 [s0@group-87FD14D21323-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:11:15,989 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-87FD14D21323,id=s0
2025-07-09 10:11:15,990 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-87FD14D21323,id=s0
2025-07-09 10:11:15,990 [s0@group-87FD14D21323-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:11:15,990 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(419)) - s0@group-87FD14D21323: Successfully started.
2025-07-09 10:11:15,990 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(412)) - s0: start RPC server
2025-07-09 10:11:15,991 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15102
2025-07-09 10:11:15,991 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15100
2025-07-09 10:11:15,992 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s0: GrpcServicesImpl started, listening on 15101
2025-07-09 10:11:15,992 [JvmPauseMonitor25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2025-07-09 10:11:15,993 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1] (custom)
2025-07-09 10:11:15,993 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1/1b32efc6-5196-406f-ad10-87fd14d21323 does not exist. Creating ...
2025-07-09 10:11:15,993 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1/1b32efc6-5196-406f-ad10-87fd14d21323
2025-07-09 10:11:15,994 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1/1b32efc6-5196-406f-ad10-87fd14d21323/in_use.lock acquired by nodename 11875@fv-az1788-284
2025-07-09 10:11:15,994 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1/1b32efc6-5196-406f-ad10-87fd14d21323/current
2025-07-09 10:11:15,994 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1/1b32efc6-5196-406f-ad10-87fd14d21323/sm
2025-07-09 10:11:15,994 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@677d04cd
2025-07-09 10:11:15,996 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:11:15,996 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1/1b32efc6-5196-406f-ad10-87fd14d21323 has been successfully formatted.
2025-07-09 10:11:15,996 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2025-07-09 10:11:15,996 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2025-07-09 10:11:15,997 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-87FD14D21323-cacheEviction-AwaitToRun,5,main] started
2025-07-09 10:11:15,997 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s1@group-87FD14D21323-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1/1b32efc6-5196-406f-ad10-87fd14d21323
2025-07-09 10:11:16,000 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s1@group-87FD14D21323-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2025-07-09 10:11:16,000 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s1@group-87FD14D21323-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2025-07-09 10:11:16,001 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(405)) - s1@group-87FD14D21323: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,001 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s1@group-87FD14D21323: changes role from      null to FOLLOWER at term 0 for startAsFollower
2025-07-09 10:11:16,001 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-87FD14D21323-FollowerState
2025-07-09 10:11:16,001 [s1@group-87FD14D21323-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:11:16,001 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-87FD14D21323,id=s1
2025-07-09 10:11:16,002 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-87FD14D21323,id=s1
2025-07-09 10:11:16,002 [s1@group-87FD14D21323-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:11:16,002 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(419)) - s1@group-87FD14D21323: Successfully started.
2025-07-09 10:11:16,002 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(412)) - s1: start RPC server
2025-07-09 10:11:16,004 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s1: GrpcServicesImpl started, listening on 15106
2025-07-09 10:11:16,004 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s1: GrpcServicesImpl started, listening on 15104
2025-07-09 10:11:16,005 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s1: GrpcServicesImpl started, listening on 15105
2025-07-09 10:11:16,006 [JvmPauseMonitor26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2025-07-09 10:11:16,006 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(62)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2] (custom)
2025-07-09 10:11:16,006 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2/1b32efc6-5196-406f-ad10-87fd14d21323 does not exist. Creating ...
2025-07-09 10:11:16,007 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2/1b32efc6-5196-406f-ad10-87fd14d21323
2025-07-09 10:11:16,008 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2/1b32efc6-5196-406f-ad10-87fd14d21323/in_use.lock acquired by nodename 11875@fv-az1788-284
2025-07-09 10:11:16,008 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2/1b32efc6-5196-406f-ad10-87fd14d21323/current
2025-07-09 10:11:16,008 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2/1b32efc6-5196-406f-ad10-87fd14d21323/sm
2025-07-09 10:11:16,008 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@3fe89f74
2025-07-09 10:11:16,010 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:11:16,010 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2/1b32efc6-5196-406f-ad10-87fd14d21323 has been successfully formatted.
2025-07-09 10:11:16,010 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2025-07-09 10:11:16,010 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2025-07-09 10:11:16,010 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-87FD14D21323-cacheEviction-AwaitToRun,5,main] started
2025-07-09 10:11:16,010 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s2@group-87FD14D21323-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2/1b32efc6-5196-406f-ad10-87fd14d21323
2025-07-09 10:11:16,012 [timer7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$6(171)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)  (Repeated 2 times in the last 5.003s)
2025-07-09 10:11:16,012 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s2@group-87FD14D21323-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2025-07-09 10:11:16,013 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(141)) - s2@group-87FD14D21323-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2025-07-09 10:11:16,013 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(405)) - s2@group-87FD14D21323: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,013 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s2@group-87FD14D21323: changes role from      null to FOLLOWER at term 0 for startAsFollower
2025-07-09 10:11:16,013 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-87FD14D21323-FollowerState
2025-07-09 10:11:16,013 [s2@group-87FD14D21323-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:11:16,013 [timer1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$null$7(175)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s2"
  raftGroupId {
    id: "R\264#\315\245qH\\\257\203\3705\254\n\177\016"
  }
  callId: 58
  success: true
}
term: 2
nextIndex: 7
followerCommit: 6
matchIndex: 18446744073709551615
isHearbeat: true
  (Repeated 2 times in the last 5.001s)
2025-07-09 10:11:16,013 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-87FD14D21323,id=s2
2025-07-09 10:11:16,014 [s2@group-87FD14D21323-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:11:16,014 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-87FD14D21323,id=s2
2025-07-09 10:11:16,014 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(419)) - s2@group-87FD14D21323: Successfully started.
2025-07-09 10:11:16,014 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(412)) - s2: start RPC server
2025-07-09 10:11:16,015 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s2: GrpcServicesImpl started, listening on 15110
2025-07-09 10:11:16,015 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s2: GrpcServicesImpl started, listening on 15108
2025-07-09 10:11:16,016 [main] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:startImpl(346)) - s2: GrpcServicesImpl started, listening on 15109
2025-07-09 10:11:16,016 [JvmPauseMonitor27] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2025-07-09 10:11:16,016 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-87FD14D21323:t0, leader=null, voted=, raftlog=Memoized:s0@group-87FD14D21323-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
  s1:  RUNNING  FOLLOWER (RUNNING): s1@group-87FD14D21323:t0, leader=null, voted=, raftlog=Memoized:s1@group-87FD14D21323-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
  s2:  RUNNING  FOLLOWER (RUNNING): s2@group-87FD14D21323:t0, leader=null, voted=, raftlog=Memoized:s2@group-87FD14D21323-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,017 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-87FD14D21323:t0, leader=null, voted=, raftlog=Memoized:s0@group-87FD14D21323-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
  s1:  RUNNING  FOLLOWER (RUNNING): s1@group-87FD14D21323:t0, leader=null, voted=, raftlog=Memoized:s1@group-87FD14D21323-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
  s2:  RUNNING  FOLLOWER (RUNNING): s2@group-87FD14D21323:t0, leader=null, voted=, raftlog=Memoized:s2@group-87FD14D21323-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,228 [s2@group-87FD14D21323-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(161)) - s2@group-87FD14D21323-FollowerState: change to CANDIDATE, lastRpcElapsedTime:214872359ns, electionTimeout:214ms
2025-07-09 10:11:16,228 [s2@group-87FD14D21323-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-87FD14D21323-FollowerState
2025-07-09 10:11:16,228 [s2@group-87FD14D21323-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s2@group-87FD14D21323: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2025-07-09 10:11:16,229 [s2@group-87FD14D21323-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-87FD14D21323-LeaderElection18
2025-07-09 10:11:16,229 [s2@group-87FD14D21323-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s2@group-87FD14D21323-LeaderElection18 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,230 [s2@group-87FD14D21323-LeaderElection18-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15100
2025-07-09 10:11:16,230 [s2@group-87FD14D21323-LeaderElection18-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15104
2025-07-09 10:11:16,230 [s2@group-87FD14D21323-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:11:16,230 [s2@group-87FD14D21323-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:11:16,235 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s1@group-87FD14D21323: receive requestVote(PRE_VOTE, s2, group-87FD14D21323, 0, <PROTO_DEFAULT>)
2025-07-09 10:11:16,235 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-87FD14D21323-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2025-07-09 10:11:16,235 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s1@group-87FD14D21323 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0-last:<INITIAL_VALUE>. Peer's state: s1@group-87FD14D21323:t0, leader=null, voted=, raftlog=Memoized:s1@group-87FD14D21323-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,236 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s0@group-87FD14D21323: receive requestVote(PRE_VOTE, s2, group-87FD14D21323, 0, <PROTO_DEFAULT>)
2025-07-09 10:11:16,236 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-87FD14D21323-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2025-07-09 10:11:16,236 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s0@group-87FD14D21323 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0-last:<INITIAL_VALUE>. Peer's state: s0@group-87FD14D21323:t0, leader=null, voted=, raftlog=Memoized:s0@group-87FD14D21323-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,237 [s2@group-87FD14D21323-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s2@group-87FD14D21323-LeaderElection18: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2025-07-09 10:11:16,237 [s2@group-87FD14D21323-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 0: s2<-s1#0:OK-t0-last:<INITIAL_VALUE>
2025-07-09 10:11:16,237 [s2@group-87FD14D21323-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s2@group-87FD14D21323-LeaderElection18 PRE_VOTE round 0: result PASSED
2025-07-09 10:11:16,237 [s2@group-87FD14D21323-LeaderElection18] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@405ca081
2025-07-09 10:11:16,239 [s2@group-87FD14D21323-LeaderElection18] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:11:16,239 [s2@group-87FD14D21323-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s2@group-87FD14D21323-LeaderElection18 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,239 [s0@group-87FD14D21323-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:11:16,239 [s0@group-87FD14D21323-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:11:16,239 [s2@group-87FD14D21323-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2025-07-09 10:11:16,239 [s2@group-87FD14D21323-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:11:16,240 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s1@group-87FD14D21323: receive requestVote(ELECTION, s2, group-87FD14D21323, 1, <PROTO_DEFAULT>)
2025-07-09 10:11:16,240 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s0@group-87FD14D21323: receive requestVote(ELECTION, s2, group-87FD14D21323, 1, <PROTO_DEFAULT>)
2025-07-09 10:11:16,241 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-87FD14D21323-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2025-07-09 10:11:16,241 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-87FD14D21323-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2025-07-09 10:11:16,241 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-87FD14D21323: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s2
2025-07-09 10:11:16,241 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-87FD14D21323-FollowerState
2025-07-09 10:11:16,241 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s1@group-87FD14D21323: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s2
2025-07-09 10:11:16,241 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-87FD14D21323-FollowerState
2025-07-09 10:11:16,241 [s0@group-87FD14D21323-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s0@group-87FD14D21323-FollowerState was interrupted
2025-07-09 10:11:16,241 [s1@group-87FD14D21323-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s1@group-87FD14D21323-FollowerState was interrupted
2025-07-09 10:11:16,241 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-87FD14D21323-FollowerState
2025-07-09 10:11:16,242 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-87FD14D21323-FollowerState
2025-07-09 10:11:16,242 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(576)) - s0@group-87FD14D21323: set firstElectionSinceStartup to false for candidate:s2
2025-07-09 10:11:16,242 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(576)) - s1@group-87FD14D21323: set firstElectionSinceStartup to false for candidate:s2
2025-07-09 10:11:16,242 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@6085f827
2025-07-09 10:11:16,242 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@5d99c87e
2025-07-09 10:11:16,243 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:11:16,243 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s0@group-87FD14D21323 replies to ELECTION vote request: s2<-s0#0:OK-t1-last:<INITIAL_VALUE>. Peer's state: s0@group-87FD14D21323:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-87FD14D21323-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,244 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:11:16,244 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s1@group-87FD14D21323 replies to ELECTION vote request: s2<-s1#0:OK-t1-last:<INITIAL_VALUE>. Peer's state: s1@group-87FD14D21323:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-87FD14D21323-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,244 [s2@group-87FD14D21323-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s2@group-87FD14D21323-LeaderElection18: ELECTION PASSED received 1 response(s) and 0 exception(s):
2025-07-09 10:11:16,244 [s2@group-87FD14D21323-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 0: s2<-s0#0:OK-t1-last:<INITIAL_VALUE>
2025-07-09 10:11:16,244 [s2@group-87FD14D21323-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s2@group-87FD14D21323-LeaderElection18 ELECTION round 0: result PASSED
2025-07-09 10:11:16,245 [s2@group-87FD14D21323-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-87FD14D21323-LeaderElection18
2025-07-09 10:11:16,245 [s2@group-87FD14D21323-LeaderElection18] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s2@group-87FD14D21323: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2025-07-09 10:11:16,245 [s2@group-87FD14D21323-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.staging.timeout = 900ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:11:16,246 [s2@group-87FD14D21323-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-87FD14D21323-LeaderStateImpl
2025-07-09 10:11:16,246 [s2@group-87FD14D21323-LeaderElection18] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(576)) - s2@group-87FD14D21323: set firstElectionSinceStartup to false for becomeLeader
2025-07-09 10:11:16,246 [s2@group-87FD14D21323-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-87FD14D21323: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 262ms
2025-07-09 10:11:16,246 [s2@group-87FD14D21323-LeaderElection18] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(440)) - s2@group-87FD14D21323-SegmentedRaftLogWorker: Starting segment from index:0
2025-07-09 10:11:16,247 [s2@group-87FD14D21323-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-87FD14D21323: set configuration conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,247 [s2@group-87FD14D21323-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2025-07-09 10:11:16,252 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-87FD14D21323: change Leader from null to s2 at term 1 for appendEntries, leader elected after 274ms
2025-07-09 10:11:16,255 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-87FD14D21323: set configuration conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,255 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(440)) - s1@group-87FD14D21323-SegmentedRaftLogWorker: Starting segment from index:0
2025-07-09 10:11:16,255 [s1@group-87FD14D21323-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2025-07-09 10:11:16,256 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-87FD14D21323: change Leader from null to s2 at term 1 for appendEntries, leader elected after 283ms
2025-07-09 10:11:16,257 [s2@group-87FD14D21323-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s2@group-87FD14D21323-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2/1b32efc6-5196-406f-ad10-87fd14d21323/current/log_inprogress_0
2025-07-09 10:11:16,258 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-87FD14D21323: set configuration conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,258 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(440)) - s0@group-87FD14D21323-SegmentedRaftLogWorker: Starting segment from index:0
2025-07-09 10:11:16,259 [s0@group-87FD14D21323-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2025-07-09 10:11:16,271 [s1@group-87FD14D21323-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s1@group-87FD14D21323-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1/1b32efc6-5196-406f-ad10-87fd14d21323/current/log_inprogress_0
2025-07-09 10:11:16,272 [s0@group-87FD14D21323-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s0@group-87FD14D21323-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0/1b32efc6-5196-406f-ad10-87fd14d21323/current/log_inprogress_0
2025-07-09 10:11:16,273 [s2@group-87FD14D21323-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@3f2b983c
2025-07-09 10:11:16,275 [s2@group-87FD14D21323-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:11:16,275 [s2@group-87FD14D21323-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(309)) - Leader s2@group-87FD14D21323-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2025-07-09 10:11:16,350 [s1@group-87FD14D21323-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@395542b2
2025-07-09 10:11:16,351 [s0@group-87FD14D21323-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@51ce3a66
2025-07-09 10:11:16,353 [s1@group-87FD14D21323-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:11:16,353 [s0@group-87FD14D21323-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:11:16,467 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-87FD14D21323:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-87FD14D21323-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
  s1:  RUNNING  FOLLOWER (RUNNING): s1@group-87FD14D21323:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-87FD14D21323-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
  s2:  RUNNING    LEADER (RUNNING): s2@group-87FD14D21323:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-87FD14D21323-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,473 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-019B1053C1C8->s0: receive RaftClientReply:client-019B1053C1C8->s0@group-87FD14D21323, cid=117, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-87FD14D21323 is not the leader, suggested leader is: s2|localhost:15108, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2025-07-09 10:11:16,474 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-019B1053C1C8: Failed* RaftClientRequest:client-019B1053C1C8->s0@group-87FD14D21323, cid=117, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-87FD14D21323 is not the leader, suggested leader is: s2|localhost:15108
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:317)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:308)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:551)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:648)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-87FD14D21323 is not the leader, suggested leader is: s2|localhost:15108
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:402)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:313)
	... 11 more
2025-07-09 10:11:16,479 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-019B1053C1C8->s2: receive RaftClientReply:client-019B1053C1C8->s2@group-87FD14D21323, cid=117, SUCCESS, logIndex=0, commits[s2:c0, s0:c0, s1:c0]
2025-07-09 10:11:16,482 [s2@group-87FD14D21323-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 1
2025-07-09 10:11:16,482 [s2@group-87FD14D21323-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:11:16,483 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-019B1053C1C8->s2: receive RaftClientReply:client-019B1053C1C8->s2@group-87FD14D21323, cid=118, SUCCESS, logIndex=1, commits[s2:c1, s0:c0, s1:c0]
2025-07-09 10:11:16,484 [s1@group-87FD14D21323-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 1
2025-07-09 10:11:16,484 [s1@group-87FD14D21323-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:11:16,484 [s0@group-87FD14D21323-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 1
2025-07-09 10:11:16,484 [s0@group-87FD14D21323-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:11:16,491 [s2@group-87FD14D21323-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 3
2025-07-09 10:11:16,491 [s2@group-87FD14D21323-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=2, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:11:16,492 [s0@group-87FD14D21323-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 3
2025-07-09 10:11:16,492 [s1@group-87FD14D21323-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(248)) - applyTransaction for log index 3
2025-07-09 10:11:16,493 [s1@group-87FD14D21323-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=2, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:11:16,492 [s0@group-87FD14D21323-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=2, stateMachineData.size=17, logEntryProtoSerializedSize=0
2025-07-09 10:11:16,493 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-82370A8DA7FA->s2: receive RaftClientReply:client-82370A8DA7FA->s2@group-87FD14D21323, cid=1, SUCCESS, logIndex=3, commits[s2:c3, s0:c2, s1:c2]
2025-07-09 10:11:16,494 [main] INFO  grpc.TestRaftServerWithGrpc (TestRaftServerWithGrpc.java:runTestLeaderRestart(202)) - cache entry 1@client-82370A8DA7FA:done
2025-07-09 10:11:16,494 [main] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block START_TRANSACTION
2025-07-09 10:11:16,495 [main] WARN  grpc.TestRaftServerWithGrpc (JavaUtils.java:attempt(231)) - FAILED "invalidate cache entry", attempt #1/10, sleep 100ms and then retry: org.opentest4j.AssertionFailedError: expected: <null> but was: <1@client-82370A8DA7FA:done>
2025-07-09 10:11:16,595 [main] INFO  grpc.TestRaftServerWithGrpc (TestRaftServerWithGrpc.java:runTestLeaderRestart(213)) - cache entry not found for 1@client-82370A8DA7FA
2025-07-09 10:11:16,596 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s2
2025-07-09 10:11:16,596 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-87FD14D21323:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-87FD14D21323-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
  s1:  RUNNING  FOLLOWER (RUNNING): s1@group-87FD14D21323:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-87FD14D21323-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
  s2:  RUNNING    LEADER (RUNNING): s2@group-87FD14D21323:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-87FD14D21323-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,596 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-87FD14D21323:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-87FD14D21323-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
  s1:  RUNNING  FOLLOWER (RUNNING): s1@group-87FD14D21323:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-87FD14D21323-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
  s2:  RUNNING    LEADER (RUNNING): s2@group-87FD14D21323:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-87FD14D21323-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,597 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "changeLeader-changeLeader", attempt #1/20, sleep 100ms and then retry: org.opentest4j.TestAbortedException: Failed to change leader: newLeader == oldLeader == s2
2025-07-09 10:11:16,647 [grpc-default-executor-5] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2025-07-09 10:11:16,647 [grpc-default-executor-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s2
2025-07-09 10:11:16,697 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-87FD14D21323:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-87FD14D21323-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
  s1:  RUNNING  FOLLOWER (RUNNING): s1@group-87FD14D21323:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-87FD14D21323-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
  s2:  RUNNING    LEADER (RUNNING): s2@group-87FD14D21323:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-87FD14D21323-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,698 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-87FD14D21323:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-87FD14D21323-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
  s1:  RUNNING  FOLLOWER (RUNNING): s1@group-87FD14D21323:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-87FD14D21323-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
  s2:  RUNNING    LEADER (RUNNING): s2@group-87FD14D21323:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-87FD14D21323-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,698 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "changeLeader-changeLeader", attempt #2/20, sleep 100ms and then retry: org.opentest4j.TestAbortedException: Failed to change leader: newLeader == oldLeader == s2
2025-07-09 10:11:16,790 [s1@group-87FD14D21323-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(161)) - s1@group-87FD14D21323-FollowerState: change to CANDIDATE, lastRpcElapsedTime:220526847ns, electionTimeout:151ms
2025-07-09 10:11:16,791 [s1@group-87FD14D21323-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-87FD14D21323-FollowerState
2025-07-09 10:11:16,791 [s1@group-87FD14D21323-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s1@group-87FD14D21323: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2025-07-09 10:11:16,791 [s1@group-87FD14D21323-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-87FD14D21323-LeaderElection19
2025-07-09 10:11:16,791 [s1@group-87FD14D21323-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-87FD14D21323: change Leader from s2 to null at term 1 for PRE_VOTE
2025-07-09 10:11:16,791 [s1@group-87FD14D21323-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s1@group-87FD14D21323-LeaderElection19 PRE_VOTE round 0: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,792 [s1@group-87FD14D21323-LeaderElection19-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15100
2025-07-09 10:11:16,792 [s1@group-87FD14D21323-LeaderElection19-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15108
2025-07-09 10:11:16,796 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s0@group-87FD14D21323: receive requestVote(PRE_VOTE, s1, group-87FD14D21323, 1, (t:1, i:4))
2025-07-09 10:11:16,796 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s2@group-87FD14D21323: receive requestVote(PRE_VOTE, s1, group-87FD14D21323, 1, (t:1, i:4))
2025-07-09 10:11:16,796 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-87FD14D21323-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2025-07-09 10:11:16,796 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-87FD14D21323-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2025-07-09 10:11:16,797 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s2@group-87FD14D21323 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1-last:(t:1, i:4). Peer's state: s2@group-87FD14D21323:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-87FD14D21323-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,797 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s0@group-87FD14D21323 replies to PRE_VOTE vote request: s1<-s0#0:OK-t1-last:(t:1, i:4). Peer's state: s0@group-87FD14D21323:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-87FD14D21323-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,798 [s1@group-87FD14D21323-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s1@group-87FD14D21323-LeaderElection19: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2025-07-09 10:11:16,798 [s1@group-87FD14D21323-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 0: s1<-s0#0:OK-t1-last:(t:1, i:4)
2025-07-09 10:11:16,798 [s1@group-87FD14D21323-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 1: s1<-s2#0:FAIL-t1-last:(t:1, i:4)
2025-07-09 10:11:16,798 [s1@group-87FD14D21323-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s1@group-87FD14D21323-LeaderElection19 PRE_VOTE round 0: result PASSED
2025-07-09 10:11:16,798 [s1@group-87FD14D21323-LeaderElection19] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@7bff8ea5
2025-07-09 10:11:16,799 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-87FD14D21323:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-87FD14D21323-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
  s1:  RUNNING CANDIDATE (RUNNING): s1@group-87FD14D21323:t2, leader=null, voted=s1, raftlog=Memoized:s1@group-87FD14D21323-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
  s2:  RUNNING    LEADER (RUNNING): s2@group-87FD14D21323:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-87FD14D21323-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,799 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-87FD14D21323:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-87FD14D21323-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
  s1:  RUNNING CANDIDATE (RUNNING): s1@group-87FD14D21323:t2, leader=null, voted=s1, raftlog=Memoized:s1@group-87FD14D21323-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
  s2:  RUNNING    LEADER (RUNNING): s2@group-87FD14D21323:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-87FD14D21323-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,800 [s1@group-87FD14D21323-LeaderElection19] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:11:16,800 [s1@group-87FD14D21323-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(448)) - s1@group-87FD14D21323-LeaderElection19 ELECTION round 0: submit vote requests at term 2 for conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,800 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "changeLeader-changeLeader", attempt #3/20, sleep 100ms and then retry: org.opentest4j.TestAbortedException: Failed to change leader: newLeader == oldLeader == s2
2025-07-09 10:11:16,801 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s0@group-87FD14D21323: receive requestVote(ELECTION, s1, group-87FD14D21323, 2, (t:1, i:4))
2025-07-09 10:11:16,801 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1433)) - s2@group-87FD14D21323: receive requestVote(ELECTION, s1, group-87FD14D21323, 2, (t:1, i:4))
2025-07-09 10:11:16,802 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-87FD14D21323-LEADER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2025-07-09 10:11:16,802 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s2@group-87FD14D21323: changes role from    LEADER to FOLLOWER at term 1 for candidate:s1
2025-07-09 10:11:16,802 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s2: shutdown s2@group-87FD14D21323-LeaderStateImpl
2025-07-09 10:11:16,801 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-87FD14D21323-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2025-07-09 10:11:16,802 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s0@group-87FD14D21323: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2025-07-09 10:11:16,802 [grpc-default-executor-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s2@group-87FD14D21323-PendingRequests: sendNotLeaderResponses
2025-07-09 10:11:16,802 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-87FD14D21323-FollowerState
2025-07-09 10:11:16,802 [s2@group-87FD14D21323->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(300)) - s2@group-87FD14D21323->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2025-07-09 10:11:16,803 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-87FD14D21323: change Leader from s2 to null at term 1 for candidate:s1
2025-07-09 10:11:16,804 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-87FD14D21323-FollowerState
2025-07-09 10:11:16,803 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-87FD14D21323: change Leader from s2 to null at term 2 for updateCurrentTerm
2025-07-09 10:11:16,803 [s0@group-87FD14D21323-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s0@group-87FD14D21323-FollowerState was interrupted
2025-07-09 10:11:16,804 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$6(171)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#14-t1,previous=(t:1, i:3),leaderCommit=3,initializing? false,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3) 
2025-07-09 10:11:16,804 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@19720690
2025-07-09 10:11:16,803 [s2@group-87FD14D21323->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(300)) - s2@group-87FD14D21323->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2025-07-09 10:11:16,804 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-87FD14D21323-FollowerState
2025-07-09 10:11:16,804 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$null$7(175)) - s0: Completed APPEND_ENTRIES, lastReply: null 
2025-07-09 10:11:16,805 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@5584066c
2025-07-09 10:11:16,806 [grpc-default-executor-10] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(558)) - s2@group-87FD14D21323->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2025-07-09 10:11:16,806 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:11:16,806 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s2@group-87FD14D21323 replies to ELECTION vote request: s1<-s2#0:OK-t2-last:(t:1, i:4). Peer's state: s2@group-87FD14D21323:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-87FD14D21323-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,806 [grpc-default-executor-11] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(558)) - s2@group-87FD14D21323->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2025-07-09 10:11:16,807 [s1@group-87FD14D21323-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(206)) - s1@group-87FD14D21323-LeaderElection19: ELECTION PASSED received 1 response(s) and 0 exception(s):
2025-07-09 10:11:16,807 [s1@group-87FD14D21323-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(210)) -   Response 0: s1<-s2#0:OK-t2-last:(t:1, i:4)
2025-07-09 10:11:16,807 [s1@group-87FD14D21323-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(450)) - s1@group-87FD14D21323-LeaderElection19 ELECTION round 0: result PASSED
2025-07-09 10:11:16,807 [s1@group-87FD14D21323-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s1: shutdown s1@group-87FD14D21323-LeaderElection19
2025-07-09 10:11:16,807 [s1@group-87FD14D21323-LeaderElection19] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(392)) - s1@group-87FD14D21323: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2025-07-09 10:11:16,807 [s1@group-87FD14D21323-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(69)) - raft.server.staging.timeout = 900ms (fallback to raft.server.rpc.timeout.max)
2025-07-09 10:11:16,808 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta with options [REPLACE_EXISTING]
2025-07-09 10:11:16,808 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1467)) - s0@group-87FD14D21323 replies to ELECTION vote request: s1<-s0#0:OK-t2-last:(t:1, i:4). Peer's state: s0@group-87FD14D21323:t2, leader=null, voted=s1, raftlog=Memoized:s0@group-87FD14D21323-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,809 [s1@group-87FD14D21323-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-87FD14D21323-LeaderStateImpl
2025-07-09 10:11:16,809 [s1@group-87FD14D21323-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-87FD14D21323: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 17ms
2025-07-09 10:11:16,809 [s1@group-87FD14D21323-LeaderElection19] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(445)) - s1@group-87FD14D21323-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2025-07-09 10:11:16,809 [s1@group-87FD14D21323-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-87FD14D21323: set configuration conf: {index: 5, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,810 [s1@group-87FD14D21323-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1/1b32efc6-5196-406f-ad10-87fd14d21323/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1/1b32efc6-5196-406f-ad10-87fd14d21323/current/log_0-4
2025-07-09 10:11:16,810 [s1@group-87FD14D21323-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(604)) - s1@group-87FD14D21323-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1/1b32efc6-5196-406f-ad10-87fd14d21323/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1/1b32efc6-5196-406f-ad10-87fd14d21323/current/log_0-4
2025-07-09 10:11:16,811 [s1@group-87FD14D21323-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_5 at position 0
2025-07-09 10:11:16,815 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-87FD14D21323: change Leader from null to s1 at term 2 for appendEntries, leader elected after 11ms
2025-07-09 10:11:16,815 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-87FD14D21323: change Leader from null to s1 at term 2 for appendEntries, leader elected after 12ms
2025-07-09 10:11:16,818 [grpc-default-executor-11] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-87FD14D21323: set configuration conf: {index: 5, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,818 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-87FD14D21323: set configuration conf: {index: 5, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,818 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(445)) - s2@group-87FD14D21323-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2025-07-09 10:11:16,818 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(445)) - s0@group-87FD14D21323-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2025-07-09 10:11:16,820 [s2@group-87FD14D21323-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2/1b32efc6-5196-406f-ad10-87fd14d21323/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2/1b32efc6-5196-406f-ad10-87fd14d21323/current/log_0-4
2025-07-09 10:11:16,820 [s2@group-87FD14D21323-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(604)) - s2@group-87FD14D21323-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2/1b32efc6-5196-406f-ad10-87fd14d21323/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2/1b32efc6-5196-406f-ad10-87fd14d21323/current/log_0-4
2025-07-09 10:11:16,820 [s0@group-87FD14D21323-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0/1b32efc6-5196-406f-ad10-87fd14d21323/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0/1b32efc6-5196-406f-ad10-87fd14d21323/current/log_0-4
2025-07-09 10:11:16,820 [s0@group-87FD14D21323-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(604)) - s0@group-87FD14D21323-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0/1b32efc6-5196-406f-ad10-87fd14d21323/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0/1b32efc6-5196-406f-ad10-87fd14d21323/current/log_0-4
2025-07-09 10:11:16,820 [s2@group-87FD14D21323-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_5 at position 0
2025-07-09 10:11:16,820 [s0@group-87FD14D21323-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_5 at position 0
2025-07-09 10:11:16,821 [s1@group-87FD14D21323-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s1@group-87FD14D21323-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1/1b32efc6-5196-406f-ad10-87fd14d21323/current/log_inprogress_5
2025-07-09 10:11:16,835 [s0@group-87FD14D21323-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s0@group-87FD14D21323-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0/1b32efc6-5196-406f-ad10-87fd14d21323/current/log_inprogress_5
2025-07-09 10:11:16,836 [s2@group-87FD14D21323-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(647)) - s2@group-87FD14D21323-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2/1b32efc6-5196-406f-ad10-87fd14d21323/current/log_inprogress_5
2025-07-09 10:11:16,836 [s1@group-87FD14D21323-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@3792bbe8
2025-07-09 10:11:16,838 [s1@group-87FD14D21323-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s1/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:11:16,838 [s1@group-87FD14D21323-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(309)) - Leader s1@group-87FD14D21323-LeaderStateImpl is ready since appliedIndex == startIndex == 5
2025-07-09 10:11:16,838 [s0@group-87FD14D21323-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@5f09ce2f
2025-07-09 10:11:16,838 [s2@group-87FD14D21323-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.conf.tmp with options [CREATE, TRUNCATE_EXISTING, WRITE]: sun.nio.ch.FileChannelImpl@31ec61a9
2025-07-09 10:11:16,851 [s0@group-87FD14D21323-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s0/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:11:16,851 [s2@group-87FD14D21323-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/d26fc21a/MiniRaftClusterWithGrpcea35bccc/s2/1b32efc6-5196-406f-ad10-87fd14d21323/current/raft-meta.conf with options [REPLACE_EXISTING]
2025-07-09 10:11:16,900 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-87FD14D21323:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-87FD14D21323-SegmentedRaftLog:OPENED:c5:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
  s1:  RUNNING    LEADER (RUNNING): s1@group-87FD14D21323:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-87FD14D21323-SegmentedRaftLog:OPENED:c6:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
  s2:  RUNNING  FOLLOWER (RUNNING): s2@group-87FD14D21323:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-87FD14D21323-SegmentedRaftLog:OPENED:c5:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,901 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-87FD14D21323:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-87FD14D21323-SegmentedRaftLog:OPENED:c5:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
  s1:  RUNNING    LEADER (RUNNING): s1@group-87FD14D21323:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-87FD14D21323-SegmentedRaftLog:OPENED:c6:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
  s2:  RUNNING  FOLLOWER (RUNNING): s2@group-87FD14D21323:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-87FD14D21323-SegmentedRaftLog:OPENED:c5:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:16,901 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$15(492)) - Changed leader from s2 to s1
2025-07-09 10:11:16,902 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s2
2025-07-09 10:11:16,902 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(153)) - run 'request should fail'
2025-07-09 10:11:16,902 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - Expected the test "request should fail" to throw ExecutionException with cause(s) [AlreadyClosedException]
2025-07-09 10:11:16,903 [main] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock START_TRANSACTION
2025-07-09 10:11:16,905 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(153)) - run 'request should timeout'
2025-07-09 10:11:16,947 [grpc-default-executor-5] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2025-07-09 10:11:16,947 [grpc-default-executor-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s2
2025-07-09 10:11:16,948 [grpc-default-executor-1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-87FD14D21323: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2025-07-09 10:11:16,948 [grpc-default-executor-5] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-87FD14D21323: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2025-07-09 10:11:16,949 [grpc-default-executor-5] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-87FD14D21323: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2025-07-09 10:11:16,949 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(519)) - s2@group-87FD14D21323->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2025-07-09 10:11:16,949 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(519)) - s2@group-87FD14D21323->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2025-07-09 10:11:16,950 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(519)) - s2@group-87FD14D21323->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2025-07-09 10:11:16,949 [grpc-default-executor-1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-87FD14D21323: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2025-07-09 10:11:16,950 [grpc-default-executor-3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-87FD14D21323: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2025-07-09 10:11:16,950 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(519)) - s2@group-87FD14D21323->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2025-07-09 10:11:16,950 [grpc-default-executor-1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-87FD14D21323: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2025-07-09 10:11:16,950 [grpc-default-executor-3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-87FD14D21323: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2025-07-09 10:11:16,951 [grpc-default-executor-1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-87FD14D21323: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2025-07-09 10:11:16,951 [grpc-default-executor-3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-87FD14D21323: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2025-07-09 10:11:16,951 [grpc-default-executor-3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-87FD14D21323: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2025-07-09 10:11:16,950 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(519)) - s2@group-87FD14D21323->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2025-07-09 10:11:16,952 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(519)) - s2@group-87FD14D21323->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2025-07-09 10:11:16,952 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(519)) - s2@group-87FD14D21323->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2025-07-09 10:11:16,952 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(519)) - s2@group-87FD14D21323->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2025-07-09 10:11:16,952 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(558)) - s2@group-87FD14D21323->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2025-07-09 10:11:16,952 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(519)) - s2@group-87FD14D21323->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2025-07-09 10:11:16,952 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(519)) - s2@group-87FD14D21323->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2025-07-09 10:11:16,952 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(558)) - s2@group-87FD14D21323->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2025-07-09 10:11:17,906 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - Expected the test "request should timeout" to throw ExecutionException with cause(s) [TimeoutIOException]
2025-07-09 10:11:17,909 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-82370A8DA7FA->s2: receive RaftClientReply:client-82370A8DA7FA->s2@group-87FD14D21323, cid=3, FAILED org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Server:2-OrderedRequestStreamObserver2 is closing: seq = 3 > nextToProcess = -1 will NEVER be processed; request = 3:null, logIndex=0, commits[]
2025-07-09 10:11:19,979 [timer6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$6(171)) - s1: Completed APPEND_ENTRIES, lastRequest: null  (Repeated 3 times in the last 5.003s)
2025-07-09 10:11:19,980 [timer7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$null$7(175)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s1"
  raftGroupId {
    id: "\0332\357\306Q\226@o\255\020\207\375\024\322\023#"
  }
  callId: 19
}
term: 2
nextIndex: 7
result: NOT_LEADER
followerCommit: 6
matchIndex: 18446744073709551615
isHearbeat: true
  (Repeated 3 times in the last 5.000s)
2025-07-09 10:11:20,907 [Thread-739] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(226)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=1023, target=localhost:15110}}. 
2025-07-09 10:11:20,909 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2025-07-09 10:11:20,909 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - *** 
2025-07-09 10:11:20,910 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - ***     Stopping MiniRaftClusterWithGrpc
2025-07-09 10:11:20,910 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - *** 
2025-07-09 10:11:20,910 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - ************************************************************** 
2025-07-09 10:11:20,911 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-87FD14D21323:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-87FD14D21323-SegmentedRaftLog:OPENED:c6:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
  s1:  RUNNING    LEADER (RUNNING): s1@group-87FD14D21323:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-87FD14D21323-SegmentedRaftLog:OPENED:c6:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
  s2:  RUNNING  FOLLOWER (RUNNING): s2@group-87FD14D21323:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-87FD14D21323-SegmentedRaftLog:OPENED:c6:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2025-07-09 10:11:20,911 [MiniRaftCluster-26] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(422)) - s0: close
2025-07-09 10:11:20,911 [MiniRaftCluster-27] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(422)) - s1: close
2025-07-09 10:11:20,912 [MiniRaftCluster-26] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2025-07-09 10:11:20,912 [MiniRaftCluster-28] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(422)) - s2: close
2025-07-09 10:11:20,912 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(527)) - s0@group-87FD14D21323: shutdown
2025-07-09 10:11:20,913 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-87FD14D21323,id=s0
2025-07-09 10:11:20,913 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-87FD14D21323-FollowerState
2025-07-09 10:11:20,913 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(163)) - s0@group-87FD14D21323-StateMachineUpdater: set stopIndex = 6
2025-07-09 10:11:20,913 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(527)) - s2@group-87FD14D21323: shutdown
2025-07-09 10:11:20,914 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-87FD14D21323,id=s2
2025-07-09 10:11:20,914 [s0@group-87FD14D21323-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(140)) - s0@group-87FD14D21323-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:2, i:6)
2025-07-09 10:11:20,913 [MiniRaftCluster-28] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2025-07-09 10:11:20,913 [MiniRaftCluster-27] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2025-07-09 10:11:20,914 [s0@group-87FD14D21323-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-87FD14D21323-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2025-07-09 10:11:20,913 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(527)) - s1@group-87FD14D21323: shutdown
2025-07-09 10:11:20,914 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-87FD14D21323,id=s1
2025-07-09 10:11:20,914 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s1: shutdown s1@group-87FD14D21323-LeaderStateImpl
2025-07-09 10:11:20,914 [s0@group-87FD14D21323-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s0@group-87FD14D21323-FollowerState was interrupted
2025-07-09 10:11:20,914 [MiniRaftCluster-26] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2025-07-09 10:11:20,915 [MiniRaftCluster-26] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server GrpcServerProtocolService now
2025-07-09 10:11:20,915 [Thread-747] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2025-07-09 10:11:20,914 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-87FD14D21323-FollowerState
2025-07-09 10:11:20,915 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(163)) - s2@group-87FD14D21323-StateMachineUpdater: set stopIndex = 6
2025-07-09 10:11:20,915 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s1@group-87FD14D21323-PendingRequests: sendNotLeaderResponses
2025-07-09 10:11:20,915 [s2@group-87FD14D21323-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(170)) - s2@group-87FD14D21323-FollowerState was interrupted
2025-07-09 10:11:20,916 [s1@group-87FD14D21323->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(300)) - s1@group-87FD14D21323->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2025-07-09 10:11:20,914 [Thread-746] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2025-07-09 10:11:20,915 [s2@group-87FD14D21323-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(140)) - s2@group-87FD14D21323-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:2, i:6)
2025-07-09 10:11:20,915 [s1@group-87FD14D21323->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(300)) - s1@group-87FD14D21323->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2025-07-09 10:11:20,917 [grpc-default-executor-3] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(127)) - s0: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2025-07-09 10:11:20,917 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(545)) - s1@group-87FD14D21323->s0-GrpcLogAppender is already stopped
2025-07-09 10:11:20,917 [MiniRaftCluster-26] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server GrpcServerProtocolService successfully
2025-07-09 10:11:20,918 [MiniRaftCluster-26] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2025-07-09 10:11:20,918 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$6(171)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5) 
2025-07-09 10:11:20,919 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(163)) - s1@group-87FD14D21323-StateMachineUpdater: set stopIndex = 6
2025-07-09 10:11:20,919 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$null$7(175)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s2"
  raftGroupId {
    id: "\0332\357\306Q\226@o\255\020\207\375\024\322\023#"
  }
  callId: 59
  success: true
}
term: 2
nextIndex: 7
followerCommit: 6
matchIndex: 18446744073709551615
isHearbeat: true
 
2025-07-09 10:11:20,919 [s1@group-87FD14D21323-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(140)) - s1@group-87FD14D21323-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:2, i:6)
2025-07-09 10:11:20,919 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(558)) - s1@group-87FD14D21323->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2025-07-09 10:11:20,919 [MiniRaftCluster-28] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2025-07-09 10:11:20,919 [MiniRaftCluster-28] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s2: shutdown server GrpcServerProtocolService now
2025-07-09 10:11:20,917 [grpc-default-executor-0] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(127)) - s0: APPEND_ENTRIES onError, lastRequest: s1->s0#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2025-07-09 10:11:20,917 [grpc-default-executor-11] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(545)) - s1@group-87FD14D21323->s0-GrpcLogAppender is already stopped
2025-07-09 10:11:20,917 [Thread-751] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2025-07-09 10:11:20,917 [Thread-748] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2025-07-09 10:11:20,919 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(558)) - s1@group-87FD14D21323->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2025-07-09 10:11:20,920 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(237)) - s1@group-87FD14D21323->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:207)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:212)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:70)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:559)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:565)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$100(ClientCallImpl.java:72)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:733)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:714)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-07-09 10:11:20,919 [s1@group-87FD14D21323-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-87FD14D21323-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2025-07-09 10:11:20,919 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(237)) - s1@group-87FD14D21323->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:207)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:212)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:70)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:559)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:565)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$100(ClientCallImpl.java:72)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:733)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:714)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-07-09 10:11:20,919 [MiniRaftCluster-26] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2025-07-09 10:11:20,918 [s2@group-87FD14D21323-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-87FD14D21323-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2025-07-09 10:11:20,921 [MiniRaftCluster-27] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2025-07-09 10:11:20,920 [MiniRaftCluster-28] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s2: shutdown server GrpcServerProtocolService successfully
2025-07-09 10:11:20,922 [MiniRaftCluster-28] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2025-07-09 10:11:20,922 [MiniRaftCluster-27] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s1: shutdown server GrpcServerProtocolService now
2025-07-09 10:11:20,922 [MiniRaftCluster-27] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s1: shutdown server GrpcServerProtocolService successfully
2025-07-09 10:11:20,922 [MiniRaftCluster-27] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(355)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2025-07-09 10:11:20,922 [MiniRaftCluster-28] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2025-07-09 10:11:20,923 [MiniRaftCluster-27] INFO  server.GrpcServicesImpl (GrpcServicesImpl.java:closeImpl(364)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2025-07-09 10:11:21,804 [timer5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$6(171)) - s0: Completed APPEND_ENTRIES, lastRequest: null  (Repeated 2 times in the last 5.000s)
2025-07-09 10:11:21,805 [timer6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$null$7(175)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s0"
  raftGroupId {
    id: "\0332\357\306Q\226@o\255\020\207\375\024\322\023#"
  }
  callId: 23
}
term: 2
nextIndex: 7
result: NOT_LEADER
followerCommit: 6
matchIndex: 18446744073709551615
isHearbeat: true
  (Repeated 2 times in the last 5.000s)
2025-07-09 10:11:21,838 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(254)) - s1@group-87FD14D21323-SegmentedRaftLogWorker close()
2025-07-09 10:11:21,840 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(254)) - s0@group-87FD14D21323-SegmentedRaftLogWorker close()
2025-07-09 10:11:21,840 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(254)) - s2@group-87FD14D21323-SegmentedRaftLogWorker close()
2025-07-09 10:11:21,840 [JvmPauseMonitor26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2025-07-09 10:11:21,842 [JvmPauseMonitor25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2025-07-09 10:11:21,842 [JvmPauseMonitor27] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2025-07-09 10:11:21,842 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(860)) - MiniRaftClusterWithGrpc shutdown completed
