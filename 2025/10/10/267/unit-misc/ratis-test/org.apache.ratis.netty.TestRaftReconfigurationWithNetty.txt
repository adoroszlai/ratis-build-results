-------------------------------------------------------------------------------
Test set: org.apache.ratis.netty.TestRaftReconfigurationWithNetty
-------------------------------------------------------------------------------
Tests run: 18, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 107.6 s <<< FAILURE! -- in org.apache.ratis.netty.TestRaftReconfigurationWithNetty
org.apache.ratis.netty.TestRaftReconfigurationWithNetty.testLeaderElectionWhenChangeFromSingleToHA -- Time elapsed: 56.21 s <<< ERROR!
java.lang.IllegalStateException: 
No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER (RUNNING): s0@group-303C7B64B067:t7, leader=null, voted=s0, raftlog=Memoized:s0@group-303C7B64B067-SegmentedRaftLog:OPENED:c0:last(t:7, i:6), conf=conf: {index: 4611686018427387903, cur=peers:[s0|localhost:15143, s1|0.0.0.0:15147]|listeners:[], old=peers:[s0|localhost:15143]|listeners:[]}
  s1:  RUNNING CANDIDATE (CLOSED): s1@group-303C7B64B067:t2, leader=null, voted=null, raftlog=Memoized:s1@group-303C7B64B067-SegmentedRaftLog:CLOSED:c-1, conf=conf: {index: -1, cur=peers:[]|listeners:[], old=null}
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:544)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:578)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:571)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:120)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:118)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:99)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:94)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.lambda$testLeaderElectionWhenChangeFromSingleToHA$2(RaftReconfigurationBaseTest.java:178)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:143)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testLeaderElectionWhenChangeFromSingleToHA(RaftReconfigurationBaseTest.java:157)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)

