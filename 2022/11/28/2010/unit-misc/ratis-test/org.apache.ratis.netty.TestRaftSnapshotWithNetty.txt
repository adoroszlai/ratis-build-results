-------------------------------------------------------------------------------
Test set: org.apache.ratis.netty.TestRaftSnapshotWithNetty
-------------------------------------------------------------------------------
Tests run: 3, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 103.04 s <<< FAILURE! - in org.apache.ratis.netty.TestRaftSnapshotWithNetty
testBasicInstallSnapshot(org.apache.ratis.netty.TestRaftSnapshotWithNetty)  Time elapsed: 100.007 s  <<< ERROR!
org.junit.runners.model.TestTimedOutException: test timed out after 100 seconds
	at java.base@11.0.17/java.lang.Object.wait(Native Method)
	at java.base@11.0.17/java.lang.Object.wait(Object.java:328)
	at app//org.apache.ratis.thirdparty.io.netty.util.concurrent.DefaultPromise.awaitUninterruptibly(DefaultPromise.java:275)
	at app//org.apache.ratis.thirdparty.io.netty.channel.DefaultChannelPromise.awaitUninterruptibly(DefaultChannelPromise.java:137)
	at app//org.apache.ratis.thirdparty.io.netty.channel.DefaultChannelPromise.awaitUninterruptibly(DefaultChannelPromise.java:30)
	at app//org.apache.ratis.thirdparty.io.netty.util.concurrent.DefaultPromise.syncUninterruptibly(DefaultPromise.java:411)
	at app//org.apache.ratis.thirdparty.io.netty.channel.DefaultChannelPromise.syncUninterruptibly(DefaultChannelPromise.java:125)
	at app//org.apache.ratis.thirdparty.io.netty.channel.DefaultChannelPromise.syncUninterruptibly(DefaultChannelPromise.java:30)
	at app//org.apache.ratis.netty.NettyClient.lambda$close$1(NettyClient.java:62)
	at app//org.apache.ratis.netty.NettyClient$$Lambda$553/0x0000000100340840.run(Unknown Source)
	at app//org.apache.ratis.util.LifeCycle.lambda$checkStateAndClose$4(LifeCycle.java:299)
	at app//org.apache.ratis.util.LifeCycle$$Lambda$435/0x00000001002d5440.get(Unknown Source)
	at app//org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:319)
	at app//org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:297)
	at app//org.apache.ratis.netty.NettyClient.close(NettyClient.java:61)
	at app//org.apache.ratis.netty.NettyRpcProxy$Connection.close(NettyRpcProxy.java:156)
	at app//org.apache.ratis.netty.NettyRpcProxy.close(NettyRpcProxy.java:177)
	at app//org.apache.ratis.util.PeerProxyMap.closeProxy(PeerProxyMap.java:175)
	at app//org.apache.ratis.util.PeerProxyMap.lambda$close$3(PeerProxyMap.java:169)
	at app//org.apache.ratis.util.PeerProxyMap$$Lambda$552/0x0000000100341440.accept(Unknown Source)
	at java.base@11.0.17/java.util.Optional.ifPresent(Optional.java:183)
	at app//org.apache.ratis.util.PeerProxyMap.lambda$close$4(PeerProxyMap.java:169)
	at app//org.apache.ratis.util.PeerProxyMap$$Lambda$550/0x0000000100341c40.accept(Unknown Source)
	at java.base@11.0.17/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base@11.0.17/java.util.concurrent.ConcurrentHashMap$ValueSpliterator.forEachRemaining(ConcurrentHashMap.java:3603)
	at java.base@11.0.17/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base@11.0.17/java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)
	at java.base@11.0.17/java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:746)
	at java.base@11.0.17/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)
	at java.base@11.0.17/java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:408)
	at java.base@11.0.17/java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:736)
	at java.base@11.0.17/java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)
	at java.base@11.0.17/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)
	at java.base@11.0.17/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.base@11.0.17/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)
	at java.base@11.0.17/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:661)
	at app//org.apache.ratis.util.PeerProxyMap.close(PeerProxyMap.java:168)
	at app//org.apache.ratis.netty.NettyRpcProxy$PeerMap.close(NettyRpcProxy.java:73)
	at app//org.apache.ratis.server.RaftServerRpcWithProxy.closeImpl(RaftServerRpcWithProxy.java:85)
	at app//org.apache.ratis.netty.server.NettyRpcService.closeImpl(NettyRpcService.java:166)
	at app//org.apache.ratis.server.RaftServerRpcWithProxy$$Lambda$706/0x00000001003bf040.run(Unknown Source)
	at app//org.apache.ratis.util.LifeCycle.lambda$checkStateAndClose$4(LifeCycle.java:299)
	at app//org.apache.ratis.util.LifeCycle$$Lambda$435/0x00000001002d5440.get(Unknown Source)
	at app//org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:319)
	at app//org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:297)
	at app//org.apache.ratis.server.RaftServerRpcWithProxy.close(RaftServerRpcWithProxy.java:80)
	at app//org.apache.ratis.server.impl.RaftServerProxy.lambda$close$7(RaftServerProxy.java:416)
	at app//org.apache.ratis.server.impl.RaftServerProxy$$Lambda$702/0x00000001003be040.run(Unknown Source)
	at app//org.apache.ratis.util.LifeCycle.lambda$checkStateAndClose$4(LifeCycle.java:299)
	at app//org.apache.ratis.util.LifeCycle$$Lambda$435/0x00000001002d5440.get(Unknown Source)
	at app//org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:319)
	at app//org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:297)
	at app//org.apache.ratis.server.impl.RaftServerProxy.close(RaftServerProxy.java:411)
	at app//org.apache.ratis.server.impl.MiniRaftCluster.killServer(MiniRaftCluster.java:534)
	at app//org.apache.ratis.server.impl.MiniRaftCluster.restartServer(MiniRaftCluster.java:360)
	at app//org.apache.ratis.server.impl.MiniRaftCluster.restartServer(MiniRaftCluster.java:356)
	at app//org.apache.ratis.statemachine.RaftSnapshotBaseTest.testBasicInstallSnapshot(RaftSnapshotBaseTest.java:252)
	at java.base@11.0.17/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base@11.0.17/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base@11.0.17/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base@11.0.17/java.lang.reflect.Method.invoke(Method.java:566)
	at app//org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at app//org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at app//org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at app//org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at app//org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at app//org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at app//org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at app//org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base@11.0.17/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base@11.0.17/java.lang.Thread.run(Thread.java:829)

