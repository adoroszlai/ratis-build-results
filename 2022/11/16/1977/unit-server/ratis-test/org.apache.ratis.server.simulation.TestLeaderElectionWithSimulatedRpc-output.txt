SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/runner/.m2/repository/org/slf4j/slf4j-log4j12/1.7.29/slf4j-log4j12-1.7.29.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/runner/.m2/repository/org/slf4j/slf4j-simple/1.7.29/slf4j-simple-1.7.29.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
SLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]
2022-11-16 04:23:58,083 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-16 04:23:58,086 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-16 04:23:58,089 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-16 04:23:58,089 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-16 04:23:58,115 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-16 04:23:58,159 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-4787675A0C28:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER, s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]
2022-11-16 04:23:58,159 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-16 04:23:58,159 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-16 04:23:58,159 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-16 04:23:58,159 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-16 04:23:58,160 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-16 04:23:58,160 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-16 04:23:58,162 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-4787675A0C28:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER, s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:23:58,163 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s3
2022-11-16 04:23:58,164 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s3 does not exist.
2022-11-16 04:23:58,164 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s3
2022-11-16 04:23:58,175 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:23:58,187 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:23:58,203 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:23:58,204 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:23:58,219 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:23:58,221 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:23:58,227 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s3] (custom)
2022-11-16 04:23:58,240 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-4787675A0C28:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER, s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER] returns group-4787675A0C28:java.util.concurrent.CompletableFuture@15d2257c[Not completed]
2022-11-16 04:23:58,240 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-4787675A0C28:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER, s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:23:58,240 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s0
2022-11-16 04:23:58,240 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s0 does not exist.
2022-11-16 04:23:58,240 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s0
2022-11-16 04:23:58,241 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:23:58,241 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:23:58,241 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:23:58,241 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:23:58,242 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:23:58,242 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:23:58,242 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s0] (custom)
2022-11-16 04:23:58,254 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-4787675A0C28:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER, s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER] returns group-4787675A0C28:java.util.concurrent.CompletableFuture@309868ea[Not completed]
2022-11-16 04:23:58,254 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-4787675A0C28:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER, s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:23:58,254 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s1
2022-11-16 04:23:58,254 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s1 does not exist.
2022-11-16 04:23:58,254 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s1
2022-11-16 04:23:58,255 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:23:58,255 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:23:58,255 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:23:58,255 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:23:58,255 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:23:58,256 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:23:58,256 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s1] (custom)
2022-11-16 04:23:58,260 [pool-2-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-4787675A0C28:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER, s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:23:58,260 [pool-1-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-4787675A0C28:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER, s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:23:58,265 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-4787675A0C28:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER, s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER] returns group-4787675A0C28:java.util.concurrent.CompletableFuture@684b504[Not completed]
2022-11-16 04:23:58,266 [pool-3-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-4787675A0C28:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER, s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:23:58,265 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:23:58,265 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:23:58,267 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:23:58,267 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:23:58,267 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:23:58,268 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:23:58,268 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:23:58,268 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:23:58,269 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:23:58,269 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:23:58,269 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:23:58,269 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:23:58,270 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:23:58,266 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-4787675A0C28:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER, s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:23:58,271 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s2
2022-11-16 04:23:58,271 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s2 does not exist.
2022-11-16 04:23:58,271 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s2
2022-11-16 04:23:58,271 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:23:58,272 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:23:58,272 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:23:58,272 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:23:58,272 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:23:58,272 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:23:58,272 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s2] (custom)
2022-11-16 04:23:58,267 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:23:58,278 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:23:58,278 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:23:58,278 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:23:58,278 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:23:58,279 [pool-2-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-4787675A0C28: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-16 04:23:58,282 [pool-1-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-4787675A0C28: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-16 04:23:58,286 [pool-3-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-4787675A0C28: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-16 04:23:58,291 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:23:58,291 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:23:58,293 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-4787675A0C28:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER, s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER] returns group-4787675A0C28:java.util.concurrent.CompletableFuture@389929e[Not completed]
2022-11-16 04:23:58,298 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:23:58,300 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:23:58,300 [pool-4-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-4787675A0C28:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER, s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:23:58,300 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:23:58,300 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:23:58,306 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:23:58,306 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:23:58,303 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:23:58,306 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:23:58,309 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:23:58,306 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:23:58,309 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:23:58,309 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:23:58,309 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:23:58,310 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:23:58,310 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:23:58,310 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:23:58,310 [pool-4-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-4787675A0C28: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-16 04:23:58,311 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:23:58,311 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:23:58,312 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:23:58,312 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:23:58,354 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:23:58,355 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:23:58,354 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:23:58,360 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:23:58,366 [pool-1-thread-1] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2022-11-16 04:23:58,527 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:23:58,528 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:23:58,528 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:23:58,528 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:23:58,529 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:23:58,529 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:23:58,529 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:23:58,529 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:23:58,529 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:23:58,529 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:23:58,530 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:23:58,530 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:23:58,530 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:23:58,530 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:23:58,530 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:23:58,530 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:23:58,533 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:23:58,534 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s3] (custom)
2022-11-16 04:23:58,536 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:23:58,536 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:23:58,536 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:23:58,536 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:23:58,537 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:23:58,542 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s3/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28 does not exist. Creating ...
2022-11-16 04:23:58,544 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s3/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28
2022-11-16 04:23:58,546 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s3/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:23:58,547 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s3/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28/current
2022-11-16 04:23:58,547 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s3/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28/sm
2022-11-16 04:23:58,564 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s3/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28 has been successfully formatted.
2022-11-16 04:23:58,566 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:23:58,572 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:23:58,573 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:23:58,574 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:23:58,575 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:23:58,577 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:23:58,581 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:23:58,582 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:23:58,585 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s3@group-4787675A0C28-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s3/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28
2022-11-16 04:23:58,585 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:23:58,585 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:23:58,587 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:23:58,587 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:23:58,587 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:23:58,588 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:23:58,588 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:23:58,589 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:23:58,590 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:23:58,591 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:23:58,593 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:23:58,594 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:23:58,594 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:23:58,600 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-4787675A0C28-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:23:58,600 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-4787675A0C28-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:23:58,602 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(341)) - s3@group-4787675A0C28: start as a listener, conf=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:23:58,602 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-4787675A0C28: changes role from      null to LISTENER at term 0 for startAsListener
2022-11-16 04:23:58,603 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-4787675A0C28-FollowerState
2022-11-16 04:23:58,610 [s3@group-4787675A0C28-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:23:58,610 [s3@group-4787675A0C28-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:23:58,614 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4787675A0C28,id=s3
2022-11-16 04:23:58,616 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:23:58,616 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:23:58,617 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:23:58,621 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s3: start RPC server
2022-11-16 04:23:58,628 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s3: Started
2022-11-16 04:23:58,628 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:23:58,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:23:58,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s0] (custom)
2022-11-16 04:23:58,629 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s0/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28 does not exist. Creating ...
2022-11-16 04:23:58,633 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s0/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28
2022-11-16 04:23:58,634 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s0/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:23:58,635 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s0/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28/current
2022-11-16 04:23:58,635 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s0/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28/sm
2022-11-16 04:23:58,636 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s0/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28 has been successfully formatted.
2022-11-16 04:23:58,637 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:23:58,637 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:23:58,637 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:23:58,637 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:23:58,637 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:23:58,638 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:23:58,638 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:23:58,638 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:23:58,639 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-4787675A0C28-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s0/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28
2022-11-16 04:23:58,641 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:23:58,641 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:23:58,641 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:23:58,641 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:23:58,641 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:23:58,641 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:23:58,641 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:23:58,641 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:23:58,642 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:23:58,643 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:23:58,644 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:23:58,644 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:23:58,644 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:23:58,644 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-4787675A0C28-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:23:58,644 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-4787675A0C28-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:23:58,645 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-4787675A0C28: start as a follower, conf=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:23:58,645 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-4787675A0C28: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:23:58,645 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-4787675A0C28-FollowerState
2022-11-16 04:23:58,648 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4787675A0C28,id=s0
2022-11-16 04:23:58,652 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:23:58,652 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:23:58,652 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:23:58,653 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-16 04:23:58,654 [s0@group-4787675A0C28-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:23:58,654 [s0@group-4787675A0C28-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:23:58,655 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-16 04:23:58,656 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:23:58,656 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:23:58,656 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s1] (custom)
2022-11-16 04:23:58,656 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s1/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28 does not exist. Creating ...
2022-11-16 04:23:58,656 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s1/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28
2022-11-16 04:23:58,657 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s1/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:23:58,658 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s1/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28/current
2022-11-16 04:23:58,658 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s1/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28/sm
2022-11-16 04:23:58,659 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s1/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28 has been successfully formatted.
2022-11-16 04:23:58,659 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:23:58,659 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:23:58,659 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:23:58,659 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:23:58,659 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:23:58,660 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:23:58,661 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:23:58,661 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:23:58,661 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-4787675A0C28-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s1/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28
2022-11-16 04:23:58,661 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:23:58,661 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:23:58,661 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:23:58,662 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:23:58,662 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:23:58,662 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:23:58,662 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:23:58,662 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:23:58,662 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:23:58,663 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:23:58,665 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:23:58,665 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:23:58,666 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:23:58,666 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-4787675A0C28-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:23:58,668 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-4787675A0C28-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:23:58,668 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-4787675A0C28: start as a follower, conf=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:23:58,669 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-4787675A0C28: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:23:58,669 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-4787675A0C28-FollowerState
2022-11-16 04:23:58,670 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4787675A0C28,id=s1
2022-11-16 04:23:58,671 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:23:58,671 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:23:58,671 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:23:58,672 [s1@group-4787675A0C28-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:23:58,673 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-16 04:23:58,674 [s1@group-4787675A0C28-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:23:58,675 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:23:58,676 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:23:58,676 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s2] (custom)
2022-11-16 04:23:58,676 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s2/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28 does not exist. Creating ...
2022-11-16 04:23:58,676 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s2/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28
2022-11-16 04:23:58,676 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-16 04:23:58,677 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s2/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:23:58,678 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s2/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28/current
2022-11-16 04:23:58,678 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s2/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28/sm
2022-11-16 04:23:58,679 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s2/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28 has been successfully formatted.
2022-11-16 04:23:58,679 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:23:58,679 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:23:58,680 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:23:58,680 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:23:58,680 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:23:58,681 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:23:58,681 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:23:58,681 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:23:58,681 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-4787675A0C28-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s2/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28
2022-11-16 04:23:58,681 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:23:58,681 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:23:58,681 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:23:58,681 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:23:58,682 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:23:58,682 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:23:58,682 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:23:58,682 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:23:58,682 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:23:58,682 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:23:58,684 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:23:58,684 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:23:58,684 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:23:58,684 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-4787675A0C28-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:23:58,684 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-4787675A0C28-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:23:58,684 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-4787675A0C28: start as a follower, conf=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:23:58,685 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-4787675A0C28: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:23:58,685 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-4787675A0C28-FollowerState
2022-11-16 04:23:58,687 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4787675A0C28,id=s2
2022-11-16 04:23:58,687 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:23:58,687 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:23:58,687 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:23:58,691 [s2@group-4787675A0C28-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:23:58,696 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-16 04:23:58,697 [s2@group-4787675A0C28-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:23:58,699 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-16 04:23:58,701 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:23:58,704 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-4787675A0C28:t0, leader=null, voted=, raftlog=Memoized:s3@group-4787675A0C28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-4787675A0C28:t0, leader=null, voted=, raftlog=Memoized:s0@group-4787675A0C28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4787675A0C28:t0, leader=null, voted=, raftlog=Memoized:s1@group-4787675A0C28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-4787675A0C28:t0, leader=null, voted=, raftlog=Memoized:s2@group-4787675A0C28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null RUNNING
2022-11-16 04:23:58,710 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-4787675A0C28:t0, leader=null, voted=, raftlog=Memoized:s3@group-4787675A0C28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-4787675A0C28:t0, leader=null, voted=, raftlog=Memoized:s0@group-4787675A0C28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4787675A0C28:t0, leader=null, voted=, raftlog=Memoized:s1@group-4787675A0C28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-4787675A0C28:t0, leader=null, voted=, raftlog=Memoized:s2@group-4787675A0C28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-4787675A0C28:t0, leader=null, voted=, raftlog=Memoized:s3@group-4787675A0C28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-4787675A0C28:t0, leader=null, voted=, raftlog=Memoized:s0@group-4787675A0C28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4787675A0C28:t0, leader=null, voted=, raftlog=Memoized:s1@group-4787675A0C28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-4787675A0C28:t0, leader=null, voted=, raftlog=Memoized:s2@group-4787675A0C28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testRemoveListener(LeaderElectionTests.java:390)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:23:58,824 [s3@group-4787675A0C28-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:23:58,824 [s3@group-4787675A0C28-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:23:58,834 [s1@group-4787675A0C28-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-4787675A0C28-FollowerState: change to CANDIDATE, lastRpcElapsedTime:165595647ns, electionTimeout:159ms
2022-11-16 04:23:58,835 [s1@group-4787675A0C28-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-4787675A0C28-FollowerState
2022-11-16 04:23:58,835 [s1@group-4787675A0C28-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-4787675A0C28: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-16 04:23:58,838 [s1@group-4787675A0C28-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:23:58,838 [s1@group-4787675A0C28-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-4787675A0C28-LeaderElection1
2022-11-16 04:23:58,845 [s1@group-4787675A0C28-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-4787675A0C28-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:23:58,850 [s0@group-4787675A0C28-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-4787675A0C28-FollowerState: change to CANDIDATE, lastRpcElapsedTime:205317938ns, electionTimeout:196ms
2022-11-16 04:23:58,850 [s0@group-4787675A0C28-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-4787675A0C28-FollowerState
2022-11-16 04:23:58,850 [s0@group-4787675A0C28-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-4787675A0C28: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-16 04:23:58,851 [s0@group-4787675A0C28-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:23:58,852 [s0@group-4787675A0C28-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-4787675A0C28-LeaderElection2
2022-11-16 04:23:58,853 [s0@group-4787675A0C28-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-4787675A0C28-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:23:58,865 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-4787675A0C28: receive requestVote(PRE_VOTE, s0, group-4787675A0C28, 0, (t:0, i:0))
2022-11-16 04:23:58,872 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-4787675A0C28-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:23:58,870 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-4787675A0C28: receive requestVote(PRE_VOTE, s0, group-4787675A0C28, 0, (t:0, i:0))
2022-11-16 04:23:58,869 [s0@group-4787675A0C28-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:23:58,874 [s0@group-4787675A0C28-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:23:58,874 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-4787675A0C28-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:23:58,878 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-4787675A0C28: receive requestVote(PRE_VOTE, s1, group-4787675A0C28, 0, (t:0, i:0))
2022-11-16 04:23:58,879 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-4787675A0C28-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:23:58,879 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-4787675A0C28 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-4787675A0C28:t0, leader=null, voted=, raftlog=Memoized:s0@group-4787675A0C28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:23:58,880 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-4787675A0C28 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-4787675A0C28:t0, leader=null, voted=, raftlog=Memoized:s2@group-4787675A0C28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:23:58,880 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-4787675A0C28 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-4787675A0C28:t0, leader=null, voted=, raftlog=Memoized:s1@group-4787675A0C28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:23:58,886 [s1@group-4787675A0C28-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:23:58,880 [s0@group-4787675A0C28-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-4787675A0C28-LeaderElection2: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:23:58,886 [s1@group-4787675A0C28-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:23:58,886 [s1@group-4787675A0C28-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-4787675A0C28-LeaderElection1: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:23:58,886 [s1@group-4787675A0C28-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2022-11-16 04:23:58,887 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-4787675A0C28: receive requestVote(PRE_VOTE, s1, group-4787675A0C28, 0, (t:0, i:0))
2022-11-16 04:23:58,886 [s0@group-4787675A0C28-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t0
2022-11-16 04:23:58,887 [s0@group-4787675A0C28-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-4787675A0C28-LeaderElection2 PRE_VOTE round 0: result PASSED
2022-11-16 04:23:58,887 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-4787675A0C28-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:23:58,893 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-4787675A0C28 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-4787675A0C28:t0, leader=null, voted=, raftlog=Memoized:s2@group-4787675A0C28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:23:58,887 [s1@group-4787675A0C28-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-4787675A0C28-LeaderElection1 PRE_VOTE round 0: result PASSED
2022-11-16 04:23:58,895 [s1@group-4787675A0C28-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-4787675A0C28-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:23:58,895 [s0@group-4787675A0C28-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-4787675A0C28-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:23:58,897 [s1@group-4787675A0C28-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:23:58,903 [s1@group-4787675A0C28-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:23:58,897 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-4787675A0C28: receive requestVote(ELECTION, s1, group-4787675A0C28, 1, (t:0, i:0))
2022-11-16 04:23:58,902 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-4787675A0C28: receive requestVote(ELECTION, s1, group-4787675A0C28, 1, (t:0, i:0))
2022-11-16 04:23:58,903 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-4787675A0C28-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:23:58,904 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-4787675A0C28: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-11-16 04:23:58,904 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-4787675A0C28-FollowerState
2022-11-16 04:23:58,901 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-4787675A0C28: receive requestVote(ELECTION, s0, group-4787675A0C28, 1, (t:0, i:0))
2022-11-16 04:23:58,904 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-4787675A0C28-CANDIDATE: reject ELECTION from s0: already has voted for s1 at current term 1
2022-11-16 04:23:58,904 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-4787675A0C28 replies to ELECTION vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-4787675A0C28:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-4787675A0C28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:23:58,901 [s0@group-4787675A0C28-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:23:58,905 [s0@group-4787675A0C28-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:23:58,904 [s2@group-4787675A0C28-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-4787675A0C28-FollowerState was interrupted
2022-11-16 04:23:58,903 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-4787675A0C28-CANDIDATE: reject ELECTION from s1: already has voted for s0 at current term 1
2022-11-16 04:23:58,906 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-4787675A0C28: receive requestVote(ELECTION, s0, group-4787675A0C28, 1, (t:0, i:0))
2022-11-16 04:23:58,906 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-4787675A0C28-FollowerState
2022-11-16 04:23:58,906 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-4787675A0C28 replies to ELECTION vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-4787675A0C28:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-4787675A0C28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:23:58,907 [s2@group-4787675A0C28-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:23:58,908 [s2@group-4787675A0C28-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:23:58,909 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-4787675A0C28 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-4787675A0C28:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-4787675A0C28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:23:58,913 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-4787675A0C28-FOLLOWER: reject ELECTION from s0: already has voted for s1 at current term 1
2022-11-16 04:23:58,913 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-4787675A0C28 replies to ELECTION vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-4787675A0C28:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-4787675A0C28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:23:58,913 [s1@group-4787675A0C28-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-4787675A0C28-LeaderElection1: ELECTION PASSED received 2 response(s) and 0 exception(s):
2022-11-16 04:23:58,913 [s1@group-4787675A0C28-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:FAIL-t1
2022-11-16 04:23:58,913 [s1@group-4787675A0C28-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:OK-t1
2022-11-16 04:23:58,913 [s1@group-4787675A0C28-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-4787675A0C28-LeaderElection1 ELECTION round 0: result PASSED
2022-11-16 04:23:58,913 [s1@group-4787675A0C28-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-4787675A0C28-LeaderElection1
2022-11-16 04:23:58,914 [s1@group-4787675A0C28-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-4787675A0C28: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-16 04:23:58,914 [s1@group-4787675A0C28-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-4787675A0C28: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 616ms
2022-11-16 04:23:58,913 [s0@group-4787675A0C28-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-4787675A0C28-LeaderElection2: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-11-16 04:23:58,932 [s0@group-4787675A0C28-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-16 04:23:58,932 [s0@group-4787675A0C28-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-16 04:23:58,932 [s0@group-4787675A0C28-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-4787675A0C28-LeaderElection2 ELECTION round 0: result REJECTED
2022-11-16 04:23:58,932 [s0@group-4787675A0C28-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-4787675A0C28: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:23:58,932 [s0@group-4787675A0C28-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-4787675A0C28-LeaderElection2
2022-11-16 04:23:58,932 [s0@group-4787675A0C28-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-4787675A0C28-FollowerState
2022-11-16 04:23:58,932 [s1@group-4787675A0C28-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:23:58,940 [s1@group-4787675A0C28-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:23:58,941 [s1@group-4787675A0C28-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:23:58,949 [s0@group-4787675A0C28-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:23:58,949 [s0@group-4787675A0C28-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:23:58,955 [s1@group-4787675A0C28-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:23:58,955 [s1@group-4787675A0C28-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:23:58,956 [s1@group-4787675A0C28-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:23:58,966 [s1@group-4787675A0C28-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:23:58,967 [s1@group-4787675A0C28-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:23:58,978 [s1@group-4787675A0C28-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:23:58,978 [s1@group-4787675A0C28-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:23:58,979 [s1@group-4787675A0C28-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:23:58,981 [s1@group-4787675A0C28-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:23:58,981 [s1@group-4787675A0C28-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:23:58,981 [s1@group-4787675A0C28-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:23:58,982 [s1@group-4787675A0C28-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:23:58,982 [s1@group-4787675A0C28-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:23:58,984 [s1@group-4787675A0C28-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:23:58,984 [s1@group-4787675A0C28-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-4787675A0C28-LeaderStateImpl
2022-11-16 04:23:58,998 [s1@group-4787675A0C28-LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-4787675A0C28-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:23:59,050 [s1@group-4787675A0C28-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-4787675A0C28: set configuration 0: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:23:59,052 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-4787675A0C28: change Leader from null to s1 at term 1 for appendEntries, leader elected after 761ms
2022-11-16 04:23:59,064 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-4787675A0C28: change Leader from null to s1 at term 1 for appendEntries, leader elected after 753ms
2022-11-16 04:23:59,065 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-4787675A0C28: change Leader from null to s1 at term 1 for appendEntries, leader elected after 773ms
2022-11-16 04:23:59,115 [s1@group-4787675A0C28-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-4787675A0C28-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s1/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28/current/log_inprogress_0
2022-11-16 04:23:59,164 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-4787675A0C28:t1, leader=s1, voted=null, raftlog=Memoized:s3@group-4787675A0C28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-4787675A0C28:t1, leader=s1, voted=s0, raftlog=Memoized:s0@group-4787675A0C28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-4787675A0C28:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-4787675A0C28-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-4787675A0C28:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-4787675A0C28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null RUNNING
2022-11-16 04:23:59,166 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:23:59,193 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-4787675A0C28: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1, s3:c-1], cId:6, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:32855"
dataStreamAddress: "localhost:46645"
clientAddress: "localhost:33343"
adminAddress: "localhost:36191"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:34371"
dataStreamAddress: "localhost:46041"
clientAddress: "localhost:34767"
adminAddress: "localhost:39539"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34951"
dataStreamAddress: "localhost:37969"
clientAddress: "localhost:32867"
adminAddress: "localhost:45083"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:23:59,194 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-4787675A0C28: receive appendEntries(s1, 1, null, -1, false, commits:[s1:c-1, s0:c-1, s2:c-1, s3:c-1], cId:8, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:32855"
dataStreamAddress: "localhost:46645"
clientAddress: "localhost:33343"
adminAddress: "localhost:36191"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:34371"
dataStreamAddress: "localhost:46041"
clientAddress: "localhost:34767"
adminAddress: "localhost:39539"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34951"
dataStreamAddress: "localhost:37969"
clientAddress: "localhost:32867"
adminAddress: "localhost:45083"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:23:59,197 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s3@group-4787675A0C28: set configuration 0: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:23:59,197 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s3@group-4787675A0C28-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:23:59,205 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4787675A0C28: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1, s3:c-1], cId:7, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:32855"
dataStreamAddress: "localhost:46645"
clientAddress: "localhost:33343"
adminAddress: "localhost:36191"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:34371"
dataStreamAddress: "localhost:46041"
clientAddress: "localhost:34767"
adminAddress: "localhost:39539"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34951"
dataStreamAddress: "localhost:37969"
clientAddress: "localhost:32867"
adminAddress: "localhost:45083"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:23:59,210 [s3@group-4787675A0C28-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s3@group-4787675A0C28-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s3/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28/current/log_inprogress_0
2022-11-16 04:23:59,211 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-4787675A0C28: succeeded to handle AppendEntries. Reply: s1<-s3#8:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-16 04:23:59,205 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-4787675A0C28: set configuration 0: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:23:59,215 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-4787675A0C28-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:23:59,216 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-4787675A0C28: set configuration 0: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:23:59,217 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-4787675A0C28-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:23:59,234 [s2@group-4787675A0C28-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-4787675A0C28-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s2/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28/current/log_inprogress_0
2022-11-16 04:23:59,239 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4787675A0C28: succeeded to handle AppendEntries. Reply: s1<-s2#7:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-16 04:23:59,241 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s1@group-4787675A0C28: receive client request(RaftClientRequest:client-0CDE4EC338AC->s1@group-4787675A0C28, cid=9, seq=0, RW, message)
2022-11-16 04:23:59,243 [s0@group-4787675A0C28-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-4787675A0C28-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcbe97ed3d/s0/c0c2a8e1-d65d-4f3e-8efb-4787675a0c28/current/log_inprogress_0
2022-11-16 04:23:59,244 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-4787675A0C28: succeeded to handle AppendEntries. Reply: s1<-s0#6:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-16 04:23:59,262 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(410)) - s1@group-4787675A0C28-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-0CDE4EC338AC->s1@group-4787675A0C28, cid=9, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 9@client-0CDE4EC338AC
2022-11-16 04:23:59,264 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-4787675A0C28: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c-1, s2:c-1, s3:c-1], cId:11, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 9@client-0CDE4EC338AC]
2022-11-16 04:23:59,264 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4787675A0C28: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c-1, s2:c-1, s3:c-1], cId:12, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 9@client-0CDE4EC338AC]
2022-11-16 04:23:59,266 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-4787675A0C28: receive appendEntries(s1, 1, (t:1, i:0), 0, false, commits:[s1:c0, s0:c-1, s2:c-1, s3:c-1], cId:10, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 9@client-0CDE4EC338AC]
2022-11-16 04:23:59,266 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-4787675A0C28: succeeded to handle AppendEntries. Reply: s1<-s0#11:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-16 04:23:59,267 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4787675A0C28: succeeded to handle AppendEntries. Reply: s1<-s2#12:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-16 04:23:59,267 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-4787675A0C28: succeeded to handle AppendEntries. Reply: s1<-s3#10:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-16 04:23:59,273 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-4787675A0C28: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0, s3:c0], cId:13, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-16 04:23:59,273 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4787675A0C28: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0, s3:c0], cId:14, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-16 04:23:59,274 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-4787675A0C28: succeeded to handle AppendEntries. Reply: s1<-s0#13:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-16 04:23:59,276 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4787675A0C28: succeeded to handle AppendEntries. Reply: s1<-s2#14:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-16 04:23:59,277 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-4787675A0C28: receive appendEntries(s1, 1, (t:1, i:1), 1, false, commits:[s1:c1, s0:c0, s2:c1, s3:c0], cId:15, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-16 04:23:59,278 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-4787675A0C28: succeeded to handle AppendEntries. Reply: s1<-s3#15:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-16 04:23:59,286 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1188)) - s1@group-4787675A0C28: receive setConfiguration SetConfigurationRequest:client-0CDE4EC338AC->s1@group-4787675A0C28, cid=16, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER], listeners:[]
2022-11-16 04:23:59,286 [s1-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(377)) - s1@group-4787675A0C28-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-0CDE4EC338AC->s1@group-4787675A0C28, cid=16, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER], listeners:[]
2022-11-16 04:23:59,292 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-4787675A0C28: set configuration 3: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER]
2022-11-16 04:23:59,294 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-4787675A0C28: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits:[s1:c2, s0:c1, s2:c1, s3:c1], cId:17, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:32855"
dataStreamAddress: "localhost:46645"
clientAddress: "localhost:33343"
adminAddress: "localhost:36191"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:34371"
dataStreamAddress: "localhost:46041"
clientAddress: "localhost:34767"
adminAddress: "localhost:39539"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34951"
dataStreamAddress: "localhost:37969"
clientAddress: "localhost:32867"
adminAddress: "localhost:45083"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:32855"
dataStreamAddress: "localhost:46645"
clientAddress: "localhost:33343"
adminAddress: "localhost:36191"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:34371"
dataStreamAddress: "localhost:46041"
clientAddress: "localhost:34767"
adminAddress: "localhost:39539"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34951"
dataStreamAddress: "localhost:37969"
clientAddress: "localhost:32867"
adminAddress: "localhost:45083"
startupRole: FOLLOWER
)]
2022-11-16 04:23:59,294 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4787675A0C28: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits:[s1:c2, s0:c1, s2:c1, s3:c1], cId:19, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:32855"
dataStreamAddress: "localhost:46645"
clientAddress: "localhost:33343"
adminAddress: "localhost:36191"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:34371"
dataStreamAddress: "localhost:46041"
clientAddress: "localhost:34767"
adminAddress: "localhost:39539"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34951"
dataStreamAddress: "localhost:37969"
clientAddress: "localhost:32867"
adminAddress: "localhost:45083"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:32855"
dataStreamAddress: "localhost:46645"
clientAddress: "localhost:33343"
adminAddress: "localhost:36191"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:34371"
dataStreamAddress: "localhost:46041"
clientAddress: "localhost:34767"
adminAddress: "localhost:39539"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34951"
dataStreamAddress: "localhost:37969"
clientAddress: "localhost:32867"
adminAddress: "localhost:45083"
startupRole: FOLLOWER
)]
2022-11-16 04:23:59,295 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-4787675A0C28: set configuration 3: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER]
2022-11-16 04:23:59,296 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4787675A0C28: succeeded to handle AppendEntries. Reply: s1<-s2#19:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-16 04:23:59,297 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-4787675A0C28: receive appendEntries(s1, 1, (t:1, i:2), 2, false, commits:[s1:c2, s0:c1, s2:c1, s3:c1], cId:18, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:32855"
dataStreamAddress: "localhost:46645"
clientAddress: "localhost:33343"
adminAddress: "localhost:36191"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:34371"
dataStreamAddress: "localhost:46041"
clientAddress: "localhost:34767"
adminAddress: "localhost:39539"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34951"
dataStreamAddress: "localhost:37969"
clientAddress: "localhost:32867"
adminAddress: "localhost:45083"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:32855"
dataStreamAddress: "localhost:46645"
clientAddress: "localhost:33343"
adminAddress: "localhost:36191"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:34371"
dataStreamAddress: "localhost:46041"
clientAddress: "localhost:34767"
adminAddress: "localhost:39539"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34951"
dataStreamAddress: "localhost:37969"
clientAddress: "localhost:32867"
adminAddress: "localhost:45083"
startupRole: FOLLOWER
)]
2022-11-16 04:23:59,297 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s3@group-4787675A0C28: set configuration 3: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER]
2022-11-16 04:23:59,298 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-4787675A0C28: set configuration 3: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER]
2022-11-16 04:23:59,298 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4787675A0C28: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c1, s2:c2, s3:c1], cId:20, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2022-11-16 04:23:59,299 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-4787675A0C28: succeeded to handle AppendEntries. Reply: s1<-s3#18:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-16 04:23:59,299 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-4787675A0C28: succeeded to handle AppendEntries. Reply: s1<-s0#17:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-16 04:23:59,299 [s1@group-4787675A0C28->s3-LogAppenderDefault-LogAppenderDaemon] INFO  server.RaftServer$Division (LeaderStateImpl.java:submit(155)) - s1@group-4787675A0C28-EventQueue: Interrupted when submitting CHECK_STAGING 
2022-11-16 04:23:59,299 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-4787675A0C28: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c2, s2:c2, s3:c1], cId:21, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2022-11-16 04:23:59,300 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4787675A0C28: succeeded to handle AppendEntries. Reply: s1<-s2#20:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-11-16 04:23:59,301 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-4787675A0C28: succeeded to handle AppendEntries. Reply: s1<-s0#21:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-11-16 04:23:59,301 [s1@group-4787675A0C28-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-4787675A0C28: set configuration 5: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:23:59,302 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4787675A0C28: receive appendEntries(s1, 1, (t:1, i:4), 4, true, commits:[s1:c4, s0:c3, s2:c3], cId:22, entries: [(t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:32855"
dataStreamAddress: "localhost:46645"
clientAddress: "localhost:33343"
adminAddress: "localhost:36191"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:34371"
dataStreamAddress: "localhost:46041"
clientAddress: "localhost:34767"
adminAddress: "localhost:39539"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34951"
dataStreamAddress: "localhost:37969"
clientAddress: "localhost:32867"
adminAddress: "localhost:45083"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:23:59,303 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-4787675A0C28: set configuration 5: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:23:59,304 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-4787675A0C28: receive appendEntries(s1, 1, (t:1, i:4), 4, true, commits:[s1:c4, s0:c3, s2:c3], cId:23, entries: [(t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:32855"
dataStreamAddress: "localhost:46645"
clientAddress: "localhost:33343"
adminAddress: "localhost:36191"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:34371"
dataStreamAddress: "localhost:46041"
clientAddress: "localhost:34767"
adminAddress: "localhost:39539"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34951"
dataStreamAddress: "localhost:37969"
clientAddress: "localhost:32867"
adminAddress: "localhost:45083"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:23:59,304 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-4787675A0C28: set configuration 5: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:23:59,305 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4787675A0C28: succeeded to handle AppendEntries. Reply: s1<-s2#22:OK-t1,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2022-11-16 04:23:59,305 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-4787675A0C28: succeeded to handle AppendEntries. Reply: s1<-s0#23:OK-t1,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2022-11-16 04:23:59,307 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-4787675A0C28: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits:[s1:c5, s0:c4, s2:c4], cId:24, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-16 04:23:59,307 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4787675A0C28: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits:[s1:c5, s0:c4, s2:c4], cId:25, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-16 04:23:59,307 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4787675A0C28: succeeded to handle AppendEntries. Reply: s1<-s2#25:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-16 04:23:59,308 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-4787675A0C28: succeeded to handle AppendEntries. Reply: s1<-s0#24:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-16 04:23:59,309 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-16 04:23:59,309 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-16 04:23:59,309 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-16 04:23:59,309 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-16 04:23:59,309 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-16 04:23:59,309 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-4787675A0C28:t1, leader=s1, voted=null, raftlog=Memoized:s3@group-4787675A0C28-SegmentedRaftLog:OPENED:c2, conf=3: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER] RUNNING
  s0:  RUNNING  FOLLOWER s0@group-4787675A0C28:t1, leader=s1, voted=s0, raftlog=Memoized:s0@group-4787675A0C28-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-4787675A0C28:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-4787675A0C28-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-4787675A0C28:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-4787675A0C28-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:23:59,311 [MiniRaftCluster-1] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s3: close
2022-11-16 04:23:59,312 [MiniRaftCluster-2] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-16 04:23:59,312 [MiniRaftCluster-3] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-16 04:23:59,323 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s3@group-4787675A0C28: shutdown
2022-11-16 04:23:59,323 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4787675A0C28,id=s3
2022-11-16 04:23:59,323 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-4787675A0C28-FollowerState
2022-11-16 04:23:59,323 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-4787675A0C28-StateMachineUpdater: set stopIndex = 2
2022-11-16 04:23:59,323 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:23:59,323 [s3@group-4787675A0C28-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-4787675A0C28-FollowerState was interrupted
2022-11-16 04:23:59,324 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-4787675A0C28: shutdown
2022-11-16 04:23:59,325 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s3@group-4787675A0C28: applyIndex: 2
2022-11-16 04:23:59,325 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:23:59,325 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:23:59,325 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:23:59,325 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:23:59,325 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:23:59,325 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:23:59,325 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-4787675A0C28: shutdown
2022-11-16 04:23:59,323 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:23:59,326 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4787675A0C28,id=s1
2022-11-16 04:23:59,326 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-4787675A0C28-LeaderStateImpl
2022-11-16 04:23:59,328 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:23:59,325 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4787675A0C28,id=s0
2022-11-16 04:23:59,332 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-4787675A0C28-FollowerState
2022-11-16 04:23:59,332 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-4787675A0C28-PendingRequests: sendNotLeaderResponses
2022-11-16 04:23:59,332 [MiniRaftCluster-4] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-16 04:23:59,328 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:23:59,328 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:23:59,327 [s3@group-4787675A0C28-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s3@group-4787675A0C28-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:23:59,326 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:23:59,323 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:23:59,336 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:23:59,336 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:23:59,335 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-4787675A0C28-StateMachineUpdater: set stopIndex = 6
2022-11-16 04:23:59,340 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-4787675A0C28: applyIndex: 6
2022-11-16 04:23:59,333 [s1@group-4787675A0C28->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-4787675A0C28->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:23:59,340 [s1@group-4787675A0C28-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-4787675A0C28-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:23:59,333 [s0@group-4787675A0C28-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-4787675A0C28-FollowerState was interrupted
2022-11-16 04:23:59,332 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-4787675A0C28-StateMachineUpdater: set stopIndex = 5
2022-11-16 04:23:59,340 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-4787675A0C28: applyIndex: 5
2022-11-16 04:23:59,333 [s1@group-4787675A0C28->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-4787675A0C28->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:23:59,341 [s0@group-4787675A0C28-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-4787675A0C28-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:23:59,340 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:23:59,340 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:23:59,340 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:23:59,340 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s3@group-4787675A0C28-SegmentedRaftLogWorker close()
2022-11-16 04:23:59,347 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-4787675A0C28: shutdown
2022-11-16 04:23:59,347 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4787675A0C28,id=s2
2022-11-16 04:23:59,347 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-4787675A0C28-FollowerState
2022-11-16 04:23:59,347 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-4787675A0C28-StateMachineUpdater: set stopIndex = 5
2022-11-16 04:23:59,347 [s2@group-4787675A0C28-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-4787675A0C28-FollowerState was interrupted
2022-11-16 04:23:59,347 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-4787675A0C28: applyIndex: 5
2022-11-16 04:23:59,347 [s2@group-4787675A0C28-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-4787675A0C28-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:23:59,348 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s3: Stopped
2022-11-16 04:23:59,348 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-4787675A0C28-SegmentedRaftLogWorker close()
2022-11-16 04:23:59,348 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-4787675A0C28-SegmentedRaftLogWorker close()
2022-11-16 04:23:59,349 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-16 04:23:59,351 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-4787675A0C28-SegmentedRaftLogWorker close()
2022-11-16 04:23:59,352 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:23:59,352 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-16 04:23:59,352 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:23:59,352 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:23:59,353 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:23:59,353 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:23:59,353 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:23:59,353 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-16 04:23:59,354 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-16 04:23:59,356 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-16 04:23:59,356 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-16 04:23:59,356 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-16 04:23:59,356 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-16 04:23:59,356 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-16 04:23:59,356 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:   CLOSED  LISTENER s3@group-4787675A0C28:t1, leader=s1, voted=null, raftlog=Memoized:s3@group-4787675A0C28-SegmentedRaftLog:CLOSED:c2, conf=3: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38745|admin:localhost:37967|client:localhost:45301|dataStream:localhost:36939|priority:0|startupRole:LISTENER] CLOSED
  s0:   CLOSED  FOLLOWER s0@group-4787675A0C28:t1, leader=s1, voted=s0, raftlog=Memoized:s0@group-4787675A0C28-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-4787675A0C28:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-4787675A0C28-SegmentedRaftLog:CLOSED:c6, conf=5: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-4787675A0C28:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-4787675A0C28-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:localhost:32855|admin:localhost:36191|client:localhost:33343|dataStream:localhost:46645|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34371|admin:localhost:39539|client:localhost:34767|dataStream:localhost:46041|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:45083|client:localhost:32867|dataStream:localhost:37969|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2022-11-16 04:23:59,368 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-16 04:23:59,370 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-16 04:23:59,371 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-16 04:23:59,371 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-16 04:23:59,371 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-16 04:23:59,371 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testEnforceLeader(272)) - Running testEnforceLeader
2022-11-16 04:23:59,373 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-16 04:23:59,374 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-742A07453557:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]
2022-11-16 04:23:59,374 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-16 04:23:59,374 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-16 04:23:59,374 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-16 04:23:59,374 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-16 04:23:59,374 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-16 04:23:59,374 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-16 04:23:59,374 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-742A07453557:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:23:59,374 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s3
2022-11-16 04:23:59,374 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s3 does not exist.
2022-11-16 04:23:59,375 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s3
2022-11-16 04:23:59,375 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:23:59,375 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:23:59,376 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:23:59,376 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:23:59,376 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:23:59,376 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:23:59,376 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s3] (custom)
2022-11-16 04:23:59,377 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-742A07453557:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER] returns group-742A07453557:java.util.concurrent.CompletableFuture@5af46d7e[Not completed]
2022-11-16 04:23:59,377 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s4, group-742A07453557:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:23:59,377 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s4
2022-11-16 04:23:59,377 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s4 does not exist.
2022-11-16 04:23:59,377 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s4
2022-11-16 04:23:59,378 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:23:59,378 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:23:59,378 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:23:59,378 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:23:59,378 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:23:59,378 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:23:59,378 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s4] (custom)
2022-11-16 04:23:59,379 [pool-5-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-742A07453557:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:23:59,379 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:23:59,379 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:23:59,379 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:23:59,379 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:23:59,379 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:23:59,379 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:23:59,379 [pool-5-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-742A07453557: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:23:59,379 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:23:59,380 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:23:59,380 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:23:59,380 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:23:59,380 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:23:59,386 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:23:59,386 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:23:59,387 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:23:59,387 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:23:59,387 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:23:59,387 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s4: addNew group-742A07453557:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER] returns group-742A07453557:java.util.concurrent.CompletableFuture@2ea37648[Not completed]
2022-11-16 04:23:59,387 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-742A07453557:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:23:59,387 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s0
2022-11-16 04:23:59,387 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s0 does not exist.
2022-11-16 04:23:59,387 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s0
2022-11-16 04:23:59,388 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:23:59,388 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:23:59,388 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:23:59,388 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:23:59,388 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:23:59,388 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:23:59,388 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s0] (custom)
2022-11-16 04:23:59,389 [pool-6-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s4: new RaftServerImpl for group-742A07453557:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:23:59,389 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:23:59,390 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:23:59,390 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:23:59,390 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:23:59,390 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:23:59,390 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:23:59,391 [pool-6-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-742A07453557: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:23:59,391 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:23:59,391 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:23:59,391 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:23:59,391 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:23:59,391 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:23:59,394 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:23:59,394 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:23:59,395 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:23:59,395 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:23:59,395 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:23:59,395 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-742A07453557:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER] returns group-742A07453557:java.util.concurrent.CompletableFuture@5d7cd83[Not completed]
2022-11-16 04:23:59,395 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-742A07453557:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:23:59,395 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s1
2022-11-16 04:23:59,395 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s1 does not exist.
2022-11-16 04:23:59,395 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s1
2022-11-16 04:23:59,395 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:23:59,396 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:23:59,396 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:23:59,396 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:23:59,396 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:23:59,396 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:23:59,396 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s1] (custom)
2022-11-16 04:23:59,398 [pool-7-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-742A07453557:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:23:59,398 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:23:59,398 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:23:59,398 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:23:59,398 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:23:59,398 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:23:59,398 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:23:59,398 [pool-7-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-742A07453557: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:23:59,398 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:23:59,398 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:23:59,398 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:23:59,398 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:23:59,399 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:23:59,400 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:23:59,400 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:23:59,400 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:23:59,400 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:23:59,400 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:23:59,400 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-742A07453557:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER] returns group-742A07453557:java.util.concurrent.CompletableFuture@7b978c73[Not completed]
2022-11-16 04:23:59,400 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-742A07453557:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:23:59,400 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s2
2022-11-16 04:23:59,401 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s2 does not exist.
2022-11-16 04:23:59,401 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s2
2022-11-16 04:23:59,401 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:23:59,401 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:23:59,401 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:23:59,401 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:23:59,401 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:23:59,401 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:23:59,401 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s2] (custom)
2022-11-16 04:23:59,402 [pool-8-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-742A07453557:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:23:59,402 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:23:59,402 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:23:59,403 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:23:59,403 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:23:59,403 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:23:59,403 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:23:59,403 [pool-8-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-742A07453557: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:23:59,403 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:23:59,403 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:23:59,403 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:23:59,403 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:23:59,403 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:23:59,409 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:23:59,409 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:23:59,409 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:23:59,409 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:23:59,409 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:23:59,411 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-742A07453557:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER] returns group-742A07453557:java.util.concurrent.CompletableFuture@2ec4d44f[Not completed]
2022-11-16 04:23:59,411 [pool-9-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-742A07453557:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:23:59,411 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:23:59,412 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:23:59,412 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s3] (custom)
2022-11-16 04:23:59,412 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s3/a05d1f5a-1365-4042-985a-742a07453557 does not exist. Creating ...
2022-11-16 04:23:59,412 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s3/a05d1f5a-1365-4042-985a-742a07453557
2022-11-16 04:23:59,413 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s3/a05d1f5a-1365-4042-985a-742a07453557/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:23:59,414 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s3/a05d1f5a-1365-4042-985a-742a07453557/current
2022-11-16 04:23:59,414 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s3/a05d1f5a-1365-4042-985a-742a07453557/sm
2022-11-16 04:23:59,415 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s3/a05d1f5a-1365-4042-985a-742a07453557 has been successfully formatted.
2022-11-16 04:23:59,415 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:23:59,415 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:23:59,415 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:23:59,415 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:23:59,416 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:23:59,416 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:23:59,416 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:23:59,416 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:23:59,416 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s3@group-742A07453557-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s3/a05d1f5a-1365-4042-985a-742a07453557
2022-11-16 04:23:59,416 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:23:59,416 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:23:59,417 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:23:59,417 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:23:59,417 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:23:59,417 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:23:59,417 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:23:59,417 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:23:59,417 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:23:59,417 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:23:59,419 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:23:59,419 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:23:59,419 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:23:59,419 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-742A07453557-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:23:59,419 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-742A07453557-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:23:59,421 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:23:59,421 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:23:59,421 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:23:59,422 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:23:59,422 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:23:59,422 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:23:59,422 [pool-9-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-742A07453557: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:23:59,422 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:23:59,422 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:23:59,422 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:23:59,422 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:23:59,422 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:23:59,423 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:23:59,423 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:23:59,423 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:23:59,423 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:23:59,423 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:23:59,423 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s3@group-742A07453557: start as a follower, conf=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:23:59,423 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-742A07453557: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:23:59,423 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-742A07453557-FollowerState
2022-11-16 04:23:59,430 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-742A07453557,id=s3
2022-11-16 04:23:59,430 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:23:59,430 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:23:59,430 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:23:59,430 [s3@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:23:59,430 [s3@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:23:59,433 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s3: start RPC server
2022-11-16 04:23:59,434 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s3: Started
2022-11-16 04:23:59,434 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:23:59,434 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:23:59,435 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s4] (custom)
2022-11-16 04:23:59,435 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s4/a05d1f5a-1365-4042-985a-742a07453557 does not exist. Creating ...
2022-11-16 04:23:59,435 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s4/a05d1f5a-1365-4042-985a-742a07453557
2022-11-16 04:23:59,436 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s4/a05d1f5a-1365-4042-985a-742a07453557/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:23:59,436 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s4/a05d1f5a-1365-4042-985a-742a07453557/current
2022-11-16 04:23:59,436 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s4/a05d1f5a-1365-4042-985a-742a07453557/sm
2022-11-16 04:23:59,437 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s4/a05d1f5a-1365-4042-985a-742a07453557 has been successfully formatted.
2022-11-16 04:23:59,437 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:23:59,438 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:23:59,438 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:23:59,438 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:23:59,438 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:23:59,438 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:23:59,438 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:23:59,438 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:23:59,438 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s4@group-742A07453557-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s4/a05d1f5a-1365-4042-985a-742a07453557
2022-11-16 04:23:59,438 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:23:59,439 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:23:59,439 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:23:59,439 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:23:59,439 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:23:59,439 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:23:59,439 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:23:59,439 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:23:59,439 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:23:59,439 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:23:59,440 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:23:59,441 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:23:59,441 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:23:59,441 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-742A07453557-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:23:59,441 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-742A07453557-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:23:59,441 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s4@group-742A07453557: start as a follower, conf=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:23:59,442 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-742A07453557: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:23:59,442 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-742A07453557-FollowerState
2022-11-16 04:23:59,442 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-742A07453557,id=s4
2022-11-16 04:23:59,442 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:23:59,442 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:23:59,442 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:23:59,443 [s4@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:23:59,443 [s4@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:23:59,443 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s4: start RPC server
2022-11-16 04:23:59,444 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:23:59,444 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:23:59,444 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s0] (custom)
2022-11-16 04:23:59,444 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s0/a05d1f5a-1365-4042-985a-742a07453557 does not exist. Creating ...
2022-11-16 04:23:59,444 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s0/a05d1f5a-1365-4042-985a-742a07453557
2022-11-16 04:23:59,445 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s4: Started
2022-11-16 04:23:59,446 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s0/a05d1f5a-1365-4042-985a-742a07453557/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:23:59,446 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s0/a05d1f5a-1365-4042-985a-742a07453557/current
2022-11-16 04:23:59,446 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s0/a05d1f5a-1365-4042-985a-742a07453557/sm
2022-11-16 04:23:59,447 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s0/a05d1f5a-1365-4042-985a-742a07453557 has been successfully formatted.
2022-11-16 04:23:59,447 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:23:59,447 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:23:59,447 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:23:59,447 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:23:59,447 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:23:59,448 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:23:59,448 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:23:59,448 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:23:59,448 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-742A07453557-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s0/a05d1f5a-1365-4042-985a-742a07453557
2022-11-16 04:23:59,448 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:23:59,448 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:23:59,448 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:23:59,448 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:23:59,448 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:23:59,449 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:23:59,449 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:23:59,449 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:23:59,449 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:23:59,449 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:23:59,451 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:23:59,451 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:23:59,451 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:23:59,451 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-742A07453557-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:23:59,451 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-742A07453557-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:23:59,453 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-742A07453557: start as a follower, conf=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:23:59,453 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-742A07453557: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:23:59,454 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-742A07453557-FollowerState
2022-11-16 04:23:59,454 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-742A07453557,id=s0
2022-11-16 04:23:59,454 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:23:59,454 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:23:59,454 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:23:59,458 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-16 04:23:59,458 [s0@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:23:59,459 [s0@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:23:59,460 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:23:59,460 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:23:59,460 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s1] (custom)
2022-11-16 04:23:59,461 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s1/a05d1f5a-1365-4042-985a-742a07453557 does not exist. Creating ...
2022-11-16 04:23:59,461 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s1/a05d1f5a-1365-4042-985a-742a07453557
2022-11-16 04:23:59,460 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-16 04:23:59,462 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s1/a05d1f5a-1365-4042-985a-742a07453557/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:23:59,462 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s1/a05d1f5a-1365-4042-985a-742a07453557/current
2022-11-16 04:23:59,463 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s1/a05d1f5a-1365-4042-985a-742a07453557/sm
2022-11-16 04:23:59,464 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s1/a05d1f5a-1365-4042-985a-742a07453557 has been successfully formatted.
2022-11-16 04:23:59,464 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:23:59,464 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:23:59,464 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:23:59,464 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:23:59,464 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:23:59,465 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:23:59,465 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:23:59,465 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:23:59,465 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-742A07453557-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s1/a05d1f5a-1365-4042-985a-742a07453557
2022-11-16 04:23:59,465 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:23:59,465 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:23:59,465 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:23:59,465 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:23:59,465 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:23:59,465 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:23:59,465 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:23:59,465 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:23:59,465 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:23:59,466 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:23:59,467 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:23:59,467 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:23:59,467 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:23:59,467 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-742A07453557-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:23:59,467 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-742A07453557-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:23:59,468 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-742A07453557: start as a follower, conf=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:23:59,468 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-742A07453557: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:23:59,468 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-742A07453557-FollowerState
2022-11-16 04:23:59,468 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-742A07453557,id=s1
2022-11-16 04:23:59,468 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:23:59,468 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:23:59,468 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:23:59,469 [s1@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:23:59,469 [s1@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:23:59,469 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-16 04:23:59,474 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:23:59,474 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:23:59,474 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s2] (custom)
2022-11-16 04:23:59,474 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s2/a05d1f5a-1365-4042-985a-742a07453557 does not exist. Creating ...
2022-11-16 04:23:59,474 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s2/a05d1f5a-1365-4042-985a-742a07453557
2022-11-16 04:23:59,474 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-16 04:23:59,475 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s2/a05d1f5a-1365-4042-985a-742a07453557/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:23:59,476 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s2/a05d1f5a-1365-4042-985a-742a07453557/current
2022-11-16 04:23:59,476 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s2/a05d1f5a-1365-4042-985a-742a07453557/sm
2022-11-16 04:23:59,477 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s2/a05d1f5a-1365-4042-985a-742a07453557 has been successfully formatted.
2022-11-16 04:23:59,477 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:23:59,477 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:23:59,477 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:23:59,477 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:23:59,477 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:23:59,478 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:23:59,478 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:23:59,478 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:23:59,478 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-742A07453557-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s2/a05d1f5a-1365-4042-985a-742a07453557
2022-11-16 04:23:59,478 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:23:59,478 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:23:59,478 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:23:59,478 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:23:59,478 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:23:59,478 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:23:59,478 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:23:59,478 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:23:59,478 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:23:59,479 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:23:59,480 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:23:59,481 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:23:59,481 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:23:59,481 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-742A07453557-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:23:59,481 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-742A07453557-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:23:59,484 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-742A07453557: start as a follower, conf=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:23:59,485 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-742A07453557: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:23:59,485 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-742A07453557-FollowerState
2022-11-16 04:23:59,485 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-742A07453557,id=s2
2022-11-16 04:23:59,485 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:23:59,485 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:23:59,485 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:23:59,485 [s2@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:23:59,486 [s2@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:23:59,489 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-16 04:23:59,491 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-16 04:23:59,491 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:23:59,491 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-742A07453557:t0, leader=null, voted=, raftlog=Memoized:s3@group-742A07453557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-742A07453557:t0, leader=null, voted=, raftlog=Memoized:s4@group-742A07453557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-742A07453557:t0, leader=null, voted=, raftlog=Memoized:s0@group-742A07453557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-742A07453557:t0, leader=null, voted=, raftlog=Memoized:s1@group-742A07453557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-742A07453557:t0, leader=null, voted=, raftlog=Memoized:s2@group-742A07453557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:23:59,491 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-742A07453557:t0, leader=null, voted=, raftlog=Memoized:s3@group-742A07453557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-742A07453557:t0, leader=null, voted=, raftlog=Memoized:s4@group-742A07453557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-742A07453557:t0, leader=null, voted=, raftlog=Memoized:s0@group-742A07453557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-742A07453557:t0, leader=null, voted=, raftlog=Memoized:s1@group-742A07453557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-742A07453557:t0, leader=null, voted=, raftlog=Memoized:s2@group-742A07453557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-742A07453557:t0, leader=null, voted=, raftlog=Memoized:s3@group-742A07453557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-742A07453557:t0, leader=null, voted=, raftlog=Memoized:s4@group-742A07453557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-742A07453557:t0, leader=null, voted=, raftlog=Memoized:s0@group-742A07453557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-742A07453557:t0, leader=null, voted=, raftlog=Memoized:s1@group-742A07453557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-742A07453557:t0, leader=null, voted=, raftlog=Memoized:s2@group-742A07453557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testEnforceLeader(LeaderElectionTests.java:277)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:23:59,585 [s3@group-742A07453557-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-742A07453557-FollowerState: change to CANDIDATE, lastRpcElapsedTime:161270819ns, electionTimeout:154ms
2022-11-16 04:23:59,585 [s3@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-742A07453557-FollowerState
2022-11-16 04:23:59,585 [s3@group-742A07453557-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-742A07453557: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-16 04:23:59,586 [s3@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:23:59,586 [s3@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-742A07453557-LeaderElection3
2022-11-16 04:23:59,590 [s3@group-742A07453557-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-742A07453557-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:23:59,590 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-742A07453557: receive requestVote(PRE_VOTE, s3, group-742A07453557, 0, (t:0, i:0))
2022-11-16 04:23:59,591 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-742A07453557-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-11-16 04:23:59,591 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-742A07453557 replies to PRE_VOTE vote request: s3<-s4#0:OK-t0. Peer's state: s4@group-742A07453557:t0, leader=null, voted=, raftlog=Memoized:s4@group-742A07453557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:23:59,591 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-742A07453557: receive requestVote(PRE_VOTE, s3, group-742A07453557, 0, (t:0, i:0))
2022-11-16 04:23:59,591 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-742A07453557-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-11-16 04:23:59,591 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-742A07453557 replies to PRE_VOTE vote request: s3<-s0#0:OK-t0. Peer's state: s0@group-742A07453557:t0, leader=null, voted=, raftlog=Memoized:s0@group-742A07453557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:23:59,593 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-742A07453557: receive requestVote(PRE_VOTE, s3, group-742A07453557, 0, (t:0, i:0))
2022-11-16 04:23:59,593 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-742A07453557-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-11-16 04:23:59,593 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-742A07453557 replies to PRE_VOTE vote request: s3<-s1#0:OK-t0. Peer's state: s1@group-742A07453557:t0, leader=null, voted=, raftlog=Memoized:s1@group-742A07453557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:23:59,593 [s3@group-742A07453557-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:23:59,593 [s3@group-742A07453557-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:23:59,594 [s3@group-742A07453557-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-742A07453557-LeaderElection3: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-11-16 04:23:59,594 [s3@group-742A07453557-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s4#0:OK-t0
2022-11-16 04:23:59,594 [s3@group-742A07453557-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s3<-s0#0:OK-t0
2022-11-16 04:23:59,594 [s3@group-742A07453557-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-742A07453557-LeaderElection3 PRE_VOTE round 0: result PASSED
2022-11-16 04:23:59,595 [s3@group-742A07453557-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-742A07453557-LeaderElection3 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:23:59,598 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-742A07453557: receive requestVote(ELECTION, s3, group-742A07453557, 1, (t:0, i:0))
2022-11-16 04:23:59,598 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-742A07453557: receive requestVote(ELECTION, s3, group-742A07453557, 1, (t:0, i:0))
2022-11-16 04:23:59,599 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-742A07453557: receive requestVote(ELECTION, s3, group-742A07453557, 1, (t:0, i:0))
2022-11-16 04:23:59,599 [s3@group-742A07453557-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:23:59,599 [s3@group-742A07453557-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:23:59,599 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-742A07453557-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2022-11-16 04:23:59,599 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-742A07453557: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s3
2022-11-16 04:23:59,599 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-742A07453557-FollowerState
2022-11-16 04:23:59,600 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-742A07453557-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2022-11-16 04:23:59,600 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-742A07453557: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s3
2022-11-16 04:23:59,600 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-742A07453557-FollowerState
2022-11-16 04:23:59,600 [s0@group-742A07453557-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-742A07453557-FollowerState was interrupted
2022-11-16 04:23:59,600 [s4@group-742A07453557-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-742A07453557-FollowerState was interrupted
2022-11-16 04:23:59,601 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-742A07453557-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2022-11-16 04:23:59,601 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-742A07453557: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s3
2022-11-16 04:23:59,601 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-742A07453557-FollowerState
2022-11-16 04:23:59,602 [s1@group-742A07453557-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-742A07453557-FollowerState was interrupted
2022-11-16 04:23:59,602 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-742A07453557: receive requestVote(PRE_VOTE, s3, group-742A07453557, 0, (t:0, i:0))
2022-11-16 04:23:59,602 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-742A07453557-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-11-16 04:23:59,602 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-742A07453557 replies to PRE_VOTE vote request: s3<-s2#0:OK-t0. Peer's state: s2@group-742A07453557:t0, leader=null, voted=, raftlog=Memoized:s2@group-742A07453557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:23:59,602 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-742A07453557-FollowerState
2022-11-16 04:23:59,602 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-742A07453557-FollowerState
2022-11-16 04:23:59,603 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-742A07453557: receive requestVote(ELECTION, s3, group-742A07453557, 1, (t:0, i:0))
2022-11-16 04:23:59,603 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-742A07453557-FollowerState
2022-11-16 04:23:59,603 [s4@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:23:59,603 [s4@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:23:59,603 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-742A07453557 replies to ELECTION vote request: s3<-s4#0:OK-t1. Peer's state: s4@group-742A07453557:t1, leader=null, voted=s3, raftlog=Memoized:s4@group-742A07453557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:23:59,604 [s1@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:23:59,604 [s1@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:23:59,604 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-742A07453557 replies to ELECTION vote request: s3<-s1#0:OK-t1. Peer's state: s1@group-742A07453557:t1, leader=null, voted=s3, raftlog=Memoized:s1@group-742A07453557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:23:59,606 [s3@group-742A07453557-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-742A07453557-LeaderElection3: ELECTION PASSED received 2 response(s) and 0 exception(s):
2022-11-16 04:23:59,606 [s3@group-742A07453557-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s4#0:OK-t1
2022-11-16 04:23:59,606 [s3@group-742A07453557-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s3<-s1#0:OK-t1
2022-11-16 04:23:59,606 [s3@group-742A07453557-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-742A07453557-LeaderElection3 ELECTION round 0: result PASSED
2022-11-16 04:23:59,606 [s3@group-742A07453557-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-742A07453557-LeaderElection3
2022-11-16 04:23:59,606 [s3@group-742A07453557-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-742A07453557: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-16 04:23:59,606 [s3@group-742A07453557-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-742A07453557: change Leader from null to s3 at term 1 for becomeLeader, leader elected after 226ms
2022-11-16 04:23:59,606 [s3@group-742A07453557-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:23:59,606 [s3@group-742A07453557-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:23:59,606 [s3@group-742A07453557-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:23:59,606 [s3@group-742A07453557-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:23:59,606 [s3@group-742A07453557-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:23:59,606 [s3@group-742A07453557-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:23:59,606 [s3@group-742A07453557-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:23:59,607 [s3@group-742A07453557-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:23:59,607 [s3@group-742A07453557-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:23:59,607 [s3@group-742A07453557-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:23:59,607 [s3@group-742A07453557-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:23:59,607 [s3@group-742A07453557-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:23:59,607 [s3@group-742A07453557-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:23:59,607 [s3@group-742A07453557-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:23:59,608 [s3@group-742A07453557-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:23:59,608 [s3@group-742A07453557-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:23:59,608 [s3@group-742A07453557-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:23:59,608 [s3@group-742A07453557-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:23:59,608 [s3@group-742A07453557-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:23:59,608 [s3@group-742A07453557-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:23:59,608 [s3@group-742A07453557-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-742A07453557-LeaderStateImpl
2022-11-16 04:23:59,609 [s3@group-742A07453557-LeaderElection3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s3@group-742A07453557-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:23:59,614 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-742A07453557-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2022-11-16 04:23:59,615 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-742A07453557: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s3
2022-11-16 04:23:59,615 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-742A07453557-FollowerState
2022-11-16 04:23:59,615 [s2@group-742A07453557-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-742A07453557-FollowerState was interrupted
2022-11-16 04:23:59,615 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-742A07453557-FollowerState
2022-11-16 04:23:59,615 [s0@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:23:59,615 [s0@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:23:59,616 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-742A07453557 replies to ELECTION vote request: s3<-s0#0:OK-t1. Peer's state: s0@group-742A07453557:t1, leader=null, voted=s3, raftlog=Memoized:s0@group-742A07453557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:23:59,618 [s2@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:23:59,618 [s2@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:23:59,620 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-742A07453557: change Leader from null to s3 at term 1 for appendEntries, leader elected after 221ms
2022-11-16 04:23:59,629 [s3@group-742A07453557-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s3@group-742A07453557: set configuration 0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:23:59,629 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s4@group-742A07453557: change Leader from null to s3 at term 1 for appendEntries, leader elected after 238ms
2022-11-16 04:23:59,630 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-742A07453557 replies to ELECTION vote request: s3<-s2#0:OK-t1. Peer's state: s2@group-742A07453557:t1, leader=null, voted=s3, raftlog=Memoized:s2@group-742A07453557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:23:59,630 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-742A07453557: change Leader from null to s3 at term 1 for appendEntries, leader elected after 208ms
2022-11-16 04:23:59,630 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-742A07453557: receive appendEntries(s3, 1, null, -1, true, commits:[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], cId:32, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:32935"
dataStreamAddress: "localhost:45325"
clientAddress: "localhost:45497"
adminAddress: "localhost:46155"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:43443"
dataStreamAddress: "localhost:35973"
clientAddress: "localhost:42171"
adminAddress: "localhost:35771"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:39127"
dataStreamAddress: "localhost:33597"
clientAddress: "localhost:40015"
adminAddress: "localhost:34665"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:34777"
dataStreamAddress: "localhost:39499"
clientAddress: "localhost:46383"
adminAddress: "localhost:44841"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42831"
dataStreamAddress: "localhost:33613"
clientAddress: "localhost:36571"
adminAddress: "localhost:43735"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:23:59,629 [s3@group-742A07453557-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s3@group-742A07453557-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s3/a05d1f5a-1365-4042-985a-742a07453557/current/log_inprogress_0
2022-11-16 04:23:59,631 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-742A07453557: change Leader from null to s3 at term 1 for appendEntries, leader elected after 227ms
2022-11-16 04:23:59,636 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-742A07453557: set configuration 0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:23:59,636 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-742A07453557-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:23:59,638 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-742A07453557: receive appendEntries(s3, 1, null, 0, true, commits:[s3:c0, s4:c-1, s0:c-1, s1:c-1, s2:c-1], cId:36, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:32935"
dataStreamAddress: "localhost:45325"
clientAddress: "localhost:45497"
adminAddress: "localhost:46155"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:43443"
dataStreamAddress: "localhost:35973"
clientAddress: "localhost:42171"
adminAddress: "localhost:35771"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:39127"
dataStreamAddress: "localhost:33597"
clientAddress: "localhost:40015"
adminAddress: "localhost:34665"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:34777"
dataStreamAddress: "localhost:39499"
clientAddress: "localhost:46383"
adminAddress: "localhost:44841"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42831"
dataStreamAddress: "localhost:33613"
clientAddress: "localhost:36571"
adminAddress: "localhost:43735"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:23:59,638 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-742A07453557: receive appendEntries(s3, 1, null, 0, true, commits:[s3:c0, s4:c-1, s0:c-1, s1:c-1, s2:c-1], cId:35, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:32935"
dataStreamAddress: "localhost:45325"
clientAddress: "localhost:45497"
adminAddress: "localhost:46155"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:43443"
dataStreamAddress: "localhost:35973"
clientAddress: "localhost:42171"
adminAddress: "localhost:35771"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:39127"
dataStreamAddress: "localhost:33597"
clientAddress: "localhost:40015"
adminAddress: "localhost:34665"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:34777"
dataStreamAddress: "localhost:39499"
clientAddress: "localhost:46383"
adminAddress: "localhost:44841"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42831"
dataStreamAddress: "localhost:33613"
clientAddress: "localhost:36571"
adminAddress: "localhost:43735"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:23:59,638 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-742A07453557: receive appendEntries(s3, 1, null, 0, true, commits:[s3:c0, s4:c-1, s0:c-1, s1:c-1, s2:c-1], cId:37, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:32935"
dataStreamAddress: "localhost:45325"
clientAddress: "localhost:45497"
adminAddress: "localhost:46155"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:43443"
dataStreamAddress: "localhost:35973"
clientAddress: "localhost:42171"
adminAddress: "localhost:35771"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:39127"
dataStreamAddress: "localhost:33597"
clientAddress: "localhost:40015"
adminAddress: "localhost:34665"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:34777"
dataStreamAddress: "localhost:39499"
clientAddress: "localhost:46383"
adminAddress: "localhost:44841"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42831"
dataStreamAddress: "localhost:33613"
clientAddress: "localhost:36571"
adminAddress: "localhost:43735"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:23:59,639 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-742A07453557: set configuration 0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:23:59,639 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-742A07453557-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:23:59,639 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s4@group-742A07453557: set configuration 0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:23:59,639 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s4@group-742A07453557-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:23:59,641 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-742A07453557: set configuration 0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:23:59,642 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-742A07453557-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:23:59,660 [s0@group-742A07453557-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-742A07453557-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s0/a05d1f5a-1365-4042-985a-742a07453557/current/log_inprogress_0
2022-11-16 04:23:59,670 [s1@group-742A07453557-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-742A07453557-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s1/a05d1f5a-1365-4042-985a-742a07453557/current/log_inprogress_0
2022-11-16 04:23:59,670 [s4@group-742A07453557-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s4@group-742A07453557-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s4/a05d1f5a-1365-4042-985a-742a07453557/current/log_inprogress_0
2022-11-16 04:23:59,670 [s2@group-742A07453557-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-742A07453557-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcfa2c1080/s2/a05d1f5a-1365-4042-985a-742a07453557/current/log_inprogress_0
2022-11-16 04:23:59,671 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-742A07453557: succeeded to handle AppendEntries. Reply: s3<-s4#35:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-16 04:23:59,672 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-742A07453557: succeeded to handle AppendEntries. Reply: s3<-s0#32:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-16 04:23:59,672 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-742A07453557: succeeded to handle AppendEntries. Reply: s3<-s2#37:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-16 04:23:59,673 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-742A07453557: succeeded to handle AppendEntries. Reply: s3<-s1#36:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-16 04:23:59,943 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:23:59,943 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testEnforceLeader(278)) - firstLeader = s3
2022-11-16 04:23:59,943 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testEnforceLeader(283)) - enforce leader to s1
2022-11-16 04:23:59,944 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(289)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:23:59,947 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:00,277 [s1@group-742A07453557-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-742A07453557-FollowerState: change to CANDIDATE, lastRpcElapsedTime:373726448ns, electionTimeout:216ms
2022-11-16 04:24:00,277 [s1@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-742A07453557-FollowerState
2022-11-16 04:24:00,277 [s1@group-742A07453557-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-742A07453557: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:00,277 [s1@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:00,278 [s1@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-742A07453557-LeaderElection4
2022-11-16 04:24:00,279 [s1@group-742A07453557-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-742A07453557: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-16 04:24:00,280 [s1@group-742A07453557-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-742A07453557-LeaderElection4 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:00,398 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:00,431 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:00,431 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:00,432 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-742A07453557-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-11-16 04:24:00,432 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:00,432 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:00,432 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-742A07453557 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:00,432 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:00,433 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:00,433 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-742A07453557 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:00,432 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-742A07453557 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:00,432 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:00,433 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-742A07453557 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:00,440 [s1@group-742A07453557-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-742A07453557-LeaderElection4: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-11-16 04:24:00,440 [s1@group-742A07453557-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s3#0:FAIL-t1
2022-11-16 04:24:00,440 [s1@group-742A07453557-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s4#0:FAIL-t1
2022-11-16 04:24:00,440 [s1@group-742A07453557-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s1<-s0#0:FAIL-t1
2022-11-16 04:24:00,440 [s1@group-742A07453557-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-742A07453557-LeaderElection4 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:00,441 [s1@group-742A07453557-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-742A07453557: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:00,441 [s1@group-742A07453557-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-742A07453557-LeaderElection4
2022-11-16 04:24:00,441 [s1@group-742A07453557-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-742A07453557-FollowerState
2022-11-16 04:24:00,580 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-742A07453557: change Leader from null to s3 at term 1 for appendEntries, leader elected after 300ms
2022-11-16 04:24:00,848 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(292)) - try enforcing leader to s1 but new leader is s3
2022-11-16 04:24:00,848 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:01,032 [s1@group-742A07453557-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-742A07453557-FollowerState: change to CANDIDATE, lastRpcElapsedTime:223308658ns, electionTimeout:212ms
2022-11-16 04:24:01,033 [s1@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-742A07453557-FollowerState
2022-11-16 04:24:01,033 [s1@group-742A07453557-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-742A07453557: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:01,033 [s1@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:01,033 [s1@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-742A07453557-LeaderElection5
2022-11-16 04:24:01,034 [s1@group-742A07453557-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-742A07453557: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-16 04:24:01,034 [s1@group-742A07453557-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-742A07453557-LeaderElection5 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:01,185 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:01,185 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:01,186 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-742A07453557-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-11-16 04:24:01,186 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:01,186 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-742A07453557 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:01,185 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:01,186 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:01,186 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-742A07453557 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:01,186 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:01,186 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-742A07453557 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:01,186 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:01,187 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-742A07453557 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:01,187 [s1@group-742A07453557-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-742A07453557-LeaderElection5: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-11-16 04:24:01,187 [s1@group-742A07453557-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s4#0:FAIL-t1
2022-11-16 04:24:01,187 [s1@group-742A07453557-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s0#0:FAIL-t1
2022-11-16 04:24:01,187 [s1@group-742A07453557-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s1<-s2#0:FAIL-t1
2022-11-16 04:24:01,187 [s1@group-742A07453557-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-742A07453557-LeaderElection5 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:01,187 [s1@group-742A07453557-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-742A07453557: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:01,187 [s1@group-742A07453557-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-742A07453557-LeaderElection5
2022-11-16 04:24:01,188 [s1@group-742A07453557-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-742A07453557-FollowerState
2022-11-16 04:24:01,299 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:01,375 [s1@group-742A07453557-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-742A07453557-FollowerState: change to CANDIDATE, lastRpcElapsedTime:187251728ns, electionTimeout:185ms
2022-11-16 04:24:01,375 [s1@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-742A07453557-FollowerState
2022-11-16 04:24:01,375 [s1@group-742A07453557-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-742A07453557: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:01,375 [s1@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:01,376 [s1@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-742A07453557-LeaderElection6
2022-11-16 04:24:01,376 [s1@group-742A07453557-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-742A07453557-LeaderElection6 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:01,377 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:01,377 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-742A07453557-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-11-16 04:24:01,377 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:01,378 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-742A07453557 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:01,378 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:01,378 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-742A07453557 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:01,378 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:01,378 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:01,379 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-742A07453557 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:01,379 [s1@group-742A07453557-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-742A07453557-LeaderElection6: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-11-16 04:24:01,379 [s1@group-742A07453557-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s3#0:FAIL-t1
2022-11-16 04:24:01,379 [s1@group-742A07453557-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s4#0:FAIL-t1
2022-11-16 04:24:01,379 [s1@group-742A07453557-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s1<-s0#0:FAIL-t1
2022-11-16 04:24:01,379 [s1@group-742A07453557-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-742A07453557-LeaderElection6 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:01,379 [s1@group-742A07453557-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-742A07453557: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:01,379 [s1@group-742A07453557-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-742A07453557-LeaderElection6
2022-11-16 04:24:01,379 [s1@group-742A07453557-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-742A07453557-FollowerState
2022-11-16 04:24:01,381 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:01,381 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:01,381 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-742A07453557 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:01,485 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-742A07453557: change Leader from null to s3 at term 1 for appendEntries, leader elected after 451ms
2022-11-16 04:24:01,750 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(292)) - try enforcing leader to s1 but new leader is s3
2022-11-16 04:24:01,750 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:02,157 [s1@group-742A07453557-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-742A07453557-FollowerState: change to CANDIDATE, lastRpcElapsedTime:441315652ns, electionTimeout:270ms
2022-11-16 04:24:02,157 [s1@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-742A07453557-FollowerState
2022-11-16 04:24:02,157 [s1@group-742A07453557-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-742A07453557: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:02,157 [s1@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:02,157 [s1@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-742A07453557-LeaderElection7
2022-11-16 04:24:02,158 [s1@group-742A07453557-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-742A07453557: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-16 04:24:02,158 [s1@group-742A07453557-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-742A07453557-LeaderElection7 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:02,201 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:02,309 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:02,309 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-742A07453557-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-11-16 04:24:02,310 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-742A07453557 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:02,310 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:02,310 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:02,310 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-742A07453557 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:02,310 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:02,310 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:02,310 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-742A07453557 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:02,311 [s1@group-742A07453557-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-742A07453557-LeaderElection7: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-11-16 04:24:02,311 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:02,311 [s1@group-742A07453557-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s3#0:FAIL-t1
2022-11-16 04:24:02,311 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:02,311 [s1@group-742A07453557-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s4#0:FAIL-t1
2022-11-16 04:24:02,311 [s1@group-742A07453557-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s1<-s0#0:FAIL-t1
2022-11-16 04:24:02,311 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-742A07453557 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:02,311 [s1@group-742A07453557-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-742A07453557-LeaderElection7 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:02,312 [s1@group-742A07453557-LeaderElection7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-742A07453557: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:02,312 [s1@group-742A07453557-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-742A07453557-LeaderElection7
2022-11-16 04:24:02,312 [s1@group-742A07453557-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-742A07453557-FollowerState
2022-11-16 04:24:02,392 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-742A07453557: change Leader from null to s3 at term 1 for appendEntries, leader elected after 233ms
2022-11-16 04:24:02,651 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(292)) - try enforcing leader to s1 but new leader is s3
2022-11-16 04:24:02,651 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:02,965 [s1@group-742A07453557-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-742A07453557-FollowerState: change to CANDIDATE, lastRpcElapsedTime:344117495ns, electionTimeout:240ms
2022-11-16 04:24:02,965 [s1@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-742A07453557-FollowerState
2022-11-16 04:24:02,965 [s1@group-742A07453557-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-742A07453557: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:02,965 [s1@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:02,965 [s1@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-742A07453557-LeaderElection8
2022-11-16 04:24:02,966 [s1@group-742A07453557-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-742A07453557: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-16 04:24:02,966 [s1@group-742A07453557-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-742A07453557-LeaderElection8 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:03,102 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:03,117 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:03,117 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:03,117 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-742A07453557-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-11-16 04:24:03,117 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:03,117 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-742A07453557 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:03,117 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-742A07453557 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:03,118 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:03,118 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:03,118 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-742A07453557 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:03,118 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:03,118 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:03,118 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-742A07453557 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:03,118 [s1@group-742A07453557-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-742A07453557-LeaderElection8: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-11-16 04:24:03,119 [s1@group-742A07453557-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s3#0:FAIL-t1
2022-11-16 04:24:03,119 [s1@group-742A07453557-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s4#0:FAIL-t1
2022-11-16 04:24:03,119 [s1@group-742A07453557-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s1<-s2#0:FAIL-t1
2022-11-16 04:24:03,119 [s1@group-742A07453557-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-742A07453557-LeaderElection8 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:03,119 [s1@group-742A07453557-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-742A07453557: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:03,119 [s1@group-742A07453557-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-742A07453557-LeaderElection8
2022-11-16 04:24:03,119 [s1@group-742A07453557-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-742A07453557-FollowerState
2022-11-16 04:24:03,297 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-742A07453557: change Leader from null to s3 at term 1 for appendEntries, leader elected after 331ms
2022-11-16 04:24:03,552 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(292)) - try enforcing leader to s1 but new leader is s3
2022-11-16 04:24:03,553 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:03,998 [s1@group-742A07453557-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-742A07453557-FollowerState: change to CANDIDATE, lastRpcElapsedTime:472651025ns, electionTimeout:285ms
2022-11-16 04:24:03,998 [s1@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-742A07453557-FollowerState
2022-11-16 04:24:03,998 [s1@group-742A07453557-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-742A07453557: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:03,998 [s1@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:03,998 [s1@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-742A07453557-LeaderElection9
2022-11-16 04:24:04,000 [s1@group-742A07453557-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-742A07453557: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-16 04:24:04,000 [s1@group-742A07453557-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-742A07453557-LeaderElection9 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:04,003 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:04,151 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:04,152 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-742A07453557-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-11-16 04:24:04,152 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-742A07453557 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:04,152 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:04,152 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:04,152 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-742A07453557 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:04,152 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:04,152 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:04,153 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-742A07453557 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:04,153 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:04,153 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:04,153 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-742A07453557 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:04,153 [s1@group-742A07453557-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-742A07453557-LeaderElection9: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-11-16 04:24:04,153 [s1@group-742A07453557-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s3#0:FAIL-t1
2022-11-16 04:24:04,154 [s1@group-742A07453557-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s4#0:FAIL-t1
2022-11-16 04:24:04,154 [s1@group-742A07453557-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s1<-s0#0:FAIL-t1
2022-11-16 04:24:04,154 [s1@group-742A07453557-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-742A07453557-LeaderElection9 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:04,154 [s1@group-742A07453557-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-742A07453557: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:04,154 [s1@group-742A07453557-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-742A07453557-LeaderElection9
2022-11-16 04:24:04,154 [s1@group-742A07453557-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-742A07453557-FollowerState
2022-11-16 04:24:04,201 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-742A07453557: change Leader from null to s3 at term 1 for appendEntries, leader elected after 201ms
2022-11-16 04:24:04,453 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(292)) - try enforcing leader to s1 but new leader is s3
2022-11-16 04:24:04,454 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:04,675 [s0@group-742A07453557-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-742A07453557-FollowerState: change to CANDIDATE, lastRpcElapsedTime:221348534ns, electionTimeout:206ms
2022-11-16 04:24:04,675 [s0@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-742A07453557-FollowerState
2022-11-16 04:24:04,675 [s0@group-742A07453557-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-742A07453557: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:04,676 [s0@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:04,676 [s0@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-742A07453557-LeaderElection10
2022-11-16 04:24:04,677 [s0@group-742A07453557-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-742A07453557: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-16 04:24:04,677 [s0@group-742A07453557-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-742A07453557-LeaderElection10 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:04,680 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-742A07453557: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-11-16 04:24:04,680 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-742A07453557-LeaderElection10
2022-11-16 04:24:04,680 [s0@group-742A07453557-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-742A07453557-LeaderElection10: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2022-11-16 04:24:04,680 [s0@group-742A07453557-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-742A07453557-LeaderElection10 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:04,680 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-742A07453557-FollowerState
2022-11-16 04:24:04,681 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-742A07453557: change Leader from null to s3 at term 1 for appendEntries, leader elected after 4ms
2022-11-16 04:24:04,766 [s1@group-742A07453557-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-742A07453557-FollowerState: change to CANDIDATE, lastRpcElapsedTime:335023987ns, electionTimeout:187ms
2022-11-16 04:24:04,766 [s1@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-742A07453557-FollowerState
2022-11-16 04:24:04,767 [s1@group-742A07453557-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-742A07453557: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:04,767 [s1@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:04,767 [s1@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-742A07453557-LeaderElection11
2022-11-16 04:24:04,773 [s1@group-742A07453557-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-742A07453557: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-16 04:24:04,773 [s1@group-742A07453557-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-742A07453557-LeaderElection11 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:04,828 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-742A07453557: receive requestVote(PRE_VOTE, s0, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:04,828 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-742A07453557-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-16 04:24:04,828 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-742A07453557 replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:04,829 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-742A07453557: receive requestVote(PRE_VOTE, s0, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:04,829 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-742A07453557-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:04,829 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-742A07453557 replies to PRE_VOTE vote request: s0<-s4#0:OK-t1. Peer's state: s4@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:04,831 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-742A07453557: receive requestVote(PRE_VOTE, s0, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:04,832 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-742A07453557-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s3
2022-11-16 04:24:04,832 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-742A07453557 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:04,904 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:04,925 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:04,925 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:04,926 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:04,926 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:04,926 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:04,926 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-742A07453557 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:04,926 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-742A07453557-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-11-16 04:24:04,926 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-742A07453557 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:04,926 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:04,926 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:04,927 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-742A07453557 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:04,927 [s1@group-742A07453557-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-742A07453557-LeaderElection11: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-11-16 04:24:04,927 [s1@group-742A07453557-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s4#0:FAIL-t1
2022-11-16 04:24:04,927 [s1@group-742A07453557-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s0#0:FAIL-t1
2022-11-16 04:24:04,927 [s1@group-742A07453557-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s1<-s2#0:FAIL-t1
2022-11-16 04:24:04,927 [s1@group-742A07453557-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-742A07453557-LeaderElection11 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:04,927 [s1@group-742A07453557-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-742A07453557: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:04,927 [s1@group-742A07453557-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-742A07453557-LeaderElection11
2022-11-16 04:24:04,927 [s1@group-742A07453557-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-742A07453557-FollowerState
2022-11-16 04:24:04,926 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-742A07453557 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:04,981 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-742A07453557: receive requestVote(PRE_VOTE, s0, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:04,981 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-742A07453557-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:04,981 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-742A07453557 replies to PRE_VOTE vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-742A07453557:t1, leader=null, voted=s3, raftlog=Memoized:s1@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:05,108 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-742A07453557: change Leader from null to s3 at term 1 for appendEntries, leader elected after 334ms
2022-11-16 04:24:05,355 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(292)) - try enforcing leader to s1 but new leader is s3
2022-11-16 04:24:05,355 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:05,702 [s1@group-742A07453557-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-742A07453557-FollowerState: change to CANDIDATE, lastRpcElapsedTime:365646352ns, electionTimeout:222ms
2022-11-16 04:24:05,702 [s1@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-742A07453557-FollowerState
2022-11-16 04:24:05,702 [s1@group-742A07453557-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-742A07453557: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:05,702 [s1@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:05,702 [s1@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-742A07453557-LeaderElection12
2022-11-16 04:24:05,703 [s1@group-742A07453557-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-742A07453557: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-16 04:24:05,703 [s1@group-742A07453557-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-742A07453557-LeaderElection12 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:05,805 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:05,854 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:05,855 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:05,855 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:05,855 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-742A07453557 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:05,855 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-742A07453557-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-11-16 04:24:05,855 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:05,855 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:05,855 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-742A07453557 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:05,855 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:05,855 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:05,856 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-742A07453557 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:05,855 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-742A07453557 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:05,856 [s1@group-742A07453557-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-742A07453557-LeaderElection12: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-11-16 04:24:05,856 [s1@group-742A07453557-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s3#0:FAIL-t1
2022-11-16 04:24:05,856 [s1@group-742A07453557-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s4#0:FAIL-t1
2022-11-16 04:24:05,856 [s1@group-742A07453557-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s1<-s2#0:FAIL-t1
2022-11-16 04:24:05,856 [s1@group-742A07453557-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-742A07453557-LeaderElection12 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:05,856 [s1@group-742A07453557-LeaderElection12] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-742A07453557: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:05,856 [s1@group-742A07453557-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-742A07453557-LeaderElection12
2022-11-16 04:24:05,856 [s1@group-742A07453557-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-742A07453557-FollowerState
2022-11-16 04:24:06,012 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-742A07453557: change Leader from null to s3 at term 1 for appendEntries, leader elected after 309ms
2022-11-16 04:24:06,256 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(292)) - try enforcing leader to s1 but new leader is s3
2022-11-16 04:24:06,256 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:06,506 [s1@group-742A07453557-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-742A07453557-FollowerState: change to CANDIDATE, lastRpcElapsedTime:265154656ns, electionTimeout:168ms
2022-11-16 04:24:06,506 [s1@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-742A07453557-FollowerState
2022-11-16 04:24:06,506 [s1@group-742A07453557-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-742A07453557: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:06,506 [s1@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:06,506 [s1@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-742A07453557-LeaderElection13
2022-11-16 04:24:06,507 [s1@group-742A07453557-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-742A07453557: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-16 04:24:06,507 [s1@group-742A07453557-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-742A07453557-LeaderElection13 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:06,659 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:06,659 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-742A07453557-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-11-16 04:24:06,659 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:06,660 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:06,659 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:06,660 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-742A07453557 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:06,659 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-742A07453557 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:06,659 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:06,660 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:06,660 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-742A07453557 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:06,660 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:06,661 [s1@group-742A07453557-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-742A07453557-LeaderElection13: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-11-16 04:24:06,661 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-742A07453557 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:06,661 [s1@group-742A07453557-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s3#0:FAIL-t1
2022-11-16 04:24:06,661 [s1@group-742A07453557-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s4#0:FAIL-t1
2022-11-16 04:24:06,661 [s1@group-742A07453557-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s1<-s2#0:FAIL-t1
2022-11-16 04:24:06,661 [s1@group-742A07453557-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-742A07453557-LeaderElection13 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:06,661 [s1@group-742A07453557-LeaderElection13] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-742A07453557: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:06,661 [s1@group-742A07453557-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-742A07453557-LeaderElection13
2022-11-16 04:24:06,662 [s1@group-742A07453557-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-742A07453557-FollowerState
2022-11-16 04:24:06,707 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:06,834 [s1@group-742A07453557-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-742A07453557-FollowerState: change to CANDIDATE, lastRpcElapsedTime:172301350ns, electionTimeout:171ms
2022-11-16 04:24:06,834 [s1@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-742A07453557-FollowerState
2022-11-16 04:24:06,834 [s1@group-742A07453557-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-742A07453557: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:06,835 [s1@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:06,835 [s1@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-742A07453557-LeaderElection14
2022-11-16 04:24:06,836 [s1@group-742A07453557-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-742A07453557-LeaderElection14 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:06,837 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:06,837 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-742A07453557-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-11-16 04:24:06,837 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-742A07453557 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:06,837 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:06,837 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:06,837 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:06,838 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-742A07453557 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:06,838 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:06,839 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-742A07453557 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:06,839 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:06,839 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:06,839 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-742A07453557 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:06,839 [s1@group-742A07453557-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-742A07453557-LeaderElection14: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-11-16 04:24:06,839 [s1@group-742A07453557-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s3#0:FAIL-t1
2022-11-16 04:24:06,839 [s1@group-742A07453557-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s4#0:FAIL-t1
2022-11-16 04:24:06,839 [s1@group-742A07453557-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s1<-s2#0:FAIL-t1
2022-11-16 04:24:06,839 [s1@group-742A07453557-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-742A07453557-LeaderElection14 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:06,840 [s1@group-742A07453557-LeaderElection14] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-742A07453557: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:06,840 [s1@group-742A07453557-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-742A07453557-LeaderElection14
2022-11-16 04:24:06,840 [s1@group-742A07453557-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-742A07453557-FollowerState
2022-11-16 04:24:06,917 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-742A07453557: change Leader from null to s3 at term 1 for appendEntries, leader elected after 409ms
2022-11-16 04:24:07,157 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(292)) - try enforcing leader to s1 but new leader is s3
2022-11-16 04:24:07,158 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:07,608 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:07,615 [s1@group-742A07453557-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-742A07453557-FollowerState: change to CANDIDATE, lastRpcElapsedTime:470572528ns, electionTimeout:190ms
2022-11-16 04:24:07,615 [s1@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-742A07453557-FollowerState
2022-11-16 04:24:07,615 [s1@group-742A07453557-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-742A07453557: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:07,615 [s1@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:07,615 [s1@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-742A07453557-LeaderElection15
2022-11-16 04:24:07,615 [s1@group-742A07453557-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-742A07453557: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-16 04:24:07,616 [s1@group-742A07453557-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-742A07453557-LeaderElection15 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:07,616 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:07,616 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-742A07453557-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-11-16 04:24:07,616 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-742A07453557 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:07,617 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:07,617 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:07,617 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:07,617 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-742A07453557 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:07,617 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:07,617 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-742A07453557 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:07,617 [s1@group-742A07453557-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-742A07453557-LeaderElection15: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-11-16 04:24:07,617 [s1@group-742A07453557-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s3#0:FAIL-t1
2022-11-16 04:24:07,617 [s1@group-742A07453557-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s4#0:FAIL-t1
2022-11-16 04:24:07,617 [s1@group-742A07453557-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s1<-s0#0:FAIL-t1
2022-11-16 04:24:07,617 [s1@group-742A07453557-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-742A07453557-LeaderElection15 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:07,617 [s1@group-742A07453557-LeaderElection15] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-742A07453557: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:07,617 [s1@group-742A07453557-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-742A07453557-LeaderElection15
2022-11-16 04:24:07,618 [s1@group-742A07453557-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-742A07453557-FollowerState
2022-11-16 04:24:07,618 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:07,618 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:07,618 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-742A07453557 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:07,820 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-742A07453557: change Leader from null to s3 at term 1 for appendEntries, leader elected after 204ms
2022-11-16 04:24:08,059 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(292)) - try enforcing leader to s1 but new leader is s3
2022-11-16 04:24:08,059 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:08,426 [s1@group-742A07453557-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-742A07453557-FollowerState: change to CANDIDATE, lastRpcElapsedTime:378256323ns, electionTimeout:248ms
2022-11-16 04:24:08,426 [s1@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-742A07453557-FollowerState
2022-11-16 04:24:08,426 [s1@group-742A07453557-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-742A07453557: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:08,427 [s1@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:08,427 [s1@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-742A07453557-LeaderElection16
2022-11-16 04:24:08,433 [s1@group-742A07453557-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-742A07453557: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-16 04:24:08,434 [s1@group-742A07453557-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-742A07453557-LeaderElection16 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:08,510 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:08,585 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:08,585 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:08,585 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-742A07453557-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-11-16 04:24:08,585 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:08,586 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-742A07453557 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:08,586 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-742A07453557 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:08,587 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:08,587 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:08,587 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-742A07453557 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:08,587 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:08,588 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:08,588 [s1@group-742A07453557-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-742A07453557-LeaderElection16: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-11-16 04:24:08,588 [s1@group-742A07453557-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s3#0:FAIL-t1
2022-11-16 04:24:08,588 [s1@group-742A07453557-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s4#0:FAIL-t1
2022-11-16 04:24:08,588 [s1@group-742A07453557-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s1<-s0#0:FAIL-t1
2022-11-16 04:24:08,588 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-742A07453557 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:08,588 [s1@group-742A07453557-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-742A07453557-LeaderElection16 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:08,588 [s1@group-742A07453557-LeaderElection16] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-742A07453557: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:08,588 [s1@group-742A07453557-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-742A07453557-LeaderElection16
2022-11-16 04:24:08,588 [s1@group-742A07453557-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-742A07453557-FollowerState
2022-11-16 04:24:08,724 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-742A07453557: change Leader from null to s3 at term 1 for appendEntries, leader elected after 293ms
2022-11-16 04:24:08,960 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(292)) - try enforcing leader to s1 but new leader is s3
2022-11-16 04:24:08,960 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:09,411 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:09,435 [s1@group-742A07453557-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-742A07453557-FollowerState: change to CANDIDATE, lastRpcElapsedTime:484112089ns, electionTimeout:296ms
2022-11-16 04:24:09,436 [s1@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-742A07453557-FollowerState
2022-11-16 04:24:09,436 [s1@group-742A07453557-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-742A07453557: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:09,436 [s1@group-742A07453557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:09,436 [s1@group-742A07453557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-742A07453557-LeaderElection17
2022-11-16 04:24:09,437 [s1@group-742A07453557-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-742A07453557: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-16 04:24:09,437 [s1@group-742A07453557-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-742A07453557-LeaderElection17 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:09,438 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:09,438 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-742A07453557-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-11-16 04:24:09,438 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-742A07453557 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:09,441 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:09,457 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:09,457 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:09,457 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-742A07453557 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:09,457 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:09,457 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-742A07453557 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:09,459 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-742A07453557: receive requestVote(PRE_VOTE, s1, group-742A07453557, 1, (t:1, i:0))
2022-11-16 04:24:09,459 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-742A07453557-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-16 04:24:09,459 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-742A07453557 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:09,459 [s1@group-742A07453557-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-742A07453557-LeaderElection17: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-11-16 04:24:09,459 [s1@group-742A07453557-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s3#0:FAIL-t1
2022-11-16 04:24:09,459 [s1@group-742A07453557-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s4#0:FAIL-t1
2022-11-16 04:24:09,459 [s1@group-742A07453557-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s1<-s0#0:FAIL-t1
2022-11-16 04:24:09,459 [s1@group-742A07453557-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-742A07453557-LeaderElection17 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:09,459 [s1@group-742A07453557-LeaderElection17] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-742A07453557: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:09,459 [s1@group-742A07453557-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-742A07453557-LeaderElection17
2022-11-16 04:24:09,459 [s1@group-742A07453557-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-742A07453557-FollowerState
2022-11-16 04:24:09,494 [Timer-1] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:lambda$start$6(349)) - TIMED-PRINT: printing ALL groups
  s3:  RUNNING    LEADER s3@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-742A07453557:t1, leader=null, voted=s3, raftlog=Memoized:s1@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:09,627 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-742A07453557: change Leader from null to s3 at term 1 for appendEntries, leader elected after 190ms
2022-11-16 04:24:09,862 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(295)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:09,862 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-16 04:24:09,863 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-16 04:24:09,863 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:09,863 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-16 04:24:09,863 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-16 04:24:09,863 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-742A07453557:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-742A07453557-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:32935|admin:localhost:46155|client:localhost:45497|dataStream:localhost:45325|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43443|admin:localhost:35771|client:localhost:42171|dataStream:localhost:35973|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39127|admin:localhost:34665|client:localhost:40015|dataStream:localhost:33597|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34777|admin:localhost:44841|client:localhost:46383|dataStream:localhost:39499|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42831|admin:localhost:43735|client:localhost:36571|dataStream:localhost:33613|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:09,864 [MiniRaftCluster-9] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s3: close
2022-11-16 04:24:09,864 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s3@group-742A07453557: shutdown
2022-11-16 04:24:09,864 [MiniRaftCluster-10] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s4: close
2022-11-16 04:24:09,864 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-742A07453557,id=s3
2022-11-16 04:24:09,864 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s4@group-742A07453557: shutdown
2022-11-16 04:24:09,864 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-742A07453557,id=s4
2022-11-16 04:24:09,865 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-742A07453557-FollowerState
2022-11-16 04:24:09,865 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s4@group-742A07453557-StateMachineUpdater: set stopIndex = 0
2022-11-16 04:24:09,866 [s4@group-742A07453557-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-742A07453557-FollowerState was interrupted
2022-11-16 04:24:09,864 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s3: shutdown s3@group-742A07453557-LeaderStateImpl
2022-11-16 04:24:09,866 [s3-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s3@group-742A07453557-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:09,867 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-742A07453557-StateMachineUpdater: set stopIndex = 0
2022-11-16 04:24:09,867 [s3@group-742A07453557->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s3@group-742A07453557->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:09,867 [s3@group-742A07453557->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s3@group-742A07453557->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:09,867 [s3@group-742A07453557->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s3@group-742A07453557->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:09,867 [s3@group-742A07453557->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s3@group-742A07453557->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:09,867 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s4@group-742A07453557: applyIndex: 0
2022-11-16 04:24:09,868 [s4@group-742A07453557-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s4@group-742A07453557-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:09,868 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,868 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,868 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s3@group-742A07453557: applyIndex: 0
2022-11-16 04:24:09,868 [s3@group-742A07453557-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s3@group-742A07453557-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:09,868 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,868 [MiniRaftCluster-11] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-16 04:24:09,868 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,869 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,868 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,869 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,868 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,869 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,869 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-742A07453557: shutdown
2022-11-16 04:24:09,869 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-742A07453557,id=s0
2022-11-16 04:24:09,869 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-742A07453557-FollowerState
2022-11-16 04:24:09,869 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-742A07453557-StateMachineUpdater: set stopIndex = 0
2022-11-16 04:24:09,869 [s0@group-742A07453557-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-742A07453557-FollowerState was interrupted
2022-11-16 04:24:09,871 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,871 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,871 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,872 [MiniRaftCluster-12] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-16 04:24:09,872 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-742A07453557: applyIndex: 0
2022-11-16 04:24:09,872 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-742A07453557: shutdown
2022-11-16 04:24:09,872 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-742A07453557,id=s1
2022-11-16 04:24:09,872 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-742A07453557-FollowerState
2022-11-16 04:24:09,872 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-742A07453557-StateMachineUpdater: set stopIndex = 0
2022-11-16 04:24:09,872 [s1@group-742A07453557-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-742A07453557-FollowerState was interrupted
2022-11-16 04:24:09,872 [s0@group-742A07453557-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-742A07453557-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:09,873 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,873 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,873 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,873 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,873 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,873 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,873 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-742A07453557: applyIndex: 0
2022-11-16 04:24:09,874 [s1@group-742A07453557-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-742A07453557-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:09,874 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,875 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,875 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,875 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,875 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,875 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,875 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s4@group-742A07453557-SegmentedRaftLogWorker close()
2022-11-16 04:24:09,875 [MiniRaftCluster-13] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-16 04:24:09,875 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-742A07453557: shutdown
2022-11-16 04:24:09,876 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-742A07453557,id=s2
2022-11-16 04:24:09,876 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s3@group-742A07453557-SegmentedRaftLogWorker close()
2022-11-16 04:24:09,876 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,876 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,876 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-742A07453557-FollowerState
2022-11-16 04:24:09,877 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-742A07453557-StateMachineUpdater: set stopIndex = 0
2022-11-16 04:24:09,877 [s2@group-742A07453557-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-742A07453557-FollowerState was interrupted
2022-11-16 04:24:09,877 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,877 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,877 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,877 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:09,878 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-742A07453557-SegmentedRaftLogWorker close()
2022-11-16 04:24:09,878 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-742A07453557: applyIndex: 0
2022-11-16 04:24:09,879 [s2@group-742A07453557-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-742A07453557-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:09,879 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-742A07453557-SegmentedRaftLogWorker close()
2022-11-16 04:24:09,880 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-742A07453557-SegmentedRaftLogWorker close()
2022-11-16 04:24:09,884 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s4: Stopped
2022-11-16 04:24:09,889 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-16 04:24:09,889 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s3: Stopped
2022-11-16 04:24:09,890 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-16 04:24:09,890 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-16 04:24:09,890 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-16 04:24:09,897 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-16 04:24:09,897 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-16 04:24:09,897 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-16 04:24:09,897 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-16 04:24:09,898 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-11-16 04:24:09,898 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-16 04:24:09,899 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-0D79FE851785:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]
2022-11-16 04:24:09,899 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-16 04:24:09,899 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-16 04:24:09,900 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:09,900 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-16 04:24:09,900 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-16 04:24:09,900 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-16 04:24:09,900 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-0D79FE851785:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:09,900 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s0
2022-11-16 04:24:09,900 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s0 does not exist.
2022-11-16 04:24:09,900 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s0
2022-11-16 04:24:09,900 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:09,901 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:09,901 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:09,901 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:09,901 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:09,901 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:09,901 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s0] (custom)
2022-11-16 04:24:09,902 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-0D79FE851785:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER] returns group-0D79FE851785:java.util.concurrent.CompletableFuture@68540ebb[Not completed]
2022-11-16 04:24:09,902 [pool-10-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-0D79FE851785:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:09,902 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-0D79FE851785:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:09,902 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s1
2022-11-16 04:24:09,902 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s1 does not exist.
2022-11-16 04:24:09,902 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s1
2022-11-16 04:24:09,903 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:09,903 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:09,903 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:09,903 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:09,902 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:09,903 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:09,903 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:09,903 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:09,903 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:09,903 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:09,903 [pool-10-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-0D79FE851785: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:09,904 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:09,904 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:09,904 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:09,904 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:09,904 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:09,905 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:09,905 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:09,905 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:09,905 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:09,905 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:09,905 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:09,905 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:09,905 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s1] (custom)
2022-11-16 04:24:09,906 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-0D79FE851785:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER] returns group-0D79FE851785:java.util.concurrent.CompletableFuture@40120e9b[Not completed]
2022-11-16 04:24:09,906 [pool-11-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-0D79FE851785:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:09,906 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-0D79FE851785:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:09,906 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s2
2022-11-16 04:24:09,906 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s2 does not exist.
2022-11-16 04:24:09,906 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s2
2022-11-16 04:24:09,906 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:09,906 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:09,906 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:09,906 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:09,908 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:09,908 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:09,908 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:09,908 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s2] (custom)
2022-11-16 04:24:09,908 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:09,908 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:09,908 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:09,909 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:09,909 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:09,909 [pool-11-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-0D79FE851785: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:09,909 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:09,909 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:09,909 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:09,909 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:09,909 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:09,910 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:09,910 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:09,910 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:09,910 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:09,910 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:09,911 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-0D79FE851785:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER] returns group-0D79FE851785:java.util.concurrent.CompletableFuture@ba082c0[Not completed]
2022-11-16 04:24:09,911 [pool-12-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-0D79FE851785:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:09,911 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:09,911 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:09,911 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s0] (custom)
2022-11-16 04:24:09,911 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s0/ea5bfaea-349e-4e1f-ba66-0d79fe851785 does not exist. Creating ...
2022-11-16 04:24:09,912 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s0/ea5bfaea-349e-4e1f-ba66-0d79fe851785
2022-11-16 04:24:09,912 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:09,912 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:09,912 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:09,912 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:09,912 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:09,912 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:09,913 [pool-12-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-0D79FE851785: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:09,913 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:09,913 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:09,913 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:09,913 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:09,913 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s0/ea5bfaea-349e-4e1f-ba66-0d79fe851785/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:09,913 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s0/ea5bfaea-349e-4e1f-ba66-0d79fe851785/current
2022-11-16 04:24:09,913 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s0/ea5bfaea-349e-4e1f-ba66-0d79fe851785/sm
2022-11-16 04:24:09,914 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:09,914 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s0/ea5bfaea-349e-4e1f-ba66-0d79fe851785 has been successfully formatted.
2022-11-16 04:24:09,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:09,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:09,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:09,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:09,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:09,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:09,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:09,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:09,915 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-0D79FE851785-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s0/ea5bfaea-349e-4e1f-ba66-0d79fe851785
2022-11-16 04:24:09,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:09,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:09,916 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:09,916 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:09,916 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:09,916 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:09,916 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:09,916 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:09,916 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:09,916 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:09,917 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:09,917 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:09,917 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:09,917 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-0D79FE851785-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:09,917 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-0D79FE851785-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:09,917 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:09,917 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:09,917 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:09,917 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:09,917 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:09,917 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-0D79FE851785: start as a follower, conf=-1: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:09,918 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-0D79FE851785: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:09,918 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-0D79FE851785-FollowerState
2022-11-16 04:24:09,918 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0D79FE851785,id=s0
2022-11-16 04:24:09,918 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:09,918 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:09,918 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:09,918 [s0@group-0D79FE851785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:09,918 [s0@group-0D79FE851785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:09,919 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-16 04:24:09,919 [JvmPauseMonitor9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-16 04:24:09,922 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:09,922 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:09,922 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s1] (custom)
2022-11-16 04:24:09,922 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s1/ea5bfaea-349e-4e1f-ba66-0d79fe851785 does not exist. Creating ...
2022-11-16 04:24:09,923 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s1/ea5bfaea-349e-4e1f-ba66-0d79fe851785
2022-11-16 04:24:09,923 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s1/ea5bfaea-349e-4e1f-ba66-0d79fe851785/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:09,924 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s1/ea5bfaea-349e-4e1f-ba66-0d79fe851785/current
2022-11-16 04:24:09,924 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s1/ea5bfaea-349e-4e1f-ba66-0d79fe851785/sm
2022-11-16 04:24:09,925 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s1/ea5bfaea-349e-4e1f-ba66-0d79fe851785 has been successfully formatted.
2022-11-16 04:24:09,925 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:09,925 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:09,925 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:09,925 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:09,925 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:09,926 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:09,926 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:09,926 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:09,926 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-0D79FE851785-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s1/ea5bfaea-349e-4e1f-ba66-0d79fe851785
2022-11-16 04:24:09,926 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:09,926 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:09,926 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:09,926 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:09,926 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:09,926 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:09,926 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:09,926 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:09,926 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:09,926 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:09,927 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:09,927 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:09,927 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:09,932 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-0D79FE851785-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:09,932 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-0D79FE851785-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:09,932 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-0D79FE851785: start as a follower, conf=-1: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:09,932 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-0D79FE851785: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:09,932 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-0D79FE851785-FollowerState
2022-11-16 04:24:09,936 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0D79FE851785,id=s1
2022-11-16 04:24:09,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:09,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:09,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:09,937 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-16 04:24:09,937 [s1@group-0D79FE851785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:09,937 [s1@group-0D79FE851785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:09,938 [JvmPauseMonitor10] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-16 04:24:09,938 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:09,938 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:09,938 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s2] (custom)
2022-11-16 04:24:09,938 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s2/ea5bfaea-349e-4e1f-ba66-0d79fe851785 does not exist. Creating ...
2022-11-16 04:24:09,939 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s2/ea5bfaea-349e-4e1f-ba66-0d79fe851785
2022-11-16 04:24:09,939 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s2/ea5bfaea-349e-4e1f-ba66-0d79fe851785/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:09,940 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s2/ea5bfaea-349e-4e1f-ba66-0d79fe851785/current
2022-11-16 04:24:09,940 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s2/ea5bfaea-349e-4e1f-ba66-0d79fe851785/sm
2022-11-16 04:24:09,940 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s2/ea5bfaea-349e-4e1f-ba66-0d79fe851785 has been successfully formatted.
2022-11-16 04:24:09,941 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:09,941 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:09,941 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:09,941 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:09,941 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:09,941 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:09,942 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:09,942 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:09,942 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-0D79FE851785-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s2/ea5bfaea-349e-4e1f-ba66-0d79fe851785
2022-11-16 04:24:09,942 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:09,942 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:09,942 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:09,942 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:09,942 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:09,942 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:09,942 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:09,942 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:09,942 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:09,942 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:09,943 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:09,943 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:09,943 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:09,944 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-0D79FE851785-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:09,944 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-0D79FE851785-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:09,945 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-0D79FE851785: start as a follower, conf=-1: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:09,945 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-0D79FE851785: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:09,945 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-0D79FE851785-FollowerState
2022-11-16 04:24:09,946 [s2@group-0D79FE851785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:09,946 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0D79FE851785,id=s2
2022-11-16 04:24:09,946 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:09,946 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:09,946 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:09,946 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-16 04:24:09,946 [s2@group-0D79FE851785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:09,947 [JvmPauseMonitor11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-16 04:24:09,947 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:09,947 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:09,948 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0D79FE851785:t0, leader=null, voted=, raftlog=Memoized:s0@group-0D79FE851785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0D79FE851785:t0, leader=null, voted=, raftlog=Memoized:s1@group-0D79FE851785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0D79FE851785:t0, leader=null, voted=, raftlog=Memoized:s2@group-0D79FE851785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:09,948 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0D79FE851785:t0, leader=null, voted=, raftlog=Memoized:s0@group-0D79FE851785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0D79FE851785:t0, leader=null, voted=, raftlog=Memoized:s1@group-0D79FE851785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0D79FE851785:t0, leader=null, voted=, raftlog=Memoized:s2@group-0D79FE851785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0D79FE851785:t0, leader=null, voted=, raftlog=Memoized:s0@group-0D79FE851785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0D79FE851785:t0, leader=null, voted=, raftlog=Memoized:s1@group-0D79FE851785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0D79FE851785:t0, leader=null, voted=, raftlog=Memoized:s2@group-0D79FE851785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestLostMajorityHeartbeats(LeaderElectionTests.java:122)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLostMajorityHeartbeats(LeaderElectionTests.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:10,139 [s2@group-0D79FE851785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-0D79FE851785-FollowerState: change to CANDIDATE, lastRpcElapsedTime:193129310ns, electionTimeout:192ms
2022-11-16 04:24:10,139 [s2@group-0D79FE851785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-0D79FE851785-FollowerState
2022-11-16 04:24:10,139 [s2@group-0D79FE851785-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-0D79FE851785: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-16 04:24:10,139 [s2@group-0D79FE851785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:10,140 [s2@group-0D79FE851785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-0D79FE851785-LeaderElection18
2022-11-16 04:24:10,143 [s2@group-0D79FE851785-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-0D79FE851785-LeaderElection18 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:10,143 [s2@group-0D79FE851785-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:10,144 [s2@group-0D79FE851785-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:10,144 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-0D79FE851785: receive requestVote(PRE_VOTE, s2, group-0D79FE851785, 0, (t:0, i:0))
2022-11-16 04:24:10,144 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-0D79FE851785-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-16 04:24:10,144 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-0D79FE851785 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-0D79FE851785:t0, leader=null, voted=, raftlog=Memoized:s0@group-0D79FE851785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:10,144 [s2@group-0D79FE851785-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-0D79FE851785-LeaderElection18: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:10,145 [s2@group-0D79FE851785-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t0
2022-11-16 04:24:10,145 [s2@group-0D79FE851785-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-0D79FE851785-LeaderElection18 PRE_VOTE round 0: result PASSED
2022-11-16 04:24:10,146 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-0D79FE851785: receive requestVote(PRE_VOTE, s2, group-0D79FE851785, 0, (t:0, i:0))
2022-11-16 04:24:10,146 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-0D79FE851785-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-16 04:24:10,146 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-0D79FE851785 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-0D79FE851785:t0, leader=null, voted=, raftlog=Memoized:s1@group-0D79FE851785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:10,147 [s2@group-0D79FE851785-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-0D79FE851785-LeaderElection18 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:10,147 [s2@group-0D79FE851785-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:10,147 [s2@group-0D79FE851785-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:10,148 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-0D79FE851785: receive requestVote(ELECTION, s2, group-0D79FE851785, 1, (t:0, i:0))
2022-11-16 04:24:10,148 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-0D79FE851785: receive requestVote(ELECTION, s2, group-0D79FE851785, 1, (t:0, i:0))
2022-11-16 04:24:10,148 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-0D79FE851785-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-11-16 04:24:10,148 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-0D79FE851785-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-11-16 04:24:10,148 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-0D79FE851785: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-11-16 04:24:10,149 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-0D79FE851785-FollowerState
2022-11-16 04:24:10,149 [s0@group-0D79FE851785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-0D79FE851785-FollowerState was interrupted
2022-11-16 04:24:10,148 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-0D79FE851785: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-11-16 04:24:10,149 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-0D79FE851785-FollowerState
2022-11-16 04:24:10,149 [s1@group-0D79FE851785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-0D79FE851785-FollowerState was interrupted
2022-11-16 04:24:10,149 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-0D79FE851785-FollowerState
2022-11-16 04:24:10,150 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-0D79FE851785-FollowerState
2022-11-16 04:24:10,151 [s1@group-0D79FE851785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:10,151 [s0@group-0D79FE851785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:10,151 [s0@group-0D79FE851785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:10,151 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-0D79FE851785 replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-0D79FE851785:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-0D79FE851785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:10,152 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-0D79FE851785 replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-0D79FE851785:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-0D79FE851785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:10,152 [s2@group-0D79FE851785-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-0D79FE851785-LeaderElection18: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:10,152 [s2@group-0D79FE851785-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t1
2022-11-16 04:24:10,151 [s1@group-0D79FE851785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:10,152 [s2@group-0D79FE851785-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-0D79FE851785-LeaderElection18 ELECTION round 0: result PASSED
2022-11-16 04:24:10,152 [s2@group-0D79FE851785-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-0D79FE851785-LeaderElection18
2022-11-16 04:24:10,152 [s2@group-0D79FE851785-LeaderElection18] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-0D79FE851785: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-16 04:24:10,152 [s2@group-0D79FE851785-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-0D79FE851785: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 239ms
2022-11-16 04:24:10,152 [s2@group-0D79FE851785-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:10,152 [s2@group-0D79FE851785-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:10,152 [s2@group-0D79FE851785-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:10,153 [s2@group-0D79FE851785-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:10,153 [s2@group-0D79FE851785-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:10,153 [s2@group-0D79FE851785-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:10,153 [s2@group-0D79FE851785-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:10,153 [s2@group-0D79FE851785-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:10,153 [s2@group-0D79FE851785-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:10,153 [s2@group-0D79FE851785-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:10,153 [s2@group-0D79FE851785-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:10,154 [s2@group-0D79FE851785-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:10,154 [s2@group-0D79FE851785-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:10,154 [s2@group-0D79FE851785-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:10,154 [s2@group-0D79FE851785-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-0D79FE851785-LeaderStateImpl
2022-11-16 04:24:10,154 [s2@group-0D79FE851785-LeaderElection18] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-0D79FE851785-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:10,155 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-0D79FE851785: change Leader from null to s2 at term 1 for appendEntries, leader elected after 251ms
2022-11-16 04:24:10,162 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-0D79FE851785: change Leader from null to s2 at term 1 for appendEntries, leader elected after 253ms
2022-11-16 04:24:10,162 [s2@group-0D79FE851785-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-0D79FE851785: set configuration 0: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:10,163 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-0D79FE851785: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1], cId:676, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:45555"
dataStreamAddress: "localhost:44699"
clientAddress: "localhost:45909"
adminAddress: "localhost:33825"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41803"
dataStreamAddress: "localhost:45045"
clientAddress: "localhost:37081"
adminAddress: "localhost:46473"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40845"
dataStreamAddress: "localhost:45035"
clientAddress: "localhost:38823"
adminAddress: "localhost:43123"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:10,165 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-0D79FE851785: set configuration 0: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:10,165 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-0D79FE851785-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:10,165 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-0D79FE851785: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1], cId:677, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:45555"
dataStreamAddress: "localhost:44699"
clientAddress: "localhost:45909"
adminAddress: "localhost:33825"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41803"
dataStreamAddress: "localhost:45045"
clientAddress: "localhost:37081"
adminAddress: "localhost:46473"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40845"
dataStreamAddress: "localhost:45035"
clientAddress: "localhost:38823"
adminAddress: "localhost:43123"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:10,166 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-0D79FE851785: set configuration 0: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:10,166 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-0D79FE851785-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:10,167 [s2@group-0D79FE851785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-0D79FE851785-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s2/ea5bfaea-349e-4e1f-ba66-0d79fe851785/current/log_inprogress_0
2022-11-16 04:24:10,184 [s1@group-0D79FE851785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-0D79FE851785-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s1/ea5bfaea-349e-4e1f-ba66-0d79fe851785/current/log_inprogress_0
2022-11-16 04:24:10,185 [s0@group-0D79FE851785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-0D79FE851785-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s0/ea5bfaea-349e-4e1f-ba66-0d79fe851785/current/log_inprogress_0
2022-11-16 04:24:10,186 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-0D79FE851785: succeeded to handle AppendEntries. Reply: s2<-s0#676:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-16 04:24:10,186 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-0D79FE851785: succeeded to handle AppendEntries. Reply: s2<-s1#677:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-16 04:24:10,399 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0D79FE851785:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-0D79FE851785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0D79FE851785:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-0D79FE851785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-0D79FE851785:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-0D79FE851785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:10,638 [s1@group-0D79FE851785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-0D79FE851785-FollowerState: change to CANDIDATE, lastRpcElapsedTime:299480081ns, electionTimeout:217ms
2022-11-16 04:24:10,639 [s1@group-0D79FE851785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-0D79FE851785-FollowerState
2022-11-16 04:24:10,639 [s1@group-0D79FE851785-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-0D79FE851785: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:10,639 [s1@group-0D79FE851785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:10,639 [s1@group-0D79FE851785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-0D79FE851785-LeaderElection19
2022-11-16 04:24:10,640 [s1@group-0D79FE851785-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-0D79FE851785: change Leader from s2 to null at term 1 for PRE_VOTE
2022-11-16 04:24:10,640 [s1@group-0D79FE851785-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-0D79FE851785-LeaderElection19 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:10,641 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-0D79FE851785: receive requestVote(PRE_VOTE, s1, group-0D79FE851785, 1, (t:1, i:0))
2022-11-16 04:24:10,641 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-0D79FE851785-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:10,641 [HandlerDaemon-0] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s1
2022-11-16 04:24:10,641 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-0D79FE851785 replies to PRE_VOTE vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-0D79FE851785:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-0D79FE851785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:10,643 [s1@group-0D79FE851785-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-0D79FE851785-LeaderElection19: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:10,643 [s1@group-0D79FE851785-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2022-11-16 04:24:10,643 [s1@group-0D79FE851785-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-0D79FE851785-LeaderElection19 PRE_VOTE round 0: result PASSED
2022-11-16 04:24:10,646 [s1@group-0D79FE851785-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-0D79FE851785-LeaderElection19 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:10,647 [HandlerDaemon-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s1
2022-11-16 04:24:10,647 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-0D79FE851785: receive requestVote(ELECTION, s1, group-0D79FE851785, 2, (t:1, i:0))
2022-11-16 04:24:10,648 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-0D79FE851785-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:10,648 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-0D79FE851785: change Leader from s2 to null at term 2 for updateCurrentTerm
2022-11-16 04:24:10,648 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-0D79FE851785: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-11-16 04:24:10,648 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-0D79FE851785-FollowerState
2022-11-16 04:24:10,648 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-0D79FE851785-FollowerState
2022-11-16 04:24:10,648 [s0@group-0D79FE851785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-0D79FE851785-FollowerState was interrupted
2022-11-16 04:24:10,650 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-0D79FE851785 replies to ELECTION vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-0D79FE851785:t2, leader=null, voted=s1, raftlog=Memoized:s0@group-0D79FE851785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:10,650 [s1@group-0D79FE851785-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-0D79FE851785-LeaderElection19: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:10,650 [s1@group-0D79FE851785-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t2
2022-11-16 04:24:10,650 [s1@group-0D79FE851785-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-0D79FE851785-LeaderElection19 ELECTION round 0: result PASSED
2022-11-16 04:24:10,650 [s1@group-0D79FE851785-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-0D79FE851785-LeaderElection19
2022-11-16 04:24:10,651 [s1@group-0D79FE851785-LeaderElection19] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-0D79FE851785: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-11-16 04:24:10,651 [s1@group-0D79FE851785-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-0D79FE851785: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 10ms
2022-11-16 04:24:10,651 [s1@group-0D79FE851785-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:10,651 [s1@group-0D79FE851785-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:10,651 [s1@group-0D79FE851785-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:10,651 [s1@group-0D79FE851785-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:10,651 [s1@group-0D79FE851785-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:10,651 [s1@group-0D79FE851785-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:10,651 [s1@group-0D79FE851785-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:10,651 [s1@group-0D79FE851785-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:10,652 [s1@group-0D79FE851785-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:10,652 [s1@group-0D79FE851785-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:10,652 [s1@group-0D79FE851785-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:10,652 [s1@group-0D79FE851785-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:10,652 [s1@group-0D79FE851785-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:10,652 [s1@group-0D79FE851785-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:10,652 [s1@group-0D79FE851785-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-0D79FE851785-LeaderStateImpl
2022-11-16 04:24:10,653 [s1@group-0D79FE851785-LeaderElection19] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-0D79FE851785-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-11-16 04:24:10,655 [s1@group-0D79FE851785-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s1/ea5bfaea-349e-4e1f-ba66-0d79fe851785/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s1/ea5bfaea-349e-4e1f-ba66-0d79fe851785/current/log_0-0
2022-11-16 04:24:10,655 [s1@group-0D79FE851785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-0D79FE851785-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s1/ea5bfaea-349e-4e1f-ba66-0d79fe851785/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s1/ea5bfaea-349e-4e1f-ba66-0d79fe851785/current/log_0-0
2022-11-16 04:24:10,661 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-0D79FE851785: change Leader from null to s1 at term 2 for appendEntries, leader elected after 13ms
2022-11-16 04:24:10,663 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-0D79FE851785: receive appendEntries(s1, 2, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:692, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:45555"
dataStreamAddress: "localhost:44699"
clientAddress: "localhost:45909"
adminAddress: "localhost:33825"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41803"
dataStreamAddress: "localhost:45045"
clientAddress: "localhost:37081"
adminAddress: "localhost:46473"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40845"
dataStreamAddress: "localhost:45035"
clientAddress: "localhost:38823"
adminAddress: "localhost:43123"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:10,663 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-0D79FE851785: set configuration 1: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:10,663 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-0D79FE851785-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-11-16 04:24:10,664 [s0@group-0D79FE851785-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s0/ea5bfaea-349e-4e1f-ba66-0d79fe851785/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s0/ea5bfaea-349e-4e1f-ba66-0d79fe851785/current/log_0-0
2022-11-16 04:24:10,664 [s0@group-0D79FE851785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-0D79FE851785-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s0/ea5bfaea-349e-4e1f-ba66-0d79fe851785/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s0/ea5bfaea-349e-4e1f-ba66-0d79fe851785/current/log_0-0
2022-11-16 04:24:10,669 [s1@group-0D79FE851785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-0D79FE851785-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s1/ea5bfaea-349e-4e1f-ba66-0d79fe851785/current/log_inprogress_1
2022-11-16 04:24:10,669 [s1@group-0D79FE851785-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-0D79FE851785: set configuration 1: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:10,669 [HandlerDaemon-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s1
2022-11-16 04:24:10,678 [s0@group-0D79FE851785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-0D79FE851785-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcd16c225/s0/ea5bfaea-349e-4e1f-ba66-0d79fe851785/current/log_inprogress_1
2022-11-16 04:24:10,679 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-0D79FE851785: succeeded to handle AppendEntries. Reply: s1<-s0#692:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-16 04:24:10,680 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-0D79FE851785: receive appendEntries(s1, 2, (t:2, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:695, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2022-11-16 04:24:10,681 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-0D79FE851785: succeeded to handle AppendEntries. Reply: s1<-s0#695:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-16 04:24:10,787 [s2@group-0D79FE851785-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1063)) - s2@group-0D79FE851785-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 634ms. Conf: 0: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:10,788 [s2@group-0D79FE851785-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s2@group-0D79FE851785->s0(c0,m0,n1, attendVote=true, lastRpcSendTime=373, lastRpcResponseTime=448)
2022-11-16 04:24:10,788 [s2@group-0D79FE851785-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s2@group-0D79FE851785->s1(c0,m0,n1, attendVote=true, lastRpcSendTime=373, lastRpcResponseTime=448)
2022-11-16 04:24:10,788 [s2@group-0D79FE851785-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-0D79FE851785: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-11-16 04:24:10,788 [s2@group-0D79FE851785-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-0D79FE851785-LeaderStateImpl
2022-11-16 04:24:10,788 [s2@group-0D79FE851785->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-0D79FE851785->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-16 04:24:10,788 [s2@group-0D79FE851785->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-0D79FE851785->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-16 04:24:10,788 [s2@group-0D79FE851785-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-0D79FE851785-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:10,789 [s2@group-0D79FE851785-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-0D79FE851785-FollowerState
2022-11-16 04:24:11,002 [Time-limited test] INFO  impl.FollowerState (FollowerState.java:lostMajorityHeartbeatsRecently(108)) - s2@group-0D79FE851785-FollowerState: Skipping leader election since it stepped down recently (elapsed = 212ms < waitTime = 10s)
2022-11-16 04:24:11,002 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-16 04:24:11,002 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-16 04:24:11,002 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:11,003 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-16 04:24:11,003 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-16 04:24:11,003 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0D79FE851785:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-0D79FE851785-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-0D79FE851785:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-0D79FE851785-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0D79FE851785:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-0D79FE851785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45555|admin:localhost:33825|client:localhost:45909|dataStream:localhost:44699|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41803|admin:localhost:46473|client:localhost:37081|dataStream:localhost:45045|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40845|admin:localhost:43123|client:localhost:38823|dataStream:localhost:45035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:11,003 [MiniRaftCluster-14] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-16 04:24:11,006 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-0D79FE851785: shutdown
2022-11-16 04:24:11,006 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:11,006 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0D79FE851785,id=s0
2022-11-16 04:24:11,006 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:11,006 [MiniRaftCluster-15] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-16 04:24:11,006 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:11,006 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-0D79FE851785-FollowerState
2022-11-16 04:24:11,007 [MiniRaftCluster-16] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-16 04:24:11,007 [s0@group-0D79FE851785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-0D79FE851785-FollowerState was interrupted
2022-11-16 04:24:11,007 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-0D79FE851785-StateMachineUpdater: set stopIndex = 2
2022-11-16 04:24:11,007 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-0D79FE851785: applyIndex: 2
2022-11-16 04:24:11,008 [s0@group-0D79FE851785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-0D79FE851785-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:11,008 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:11,008 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:11,008 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-0D79FE851785: shutdown
2022-11-16 04:24:11,008 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:11,008 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0D79FE851785,id=s1
2022-11-16 04:24:11,008 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-0D79FE851785-LeaderStateImpl
2022-11-16 04:24:11,008 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-0D79FE851785-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:11,008 [s1@group-0D79FE851785->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-0D79FE851785->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:11,008 [s1@group-0D79FE851785->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-0D79FE851785->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-16 04:24:11,008 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:11,009 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:11,009 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-0D79FE851785: shutdown
2022-11-16 04:24:11,009 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0D79FE851785,id=s2
2022-11-16 04:24:11,009 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-0D79FE851785-FollowerState
2022-11-16 04:24:11,009 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-0D79FE851785-StateMachineUpdater: set stopIndex = 0
2022-11-16 04:24:11,009 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-0D79FE851785: applyIndex: 0
2022-11-16 04:24:11,009 [s2@group-0D79FE851785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-0D79FE851785-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:11,009 [s2@group-0D79FE851785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-0D79FE851785-FollowerState was interrupted
2022-11-16 04:24:11,010 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:11,011 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:11,011 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:11,011 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:11,011 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:11,011 [HandlerDaemon-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s1
2022-11-16 04:24:11,011 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-0D79FE851785: receive requestVote(ELECTION, s1, group-0D79FE851785, 2, (t:1, i:0))
2022-11-16 04:24:11,011 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:11,012 [HandlerDaemon-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s1
2022-11-16 04:24:11,012 [HandlerDaemon-0] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s1
2022-11-16 04:24:11,012 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-0D79FE851785: receive requestVote(PRE_VOTE, s1, group-0D79FE851785, 1, (t:1, i:0))
2022-11-16 04:24:11,013 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-0D79FE851785-SegmentedRaftLogWorker close()
2022-11-16 04:24:11,013 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-0D79FE851785-SegmentedRaftLogWorker close()
2022-11-16 04:24:11,014 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:11,014 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-0D79FE851785-StateMachineUpdater: set stopIndex = 2
2022-11-16 04:24:11,014 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-0D79FE851785: applyIndex: 2
2022-11-16 04:24:11,015 [s1@group-0D79FE851785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-0D79FE851785-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:11,015 [JvmPauseMonitor9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-16 04:24:11,016 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-0D79FE851785-SegmentedRaftLogWorker close()
2022-11-16 04:24:11,016 [JvmPauseMonitor11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-16 04:24:11,018 [JvmPauseMonitor10] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-16 04:24:11,018 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-16 04:24:11,018 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-16 04:24:11,019 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-16 04:24:11,019 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-16 04:24:11,019 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-16 04:24:11,019 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testLateServerStart(304)) - Running testLateServerStart
2022-11-16 04:24:11,020 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-16 04:24:11,021 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-1BDA9046D277:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]
2022-11-16 04:24:11,021 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-16 04:24:11,021 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-1BDA9046D277:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:11,021 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s0
2022-11-16 04:24:11,021 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s0 does not exist.
2022-11-16 04:24:11,021 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s0
2022-11-16 04:24:11,022 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:11,022 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:11,022 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:11,022 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:11,022 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:11,022 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:11,022 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s0] (custom)
2022-11-16 04:24:11,023 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-1BDA9046D277:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER] returns group-1BDA9046D277:java.util.concurrent.CompletableFuture@75f49105[Not completed]
2022-11-16 04:24:11,023 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-1BDA9046D277:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:11,023 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s1
2022-11-16 04:24:11,023 [pool-13-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-1BDA9046D277:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:11,023 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s1 does not exist.
2022-11-16 04:24:11,023 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s1
2022-11-16 04:24:11,024 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:11,024 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:11,024 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:11,024 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:11,024 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:11,024 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:11,024 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s1] (custom)
2022-11-16 04:24:11,023 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:11,024 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:11,024 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:11,024 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:11,024 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:11,025 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:11,025 [pool-13-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-1BDA9046D277: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:11,025 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:11,025 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:11,025 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:11,025 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:11,025 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:11,026 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:11,026 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:11,026 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:11,026 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:11,026 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:11,027 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-1BDA9046D277:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER] returns group-1BDA9046D277:java.util.concurrent.CompletableFuture@10c302f[Not completed]
2022-11-16 04:24:11,027 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-1BDA9046D277:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:11,027 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s2
2022-11-16 04:24:11,027 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s2 does not exist.
2022-11-16 04:24:11,027 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s2
2022-11-16 04:24:11,027 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:11,028 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:11,028 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:11,028 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:11,028 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:11,028 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:11,028 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s2] (custom)
2022-11-16 04:24:11,028 [pool-14-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-1BDA9046D277:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:11,028 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:11,029 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:11,029 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:11,029 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:11,029 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:11,029 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:11,029 [pool-14-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-1BDA9046D277: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:11,029 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:11,029 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:11,029 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:11,029 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:11,029 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:11,030 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:11,030 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:11,030 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:11,030 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:11,030 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:11,037 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-1BDA9046D277:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER] returns group-1BDA9046D277:java.util.concurrent.CompletableFuture@4b25986a[Not completed]
2022-11-16 04:24:11,038 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:11,038 [pool-15-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-1BDA9046D277:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:11,038 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:11,038 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:11,038 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:11,038 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s0] (custom)
2022-11-16 04:24:11,038 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s0/d2d3f841-ac52-43d2-8dba-1bda9046d277 does not exist. Creating ...
2022-11-16 04:24:11,039 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s0/d2d3f841-ac52-43d2-8dba-1bda9046d277
2022-11-16 04:24:11,040 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s0/d2d3f841-ac52-43d2-8dba-1bda9046d277/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:11,040 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s0/d2d3f841-ac52-43d2-8dba-1bda9046d277/current
2022-11-16 04:24:11,040 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s0/d2d3f841-ac52-43d2-8dba-1bda9046d277/sm
2022-11-16 04:24:11,041 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s0/d2d3f841-ac52-43d2-8dba-1bda9046d277 has been successfully formatted.
2022-11-16 04:24:11,041 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:11,042 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:11,042 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:11,042 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:11,042 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:11,042 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:11,042 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:11,042 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:11,042 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-1BDA9046D277-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s0/d2d3f841-ac52-43d2-8dba-1bda9046d277
2022-11-16 04:24:11,042 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:11,042 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:11,042 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:11,042 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:11,042 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:11,042 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:11,043 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:11,043 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:11,043 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:11,043 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:11,038 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:11,043 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:11,043 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:11,043 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:11,043 [pool-15-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-1BDA9046D277: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:11,043 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:11,043 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:11,043 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:11,043 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:11,043 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:11,044 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:11,044 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:11,044 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:11,044 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:11,044 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:11,045 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:11,045 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:11,045 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:11,045 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-1BDA9046D277-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:11,045 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-1BDA9046D277-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:11,045 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-1BDA9046D277: start as a follower, conf=-1: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:11,046 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:11,046 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:11,046 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1BDA9046D277,id=s0
2022-11-16 04:24:11,046 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:11,046 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:11,046 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:11,046 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:11,047 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:11,050 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-16 04:24:11,051 [JvmPauseMonitor12] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-16 04:24:11,051 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:11,051 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:11,051 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s1] (custom)
2022-11-16 04:24:11,051 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s1/d2d3f841-ac52-43d2-8dba-1bda9046d277 does not exist. Creating ...
2022-11-16 04:24:11,051 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s1/d2d3f841-ac52-43d2-8dba-1bda9046d277
2022-11-16 04:24:11,052 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s1/d2d3f841-ac52-43d2-8dba-1bda9046d277/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:11,052 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s1/d2d3f841-ac52-43d2-8dba-1bda9046d277/current
2022-11-16 04:24:11,053 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s1/d2d3f841-ac52-43d2-8dba-1bda9046d277/sm
2022-11-16 04:24:11,053 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s1/d2d3f841-ac52-43d2-8dba-1bda9046d277 has been successfully formatted.
2022-11-16 04:24:11,054 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:11,054 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:11,054 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:11,054 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:11,054 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:11,054 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:11,054 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:11,055 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:11,055 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-1BDA9046D277-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s1/d2d3f841-ac52-43d2-8dba-1bda9046d277
2022-11-16 04:24:11,055 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:11,055 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:11,055 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:11,055 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:11,055 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:11,055 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:11,055 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:11,055 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:11,055 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:11,055 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:11,056 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:11,057 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:11,057 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:11,057 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-1BDA9046D277-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:11,057 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-1BDA9046D277-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:11,060 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-1BDA9046D277: start as a follower, conf=-1: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:11,060 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-1BDA9046D277: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:11,060 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-1BDA9046D277-FollowerState
2022-11-16 04:24:11,061 [s1@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:11,061 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1BDA9046D277,id=s1
2022-11-16 04:24:11,061 [s1@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:11,061 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:11,061 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:11,061 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:11,061 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-16 04:24:11,062 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:11,062 [JvmPauseMonitor13] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-16 04:24:11,062 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1BDA9046D277:t0, leader=null, voted=, raftlog=Memoized:s0@group-1BDA9046D277-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1BDA9046D277:t0, leader=null, voted=, raftlog=Memoized:s1@group-1BDA9046D277-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:      NEW      null s2@group-1BDA9046D277:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=-1: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null NEW
2022-11-16 04:24:11,064 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1BDA9046D277:t0, leader=null, voted=, raftlog=Memoized:s0@group-1BDA9046D277-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1BDA9046D277:t0, leader=null, voted=, raftlog=Memoized:s1@group-1BDA9046D277-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:      NEW      null s2@group-1BDA9046D277:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=-1: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null NEW, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1BDA9046D277:t0, leader=null, voted=, raftlog=Memoized:s0@group-1BDA9046D277-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1BDA9046D277:t0, leader=null, voted=, raftlog=Memoized:s1@group-1BDA9046D277-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:      NEW      null s2@group-1BDA9046D277:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=-1: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null NEW
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLateServerStart(LeaderElectionTests.java:314)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:11,293 [s1@group-1BDA9046D277-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-1BDA9046D277-FollowerState: change to CANDIDATE, lastRpcElapsedTime:232802284ns, electionTimeout:232ms
2022-11-16 04:24:11,293 [s1@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-1BDA9046D277-FollowerState
2022-11-16 04:24:11,293 [s1@group-1BDA9046D277-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-1BDA9046D277: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-16 04:24:11,294 [s1@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:11,294 [s1@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-1BDA9046D277-LeaderElection20
2022-11-16 04:24:11,294 [s1@group-1BDA9046D277-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-1BDA9046D277-LeaderElection20 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:11,295 [s1@group-1BDA9046D277-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:11,295 [s1@group-1BDA9046D277-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:11,295 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-1BDA9046D277: receive requestVote(PRE_VOTE, s1, group-1BDA9046D277, 0, (t:0, i:0))
2022-11-16 04:24:11,295 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-1BDA9046D277-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:11,295 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-1BDA9046D277 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-1BDA9046D277:t0, leader=null, voted=, raftlog=Memoized:s0@group-1BDA9046D277-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:11,296 [s1@group-1BDA9046D277-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-1BDA9046D277-LeaderElection20: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:11,296 [s1@group-1BDA9046D277-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2022-11-16 04:24:11,296 [s1@group-1BDA9046D277-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-1BDA9046D277-LeaderElection20 PRE_VOTE round 0: result PASSED
2022-11-16 04:24:11,297 [s1@group-1BDA9046D277-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-1BDA9046D277-LeaderElection20 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:11,298 [s1@group-1BDA9046D277-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:11,298 [s1@group-1BDA9046D277-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:11,298 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-1BDA9046D277: receive requestVote(ELECTION, s1, group-1BDA9046D277, 1, (t:0, i:0))
2022-11-16 04:24:11,298 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-1BDA9046D277-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:11,298 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-11-16 04:24:11,298 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:11,299 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:11,299 [s0@group-1BDA9046D277-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-1BDA9046D277-FollowerState was interrupted
2022-11-16 04:24:11,300 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:11,300 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:11,300 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-1BDA9046D277 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-1BDA9046D277:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-1BDA9046D277-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:11,300 [s1@group-1BDA9046D277-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-1BDA9046D277-LeaderElection20: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:11,300 [s1@group-1BDA9046D277-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2022-11-16 04:24:11,300 [s1@group-1BDA9046D277-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-1BDA9046D277-LeaderElection20 ELECTION round 0: result PASSED
2022-11-16 04:24:11,300 [s1@group-1BDA9046D277-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-1BDA9046D277-LeaderElection20
2022-11-16 04:24:11,300 [s1@group-1BDA9046D277-LeaderElection20] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-1BDA9046D277: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-16 04:24:11,300 [s1@group-1BDA9046D277-LeaderElection20] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-1BDA9046D277: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 271ms
2022-11-16 04:24:11,300 [s1@group-1BDA9046D277-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:11,300 [s1@group-1BDA9046D277-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:11,301 [s1@group-1BDA9046D277-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:11,301 [s1@group-1BDA9046D277-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:11,301 [s1@group-1BDA9046D277-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:11,301 [s1@group-1BDA9046D277-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:11,301 [s1@group-1BDA9046D277-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:11,301 [s1@group-1BDA9046D277-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:11,301 [s1@group-1BDA9046D277-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:11,301 [s1@group-1BDA9046D277-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:11,302 [s1@group-1BDA9046D277-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:11,302 [s1@group-1BDA9046D277-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:11,302 [s1@group-1BDA9046D277-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:11,302 [s1@group-1BDA9046D277-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:11,302 [s1@group-1BDA9046D277-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-1BDA9046D277-LeaderStateImpl
2022-11-16 04:24:11,302 [s1@group-1BDA9046D277-LeaderElection20] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-1BDA9046D277-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:11,307 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-1BDA9046D277: change Leader from null to s1 at term 1 for appendEntries, leader elected after 282ms
2022-11-16 04:24:11,312 [s1@group-1BDA9046D277-LeaderElection20] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-1BDA9046D277: set configuration 0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:11,312 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-1BDA9046D277: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:708, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:32967"
dataStreamAddress: "localhost:38491"
clientAddress: "localhost:44465"
adminAddress: "localhost:45143"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:44567"
dataStreamAddress: "localhost:38937"
clientAddress: "localhost:45189"
adminAddress: "localhost:46731"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:38429"
dataStreamAddress: "localhost:38841"
clientAddress: "localhost:38079"
adminAddress: "localhost:45093"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:11,313 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-1BDA9046D277: set configuration 0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:11,313 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-1BDA9046D277-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:11,313 [s1@group-1BDA9046D277-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-1BDA9046D277-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s1/d2d3f841-ac52-43d2-8dba-1bda9046d277/current/log_inprogress_0
2022-11-16 04:24:11,329 [s0@group-1BDA9046D277-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-1BDA9046D277-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s0/d2d3f841-ac52-43d2-8dba-1bda9046d277/current/log_inprogress_0
2022-11-16 04:24:11,330 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-1BDA9046D277: succeeded to handle AppendEntries. Reply: s1<-s0#708:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-16 04:24:11,515 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1BDA9046D277:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-1BDA9046D277:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:      NEW      null s2@group-1BDA9046D277:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=-1: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null NEW
2022-11-16 04:24:11,515 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testLateServerStart(316)) - sleep 3s
2022-11-16 04:24:14,308 [s1@group-1BDA9046D277->s2-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s1@group-1BDA9046D277->s2-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: Timeout while waiting for reply of request org.apache.ratis.server.simulation.RaftServerRequest@36a2cec5
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:14,515 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:14,516 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:14,516 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s2] (custom)
2022-11-16 04:24:14,516 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s2/d2d3f841-ac52-43d2-8dba-1bda9046d277 does not exist. Creating ...
2022-11-16 04:24:14,516 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s2/d2d3f841-ac52-43d2-8dba-1bda9046d277
2022-11-16 04:24:14,518 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s2/d2d3f841-ac52-43d2-8dba-1bda9046d277/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:14,518 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s2/d2d3f841-ac52-43d2-8dba-1bda9046d277/current
2022-11-16 04:24:14,518 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s2/d2d3f841-ac52-43d2-8dba-1bda9046d277/sm
2022-11-16 04:24:14,519 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s2/d2d3f841-ac52-43d2-8dba-1bda9046d277 has been successfully formatted.
2022-11-16 04:24:14,520 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:14,520 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:14,520 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:14,520 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:14,520 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:14,521 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:14,521 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:14,521 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:14,521 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-1BDA9046D277-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s2/d2d3f841-ac52-43d2-8dba-1bda9046d277
2022-11-16 04:24:14,522 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:14,522 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:14,522 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:14,522 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:14,522 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:14,522 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:14,522 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:14,522 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:14,522 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:14,523 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:14,525 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:14,525 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:14,526 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:14,526 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-1BDA9046D277-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:14,526 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-1BDA9046D277-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:14,526 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-1BDA9046D277: start as a follower, conf=-1: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:14,527 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-1BDA9046D277: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:14,527 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-1BDA9046D277-FollowerState
2022-11-16 04:24:14,527 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1BDA9046D277,id=s2
2022-11-16 04:24:14,527 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:14,527 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:14,527 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:14,528 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-16 04:24:14,528 [s2@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:14,528 [s2@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:14,530 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-1BDA9046D277: receive requestVote(PRE_VOTE, s1, group-1BDA9046D277, 0, (t:0, i:0))
2022-11-16 04:24:14,531 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-1BDA9046D277-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:14,531 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(217)) - FAILED "getLeaderId", attempt #1/10: java.lang.IllegalStateException: No leader yet, sleep 1s and then retry.
java.lang.IllegalStateException: No leader yet
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testLateServerStart$3(LeaderElectionTests.java:324)
	at java.base/java.util.Optional.orElseThrow(Optional.java:408)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testLateServerStart$4(LeaderElectionTests.java:324)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLateServerStart(LeaderElectionTests.java:322)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:14,532 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-1BDA9046D277 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-1BDA9046D277:t0, leader=null, voted=, raftlog=Memoized:s2@group-1BDA9046D277-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:14,533 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-1BDA9046D277: receive requestVote(ELECTION, s1, group-1BDA9046D277, 1, (t:0, i:0))
2022-11-16 04:24:14,534 [JvmPauseMonitor14] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-16 04:24:14,534 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-1BDA9046D277: change Leader from null to s1 at term 1 for appendEntries, leader elected after 3490ms
2022-11-16 04:24:14,534 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-1BDA9046D277-FOLLOWER: reject ELECTION from s1: this server is a follower and still has a valid leader s1
2022-11-16 04:24:14,534 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-1BDA9046D277 replies to ELECTION vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-1BDA9046D277:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-1BDA9046D277-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:14,536 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-1BDA9046D277: receive appendEntries(s1, 1, null, 0, true, commits:[s1:c0, s0:c0, s2:c-1], cId:794, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:32967"
dataStreamAddress: "localhost:38491"
clientAddress: "localhost:44465"
adminAddress: "localhost:45143"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:44567"
dataStreamAddress: "localhost:38937"
clientAddress: "localhost:45189"
adminAddress: "localhost:46731"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:38429"
dataStreamAddress: "localhost:38841"
clientAddress: "localhost:38079"
adminAddress: "localhost:45093"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:14,536 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-1BDA9046D277: set configuration 0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:14,536 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-1BDA9046D277-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:14,551 [s2@group-1BDA9046D277-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-1BDA9046D277-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc963032f8/s2/d2d3f841-ac52-43d2-8dba-1bda9046d277/current/log_inprogress_0
2022-11-16 04:24:14,552 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-1BDA9046D277: succeeded to handle AppendEntries. Reply: s1<-s2#794:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-16 04:24:15,532 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testLateServerStart(326)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1BDA9046D277:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-1BDA9046D277:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-1BDA9046D277:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:15,534 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-16 04:24:15,534 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-16 04:24:15,534 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-16 04:24:15,534 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-16 04:24:15,539 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-11-16 04:24:15,539 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-16 04:24:15,540 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-A99D9BC0424E:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER, s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]
2022-11-16 04:24:15,541 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-16 04:24:15,541 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-16 04:24:15,541 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:15,541 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-16 04:24:15,541 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-16 04:24:15,541 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-16 04:24:15,541 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-A99D9BC0424E:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER, s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:15,541 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s3
2022-11-16 04:24:15,542 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s3 does not exist.
2022-11-16 04:24:15,542 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s3
2022-11-16 04:24:15,543 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:15,543 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:15,543 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:15,543 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:15,544 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:15,544 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:15,544 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s3] (custom)
2022-11-16 04:24:15,544 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-A99D9BC0424E:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER, s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER] returns group-A99D9BC0424E:java.util.concurrent.CompletableFuture@62af0f0d[Not completed]
2022-11-16 04:24:15,544 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s4, group-A99D9BC0424E:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER, s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:15,544 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s4
2022-11-16 04:24:15,544 [pool-16-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-A99D9BC0424E:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER, s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:15,545 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:15,545 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:15,545 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:15,545 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:15,545 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:15,545 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:15,545 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s4 does not exist.
2022-11-16 04:24:15,545 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s4
2022-11-16 04:24:15,545 [pool-16-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-A99D9BC0424E: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:15,546 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:15,546 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:15,546 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:15,546 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:15,546 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:15,546 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:15,546 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:15,547 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:15,547 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:15,547 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:15,547 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:15,547 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s4] (custom)
2022-11-16 04:24:15,549 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:15,549 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:15,549 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:15,549 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:15,550 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:15,550 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s4: addNew group-A99D9BC0424E:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER, s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER] returns group-A99D9BC0424E:java.util.concurrent.CompletableFuture@b02e909[Not completed]
2022-11-16 04:24:15,550 [pool-17-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s4: new RaftServerImpl for group-A99D9BC0424E:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER, s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:15,550 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-A99D9BC0424E:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER, s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:15,550 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s0
2022-11-16 04:24:15,550 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:15,550 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s0 does not exist.
2022-11-16 04:24:15,551 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s0
2022-11-16 04:24:15,551 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:15,551 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:15,551 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:15,551 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:15,551 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:15,551 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:15,551 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:15,551 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:15,551 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:15,551 [pool-17-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-A99D9BC0424E: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:15,551 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:15,552 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:15,552 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:15,552 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:15,552 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s0] (custom)
2022-11-16 04:24:15,552 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:15,552 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:15,552 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:15,555 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:15,555 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:15,555 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:15,556 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:15,556 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:15,556 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-A99D9BC0424E:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER, s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER] returns group-A99D9BC0424E:java.util.concurrent.CompletableFuture@37d7bd42[Not completed]
2022-11-16 04:24:15,556 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-A99D9BC0424E:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER, s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:15,556 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s1
2022-11-16 04:24:15,556 [pool-18-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-A99D9BC0424E:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER, s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:15,556 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s1 does not exist.
2022-11-16 04:24:15,556 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s1
2022-11-16 04:24:15,556 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:15,556 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:15,556 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:15,556 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:15,557 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:15,557 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:15,557 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:15,557 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:15,557 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:15,557 [pool-18-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-A99D9BC0424E: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:15,557 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:15,557 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:15,557 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:15,558 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s1] (custom)
2022-11-16 04:24:15,557 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:15,558 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:15,558 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:15,558 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:15,559 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:15,559 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:15,559 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:15,559 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:15,559 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:15,560 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:15,561 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-A99D9BC0424E:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER, s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER] returns group-A99D9BC0424E:java.util.concurrent.CompletableFuture@2140baf5[Not completed]
2022-11-16 04:24:15,561 [pool-19-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-A99D9BC0424E:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER, s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:15,561 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-A99D9BC0424E:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER, s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:15,561 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s2
2022-11-16 04:24:15,561 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s2 does not exist.
2022-11-16 04:24:15,561 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s2
2022-11-16 04:24:15,561 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:15,561 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:15,561 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:15,562 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:15,562 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:15,562 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:15,562 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s2] (custom)
2022-11-16 04:24:15,562 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:15,562 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:15,562 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:15,562 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:15,562 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:15,562 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:15,562 [pool-19-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-A99D9BC0424E: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:15,562 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:15,562 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:15,562 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:15,562 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:15,563 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:15,563 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:15,563 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:15,563 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:15,563 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:15,563 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:15,564 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-A99D9BC0424E:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER, s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER] returns group-A99D9BC0424E:java.util.concurrent.CompletableFuture@628bcdf7[Not completed]
2022-11-16 04:24:15,564 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:15,564 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:15,564 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s3] (custom)
2022-11-16 04:24:15,564 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s3/9a87b455-e1a9-4161-bec6-a99d9bc0424e does not exist. Creating ...
2022-11-16 04:24:15,564 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s3/9a87b455-e1a9-4161-bec6-a99d9bc0424e
2022-11-16 04:24:15,565 [pool-20-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-A99D9BC0424E:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER, s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:15,566 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:15,566 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:15,566 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:15,566 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:15,566 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:15,567 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:15,567 [pool-20-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-A99D9BC0424E: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:15,567 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:15,567 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:15,567 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:15,567 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:15,567 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:15,570 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:15,570 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:15,570 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s3/9a87b455-e1a9-4161-bec6-a99d9bc0424e/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:15,570 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:15,570 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s3/9a87b455-e1a9-4161-bec6-a99d9bc0424e/current
2022-11-16 04:24:15,570 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s3/9a87b455-e1a9-4161-bec6-a99d9bc0424e/sm
2022-11-16 04:24:15,570 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:15,571 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:15,572 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s3/9a87b455-e1a9-4161-bec6-a99d9bc0424e has been successfully formatted.
2022-11-16 04:24:15,572 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:15,572 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:15,572 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:15,572 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:15,572 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:15,573 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:15,573 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:15,573 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:15,573 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s3@group-A99D9BC0424E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s3/9a87b455-e1a9-4161-bec6-a99d9bc0424e
2022-11-16 04:24:15,573 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:15,573 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:15,574 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:15,574 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:15,574 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:15,574 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:15,574 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:15,574 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:15,574 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:15,574 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:15,583 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:15,583 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:15,583 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:15,583 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-A99D9BC0424E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:15,583 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-A99D9BC0424E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:15,583 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(341)) - s3@group-A99D9BC0424E: start as a listener, conf=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:15,584 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-A99D9BC0424E: changes role from      null to LISTENER at term 0 for startAsListener
2022-11-16 04:24:15,584 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-A99D9BC0424E-FollowerState
2022-11-16 04:24:15,584 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A99D9BC0424E,id=s3
2022-11-16 04:24:15,584 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:15,584 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:15,584 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:15,585 [s3@group-A99D9BC0424E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:15,585 [s3@group-A99D9BC0424E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:15,585 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s3: start RPC server
2022-11-16 04:24:15,589 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:15,589 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:15,589 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s4] (custom)
2022-11-16 04:24:15,590 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s4/9a87b455-e1a9-4161-bec6-a99d9bc0424e does not exist. Creating ...
2022-11-16 04:24:15,590 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s4/9a87b455-e1a9-4161-bec6-a99d9bc0424e
2022-11-16 04:24:15,590 [JvmPauseMonitor15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s3: Started
2022-11-16 04:24:15,591 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s4/9a87b455-e1a9-4161-bec6-a99d9bc0424e/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:15,591 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s4/9a87b455-e1a9-4161-bec6-a99d9bc0424e/current
2022-11-16 04:24:15,591 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s4/9a87b455-e1a9-4161-bec6-a99d9bc0424e/sm
2022-11-16 04:24:15,592 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s4/9a87b455-e1a9-4161-bec6-a99d9bc0424e has been successfully formatted.
2022-11-16 04:24:15,592 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:15,592 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:15,592 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:15,592 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:15,592 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:15,593 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:15,593 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:15,593 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:15,593 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s4@group-A99D9BC0424E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s4/9a87b455-e1a9-4161-bec6-a99d9bc0424e
2022-11-16 04:24:15,593 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:15,593 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:15,593 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:15,593 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:15,601 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:15,601 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:15,601 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:15,602 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:15,602 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:15,602 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:15,603 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:15,603 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:15,603 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:15,603 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-A99D9BC0424E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:15,603 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-A99D9BC0424E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:15,605 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(341)) - s4@group-A99D9BC0424E: start as a listener, conf=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:15,605 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-A99D9BC0424E: changes role from      null to LISTENER at term 0 for startAsListener
2022-11-16 04:24:15,605 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-A99D9BC0424E-FollowerState
2022-11-16 04:24:15,609 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A99D9BC0424E,id=s4
2022-11-16 04:24:15,610 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:15,610 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:15,610 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:15,610 [s4@group-A99D9BC0424E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:15,610 [s4@group-A99D9BC0424E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:15,610 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s4: start RPC server
2022-11-16 04:24:15,611 [JvmPauseMonitor16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s4: Started
2022-11-16 04:24:15,611 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:15,611 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:15,611 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s0] (custom)
2022-11-16 04:24:15,612 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s0/9a87b455-e1a9-4161-bec6-a99d9bc0424e does not exist. Creating ...
2022-11-16 04:24:15,612 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s0/9a87b455-e1a9-4161-bec6-a99d9bc0424e
2022-11-16 04:24:15,613 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s0/9a87b455-e1a9-4161-bec6-a99d9bc0424e/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:15,613 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s0/9a87b455-e1a9-4161-bec6-a99d9bc0424e/current
2022-11-16 04:24:15,613 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s0/9a87b455-e1a9-4161-bec6-a99d9bc0424e/sm
2022-11-16 04:24:15,614 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s0/9a87b455-e1a9-4161-bec6-a99d9bc0424e has been successfully formatted.
2022-11-16 04:24:15,614 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:15,614 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:15,614 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:15,614 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:15,615 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:15,615 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:15,615 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:15,615 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:15,615 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-A99D9BC0424E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s0/9a87b455-e1a9-4161-bec6-a99d9bc0424e
2022-11-16 04:24:15,615 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:15,615 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:15,615 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:15,615 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:15,615 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:15,615 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:15,615 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:15,615 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:15,615 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:15,616 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:15,616 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:15,616 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:15,616 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:15,616 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-A99D9BC0424E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:15,617 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-A99D9BC0424E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:15,617 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-A99D9BC0424E: start as a follower, conf=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:15,617 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-A99D9BC0424E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:15,617 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A99D9BC0424E-FollowerState
2022-11-16 04:24:15,618 [s0@group-A99D9BC0424E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:15,618 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A99D9BC0424E,id=s0
2022-11-16 04:24:15,618 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:15,618 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:15,618 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:15,618 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-16 04:24:15,618 [s0@group-A99D9BC0424E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:15,619 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:15,619 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:15,619 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s1] (custom)
2022-11-16 04:24:15,619 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s1/9a87b455-e1a9-4161-bec6-a99d9bc0424e does not exist. Creating ...
2022-11-16 04:24:15,620 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s1/9a87b455-e1a9-4161-bec6-a99d9bc0424e
2022-11-16 04:24:15,621 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s1/9a87b455-e1a9-4161-bec6-a99d9bc0424e/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:15,621 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s1/9a87b455-e1a9-4161-bec6-a99d9bc0424e/current
2022-11-16 04:24:15,621 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s1/9a87b455-e1a9-4161-bec6-a99d9bc0424e/sm
2022-11-16 04:24:15,622 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s1/9a87b455-e1a9-4161-bec6-a99d9bc0424e has been successfully formatted.
2022-11-16 04:24:15,622 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:15,622 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:15,622 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:15,622 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:15,622 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:15,622 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:15,622 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:15,623 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:15,623 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-A99D9BC0424E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s1/9a87b455-e1a9-4161-bec6-a99d9bc0424e
2022-11-16 04:24:15,623 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:15,623 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:15,623 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:15,623 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:15,623 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:15,623 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:15,623 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:15,623 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:15,623 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:15,623 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:15,624 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:15,624 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:15,624 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:15,624 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-A99D9BC0424E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:15,624 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-A99D9BC0424E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:15,619 [JvmPauseMonitor17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-16 04:24:15,625 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-A99D9BC0424E: start as a follower, conf=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:15,625 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-A99D9BC0424E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:15,625 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A99D9BC0424E-FollowerState
2022-11-16 04:24:15,625 [s1@group-A99D9BC0424E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:15,625 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A99D9BC0424E,id=s1
2022-11-16 04:24:15,625 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:15,625 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:15,625 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:15,626 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-16 04:24:15,625 [s1@group-A99D9BC0424E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:15,627 [JvmPauseMonitor18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-16 04:24:15,627 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:15,627 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:15,627 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s2] (custom)
2022-11-16 04:24:15,627 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s2/9a87b455-e1a9-4161-bec6-a99d9bc0424e does not exist. Creating ...
2022-11-16 04:24:15,628 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s2/9a87b455-e1a9-4161-bec6-a99d9bc0424e
2022-11-16 04:24:15,628 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s2/9a87b455-e1a9-4161-bec6-a99d9bc0424e/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:15,629 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s2/9a87b455-e1a9-4161-bec6-a99d9bc0424e/current
2022-11-16 04:24:15,629 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s2/9a87b455-e1a9-4161-bec6-a99d9bc0424e/sm
2022-11-16 04:24:15,629 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s2/9a87b455-e1a9-4161-bec6-a99d9bc0424e has been successfully formatted.
2022-11-16 04:24:15,630 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:15,630 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:15,630 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:15,630 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:15,630 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:15,630 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:15,630 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:15,630 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:15,630 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-A99D9BC0424E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s2/9a87b455-e1a9-4161-bec6-a99d9bc0424e
2022-11-16 04:24:15,630 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:15,631 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:15,631 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:15,631 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:15,631 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:15,631 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:15,631 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:15,631 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:15,631 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:15,631 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:15,632 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:15,632 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:15,632 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:15,632 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-A99D9BC0424E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:15,632 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-A99D9BC0424E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:15,632 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-A99D9BC0424E: start as a follower, conf=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:15,632 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-A99D9BC0424E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:15,632 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A99D9BC0424E-FollowerState
2022-11-16 04:24:15,632 [s2@group-A99D9BC0424E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:15,635 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A99D9BC0424E,id=s2
2022-11-16 04:24:15,635 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:15,635 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:15,635 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:15,636 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-16 04:24:15,635 [s2@group-A99D9BC0424E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:15,636 [JvmPauseMonitor19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-16 04:24:15,637 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:15,637 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-A99D9BC0424E:t0, leader=null, voted=, raftlog=Memoized:s3@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-A99D9BC0424E:t0, leader=null, voted=, raftlog=Memoized:s4@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-A99D9BC0424E:t0, leader=null, voted=, raftlog=Memoized:s0@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A99D9BC0424E:t0, leader=null, voted=, raftlog=Memoized:s1@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A99D9BC0424E:t0, leader=null, voted=, raftlog=Memoized:s2@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null RUNNING
2022-11-16 04:24:15,637 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-A99D9BC0424E:t0, leader=null, voted=, raftlog=Memoized:s3@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-A99D9BC0424E:t0, leader=null, voted=, raftlog=Memoized:s4@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-A99D9BC0424E:t0, leader=null, voted=, raftlog=Memoized:s0@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A99D9BC0424E:t0, leader=null, voted=, raftlog=Memoized:s1@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A99D9BC0424E:t0, leader=null, voted=, raftlog=Memoized:s2@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-A99D9BC0424E:t0, leader=null, voted=, raftlog=Memoized:s3@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-A99D9BC0424E:t0, leader=null, voted=, raftlog=Memoized:s4@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-A99D9BC0424E:t0, leader=null, voted=, raftlog=Memoized:s0@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A99D9BC0424E:t0, leader=null, voted=, raftlog=Memoized:s1@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A99D9BC0424E:t0, leader=null, voted=, raftlog=Memoized:s2@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestListenerNotStartLeaderElection(LeaderElectionTests.java:160)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:129)
	at org.apache.ratis.server.impl.LeaderElectionTests.testListenerNotStartLeaderElection(LeaderElectionTests.java:156)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:15,762 [s4@group-A99D9BC0424E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:15,763 [s4@group-A99D9BC0424E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:15,787 [s3@group-A99D9BC0424E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:15,787 [s3@group-A99D9BC0424E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:15,794 [s1@group-A99D9BC0424E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-A99D9BC0424E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:169432942ns, electionTimeout:168ms
2022-11-16 04:24:15,794 [s1@group-A99D9BC0424E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-A99D9BC0424E-FollowerState
2022-11-16 04:24:15,794 [s1@group-A99D9BC0424E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-A99D9BC0424E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-16 04:24:15,795 [s1@group-A99D9BC0424E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:15,795 [s1@group-A99D9BC0424E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A99D9BC0424E-LeaderElection21
2022-11-16 04:24:15,797 [s1@group-A99D9BC0424E-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-A99D9BC0424E-LeaderElection21 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:15,797 [s1@group-A99D9BC0424E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:15,797 [s1@group-A99D9BC0424E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:15,798 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-A99D9BC0424E: receive requestVote(PRE_VOTE, s1, group-A99D9BC0424E, 0, (t:0, i:0))
2022-11-16 04:24:15,798 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-A99D9BC0424E-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:15,798 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-A99D9BC0424E replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-A99D9BC0424E:t0, leader=null, voted=, raftlog=Memoized:s2@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:15,798 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-A99D9BC0424E: receive requestVote(PRE_VOTE, s1, group-A99D9BC0424E, 0, (t:0, i:0))
2022-11-16 04:24:15,798 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-A99D9BC0424E-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:15,798 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-A99D9BC0424E replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-A99D9BC0424E:t0, leader=null, voted=, raftlog=Memoized:s0@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:15,798 [s1@group-A99D9BC0424E-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-A99D9BC0424E-LeaderElection21: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:15,798 [s1@group-A99D9BC0424E-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t0
2022-11-16 04:24:15,799 [s1@group-A99D9BC0424E-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-A99D9BC0424E-LeaderElection21 PRE_VOTE round 0: result PASSED
2022-11-16 04:24:15,800 [s1@group-A99D9BC0424E-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-A99D9BC0424E-LeaderElection21 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:15,802 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-A99D9BC0424E: receive requestVote(ELECTION, s1, group-A99D9BC0424E, 1, (t:0, i:0))
2022-11-16 04:24:15,806 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-A99D9BC0424E-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:15,806 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-A99D9BC0424E: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-11-16 04:24:15,806 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A99D9BC0424E-FollowerState
2022-11-16 04:24:15,808 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A99D9BC0424E-FollowerState
2022-11-16 04:24:15,809 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-A99D9BC0424E: receive requestVote(ELECTION, s1, group-A99D9BC0424E, 1, (t:0, i:0))
2022-11-16 04:24:15,809 [s1@group-A99D9BC0424E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:15,816 [s1@group-A99D9BC0424E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:15,814 [s0@group-A99D9BC0424E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-A99D9BC0424E-FollowerState was interrupted
2022-11-16 04:24:15,815 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-A99D9BC0424E replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-A99D9BC0424E:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:15,815 [s0@group-A99D9BC0424E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:15,814 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-A99D9BC0424E-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:15,816 [s1@group-A99D9BC0424E-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-A99D9BC0424E-LeaderElection21: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:15,817 [s1@group-A99D9BC0424E-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2022-11-16 04:24:15,817 [s0@group-A99D9BC0424E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:15,816 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-A99D9BC0424E: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-11-16 04:24:15,818 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-A99D9BC0424E-FollowerState
2022-11-16 04:24:15,818 [s2@group-A99D9BC0424E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-A99D9BC0424E-FollowerState was interrupted
2022-11-16 04:24:15,817 [s1@group-A99D9BC0424E-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-A99D9BC0424E-LeaderElection21 ELECTION round 0: result PASSED
2022-11-16 04:24:15,819 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A99D9BC0424E-FollowerState
2022-11-16 04:24:15,819 [s1@group-A99D9BC0424E-LeaderElection21] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-A99D9BC0424E-LeaderElection21
2022-11-16 04:24:15,819 [s1@group-A99D9BC0424E-LeaderElection21] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-A99D9BC0424E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-16 04:24:15,819 [s1@group-A99D9BC0424E-LeaderElection21] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-A99D9BC0424E: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 256ms
2022-11-16 04:24:15,820 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-A99D9BC0424E replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-A99D9BC0424E:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:15,822 [s1@group-A99D9BC0424E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:15,822 [s1@group-A99D9BC0424E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:15,822 [s1@group-A99D9BC0424E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:15,822 [s1@group-A99D9BC0424E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:15,822 [s1@group-A99D9BC0424E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:15,822 [s1@group-A99D9BC0424E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:15,823 [s1@group-A99D9BC0424E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:15,823 [s1@group-A99D9BC0424E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:15,823 [s1@group-A99D9BC0424E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:15,823 [s1@group-A99D9BC0424E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:15,823 [s1@group-A99D9BC0424E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:15,824 [s1@group-A99D9BC0424E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:15,824 [s1@group-A99D9BC0424E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:15,824 [s1@group-A99D9BC0424E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:15,824 [s1@group-A99D9BC0424E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:15,825 [s1@group-A99D9BC0424E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:15,825 [s1@group-A99D9BC0424E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:15,825 [s1@group-A99D9BC0424E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:15,826 [s1@group-A99D9BC0424E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:15,826 [s1@group-A99D9BC0424E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:15,827 [s1@group-A99D9BC0424E-LeaderElection21] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A99D9BC0424E-LeaderStateImpl
2022-11-16 04:24:15,819 [s2@group-A99D9BC0424E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:15,828 [s2@group-A99D9BC0424E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:15,828 [s1@group-A99D9BC0424E-LeaderElection21] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-A99D9BC0424E-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:15,833 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-A99D9BC0424E: change Leader from null to s1 at term 1 for appendEntries, leader elected after 275ms
2022-11-16 04:24:15,833 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-A99D9BC0424E: change Leader from null to s1 at term 1 for appendEntries, leader elected after 266ms
2022-11-16 04:24:15,840 [s1@group-A99D9BC0424E-LeaderElection21] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-A99D9BC0424E: set configuration 0: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:15,840 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-A99D9BC0424E: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1, s3:c-1, s4:c-1], cId:869, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:35963"
dataStreamAddress: "localhost:45121"
clientAddress: "localhost:45795"
adminAddress: "localhost:44341"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:45607"
dataStreamAddress: "localhost:38201"
clientAddress: "localhost:44435"
adminAddress: "localhost:32973"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:35253"
dataStreamAddress: "localhost:38665"
clientAddress: "localhost:39473"
adminAddress: "localhost:46621"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:15,841 [s1@group-A99D9BC0424E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-A99D9BC0424E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s1/9a87b455-e1a9-4161-bec6-a99d9bc0424e/current/log_inprogress_0
2022-11-16 04:24:15,842 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s4@group-A99D9BC0424E: change Leader from null to s1 at term 1 for appendEntries, leader elected after 290ms
2022-11-16 04:24:15,842 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-A99D9BC0424E: change Leader from null to s1 at term 1 for appendEntries, leader elected after 296ms
2022-11-16 04:24:15,845 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-A99D9BC0424E: set configuration 0: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:15,845 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-A99D9BC0424E-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:15,848 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-A99D9BC0424E: receive appendEntries(s1, 1, null, 0, true, commits:[s1:c0, s0:c-1, s2:c-1, s3:c-1, s4:c-1], cId:872, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:35963"
dataStreamAddress: "localhost:45121"
clientAddress: "localhost:45795"
adminAddress: "localhost:44341"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:45607"
dataStreamAddress: "localhost:38201"
clientAddress: "localhost:44435"
adminAddress: "localhost:32973"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:35253"
dataStreamAddress: "localhost:38665"
clientAddress: "localhost:39473"
adminAddress: "localhost:46621"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:15,850 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-A99D9BC0424E: set configuration 0: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:15,850 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-A99D9BC0424E: receive appendEntries(s1, 1, null, 0, false, commits:[s1:c0, s0:c-1, s2:c-1, s3:c-1, s4:c-1], cId:873, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:35963"
dataStreamAddress: "localhost:45121"
clientAddress: "localhost:45795"
adminAddress: "localhost:44341"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:45607"
dataStreamAddress: "localhost:38201"
clientAddress: "localhost:44435"
adminAddress: "localhost:32973"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:35253"
dataStreamAddress: "localhost:38665"
clientAddress: "localhost:39473"
adminAddress: "localhost:46621"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:15,850 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-A99D9BC0424E-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:15,851 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-A99D9BC0424E: receive appendEntries(s1, 1, null, 0, false, commits:[s1:c0, s0:c-1, s2:c-1, s3:c-1, s4:c-1], cId:874, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:35963"
dataStreamAddress: "localhost:45121"
clientAddress: "localhost:45795"
adminAddress: "localhost:44341"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:45607"
dataStreamAddress: "localhost:38201"
clientAddress: "localhost:44435"
adminAddress: "localhost:32973"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:35253"
dataStreamAddress: "localhost:38665"
clientAddress: "localhost:39473"
adminAddress: "localhost:46621"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:15,852 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s3@group-A99D9BC0424E: set configuration 0: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:15,852 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s3@group-A99D9BC0424E-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:15,853 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s4@group-A99D9BC0424E: set configuration 0: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:15,853 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s4@group-A99D9BC0424E-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:15,884 [s4@group-A99D9BC0424E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s4@group-A99D9BC0424E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s4/9a87b455-e1a9-4161-bec6-a99d9bc0424e/current/log_inprogress_0
2022-11-16 04:24:15,885 [s3@group-A99D9BC0424E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s3@group-A99D9BC0424E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s3/9a87b455-e1a9-4161-bec6-a99d9bc0424e/current/log_inprogress_0
2022-11-16 04:24:15,886 [s2@group-A99D9BC0424E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-A99D9BC0424E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s2/9a87b455-e1a9-4161-bec6-a99d9bc0424e/current/log_inprogress_0
2022-11-16 04:24:15,887 [s0@group-A99D9BC0424E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-A99D9BC0424E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc6463b93e/s0/9a87b455-e1a9-4161-bec6-a99d9bc0424e/current/log_inprogress_0
2022-11-16 04:24:15,886 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-A99D9BC0424E: succeeded to handle AppendEntries. Reply: s1<-s4#874:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-16 04:24:15,887 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-A99D9BC0424E: succeeded to handle AppendEntries. Reply: s1<-s3#873:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-16 04:24:15,888 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-A99D9BC0424E: succeeded to handle AppendEntries. Reply: s1<-s0#872:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-16 04:24:15,888 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-A99D9BC0424E: succeeded to handle AppendEntries. Reply: s1<-s2#869:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-16 04:24:16,089 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-A99D9BC0424E:t1, leader=s1, voted=null, raftlog=Memoized:s3@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-A99D9BC0424E:t1, leader=s1, voted=null, raftlog=Memoized:s4@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-A99D9BC0424E:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-A99D9BC0424E:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A99D9BC0424E:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null RUNNING
2022-11-16 04:24:16,089 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:16,115 [HandlerDaemon-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s3: Block request from s1
2022-11-16 04:24:16,689 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-16 04:24:16,689 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-16 04:24:16,690 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:16,690 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-16 04:24:16,690 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-16 04:24:16,690 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-A99D9BC0424E:t1, leader=s1, voted=null, raftlog=Memoized:s3@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-A99D9BC0424E:t1, leader=s1, voted=null, raftlog=Memoized:s4@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-A99D9BC0424E:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-A99D9BC0424E:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A99D9BC0424E:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-A99D9BC0424E-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35963|admin:localhost:44341|client:localhost:45795|dataStream:localhost:45121|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45607|admin:localhost:32973|client:localhost:44435|dataStream:localhost:38201|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35253|admin:localhost:46621|client:localhost:39473|dataStream:localhost:38665|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:32819|admin:localhost:34377|client:localhost:40717|dataStream:localhost:35297|priority:0|startupRole:LISTENER, s4|rpc:localhost:41375|admin:localhost:37905|client:localhost:38731|dataStream:localhost:45923|priority:0|startupRole:LISTENER], old=null RUNNING
2022-11-16 04:24:16,691 [MiniRaftCluster-17] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s3: close
2022-11-16 04:24:16,692 [MiniRaftCluster-18] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s4: close
2022-11-16 04:24:16,692 [MiniRaftCluster-19] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-16 04:24:16,694 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,694 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s3@group-A99D9BC0424E: shutdown
2022-11-16 04:24:16,694 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-A99D9BC0424E: shutdown
2022-11-16 04:24:16,694 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,694 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,694 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,694 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,695 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s4@group-A99D9BC0424E: shutdown
2022-11-16 04:24:16,695 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A99D9BC0424E,id=s4
2022-11-16 04:24:16,695 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-A99D9BC0424E-FollowerState
2022-11-16 04:24:16,695 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,695 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s4@group-A99D9BC0424E-StateMachineUpdater: set stopIndex = 0
2022-11-16 04:24:16,695 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,695 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,695 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,695 [HandlerDaemon-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s3: unBlock request from s1
2022-11-16 04:24:16,695 [s4@group-A99D9BC0424E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-A99D9BC0424E-FollowerState was interrupted
2022-11-16 04:24:16,696 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,696 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,694 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A99D9BC0424E,id=s3
2022-11-16 04:24:16,696 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-A99D9BC0424E-FollowerState
2022-11-16 04:24:16,696 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-A99D9BC0424E-StateMachineUpdater: set stopIndex = 0
2022-11-16 04:24:16,696 [s3@group-A99D9BC0424E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-A99D9BC0424E-FollowerState was interrupted
2022-11-16 04:24:16,696 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,695 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,695 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,697 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,697 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,697 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,697 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s3@group-A99D9BC0424E: applyIndex: 0
2022-11-16 04:24:16,694 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A99D9BC0424E,id=s0
2022-11-16 04:24:16,697 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A99D9BC0424E-FollowerState
2022-11-16 04:24:16,697 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-A99D9BC0424E-StateMachineUpdater: set stopIndex = 0
2022-11-16 04:24:16,697 [s0@group-A99D9BC0424E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-A99D9BC0424E-FollowerState was interrupted
2022-11-16 04:24:16,697 [s3@group-A99D9BC0424E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s3@group-A99D9BC0424E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:16,695 [s1@group-A99D9BC0424E->s3-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s1@group-A99D9BC0424E->s3-LogAppenderDefault: Failed to appendEntries (retry=1): {}
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s3@group-A99D9BC0424E is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$9(RaftServerImpl.java:737)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:253)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:736)
	at org.apache.ratis.server.impl.RaftServerImpl.preAppendEntriesAsync(RaftServerImpl.java:1441)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1385)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntries(RaftServerImpl.java:1371)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntries(RaftServerProxy.java:646)
	at org.apache.ratis.server.simulation.SimulatedServerRpc$1.handleRequest(SimulatedServerRpc.java:163)
	at org.apache.ratis.server.simulation.SimulatedServerRpc$1.handleRequest(SimulatedServerRpc.java:153)
	at org.apache.ratis.server.simulation.RequestHandler.handleRequest(RequestHandler.java:91)
	at org.apache.ratis.server.simulation.RequestHandler$HandlerDaemon.run(RequestHandler.java:125)
2022-11-16 04:24:16,701 [MiniRaftCluster-21] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-16 04:24:16,701 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s3@group-A99D9BC0424E-SegmentedRaftLogWorker close()
2022-11-16 04:24:16,699 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s4@group-A99D9BC0424E: applyIndex: 0
2022-11-16 04:24:16,701 [s4@group-A99D9BC0424E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s4@group-A99D9BC0424E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:16,702 [JvmPauseMonitor15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s3: Stopped
2022-11-16 04:24:16,702 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-A99D9BC0424E: applyIndex: 0
2022-11-16 04:24:16,702 [s0@group-A99D9BC0424E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-A99D9BC0424E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:16,702 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-A99D9BC0424E: shutdown
2022-11-16 04:24:16,702 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A99D9BC0424E,id=s2
2022-11-16 04:24:16,702 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-A99D9BC0424E-FollowerState
2022-11-16 04:24:16,702 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-A99D9BC0424E-StateMachineUpdater: set stopIndex = 0
2022-11-16 04:24:16,703 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,703 [s2@group-A99D9BC0424E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-A99D9BC0424E-FollowerState was interrupted
2022-11-16 04:24:16,703 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,703 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,703 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,703 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-A99D9BC0424E: applyIndex: 0
2022-11-16 04:24:16,707 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s4@group-A99D9BC0424E-SegmentedRaftLogWorker close()
2022-11-16 04:24:16,708 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-A99D9BC0424E-SegmentedRaftLogWorker close()
2022-11-16 04:24:16,709 [JvmPauseMonitor17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-16 04:24:16,709 [s2@group-A99D9BC0424E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-A99D9BC0424E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:16,709 [JvmPauseMonitor16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s4: Stopped
2022-11-16 04:24:16,710 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,711 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-A99D9BC0424E-SegmentedRaftLogWorker close()
2022-11-16 04:24:16,711 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,711 [MiniRaftCluster-20] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-16 04:24:16,711 [JvmPauseMonitor19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-16 04:24:16,713 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-A99D9BC0424E: shutdown
2022-11-16 04:24:16,713 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A99D9BC0424E,id=s1
2022-11-16 04:24:16,713 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-A99D9BC0424E-LeaderStateImpl
2022-11-16 04:24:16,714 [s1@group-A99D9BC0424E->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-A99D9BC0424E->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:16,714 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,714 [s1@group-A99D9BC0424E->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-A99D9BC0424E->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:16,714 [s1@group-A99D9BC0424E->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-A99D9BC0424E->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:16,714 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-A99D9BC0424E-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:16,714 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-A99D9BC0424E-StateMachineUpdater: set stopIndex = 0
2022-11-16 04:24:16,714 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,714 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,715 [s1@group-A99D9BC0424E->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-A99D9BC0424E->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-11-16 04:24:16,715 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-A99D9BC0424E: applyIndex: 0
2022-11-16 04:24:16,715 [s1@group-A99D9BC0424E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-A99D9BC0424E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:16,716 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,716 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-A99D9BC0424E-SegmentedRaftLogWorker close()
2022-11-16 04:24:16,717 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,717 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:16,717 [JvmPauseMonitor18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-16 04:24:16,717 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-16 04:24:16,718 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-16 04:24:16,718 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-16 04:24:16,718 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-16 04:24:16,718 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-16 04:24:16,719 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-16 04:24:16,719 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-59A2750A37ED:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]
2022-11-16 04:24:16,719 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-16 04:24:16,719 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-16 04:24:16,719 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:16,720 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-16 04:24:16,720 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-16 04:24:16,720 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-16 04:24:16,720 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-59A2750A37ED:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:16,720 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s0
2022-11-16 04:24:16,720 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s0 does not exist.
2022-11-16 04:24:16,720 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s0
2022-11-16 04:24:16,720 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:16,720 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:16,720 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:16,720 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:16,721 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:16,721 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:16,721 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s0] (custom)
2022-11-16 04:24:16,721 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-59A2750A37ED:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER] returns group-59A2750A37ED:java.util.concurrent.CompletableFuture@717dce06[Not completed]
2022-11-16 04:24:16,721 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-59A2750A37ED:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:16,721 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s1
2022-11-16 04:24:16,722 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s1 does not exist.
2022-11-16 04:24:16,722 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s1
2022-11-16 04:24:16,722 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:16,722 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:16,722 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:16,722 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:16,722 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:16,722 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:16,722 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s1] (custom)
2022-11-16 04:24:16,721 [pool-21-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-59A2750A37ED:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:16,723 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:16,723 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:16,723 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:16,723 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:16,723 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:16,723 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:16,723 [pool-21-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-59A2750A37ED: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:16,723 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:16,723 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:16,723 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:16,723 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:16,723 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:16,724 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:16,724 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:16,724 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:16,724 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:16,724 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:16,724 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-59A2750A37ED:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER] returns group-59A2750A37ED:java.util.concurrent.CompletableFuture@5017a63[Not completed]
2022-11-16 04:24:16,725 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-59A2750A37ED:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:16,725 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s2
2022-11-16 04:24:16,725 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s2 does not exist.
2022-11-16 04:24:16,725 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s2
2022-11-16 04:24:16,725 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:16,725 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:16,725 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:16,725 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:16,725 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:16,725 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:16,725 [pool-22-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-59A2750A37ED:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:16,726 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:16,726 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:16,726 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:16,726 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:16,726 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:16,726 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:16,726 [pool-22-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-59A2750A37ED: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:16,726 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:16,726 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:16,726 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:16,726 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:16,726 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:16,727 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s2] (custom)
2022-11-16 04:24:16,727 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:16,727 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:16,727 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:16,727 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:16,727 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:16,727 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-59A2750A37ED:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER] returns group-59A2750A37ED:java.util.concurrent.CompletableFuture@917cad2[Not completed]
2022-11-16 04:24:16,727 [pool-23-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-59A2750A37ED:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:16,728 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:16,728 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:16,728 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s0] (custom)
2022-11-16 04:24:16,728 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s0/86f51c9e-6d94-4a0b-aff4-59a2750a37ed does not exist. Creating ...
2022-11-16 04:24:16,728 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s0/86f51c9e-6d94-4a0b-aff4-59a2750a37ed
2022-11-16 04:24:16,728 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:16,729 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:16,729 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:16,729 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:16,729 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:16,729 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:16,729 [pool-23-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-59A2750A37ED: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:16,729 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:16,729 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:16,729 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:16,729 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:16,729 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s0/86f51c9e-6d94-4a0b-aff4-59a2750a37ed/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:16,729 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:16,730 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s0/86f51c9e-6d94-4a0b-aff4-59a2750a37ed/current
2022-11-16 04:24:16,730 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s0/86f51c9e-6d94-4a0b-aff4-59a2750a37ed/sm
2022-11-16 04:24:16,730 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:16,730 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:16,730 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:16,730 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:16,731 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:16,731 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s0/86f51c9e-6d94-4a0b-aff4-59a2750a37ed has been successfully formatted.
2022-11-16 04:24:16,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:16,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:16,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:16,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:16,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:16,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:16,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:16,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:16,732 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-59A2750A37ED-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s0/86f51c9e-6d94-4a0b-aff4-59a2750a37ed
2022-11-16 04:24:16,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:16,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:16,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:16,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:16,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:16,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:16,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:16,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:16,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:16,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:16,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:16,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:16,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:16,733 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-59A2750A37ED-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:16,733 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-59A2750A37ED-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:16,733 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-59A2750A37ED: start as a follower, conf=-1: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:16,733 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-59A2750A37ED: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:16,733 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-59A2750A37ED-FollowerState
2022-11-16 04:24:16,735 [s0@group-59A2750A37ED-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:16,735 [s0@group-59A2750A37ED-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:16,735 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-59A2750A37ED,id=s0
2022-11-16 04:24:16,735 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:16,735 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:16,735 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:16,736 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-16 04:24:16,736 [JvmPauseMonitor20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-16 04:24:16,736 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:16,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:16,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s1] (custom)
2022-11-16 04:24:16,737 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s1/86f51c9e-6d94-4a0b-aff4-59a2750a37ed does not exist. Creating ...
2022-11-16 04:24:16,737 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s1/86f51c9e-6d94-4a0b-aff4-59a2750a37ed
2022-11-16 04:24:16,738 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s1/86f51c9e-6d94-4a0b-aff4-59a2750a37ed/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:16,738 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s1/86f51c9e-6d94-4a0b-aff4-59a2750a37ed/current
2022-11-16 04:24:16,738 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s1/86f51c9e-6d94-4a0b-aff4-59a2750a37ed/sm
2022-11-16 04:24:16,739 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s1/86f51c9e-6d94-4a0b-aff4-59a2750a37ed has been successfully formatted.
2022-11-16 04:24:16,739 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:16,739 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:16,739 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:16,739 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:16,739 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:16,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:16,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:16,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:16,740 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-59A2750A37ED-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s1/86f51c9e-6d94-4a0b-aff4-59a2750a37ed
2022-11-16 04:24:16,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:16,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:16,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:16,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:16,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:16,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:16,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:16,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:16,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:16,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:16,741 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:16,741 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:16,741 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:16,741 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-59A2750A37ED-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:16,741 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-59A2750A37ED-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:16,741 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-59A2750A37ED: start as a follower, conf=-1: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:16,742 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-59A2750A37ED: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:16,742 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-59A2750A37ED-FollowerState
2022-11-16 04:24:16,743 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-59A2750A37ED,id=s1
2022-11-16 04:24:16,743 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:16,743 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:16,743 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:16,743 [s1@group-59A2750A37ED-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:16,743 [s1@group-59A2750A37ED-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:16,744 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-16 04:24:16,744 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:16,744 [JvmPauseMonitor21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-16 04:24:16,745 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:16,745 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s2] (custom)
2022-11-16 04:24:16,745 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s2/86f51c9e-6d94-4a0b-aff4-59a2750a37ed does not exist. Creating ...
2022-11-16 04:24:16,745 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s2/86f51c9e-6d94-4a0b-aff4-59a2750a37ed
2022-11-16 04:24:16,746 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s2/86f51c9e-6d94-4a0b-aff4-59a2750a37ed/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:16,746 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s2/86f51c9e-6d94-4a0b-aff4-59a2750a37ed/current
2022-11-16 04:24:16,746 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s2/86f51c9e-6d94-4a0b-aff4-59a2750a37ed/sm
2022-11-16 04:24:16,748 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s2/86f51c9e-6d94-4a0b-aff4-59a2750a37ed has been successfully formatted.
2022-11-16 04:24:16,748 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:16,748 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:16,748 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:16,748 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:16,748 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:16,748 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:16,748 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:16,748 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:16,749 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-59A2750A37ED-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s2/86f51c9e-6d94-4a0b-aff4-59a2750a37ed
2022-11-16 04:24:16,749 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:16,749 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:16,749 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:16,749 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:16,749 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:16,749 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:16,749 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:16,749 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:16,749 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:16,749 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:16,750 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:16,750 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:16,750 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:16,750 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-59A2750A37ED-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:16,750 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-59A2750A37ED-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:16,750 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-59A2750A37ED: start as a follower, conf=-1: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:16,750 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-59A2750A37ED: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:16,750 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-59A2750A37ED-FollowerState
2022-11-16 04:24:16,751 [s2@group-59A2750A37ED-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:16,752 [s2@group-59A2750A37ED-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:16,751 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-59A2750A37ED,id=s2
2022-11-16 04:24:16,752 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:16,752 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:16,752 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:16,752 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-16 04:24:16,753 [JvmPauseMonitor22] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-16 04:24:16,753 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:16,754 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-59A2750A37ED:t0, leader=null, voted=, raftlog=Memoized:s0@group-59A2750A37ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-59A2750A37ED:t0, leader=null, voted=, raftlog=Memoized:s1@group-59A2750A37ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-59A2750A37ED:t0, leader=null, voted=, raftlog=Memoized:s2@group-59A2750A37ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:16,754 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-59A2750A37ED:t0, leader=null, voted=, raftlog=Memoized:s0@group-59A2750A37ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-59A2750A37ED:t0, leader=null, voted=, raftlog=Memoized:s1@group-59A2750A37ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-59A2750A37ED:t0, leader=null, voted=, raftlog=Memoized:s2@group-59A2750A37ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-59A2750A37ED:t0, leader=null, voted=, raftlog=Memoized:s0@group-59A2750A37ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-59A2750A37ED:t0, leader=null, voted=, raftlog=Memoized:s1@group-59A2750A37ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-59A2750A37ED:t0, leader=null, voted=, raftlog=Memoized:s2@group-59A2750A37ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPreVote(LeaderElectionTests.java:508)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:16,887 [s0@group-59A2750A37ED-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-59A2750A37ED-FollowerState: change to CANDIDATE, lastRpcElapsedTime:153992065ns, electionTimeout:152ms
2022-11-16 04:24:16,888 [s0@group-59A2750A37ED-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-59A2750A37ED-FollowerState
2022-11-16 04:24:16,888 [s0@group-59A2750A37ED-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-59A2750A37ED: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-16 04:24:16,888 [s0@group-59A2750A37ED-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:16,888 [s0@group-59A2750A37ED-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-59A2750A37ED-LeaderElection22
2022-11-16 04:24:16,889 [s0@group-59A2750A37ED-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-59A2750A37ED-LeaderElection22 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:16,889 [s0@group-59A2750A37ED-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:16,889 [s0@group-59A2750A37ED-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:16,890 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-59A2750A37ED: receive requestVote(PRE_VOTE, s0, group-59A2750A37ED, 0, (t:0, i:0))
2022-11-16 04:24:16,890 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-59A2750A37ED-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:16,890 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-59A2750A37ED replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-59A2750A37ED:t0, leader=null, voted=, raftlog=Memoized:s1@group-59A2750A37ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:16,890 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-59A2750A37ED: receive requestVote(PRE_VOTE, s0, group-59A2750A37ED, 0, (t:0, i:0))
2022-11-16 04:24:16,890 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-59A2750A37ED-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:16,891 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-59A2750A37ED replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-59A2750A37ED:t0, leader=null, voted=, raftlog=Memoized:s2@group-59A2750A37ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:16,891 [s0@group-59A2750A37ED-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-59A2750A37ED-LeaderElection22: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:16,891 [s0@group-59A2750A37ED-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t0
2022-11-16 04:24:16,891 [s0@group-59A2750A37ED-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-59A2750A37ED-LeaderElection22 PRE_VOTE round 0: result PASSED
2022-11-16 04:24:16,893 [s0@group-59A2750A37ED-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-59A2750A37ED-LeaderElection22 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:16,893 [s0@group-59A2750A37ED-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:16,893 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-59A2750A37ED: receive requestVote(ELECTION, s0, group-59A2750A37ED, 1, (t:0, i:0))
2022-11-16 04:24:16,893 [s0@group-59A2750A37ED-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:16,893 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-59A2750A37ED-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:16,894 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-59A2750A37ED: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-11-16 04:24:16,894 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-59A2750A37ED: receive requestVote(ELECTION, s0, group-59A2750A37ED, 1, (t:0, i:0))
2022-11-16 04:24:16,894 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-59A2750A37ED-FollowerState
2022-11-16 04:24:16,894 [s1@group-59A2750A37ED-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-59A2750A37ED-FollowerState was interrupted
2022-11-16 04:24:16,894 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-59A2750A37ED-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:16,894 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-59A2750A37ED: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-11-16 04:24:16,894 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-59A2750A37ED-FollowerState
2022-11-16 04:24:16,894 [s2@group-59A2750A37ED-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-59A2750A37ED-FollowerState was interrupted
2022-11-16 04:24:16,894 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-59A2750A37ED-FollowerState
2022-11-16 04:24:16,894 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-59A2750A37ED-FollowerState
2022-11-16 04:24:16,895 [s1@group-59A2750A37ED-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:16,895 [s1@group-59A2750A37ED-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:16,895 [s2@group-59A2750A37ED-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:16,895 [s2@group-59A2750A37ED-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:16,896 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-59A2750A37ED replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-59A2750A37ED:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-59A2750A37ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:16,896 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-59A2750A37ED replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-59A2750A37ED:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-59A2750A37ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:16,896 [s0@group-59A2750A37ED-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-59A2750A37ED-LeaderElection22: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:16,896 [s0@group-59A2750A37ED-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2022-11-16 04:24:16,896 [s0@group-59A2750A37ED-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-59A2750A37ED-LeaderElection22 ELECTION round 0: result PASSED
2022-11-16 04:24:16,896 [s0@group-59A2750A37ED-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-59A2750A37ED-LeaderElection22
2022-11-16 04:24:16,896 [s0@group-59A2750A37ED-LeaderElection22] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-59A2750A37ED: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-16 04:24:16,897 [s0@group-59A2750A37ED-LeaderElection22] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-59A2750A37ED: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 173ms
2022-11-16 04:24:16,897 [s0@group-59A2750A37ED-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:16,897 [s0@group-59A2750A37ED-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:16,897 [s0@group-59A2750A37ED-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:16,897 [s0@group-59A2750A37ED-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:16,897 [s0@group-59A2750A37ED-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:16,897 [s0@group-59A2750A37ED-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:16,897 [s0@group-59A2750A37ED-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:16,897 [s0@group-59A2750A37ED-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:16,898 [s0@group-59A2750A37ED-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:16,898 [s0@group-59A2750A37ED-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:16,898 [s0@group-59A2750A37ED-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:16,898 [s0@group-59A2750A37ED-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:16,899 [s0@group-59A2750A37ED-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:16,899 [s0@group-59A2750A37ED-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:16,899 [s0@group-59A2750A37ED-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-59A2750A37ED-LeaderStateImpl
2022-11-16 04:24:16,899 [s0@group-59A2750A37ED-LeaderElection22] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-59A2750A37ED-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:16,904 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-59A2750A37ED: change Leader from null to s0 at term 1 for appendEntries, leader elected after 177ms
2022-11-16 04:24:16,910 [s0@group-59A2750A37ED-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-59A2750A37ED-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s0/86f51c9e-6d94-4a0b-aff4-59a2750a37ed/current/log_inprogress_0
2022-11-16 04:24:16,918 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-59A2750A37ED: change Leader from null to s0 at term 1 for appendEntries, leader elected after 188ms
2022-11-16 04:24:16,921 [s0@group-59A2750A37ED-LeaderElection22] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-59A2750A37ED: set configuration 0: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:16,924 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-59A2750A37ED: receive appendEntries(s0, 1, null, 0, true, commits:[s0:c0, s1:c-1, s2:c-1], cId:1001, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:45257"
dataStreamAddress: "localhost:37193"
clientAddress: "localhost:46425"
adminAddress: "localhost:35913"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:40835"
dataStreamAddress: "localhost:35571"
clientAddress: "localhost:36509"
adminAddress: "localhost:42197"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:39777"
dataStreamAddress: "localhost:41479"
clientAddress: "localhost:34103"
adminAddress: "localhost:35887"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:16,924 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-59A2750A37ED: set configuration 0: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:16,925 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-59A2750A37ED-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:16,929 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-59A2750A37ED: receive appendEntries(s0, 1, null, 0, true, commits:[s0:c0, s1:c-1, s2:c-1], cId:1002, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:45257"
dataStreamAddress: "localhost:37193"
clientAddress: "localhost:46425"
adminAddress: "localhost:35913"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:40835"
dataStreamAddress: "localhost:35571"
clientAddress: "localhost:36509"
adminAddress: "localhost:42197"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:39777"
dataStreamAddress: "localhost:41479"
clientAddress: "localhost:34103"
adminAddress: "localhost:35887"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:16,930 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-59A2750A37ED: set configuration 0: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:16,930 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-59A2750A37ED-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:16,941 [s2@group-59A2750A37ED-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-59A2750A37ED-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s2/86f51c9e-6d94-4a0b-aff4-59a2750a37ed/current/log_inprogress_0
2022-11-16 04:24:16,942 [s1@group-59A2750A37ED-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-59A2750A37ED-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcb6cc9585/s1/86f51c9e-6d94-4a0b-aff4-59a2750a37ed/current/log_inprogress_0
2022-11-16 04:24:16,942 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-59A2750A37ED: succeeded to handle AppendEntries. Reply: s0<-s2#1001:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-16 04:24:16,942 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-59A2750A37ED: succeeded to handle AppendEntries. Reply: s0<-s1#1002:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-16 04:24:17,205 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-59A2750A37ED:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-59A2750A37ED-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-59A2750A37ED:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-59A2750A37ED-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-59A2750A37ED:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-59A2750A37ED-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:17,205 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:17,206 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s0@group-59A2750A37ED: receive client request(RaftClientRequest:client-C521F0CC1BCB->s0@group-59A2750A37ED, cid=1031, seq=0, RW, message)
2022-11-16 04:24:17,207 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(410)) - s0@group-59A2750A37ED-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-C521F0CC1BCB->s0@group-59A2750A37ED, cid=1031, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 1031@client-C521F0CC1BCB
2022-11-16 04:24:17,207 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-59A2750A37ED: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:1032, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 1031@client-C521F0CC1BCB]
2022-11-16 04:24:17,209 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-59A2750A37ED: succeeded to handle AppendEntries. Reply: s0<-s1#1032:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-16 04:24:17,209 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-59A2750A37ED: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:1033, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 1031@client-C521F0CC1BCB]
2022-11-16 04:24:17,212 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-59A2750A37ED: succeeded to handle AppendEntries. Reply: s0<-s2#1033:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-16 04:24:17,212 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-59A2750A37ED: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:1034, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-16 04:24:17,213 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-59A2750A37ED: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:1035, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-16 04:24:17,213 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s0@group-59A2750A37ED: receive client request(RaftClientRequest:client-C521F0CC1BCB->s0@group-59A2750A37ED, cid=1036, seq=0, RW, message)
2022-11-16 04:24:17,214 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(410)) - s0@group-59A2750A37ED-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-C521F0CC1BCB->s0@group-59A2750A37ED, cid=1036, seq=0, RW, message, entry=(t:1, i:3), STATEMACHINELOGENTRY, 1036@client-C521F0CC1BCB
2022-11-16 04:24:17,214 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-59A2750A37ED: succeeded to handle AppendEntries. Reply: s0<-s1#1035:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-16 04:24:17,214 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-59A2750A37ED: succeeded to handle AppendEntries. Reply: s0<-s2#1034:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-16 04:24:17,215 [HandlerDaemon-0] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2022-11-16 04:24:17,215 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-59A2750A37ED: receive appendEntries(s0, 1, (t:1, i:2), 1, true, commits:[s0:c1, s1:c1, s2:c1], cId:1038, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 1036@client-C521F0CC1BCB]
2022-11-16 04:24:17,216 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-59A2750A37ED: succeeded to handle AppendEntries. Reply: s0<-s2#1038:OK-t1,SUCCESS,nextIndex=4,followerCommit=1,matchIndex=3
2022-11-16 04:24:17,217 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-59A2750A37ED: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits:[s0:c3, s1:c1, s2:c1], cId:1039, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2022-11-16 04:24:17,217 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-59A2750A37ED: succeeded to handle AppendEntries. Reply: s0<-s2#1039:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-11-16 04:24:17,218 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testPreVote(523)) - Wait follower s1 timeout and trigger pre-vote
2022-11-16 04:24:17,652 [s1@group-59A2750A37ED-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-59A2750A37ED-FollowerState: change to CANDIDATE, lastRpcElapsedTime:437875020ns, electionTimeout:245ms
2022-11-16 04:24:17,652 [s1@group-59A2750A37ED-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-59A2750A37ED-FollowerState
2022-11-16 04:24:17,652 [s1@group-59A2750A37ED-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-59A2750A37ED: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:17,652 [s1@group-59A2750A37ED-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:17,652 [s1@group-59A2750A37ED-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-59A2750A37ED-LeaderElection23
2022-11-16 04:24:17,653 [s1@group-59A2750A37ED-LeaderElection23] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-59A2750A37ED: change Leader from s0 to null at term 1 for PRE_VOTE
2022-11-16 04:24:17,653 [s1@group-59A2750A37ED-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-59A2750A37ED-LeaderElection23 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:17,896 [s1@group-59A2750A37ED-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-59A2750A37ED-LeaderElection23: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:17,896 [s1@group-59A2750A37ED-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-59A2750A37ED-LeaderElection23 PRE_VOTE round 0: result TIMEOUT
2022-11-16 04:24:17,897 [s1@group-59A2750A37ED-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-59A2750A37ED-LeaderElection23 PRE_VOTE round 1: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:18,120 [s1@group-59A2750A37ED-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-59A2750A37ED-LeaderElection23: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:18,120 [s1@group-59A2750A37ED-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-59A2750A37ED-LeaderElection23 PRE_VOTE round 1: result TIMEOUT
2022-11-16 04:24:18,120 [s1@group-59A2750A37ED-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-59A2750A37ED-LeaderElection23 PRE_VOTE round 2: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:18,346 [s1@group-59A2750A37ED-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-59A2750A37ED-LeaderElection23: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:18,346 [s1@group-59A2750A37ED-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-59A2750A37ED-LeaderElection23 PRE_VOTE round 2: result TIMEOUT
2022-11-16 04:24:18,346 [s1@group-59A2750A37ED-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-59A2750A37ED-LeaderElection23 PRE_VOTE round 3: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:18,609 [s1@group-59A2750A37ED-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-59A2750A37ED-LeaderElection23: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:18,609 [s1@group-59A2750A37ED-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-59A2750A37ED-LeaderElection23 PRE_VOTE round 3: result TIMEOUT
2022-11-16 04:24:18,609 [s1@group-59A2750A37ED-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-59A2750A37ED-LeaderElection23 PRE_VOTE round 4: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:18,891 [s1@group-59A2750A37ED-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-59A2750A37ED-LeaderElection23: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:18,891 [s1@group-59A2750A37ED-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-59A2750A37ED-LeaderElection23 PRE_VOTE round 4: result TIMEOUT
2022-11-16 04:24:18,891 [s1@group-59A2750A37ED-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-59A2750A37ED-LeaderElection23 PRE_VOTE round 5: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:19,083 [s1@group-59A2750A37ED-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-59A2750A37ED-LeaderElection23: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:19,083 [s1@group-59A2750A37ED-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-59A2750A37ED-LeaderElection23 PRE_VOTE round 5: result TIMEOUT
2022-11-16 04:24:19,083 [s1@group-59A2750A37ED-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-59A2750A37ED-LeaderElection23 PRE_VOTE round 6: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:19,302 [s1@group-59A2750A37ED-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-59A2750A37ED-LeaderElection23: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:19,302 [s1@group-59A2750A37ED-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-59A2750A37ED-LeaderElection23 PRE_VOTE round 6: result TIMEOUT
2022-11-16 04:24:19,302 [s1@group-59A2750A37ED-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-59A2750A37ED-LeaderElection23 PRE_VOTE round 7: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:19,303 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-59A2750A37ED: receive requestVote(PRE_VOTE, s1, group-59A2750A37ED, 1, (t:1, i:2))
2022-11-16 04:24:19,303 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-59A2750A37ED: receive requestVote(PRE_VOTE, s1, group-59A2750A37ED, 1, (t:1, i:2))
2022-11-16 04:24:19,303 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-59A2750A37ED-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-11-16 04:24:19,303 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-59A2750A37ED-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-11-16 04:24:19,303 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-59A2750A37ED replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-59A2750A37ED:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-59A2750A37ED-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:19,303 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-59A2750A37ED replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-59A2750A37ED:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-59A2750A37ED-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:19,303 [s1@group-59A2750A37ED-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-59A2750A37ED-LeaderElection23: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:19,303 [s1@group-59A2750A37ED-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:FAIL-t1
2022-11-16 04:24:19,303 [s1@group-59A2750A37ED-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:FAIL-t1
2022-11-16 04:24:19,303 [s1@group-59A2750A37ED-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-59A2750A37ED-LeaderElection23 PRE_VOTE round 7: result REJECTED
2022-11-16 04:24:19,303 [s1@group-59A2750A37ED-LeaderElection23] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-59A2750A37ED: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:19,303 [s1@group-59A2750A37ED-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-59A2750A37ED-LeaderElection23
2022-11-16 04:24:19,303 [s1@group-59A2750A37ED-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-59A2750A37ED-FollowerState
2022-11-16 04:24:19,316 [HandlerDaemon-0] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2022-11-16 04:24:19,316 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-59A2750A37ED: receive appendEntries(s0, 1, (t:1, i:2), 1, true, commits:[s0:c1, s1:c1, s2:c0], cId:1037, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 1036@client-C521F0CC1BCB]
2022-11-16 04:24:19,316 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-59A2750A37ED: change Leader from null to s0 at term 1 for appendEntries, leader elected after 1663ms
2022-11-16 04:24:19,317 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-59A2750A37ED: succeeded to handle AppendEntries. Reply: s0<-s1#1037:OK-t1,SUCCESS,nextIndex=4,followerCommit=1,matchIndex=3
2022-11-16 04:24:19,318 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-59A2750A37ED: receive appendEntries(s0, 1, (t:1, i:3), 4, true, commits:[s0:c4, s1:c1, s2:c4], cId:1206, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2022-11-16 04:24:19,319 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-59A2750A37ED: succeeded to handle AppendEntries. Reply: s0<-s1#1206:OK-t1,SUCCESS,nextIndex=5,followerCommit=4,matchIndex=4
2022-11-16 04:24:21,219 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:21,219 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-59A2750A37ED:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-59A2750A37ED-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-59A2750A37ED:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-59A2750A37ED-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-59A2750A37ED:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-59A2750A37ED-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:21,220 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-59A2750A37ED:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-59A2750A37ED-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-59A2750A37ED:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-59A2750A37ED-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-59A2750A37ED:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-59A2750A37ED-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:21,220 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s0@group-59A2750A37ED: receive client request(RaftClientRequest:client-C521F0CC1BCB->s0@group-59A2750A37ED, cid=1407, seq=0, RW, message)
2022-11-16 04:24:21,221 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(410)) - s0@group-59A2750A37ED-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-C521F0CC1BCB->s0@group-59A2750A37ED, cid=1407, seq=0, RW, message, entry=(t:1, i:5), STATEMACHINELOGENTRY, 1407@client-C521F0CC1BCB
2022-11-16 04:24:21,221 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-59A2750A37ED: receive appendEntries(s0, 1, (t:1, i:4), 4, true, commits:[s0:c4, s1:c4, s2:c4], cId:1408, entries: [(t:1, i:5), STATEMACHINELOGENTRY, 1407@client-C521F0CC1BCB]
2022-11-16 04:24:21,222 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-59A2750A37ED: receive appendEntries(s0, 1, (t:1, i:4), 4, true, commits:[s0:c4, s1:c4, s2:c4], cId:1409, entries: [(t:1, i:5), STATEMACHINELOGENTRY, 1407@client-C521F0CC1BCB]
2022-11-16 04:24:21,222 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-59A2750A37ED: succeeded to handle AppendEntries. Reply: s0<-s1#1408:OK-t1,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2022-11-16 04:24:21,222 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-59A2750A37ED: succeeded to handle AppendEntries. Reply: s0<-s2#1409:OK-t1,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2022-11-16 04:24:21,223 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-59A2750A37ED: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits:[s0:c5, s1:c4, s2:c4], cId:1410, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-16 04:24:21,224 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-59A2750A37ED: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits:[s0:c5, s1:c4, s2:c4], cId:1411, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-16 04:24:21,224 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-59A2750A37ED: succeeded to handle AppendEntries. Reply: s0<-s2#1410:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-16 04:24:21,225 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-59A2750A37ED: succeeded to handle AppendEntries. Reply: s0<-s1#1411:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-16 04:24:21,225 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-16 04:24:21,225 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-16 04:24:21,225 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:21,225 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-16 04:24:21,225 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-16 04:24:21,226 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-59A2750A37ED:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-59A2750A37ED-SegmentedRaftLog:OPENED:c6, conf=0: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-59A2750A37ED:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-59A2750A37ED-SegmentedRaftLog:OPENED:c5, conf=0: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-59A2750A37ED:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-59A2750A37ED-SegmentedRaftLog:OPENED:c5, conf=0: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:21,226 [MiniRaftCluster-22] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-16 04:24:21,230 [MiniRaftCluster-23] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-16 04:24:21,230 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-59A2750A37ED: shutdown
2022-11-16 04:24:21,231 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-59A2750A37ED,id=s0
2022-11-16 04:24:21,231 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-59A2750A37ED-LeaderStateImpl
2022-11-16 04:24:21,231 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,231 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,231 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,231 [s0@group-59A2750A37ED->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-59A2750A37ED->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:21,231 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,231 [MiniRaftCluster-24] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-16 04:24:21,231 [s0@group-59A2750A37ED->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-59A2750A37ED->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:21,231 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-59A2750A37ED-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:21,231 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-59A2750A37ED: shutdown
2022-11-16 04:24:21,233 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-59A2750A37ED,id=s1
2022-11-16 04:24:21,233 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-59A2750A37ED-FollowerState
2022-11-16 04:24:21,234 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-59A2750A37ED-StateMachineUpdater: set stopIndex = 5
2022-11-16 04:24:21,233 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,234 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,235 [s1@group-59A2750A37ED-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-59A2750A37ED-FollowerState was interrupted
2022-11-16 04:24:21,235 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,235 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,233 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,236 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,233 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,236 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-59A2750A37ED: applyIndex: 5
2022-11-16 04:24:21,236 [s1@group-59A2750A37ED-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-59A2750A37ED-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:21,236 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,236 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,236 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-59A2750A37ED: shutdown
2022-11-16 04:24:21,236 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,237 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,236 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-59A2750A37ED,id=s2
2022-11-16 04:24:21,237 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-59A2750A37ED-FollowerState
2022-11-16 04:24:21,237 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,237 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,237 [s2@group-59A2750A37ED-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-59A2750A37ED-FollowerState was interrupted
2022-11-16 04:24:21,237 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,237 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-59A2750A37ED-StateMachineUpdater: set stopIndex = 5
2022-11-16 04:24:21,237 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-59A2750A37ED: applyIndex: 5
2022-11-16 04:24:21,237 [s2@group-59A2750A37ED-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-59A2750A37ED-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:21,238 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-59A2750A37ED-StateMachineUpdater: set stopIndex = 6
2022-11-16 04:24:21,239 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-59A2750A37ED: applyIndex: 6
2022-11-16 04:24:21,239 [s0@group-59A2750A37ED-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-59A2750A37ED-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:21,240 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-59A2750A37ED-SegmentedRaftLogWorker close()
2022-11-16 04:24:21,242 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-59A2750A37ED-SegmentedRaftLogWorker close()
2022-11-16 04:24:21,242 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-59A2750A37ED-SegmentedRaftLogWorker close()
2022-11-16 04:24:21,245 [JvmPauseMonitor21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-16 04:24:21,247 [JvmPauseMonitor20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-16 04:24:21,247 [JvmPauseMonitor22] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-16 04:24:21,247 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-16 04:24:21,247 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-16 04:24:21,247 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-16 04:24:21,247 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:21,247 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-16 04:24:21,248 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-16 04:24:21,248 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED    LEADER s0@group-59A2750A37ED:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-59A2750A37ED-SegmentedRaftLog:CLOSED:c6, conf=0: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-59A2750A37ED:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-59A2750A37ED-SegmentedRaftLog:CLOSED:c5, conf=0: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-59A2750A37ED:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-59A2750A37ED-SegmentedRaftLog:CLOSED:c5, conf=0: peers:[s0|rpc:localhost:45257|admin:localhost:35913|client:localhost:46425|dataStream:localhost:37193|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40835|admin:localhost:42197|client:localhost:36509|dataStream:localhost:35571|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39777|admin:localhost:35887|client:localhost:34103|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2022-11-16 04:24:21,248 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-16 04:24:21,249 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-16 04:24:21,249 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-16 04:24:21,249 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-16 04:24:21,249 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-16 04:24:21,250 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-11-16 04:24:21,250 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-16 04:24:21,251 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-AD14B52D0325:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER, s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]
2022-11-16 04:24:21,251 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-16 04:24:21,251 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-16 04:24:21,251 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:21,251 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-16 04:24:21,251 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-16 04:24:21,251 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-16 04:24:21,251 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-AD14B52D0325:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER, s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:21,252 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s3
2022-11-16 04:24:21,252 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s3 does not exist.
2022-11-16 04:24:21,252 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s3
2022-11-16 04:24:21,252 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:21,252 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:21,252 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:21,252 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:21,252 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:21,252 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:21,253 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s3] (custom)
2022-11-16 04:24:21,253 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-AD14B52D0325:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER, s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER] returns group-AD14B52D0325:java.util.concurrent.CompletableFuture@1a823f0f[Not completed]
2022-11-16 04:24:21,253 [pool-24-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-AD14B52D0325:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER, s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:21,253 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s4, group-AD14B52D0325:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER, s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:21,253 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s4
2022-11-16 04:24:21,253 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:21,254 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s4 does not exist.
2022-11-16 04:24:21,254 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:21,254 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:21,254 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:21,254 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:21,254 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:21,254 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s4
2022-11-16 04:24:21,254 [pool-24-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-AD14B52D0325: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:21,254 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:21,254 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:21,254 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:21,254 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:21,254 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:21,255 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:21,255 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:21,255 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:21,255 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:21,255 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:21,255 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:21,255 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s4] (custom)
2022-11-16 04:24:21,256 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:21,257 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:21,258 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:21,258 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s4: addNew group-AD14B52D0325:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER, s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER] returns group-AD14B52D0325:java.util.concurrent.CompletableFuture@71dce333[Not completed]
2022-11-16 04:24:21,258 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-AD14B52D0325:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER, s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:21,258 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s0
2022-11-16 04:24:21,258 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s0 does not exist.
2022-11-16 04:24:21,258 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s0
2022-11-16 04:24:21,258 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:21,259 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:21,259 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:21,259 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:21,259 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:21,259 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:21,259 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s0] (custom)
2022-11-16 04:24:21,259 [pool-25-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s4: new RaftServerImpl for group-AD14B52D0325:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER, s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:21,259 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:21,259 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:21,259 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:21,259 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:21,259 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:21,259 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:21,259 [pool-25-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-AD14B52D0325: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:21,259 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:21,260 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:21,260 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:21,260 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:21,260 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:21,260 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:21,261 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:21,261 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:21,261 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:21,261 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:21,261 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:21,261 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:21,261 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-AD14B52D0325:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER, s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER] returns group-AD14B52D0325:java.util.concurrent.CompletableFuture@7c0b8d4e[Not completed]
2022-11-16 04:24:21,261 [pool-26-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-AD14B52D0325:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER, s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:21,261 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:21,261 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-AD14B52D0325:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER, s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:21,262 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s1
2022-11-16 04:24:21,262 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:21,262 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:21,262 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s1 does not exist.
2022-11-16 04:24:21,262 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s1
2022-11-16 04:24:21,262 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:21,262 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:21,262 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:21,262 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:21,262 [pool-26-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-AD14B52D0325: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:21,262 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:21,262 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:21,262 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:21,262 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:21,262 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:21,262 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:21,262 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:21,262 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:21,262 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:21,263 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:21,263 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s1] (custom)
2022-11-16 04:24:21,265 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:21,265 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:21,265 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:21,265 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:21,265 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:21,265 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-AD14B52D0325:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER, s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER] returns group-AD14B52D0325:java.util.concurrent.CompletableFuture@37dfb610[Not completed]
2022-11-16 04:24:21,265 [pool-27-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-AD14B52D0325:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER, s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:21,265 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:21,265 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:21,266 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:21,266 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:21,266 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:21,266 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:21,265 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-AD14B52D0325:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER, s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:21,266 [pool-27-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-AD14B52D0325: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:21,266 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:21,266 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:21,266 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:21,266 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s2
2022-11-16 04:24:21,266 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s2 does not exist.
2022-11-16 04:24:21,266 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s2
2022-11-16 04:24:21,266 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:21,266 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:21,267 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:21,267 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:21,267 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:21,267 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:21,267 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s2] (custom)
2022-11-16 04:24:21,267 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-AD14B52D0325:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER, s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER] returns group-AD14B52D0325:java.util.concurrent.CompletableFuture@58fc3e5b[Not completed]
2022-11-16 04:24:21,267 [pool-28-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-AD14B52D0325:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER, s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:21,267 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:21,267 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:21,267 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:21,268 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:21,268 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:21,268 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:21,268 [pool-28-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-AD14B52D0325: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:21,268 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:21,268 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:21,268 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:21,268 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:21,268 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:21,268 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:21,268 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:21,268 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:21,268 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:21,269 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:21,273 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:21,273 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:21,273 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s3] (custom)
2022-11-16 04:24:21,274 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s3/7298e20e-a203-4e62-84b9-ad14b52d0325 does not exist. Creating ...
2022-11-16 04:24:21,274 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s3/7298e20e-a203-4e62-84b9-ad14b52d0325
2022-11-16 04:24:21,275 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s3/7298e20e-a203-4e62-84b9-ad14b52d0325/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:21,275 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s3/7298e20e-a203-4e62-84b9-ad14b52d0325/current
2022-11-16 04:24:21,275 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s3/7298e20e-a203-4e62-84b9-ad14b52d0325/sm
2022-11-16 04:24:21,276 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:21,276 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s3/7298e20e-a203-4e62-84b9-ad14b52d0325 has been successfully formatted.
2022-11-16 04:24:21,277 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:21,277 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:21,277 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:21,277 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:21,277 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:21,277 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:21,277 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:21,277 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:21,278 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:21,278 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:21,278 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s3@group-AD14B52D0325-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s3/7298e20e-a203-4e62-84b9-ad14b52d0325
2022-11-16 04:24:21,278 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:21,278 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:21,278 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:21,278 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:21,278 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:21,278 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:21,278 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:21,278 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:21,278 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:21,278 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:21,277 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:21,291 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:21,291 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:21,291 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:21,287 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:21,292 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:21,292 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:21,292 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-AD14B52D0325-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:21,292 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-AD14B52D0325-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:21,302 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(341)) - s3@group-AD14B52D0325: start as a listener, conf=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:21,302 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-AD14B52D0325: changes role from      null to LISTENER at term 0 for startAsListener
2022-11-16 04:24:21,303 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-AD14B52D0325-FollowerState
2022-11-16 04:24:21,307 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AD14B52D0325,id=s3
2022-11-16 04:24:21,308 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:21,308 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:21,308 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:21,308 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s3: start RPC server
2022-11-16 04:24:21,308 [s3@group-AD14B52D0325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:21,308 [s3@group-AD14B52D0325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:21,309 [JvmPauseMonitor23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s3: Started
2022-11-16 04:24:21,309 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:21,309 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:21,309 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s4] (custom)
2022-11-16 04:24:21,309 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s4/7298e20e-a203-4e62-84b9-ad14b52d0325 does not exist. Creating ...
2022-11-16 04:24:21,310 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s4/7298e20e-a203-4e62-84b9-ad14b52d0325
2022-11-16 04:24:21,313 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s4/7298e20e-a203-4e62-84b9-ad14b52d0325/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:21,313 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s4/7298e20e-a203-4e62-84b9-ad14b52d0325/current
2022-11-16 04:24:21,313 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s4/7298e20e-a203-4e62-84b9-ad14b52d0325/sm
2022-11-16 04:24:21,314 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s4/7298e20e-a203-4e62-84b9-ad14b52d0325 has been successfully formatted.
2022-11-16 04:24:21,314 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:21,314 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:21,314 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:21,315 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:21,315 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:21,315 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:21,315 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:21,316 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:21,316 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s4@group-AD14B52D0325-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s4/7298e20e-a203-4e62-84b9-ad14b52d0325
2022-11-16 04:24:21,316 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:21,316 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:21,316 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:21,316 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:21,316 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:21,316 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:21,317 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:21,317 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:21,317 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:21,317 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:21,317 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:21,318 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:21,318 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:21,318 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-AD14B52D0325-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:21,318 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-AD14B52D0325-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:21,318 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(341)) - s4@group-AD14B52D0325: start as a listener, conf=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:21,318 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-AD14B52D0325: changes role from      null to LISTENER at term 0 for startAsListener
2022-11-16 04:24:21,318 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD14B52D0325-FollowerState
2022-11-16 04:24:21,319 [s4@group-AD14B52D0325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:21,319 [s4@group-AD14B52D0325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:21,319 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AD14B52D0325,id=s4
2022-11-16 04:24:21,319 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:21,319 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:21,319 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:21,319 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s4: start RPC server
2022-11-16 04:24:21,320 [JvmPauseMonitor24] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s4: Started
2022-11-16 04:24:21,320 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:21,320 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:21,320 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s0] (custom)
2022-11-16 04:24:21,320 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s0/7298e20e-a203-4e62-84b9-ad14b52d0325 does not exist. Creating ...
2022-11-16 04:24:21,320 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s0/7298e20e-a203-4e62-84b9-ad14b52d0325
2022-11-16 04:24:21,321 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s0/7298e20e-a203-4e62-84b9-ad14b52d0325/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:21,321 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s0/7298e20e-a203-4e62-84b9-ad14b52d0325/current
2022-11-16 04:24:21,322 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s0/7298e20e-a203-4e62-84b9-ad14b52d0325/sm
2022-11-16 04:24:21,322 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s0/7298e20e-a203-4e62-84b9-ad14b52d0325 has been successfully formatted.
2022-11-16 04:24:21,323 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:21,323 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:21,323 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:21,323 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:21,323 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:21,323 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:21,323 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:21,323 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:21,323 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-AD14B52D0325-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s0/7298e20e-a203-4e62-84b9-ad14b52d0325
2022-11-16 04:24:21,323 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:21,323 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:21,323 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:21,323 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:21,323 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:21,324 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:21,324 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:21,324 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:21,324 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:21,324 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:21,324 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:21,324 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:21,325 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:21,325 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-AD14B52D0325-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:21,325 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-AD14B52D0325-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:21,325 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-AD14B52D0325: start as a follower, conf=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:21,325 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-AD14B52D0325: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:21,325 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AD14B52D0325-FollowerState
2022-11-16 04:24:21,325 [s0@group-AD14B52D0325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:21,325 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AD14B52D0325,id=s0
2022-11-16 04:24:21,325 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:21,325 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:21,325 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:21,325 [s0@group-AD14B52D0325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:21,326 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-16 04:24:21,326 [JvmPauseMonitor25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-16 04:24:21,326 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:21,326 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:21,327 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s1] (custom)
2022-11-16 04:24:21,327 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s1/7298e20e-a203-4e62-84b9-ad14b52d0325 does not exist. Creating ...
2022-11-16 04:24:21,327 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s1/7298e20e-a203-4e62-84b9-ad14b52d0325
2022-11-16 04:24:21,328 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s1/7298e20e-a203-4e62-84b9-ad14b52d0325/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:21,328 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s1/7298e20e-a203-4e62-84b9-ad14b52d0325/current
2022-11-16 04:24:21,328 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s1/7298e20e-a203-4e62-84b9-ad14b52d0325/sm
2022-11-16 04:24:21,329 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s1/7298e20e-a203-4e62-84b9-ad14b52d0325 has been successfully formatted.
2022-11-16 04:24:21,329 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:21,329 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:21,329 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:21,329 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:21,329 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:21,329 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:21,329 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:21,329 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:21,329 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-AD14B52D0325-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s1/7298e20e-a203-4e62-84b9-ad14b52d0325
2022-11-16 04:24:21,330 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:21,330 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:21,330 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:21,330 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:21,330 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:21,330 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:21,330 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:21,330 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:21,330 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:21,330 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:21,330 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:21,330 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:21,330 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:21,333 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-AD14B52D0325-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:21,334 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-AD14B52D0325-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:21,336 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-AD14B52D0325: start as a follower, conf=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:21,336 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-AD14B52D0325: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:21,336 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AD14B52D0325-FollowerState
2022-11-16 04:24:21,336 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AD14B52D0325,id=s1
2022-11-16 04:24:21,336 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:21,336 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:21,336 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:21,337 [s1@group-AD14B52D0325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:21,337 [s1@group-AD14B52D0325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:21,337 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-16 04:24:21,338 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:21,338 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:21,338 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s2] (custom)
2022-11-16 04:24:21,338 [JvmPauseMonitor26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-16 04:24:21,338 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s2/7298e20e-a203-4e62-84b9-ad14b52d0325 does not exist. Creating ...
2022-11-16 04:24:21,339 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s2/7298e20e-a203-4e62-84b9-ad14b52d0325
2022-11-16 04:24:21,339 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s2/7298e20e-a203-4e62-84b9-ad14b52d0325/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:21,340 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s2/7298e20e-a203-4e62-84b9-ad14b52d0325/current
2022-11-16 04:24:21,340 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s2/7298e20e-a203-4e62-84b9-ad14b52d0325/sm
2022-11-16 04:24:21,341 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s2/7298e20e-a203-4e62-84b9-ad14b52d0325 has been successfully formatted.
2022-11-16 04:24:21,341 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:21,341 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:21,341 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:21,341 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:21,341 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:21,341 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:21,341 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:21,341 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:21,341 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-AD14B52D0325-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s2/7298e20e-a203-4e62-84b9-ad14b52d0325
2022-11-16 04:24:21,341 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:21,341 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:21,342 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:21,342 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:21,342 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:21,342 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:21,342 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:21,342 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:21,342 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:21,342 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:21,343 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:21,343 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:21,343 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:21,343 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-AD14B52D0325-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:21,343 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-AD14B52D0325-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:21,343 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-AD14B52D0325: start as a follower, conf=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:21,343 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-AD14B52D0325: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:21,343 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-AD14B52D0325-FollowerState
2022-11-16 04:24:21,344 [s2@group-AD14B52D0325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:21,344 [s2@group-AD14B52D0325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:21,344 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AD14B52D0325,id=s2
2022-11-16 04:24:21,344 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:21,345 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:21,345 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:21,345 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-16 04:24:21,346 [JvmPauseMonitor27] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-16 04:24:21,346 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:21,346 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-AD14B52D0325:t0, leader=null, voted=, raftlog=Memoized:s3@group-AD14B52D0325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-AD14B52D0325:t0, leader=null, voted=, raftlog=Memoized:s4@group-AD14B52D0325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-AD14B52D0325:t0, leader=null, voted=, raftlog=Memoized:s0@group-AD14B52D0325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-AD14B52D0325:t0, leader=null, voted=, raftlog=Memoized:s1@group-AD14B52D0325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AD14B52D0325:t0, leader=null, voted=, raftlog=Memoized:s2@group-AD14B52D0325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null RUNNING
2022-11-16 04:24:21,346 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-AD14B52D0325:t0, leader=null, voted=, raftlog=Memoized:s3@group-AD14B52D0325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-AD14B52D0325:t0, leader=null, voted=, raftlog=Memoized:s4@group-AD14B52D0325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-AD14B52D0325:t0, leader=null, voted=, raftlog=Memoized:s0@group-AD14B52D0325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-AD14B52D0325:t0, leader=null, voted=, raftlog=Memoized:s1@group-AD14B52D0325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AD14B52D0325:t0, leader=null, voted=, raftlog=Memoized:s2@group-AD14B52D0325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-AD14B52D0325:t0, leader=null, voted=, raftlog=Memoized:s3@group-AD14B52D0325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-AD14B52D0325:t0, leader=null, voted=, raftlog=Memoized:s4@group-AD14B52D0325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-AD14B52D0325:t0, leader=null, voted=, raftlog=Memoized:s0@group-AD14B52D0325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-AD14B52D0325:t0, leader=null, voted=, raftlog=Memoized:s1@group-AD14B52D0325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AD14B52D0325:t0, leader=null, voted=, raftlog=Memoized:s2@group-AD14B52D0325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestListenerRejectRequestVote(LeaderElectionTests.java:549)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:129)
	at org.apache.ratis.server.impl.LeaderElectionTests.testListenerRejectRequestVote(LeaderElectionTests.java:546)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:21,467 [s3@group-AD14B52D0325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:21,467 [s3@group-AD14B52D0325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:21,508 [s0@group-AD14B52D0325-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-AD14B52D0325-FollowerState: change to CANDIDATE, lastRpcElapsedTime:182846097ns, electionTimeout:182ms
2022-11-16 04:24:21,508 [s0@group-AD14B52D0325-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-AD14B52D0325-FollowerState
2022-11-16 04:24:21,508 [s0@group-AD14B52D0325-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-AD14B52D0325: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-16 04:24:21,508 [s0@group-AD14B52D0325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:21,509 [s0@group-AD14B52D0325-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AD14B52D0325-LeaderElection24
2022-11-16 04:24:21,509 [s0@group-AD14B52D0325-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-AD14B52D0325-LeaderElection24 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:21,510 [s0@group-AD14B52D0325-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:21,510 [s0@group-AD14B52D0325-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:21,510 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-AD14B52D0325: receive requestVote(PRE_VOTE, s0, group-AD14B52D0325, 0, (t:0, i:0))
2022-11-16 04:24:21,510 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-AD14B52D0325-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:21,510 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-AD14B52D0325 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-AD14B52D0325:t0, leader=null, voted=, raftlog=Memoized:s1@group-AD14B52D0325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:21,510 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-AD14B52D0325: receive requestVote(PRE_VOTE, s0, group-AD14B52D0325, 0, (t:0, i:0))
2022-11-16 04:24:21,510 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-AD14B52D0325-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:21,510 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-AD14B52D0325 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-AD14B52D0325:t0, leader=null, voted=, raftlog=Memoized:s2@group-AD14B52D0325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:21,511 [s0@group-AD14B52D0325-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-AD14B52D0325-LeaderElection24: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:21,511 [s0@group-AD14B52D0325-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t0
2022-11-16 04:24:21,511 [s0@group-AD14B52D0325-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-AD14B52D0325-LeaderElection24 PRE_VOTE round 0: result PASSED
2022-11-16 04:24:21,512 [s0@group-AD14B52D0325-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-AD14B52D0325-LeaderElection24 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:21,512 [s0@group-AD14B52D0325-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:21,513 [s0@group-AD14B52D0325-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:21,513 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-AD14B52D0325: receive requestVote(ELECTION, s0, group-AD14B52D0325, 1, (t:0, i:0))
2022-11-16 04:24:21,514 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-AD14B52D0325: receive requestVote(ELECTION, s0, group-AD14B52D0325, 1, (t:0, i:0))
2022-11-16 04:24:21,514 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-AD14B52D0325-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:21,514 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-AD14B52D0325: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-11-16 04:24:21,514 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-AD14B52D0325-FollowerState
2022-11-16 04:24:21,514 [s2@group-AD14B52D0325-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-AD14B52D0325-FollowerState was interrupted
2022-11-16 04:24:21,514 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-AD14B52D0325-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:21,517 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-AD14B52D0325: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-11-16 04:24:21,518 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-AD14B52D0325-FollowerState
2022-11-16 04:24:21,515 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-AD14B52D0325-FollowerState
2022-11-16 04:24:21,518 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AD14B52D0325-FollowerState
2022-11-16 04:24:21,518 [s1@group-AD14B52D0325-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-AD14B52D0325-FollowerState was interrupted
2022-11-16 04:24:21,520 [s1@group-AD14B52D0325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:21,520 [s1@group-AD14B52D0325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:21,521 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-AD14B52D0325 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-AD14B52D0325:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-AD14B52D0325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:21,521 [s0@group-AD14B52D0325-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-AD14B52D0325-LeaderElection24: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:21,521 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-AD14B52D0325 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-AD14B52D0325:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-AD14B52D0325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:21,521 [s0@group-AD14B52D0325-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t1
2022-11-16 04:24:21,521 [s0@group-AD14B52D0325-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-AD14B52D0325-LeaderElection24 ELECTION round 0: result PASSED
2022-11-16 04:24:21,521 [s0@group-AD14B52D0325-LeaderElection24] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-AD14B52D0325-LeaderElection24
2022-11-16 04:24:21,521 [s0@group-AD14B52D0325-LeaderElection24] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-AD14B52D0325: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-16 04:24:21,521 [s0@group-AD14B52D0325-LeaderElection24] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-AD14B52D0325: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 259ms
2022-11-16 04:24:21,521 [s0@group-AD14B52D0325-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:21,521 [s0@group-AD14B52D0325-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:21,521 [s0@group-AD14B52D0325-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:21,522 [s2@group-AD14B52D0325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:21,522 [s2@group-AD14B52D0325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:21,522 [s0@group-AD14B52D0325-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:21,522 [s0@group-AD14B52D0325-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:21,522 [s0@group-AD14B52D0325-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:21,522 [s0@group-AD14B52D0325-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:21,522 [s0@group-AD14B52D0325-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:21,522 [s0@group-AD14B52D0325-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:21,522 [s0@group-AD14B52D0325-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:21,522 [s0@group-AD14B52D0325-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:21,523 [s0@group-AD14B52D0325-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:21,523 [s0@group-AD14B52D0325-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:21,523 [s0@group-AD14B52D0325-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:21,523 [s0@group-AD14B52D0325-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:21,523 [s0@group-AD14B52D0325-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:21,523 [s0@group-AD14B52D0325-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:21,523 [s0@group-AD14B52D0325-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:21,523 [s0@group-AD14B52D0325-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:21,523 [s0@group-AD14B52D0325-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:21,523 [s0@group-AD14B52D0325-LeaderElection24] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AD14B52D0325-LeaderStateImpl
2022-11-16 04:24:21,523 [s0@group-AD14B52D0325-LeaderElection24] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-AD14B52D0325-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:21,525 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-AD14B52D0325: change Leader from null to s0 at term 1 for appendEntries, leader elected after 259ms
2022-11-16 04:24:21,526 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-AD14B52D0325: change Leader from null to s0 at term 1 for appendEntries, leader elected after 257ms
2022-11-16 04:24:21,530 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-AD14B52D0325: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1, s4:c-1], cId:1432, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:42065"
dataStreamAddress: "localhost:46009"
clientAddress: "localhost:43599"
adminAddress: "localhost:40109"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43085"
dataStreamAddress: "localhost:45423"
clientAddress: "localhost:33533"
adminAddress: "localhost:43431"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:45747"
dataStreamAddress: "localhost:40931"
clientAddress: "localhost:45739"
adminAddress: "localhost:34297"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:21,537 [s0@group-AD14B52D0325-LeaderElection24] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-AD14B52D0325: set configuration 0: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:21,538 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-AD14B52D0325: set configuration 0: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:21,538 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-AD14B52D0325-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:21,543 [s0@group-AD14B52D0325-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-AD14B52D0325-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s0/7298e20e-a203-4e62-84b9-ad14b52d0325/current/log_inprogress_0
2022-11-16 04:24:21,543 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-AD14B52D0325: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1, s4:c-1], cId:1435, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:42065"
dataStreamAddress: "localhost:46009"
clientAddress: "localhost:43599"
adminAddress: "localhost:40109"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43085"
dataStreamAddress: "localhost:45423"
clientAddress: "localhost:33533"
adminAddress: "localhost:43431"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:45747"
dataStreamAddress: "localhost:40931"
clientAddress: "localhost:45739"
adminAddress: "localhost:34297"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:21,544 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-AD14B52D0325: set configuration 0: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:21,544 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-AD14B52D0325-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:21,548 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-AD14B52D0325: change Leader from null to s0 at term 1 for appendEntries, leader elected after 293ms
2022-11-16 04:24:21,548 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s4@group-AD14B52D0325: change Leader from null to s0 at term 1 for appendEntries, leader elected after 288ms
2022-11-16 04:24:21,549 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-AD14B52D0325: receive appendEntries(s0, 1, null, 0, false, commits:[s0:c0, s1:c-1, s2:c-1, s3:c-1, s4:c-1], cId:1438, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:42065"
dataStreamAddress: "localhost:46009"
clientAddress: "localhost:43599"
adminAddress: "localhost:40109"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43085"
dataStreamAddress: "localhost:45423"
clientAddress: "localhost:33533"
adminAddress: "localhost:43431"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:45747"
dataStreamAddress: "localhost:40931"
clientAddress: "localhost:45739"
adminAddress: "localhost:34297"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:21,550 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s3@group-AD14B52D0325: set configuration 0: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:21,550 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s3@group-AD14B52D0325-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:21,551 [s1@group-AD14B52D0325-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-AD14B52D0325-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s1/7298e20e-a203-4e62-84b9-ad14b52d0325/current/log_inprogress_0
2022-11-16 04:24:21,553 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-AD14B52D0325: succeeded to handle AppendEntries. Reply: s0<-s1#1432:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-16 04:24:21,555 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-AD14B52D0325: receive appendEntries(s0, 1, null, 0, false, commits:[s0:c0, s1:c-1, s2:c-1, s3:c-1, s4:c-1], cId:1439, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:42065"
dataStreamAddress: "localhost:46009"
clientAddress: "localhost:43599"
adminAddress: "localhost:40109"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43085"
dataStreamAddress: "localhost:45423"
clientAddress: "localhost:33533"
adminAddress: "localhost:43431"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:45747"
dataStreamAddress: "localhost:40931"
clientAddress: "localhost:45739"
adminAddress: "localhost:34297"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:21,555 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s4@group-AD14B52D0325: set configuration 0: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:21,555 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s4@group-AD14B52D0325-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:21,572 [s2@group-AD14B52D0325-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-AD14B52D0325-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s2/7298e20e-a203-4e62-84b9-ad14b52d0325/current/log_inprogress_0
2022-11-16 04:24:21,572 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-AD14B52D0325: succeeded to handle AppendEntries. Reply: s0<-s2#1435:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-16 04:24:21,572 [s4@group-AD14B52D0325-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s4@group-AD14B52D0325-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s4/7298e20e-a203-4e62-84b9-ad14b52d0325/current/log_inprogress_0
2022-11-16 04:24:21,572 [s3@group-AD14B52D0325-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s3@group-AD14B52D0325-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc102373e/s3/7298e20e-a203-4e62-84b9-ad14b52d0325/current/log_inprogress_0
2022-11-16 04:24:21,574 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-AD14B52D0325: succeeded to handle AppendEntries. Reply: s0<-s3#1438:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-16 04:24:21,574 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-AD14B52D0325: succeeded to handle AppendEntries. Reply: s0<-s4#1439:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-16 04:24:21,797 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-AD14B52D0325:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-AD14B52D0325-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-AD14B52D0325:t1, leader=s0, voted=null, raftlog=Memoized:s4@group-AD14B52D0325-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-AD14B52D0325:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-AD14B52D0325-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-AD14B52D0325:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-AD14B52D0325-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AD14B52D0325:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-AD14B52D0325-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null RUNNING
2022-11-16 04:24:21,798 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-AD14B52D0325: receive requestVote(PRE_VOTE, s0, group-AD14B52D0325, 2, (t:1, i:0))
2022-11-16 04:24:21,798 [Time-limited test] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-AD14B52D0325-LISTENER: reject PRE_VOTE from s0: this server is a listener, who is a non-voting member
2022-11-16 04:24:21,798 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-AD14B52D0325 replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-AD14B52D0325:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-AD14B52D0325-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:21,798 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-16 04:24:21,798 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-16 04:24:21,798 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:21,798 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-16 04:24:21,798 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-16 04:24:21,798 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-AD14B52D0325:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-AD14B52D0325-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-AD14B52D0325:t1, leader=s0, voted=null, raftlog=Memoized:s4@group-AD14B52D0325-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-AD14B52D0325:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-AD14B52D0325-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-AD14B52D0325:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-AD14B52D0325-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AD14B52D0325:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-AD14B52D0325-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42065|admin:localhost:40109|client:localhost:43599|dataStream:localhost:46009|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43085|admin:localhost:43431|client:localhost:33533|dataStream:localhost:45423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45747|admin:localhost:34297|client:localhost:45739|dataStream:localhost:40931|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:46575|admin:localhost:35151|client:localhost:39771|dataStream:localhost:37269|priority:0|startupRole:LISTENER, s4|rpc:localhost:34115|admin:localhost:36755|client:localhost:36925|dataStream:localhost:37945|priority:0|startupRole:LISTENER], old=null RUNNING
2022-11-16 04:24:21,800 [MiniRaftCluster-29] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s4: close
2022-11-16 04:24:21,800 [MiniRaftCluster-28] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s3: close
2022-11-16 04:24:21,800 [MiniRaftCluster-30] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-16 04:24:21,806 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s4@group-AD14B52D0325: shutdown
2022-11-16 04:24:21,806 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,806 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AD14B52D0325,id=s4
2022-11-16 04:24:21,806 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-AD14B52D0325-FollowerState
2022-11-16 04:24:21,806 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,806 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s4@group-AD14B52D0325-StateMachineUpdater: set stopIndex = 0
2022-11-16 04:24:21,806 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s3@group-AD14B52D0325: shutdown
2022-11-16 04:24:21,806 [s4@group-AD14B52D0325-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-AD14B52D0325-FollowerState was interrupted
2022-11-16 04:24:21,806 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,806 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,806 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AD14B52D0325,id=s3
2022-11-16 04:24:21,807 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-AD14B52D0325-FollowerState
2022-11-16 04:24:21,807 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-AD14B52D0325-StateMachineUpdater: set stopIndex = 0
2022-11-16 04:24:21,807 [s3@group-AD14B52D0325-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-AD14B52D0325-FollowerState was interrupted
2022-11-16 04:24:21,807 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,807 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-AD14B52D0325: shutdown
2022-11-16 04:24:21,807 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,807 [MiniRaftCluster-31] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-16 04:24:21,809 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,809 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,809 [MiniRaftCluster-32] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-16 04:24:21,809 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s3@group-AD14B52D0325: applyIndex: 0
2022-11-16 04:24:21,809 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s4@group-AD14B52D0325: applyIndex: 0
2022-11-16 04:24:21,809 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,810 [s4@group-AD14B52D0325-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s4@group-AD14B52D0325-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:21,809 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,808 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,810 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,810 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,807 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AD14B52D0325,id=s0
2022-11-16 04:24:21,811 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-AD14B52D0325-LeaderStateImpl
2022-11-16 04:24:21,811 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,811 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-AD14B52D0325-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:21,811 [s0@group-AD14B52D0325->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-AD14B52D0325->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:21,810 [s3@group-AD14B52D0325-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s3@group-AD14B52D0325-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:21,810 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,811 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-AD14B52D0325-StateMachineUpdater: set stopIndex = 0
2022-11-16 04:24:21,810 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,811 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,810 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,809 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-AD14B52D0325: shutdown
2022-11-16 04:24:21,811 [s0@group-AD14B52D0325->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-AD14B52D0325->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:21,811 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AD14B52D0325,id=s1
2022-11-16 04:24:21,811 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-AD14B52D0325-FollowerState
2022-11-16 04:24:21,811 [s0@group-AD14B52D0325->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-AD14B52D0325->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:21,811 [s1@group-AD14B52D0325-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-AD14B52D0325-FollowerState was interrupted
2022-11-16 04:24:21,811 [s0@group-AD14B52D0325->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-AD14B52D0325->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:21,811 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-AD14B52D0325-StateMachineUpdater: set stopIndex = 0
2022-11-16 04:24:21,812 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-AD14B52D0325: applyIndex: 0
2022-11-16 04:24:21,812 [s1@group-AD14B52D0325-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-AD14B52D0325-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:21,812 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,812 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,812 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,813 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-AD14B52D0325: applyIndex: 0
2022-11-16 04:24:21,814 [s0@group-AD14B52D0325-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-AD14B52D0325-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:21,821 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s4@group-AD14B52D0325-SegmentedRaftLogWorker close()
2022-11-16 04:24:21,821 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s3@group-AD14B52D0325-SegmentedRaftLogWorker close()
2022-11-16 04:24:21,822 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-AD14B52D0325-SegmentedRaftLogWorker close()
2022-11-16 04:24:21,822 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-AD14B52D0325-SegmentedRaftLogWorker close()
2022-11-16 04:24:21,822 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,827 [JvmPauseMonitor25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-16 04:24:21,828 [JvmPauseMonitor24] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s4: Stopped
2022-11-16 04:24:21,829 [JvmPauseMonitor26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-16 04:24:21,831 [JvmPauseMonitor23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s3: Stopped
2022-11-16 04:24:21,832 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-AD14B52D0325: shutdown
2022-11-16 04:24:21,832 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,832 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,832 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,833 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,833 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,833 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:21,832 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AD14B52D0325,id=s2
2022-11-16 04:24:21,833 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-AD14B52D0325-FollowerState
2022-11-16 04:24:21,833 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-AD14B52D0325-StateMachineUpdater: set stopIndex = 0
2022-11-16 04:24:21,833 [s2@group-AD14B52D0325-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-AD14B52D0325-FollowerState was interrupted
2022-11-16 04:24:21,833 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-AD14B52D0325: applyIndex: 0
2022-11-16 04:24:21,834 [s2@group-AD14B52D0325-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-AD14B52D0325-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:21,834 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-AD14B52D0325-SegmentedRaftLogWorker close()
2022-11-16 04:24:21,835 [JvmPauseMonitor27] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-16 04:24:21,835 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-16 04:24:21,836 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-16 04:24:21,836 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-16 04:24:21,836 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-16 04:24:21,836 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-16 04:24:21,837 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-16 04:24:21,838 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-01BA6878B153:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]
2022-11-16 04:24:21,838 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-16 04:24:21,838 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-16 04:24:21,838 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:21,838 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-16 04:24:21,838 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-16 04:24:21,838 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-16 04:24:21,838 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-01BA6878B153:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:21,838 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s0
2022-11-16 04:24:21,838 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s0 does not exist.
2022-11-16 04:24:21,838 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s0
2022-11-16 04:24:21,839 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:21,839 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:21,839 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:21,839 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:21,839 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:21,839 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:21,839 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s0] (custom)
2022-11-16 04:24:21,840 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-01BA6878B153:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER] returns group-01BA6878B153:java.util.concurrent.CompletableFuture@4397f411[Not completed]
2022-11-16 04:24:21,840 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-01BA6878B153:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:21,840 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s1
2022-11-16 04:24:21,840 [pool-29-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-01BA6878B153:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:21,840 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:21,840 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:21,840 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:21,840 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:21,840 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:21,840 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:21,840 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s1 does not exist.
2022-11-16 04:24:21,840 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s1
2022-11-16 04:24:21,840 [pool-29-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-01BA6878B153: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:21,840 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:21,841 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:21,841 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:21,841 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:21,841 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:21,841 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:21,841 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:21,841 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:21,841 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:21,841 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:21,841 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:21,841 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s1] (custom)
2022-11-16 04:24:21,842 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:21,842 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:21,842 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:21,842 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:21,842 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:21,845 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-01BA6878B153:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER] returns group-01BA6878B153:java.util.concurrent.CompletableFuture@37d996f1[Not completed]
2022-11-16 04:24:21,845 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-01BA6878B153:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:21,845 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s2
2022-11-16 04:24:21,845 [pool-30-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-01BA6878B153:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:21,846 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s2 does not exist.
2022-11-16 04:24:21,846 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s2
2022-11-16 04:24:21,846 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:21,846 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:21,846 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:21,846 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:21,846 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:21,846 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:21,846 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:21,846 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:21,846 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:21,846 [pool-30-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-01BA6878B153: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:21,847 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:21,847 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:21,847 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:21,847 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:21,847 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:21,847 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:21,847 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:21,847 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:21,847 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s2] (custom)
2022-11-16 04:24:21,848 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:21,848 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:21,848 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:21,848 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:21,848 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:21,848 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-01BA6878B153:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER] returns group-01BA6878B153:java.util.concurrent.CompletableFuture@7697c5d5[Not completed]
2022-11-16 04:24:21,848 [pool-31-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-01BA6878B153:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:21,848 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:21,848 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:21,849 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s0] (custom)
2022-11-16 04:24:21,849 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s0/9f188c28-6ff0-438c-9429-01ba6878b153 does not exist. Creating ...
2022-11-16 04:24:21,849 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s0/9f188c28-6ff0-438c-9429-01ba6878b153
2022-11-16 04:24:21,849 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:21,849 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:21,849 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:21,849 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:21,849 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:21,850 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:21,850 [pool-31-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-01BA6878B153: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:21,850 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:21,850 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:21,850 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:21,850 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:21,850 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:21,850 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s0/9f188c28-6ff0-438c-9429-01ba6878b153/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:21,851 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:21,851 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:21,851 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:21,851 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:21,851 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:21,851 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s0/9f188c28-6ff0-438c-9429-01ba6878b153/current
2022-11-16 04:24:21,851 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s0/9f188c28-6ff0-438c-9429-01ba6878b153/sm
2022-11-16 04:24:21,852 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s0/9f188c28-6ff0-438c-9429-01ba6878b153 has been successfully formatted.
2022-11-16 04:24:21,852 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:21,852 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:21,853 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:21,853 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:21,853 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:21,853 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:21,853 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:21,853 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:21,853 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-01BA6878B153-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s0/9f188c28-6ff0-438c-9429-01ba6878b153
2022-11-16 04:24:21,853 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:21,853 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:21,853 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:21,853 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:21,853 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:21,853 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:21,853 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:21,853 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:21,853 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:21,854 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:21,854 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:21,854 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:21,854 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:21,854 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-01BA6878B153-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:21,855 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-01BA6878B153-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:21,861 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-01BA6878B153: start as a follower, conf=-1: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:21,862 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-01BA6878B153: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:21,862 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-01BA6878B153-FollowerState
2022-11-16 04:24:21,862 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-01BA6878B153,id=s0
2022-11-16 04:24:21,862 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:21,862 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:21,862 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:21,863 [s0@group-01BA6878B153-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:21,863 [s0@group-01BA6878B153-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:21,863 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-16 04:24:21,864 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:21,864 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:21,864 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s1] (custom)
2022-11-16 04:24:21,864 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s1/9f188c28-6ff0-438c-9429-01ba6878b153 does not exist. Creating ...
2022-11-16 04:24:21,864 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s1/9f188c28-6ff0-438c-9429-01ba6878b153
2022-11-16 04:24:21,865 [JvmPauseMonitor28] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-16 04:24:21,865 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s1/9f188c28-6ff0-438c-9429-01ba6878b153/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:21,865 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s1/9f188c28-6ff0-438c-9429-01ba6878b153/current
2022-11-16 04:24:21,866 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s1/9f188c28-6ff0-438c-9429-01ba6878b153/sm
2022-11-16 04:24:21,867 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s1/9f188c28-6ff0-438c-9429-01ba6878b153 has been successfully formatted.
2022-11-16 04:24:21,867 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:21,867 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:21,867 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:21,867 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:21,867 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:21,867 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:21,867 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:21,867 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:21,867 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-01BA6878B153-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s1/9f188c28-6ff0-438c-9429-01ba6878b153
2022-11-16 04:24:21,868 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:21,868 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:21,868 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:21,868 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:21,868 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:21,868 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:21,868 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:21,868 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:21,868 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:21,868 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:21,869 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:21,869 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:21,869 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:21,869 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-01BA6878B153-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:21,869 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-01BA6878B153-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:21,870 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-01BA6878B153: start as a follower, conf=-1: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:21,870 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-01BA6878B153: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:21,870 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-01BA6878B153-FollowerState
2022-11-16 04:24:21,871 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-01BA6878B153,id=s1
2022-11-16 04:24:21,871 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:21,871 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:21,871 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:21,871 [s1@group-01BA6878B153-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:21,871 [s1@group-01BA6878B153-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:21,872 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-16 04:24:21,873 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:21,873 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:21,873 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s2] (custom)
2022-11-16 04:24:21,874 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s2/9f188c28-6ff0-438c-9429-01ba6878b153 does not exist. Creating ...
2022-11-16 04:24:21,874 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s2/9f188c28-6ff0-438c-9429-01ba6878b153
2022-11-16 04:24:21,874 [JvmPauseMonitor29] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-16 04:24:21,877 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s2/9f188c28-6ff0-438c-9429-01ba6878b153/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:21,877 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s2/9f188c28-6ff0-438c-9429-01ba6878b153/current
2022-11-16 04:24:21,877 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s2/9f188c28-6ff0-438c-9429-01ba6878b153/sm
2022-11-16 04:24:21,879 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s2/9f188c28-6ff0-438c-9429-01ba6878b153 has been successfully formatted.
2022-11-16 04:24:21,879 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:21,879 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:21,879 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:21,879 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:21,879 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:21,879 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:21,879 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:21,879 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:21,880 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-01BA6878B153-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s2/9f188c28-6ff0-438c-9429-01ba6878b153
2022-11-16 04:24:21,880 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:21,880 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:21,880 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:21,880 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:21,880 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:21,880 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:21,880 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:21,880 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:21,880 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:21,880 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:21,881 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:21,881 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:21,881 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:21,881 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-01BA6878B153-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:21,881 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-01BA6878B153-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:21,882 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-01BA6878B153: start as a follower, conf=-1: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:21,882 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-01BA6878B153: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:21,882 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-01BA6878B153-FollowerState
2022-11-16 04:24:21,882 [s2@group-01BA6878B153-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:21,882 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-01BA6878B153,id=s2
2022-11-16 04:24:21,882 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:21,882 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:21,882 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:21,882 [s2@group-01BA6878B153-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:21,883 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-16 04:24:21,883 [JvmPauseMonitor30] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-16 04:24:21,884 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:21,884 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-01BA6878B153:t0, leader=null, voted=, raftlog=Memoized:s0@group-01BA6878B153-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-01BA6878B153:t0, leader=null, voted=, raftlog=Memoized:s1@group-01BA6878B153-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-01BA6878B153:t0, leader=null, voted=, raftlog=Memoized:s2@group-01BA6878B153-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:21,884 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-01BA6878B153:t0, leader=null, voted=, raftlog=Memoized:s0@group-01BA6878B153-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-01BA6878B153:t0, leader=null, voted=, raftlog=Memoized:s1@group-01BA6878B153-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-01BA6878B153:t0, leader=null, voted=, raftlog=Memoized:s2@group-01BA6878B153-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-01BA6878B153:t0, leader=null, voted=, raftlog=Memoized:s0@group-01BA6878B153-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-01BA6878B153:t0, leader=null, voted=, raftlog=Memoized:s1@group-01BA6878B153-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-01BA6878B153:t0, leader=null, voted=, raftlog=Memoized:s2@group-01BA6878B153-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testAddListener(LeaderElectionTests.java:368)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:22,035 [s0@group-01BA6878B153-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-01BA6878B153-FollowerState: change to CANDIDATE, lastRpcElapsedTime:173201685ns, electionTimeout:172ms
2022-11-16 04:24:22,035 [s0@group-01BA6878B153-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-01BA6878B153-FollowerState
2022-11-16 04:24:22,035 [s0@group-01BA6878B153-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-01BA6878B153: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-16 04:24:22,036 [s0@group-01BA6878B153-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:22,036 [s0@group-01BA6878B153-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-01BA6878B153-LeaderElection25
2022-11-16 04:24:22,037 [s0@group-01BA6878B153-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-01BA6878B153-LeaderElection25 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:22,037 [s0@group-01BA6878B153-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:22,037 [s0@group-01BA6878B153-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:22,037 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-01BA6878B153: receive requestVote(PRE_VOTE, s0, group-01BA6878B153, 0, (t:0, i:0))
2022-11-16 04:24:22,037 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-01BA6878B153-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:22,038 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-01BA6878B153 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-01BA6878B153:t0, leader=null, voted=, raftlog=Memoized:s1@group-01BA6878B153-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:22,038 [s0@group-01BA6878B153-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-01BA6878B153-LeaderElection25: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:22,038 [s0@group-01BA6878B153-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2022-11-16 04:24:22,038 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-01BA6878B153: receive requestVote(PRE_VOTE, s0, group-01BA6878B153, 0, (t:0, i:0))
2022-11-16 04:24:22,038 [s0@group-01BA6878B153-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-01BA6878B153-LeaderElection25 PRE_VOTE round 0: result PASSED
2022-11-16 04:24:22,038 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-01BA6878B153-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:22,038 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-01BA6878B153 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-01BA6878B153:t0, leader=null, voted=, raftlog=Memoized:s2@group-01BA6878B153-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:22,039 [s0@group-01BA6878B153-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-01BA6878B153-LeaderElection25 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:22,040 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-01BA6878B153: receive requestVote(ELECTION, s0, group-01BA6878B153, 1, (t:0, i:0))
2022-11-16 04:24:22,040 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-01BA6878B153-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:22,040 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-01BA6878B153: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-11-16 04:24:22,040 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-01BA6878B153-FollowerState
2022-11-16 04:24:22,041 [s0@group-01BA6878B153-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:22,041 [s1@group-01BA6878B153-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-01BA6878B153-FollowerState was interrupted
2022-11-16 04:24:22,041 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-01BA6878B153-FollowerState
2022-11-16 04:24:22,041 [s0@group-01BA6878B153-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:22,041 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-01BA6878B153: receive requestVote(ELECTION, s0, group-01BA6878B153, 1, (t:0, i:0))
2022-11-16 04:24:22,041 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-01BA6878B153-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:22,041 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-01BA6878B153: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-11-16 04:24:22,041 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-01BA6878B153-FollowerState
2022-11-16 04:24:22,042 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-01BA6878B153-FollowerState
2022-11-16 04:24:22,043 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-01BA6878B153 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-01BA6878B153:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-01BA6878B153-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:22,043 [s2@group-01BA6878B153-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-01BA6878B153-FollowerState was interrupted
2022-11-16 04:24:22,043 [s1@group-01BA6878B153-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:22,043 [s1@group-01BA6878B153-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:22,044 [s0@group-01BA6878B153-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-01BA6878B153-LeaderElection25: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:22,044 [s0@group-01BA6878B153-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2022-11-16 04:24:22,044 [s0@group-01BA6878B153-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-01BA6878B153-LeaderElection25 ELECTION round 0: result PASSED
2022-11-16 04:24:22,044 [s0@group-01BA6878B153-LeaderElection25] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-01BA6878B153-LeaderElection25
2022-11-16 04:24:22,044 [s0@group-01BA6878B153-LeaderElection25] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-01BA6878B153: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-16 04:24:22,044 [s0@group-01BA6878B153-LeaderElection25] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-01BA6878B153: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 203ms
2022-11-16 04:24:22,044 [s2@group-01BA6878B153-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:22,044 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-01BA6878B153 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-01BA6878B153:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-01BA6878B153-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:22,044 [s0@group-01BA6878B153-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:22,045 [s0@group-01BA6878B153-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:22,045 [s0@group-01BA6878B153-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:22,045 [s0@group-01BA6878B153-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:22,045 [s0@group-01BA6878B153-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:22,045 [s0@group-01BA6878B153-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:22,045 [s0@group-01BA6878B153-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:22,045 [s0@group-01BA6878B153-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:22,045 [s0@group-01BA6878B153-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:22,046 [s0@group-01BA6878B153-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:22,046 [s0@group-01BA6878B153-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:22,046 [s0@group-01BA6878B153-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:22,046 [s0@group-01BA6878B153-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:22,046 [s0@group-01BA6878B153-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:22,046 [s0@group-01BA6878B153-LeaderElection25] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-01BA6878B153-LeaderStateImpl
2022-11-16 04:24:22,046 [s0@group-01BA6878B153-LeaderElection25] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-01BA6878B153-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:22,046 [s2@group-01BA6878B153-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:22,049 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-01BA6878B153: change Leader from null to s0 at term 1 for appendEntries, leader elected after 202ms
2022-11-16 04:24:22,052 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-01BA6878B153: change Leader from null to s0 at term 1 for appendEntries, leader elected after 202ms
2022-11-16 04:24:22,052 [s0@group-01BA6878B153-LeaderElection25] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-01BA6878B153: set configuration 0: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:22,053 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-01BA6878B153: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:1496, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:36037"
dataStreamAddress: "localhost:39245"
clientAddress: "localhost:37629"
adminAddress: "localhost:33357"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:40617"
dataStreamAddress: "localhost:40113"
clientAddress: "localhost:45919"
adminAddress: "localhost:35925"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42801"
dataStreamAddress: "localhost:39445"
clientAddress: "localhost:46427"
adminAddress: "localhost:36371"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:22,054 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-01BA6878B153: set configuration 0: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:22,054 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-01BA6878B153-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:22,055 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-01BA6878B153: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:1497, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:36037"
dataStreamAddress: "localhost:39245"
clientAddress: "localhost:37629"
adminAddress: "localhost:33357"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:40617"
dataStreamAddress: "localhost:40113"
clientAddress: "localhost:45919"
adminAddress: "localhost:35925"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42801"
dataStreamAddress: "localhost:39445"
clientAddress: "localhost:46427"
adminAddress: "localhost:36371"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:22,056 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-01BA6878B153: set configuration 0: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:22,056 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-01BA6878B153-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:22,058 [s0@group-01BA6878B153-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-01BA6878B153-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s0/9f188c28-6ff0-438c-9429-01ba6878b153/current/log_inprogress_0
2022-11-16 04:24:22,076 [s2@group-01BA6878B153-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-01BA6878B153-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s2/9f188c28-6ff0-438c-9429-01ba6878b153/current/log_inprogress_0
2022-11-16 04:24:22,076 [s1@group-01BA6878B153-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-01BA6878B153-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s1/9f188c28-6ff0-438c-9429-01ba6878b153/current/log_inprogress_0
2022-11-16 04:24:22,077 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-01BA6878B153: succeeded to handle AppendEntries. Reply: s0<-s2#1497:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-16 04:24:22,077 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-01BA6878B153: succeeded to handle AppendEntries. Reply: s0<-s1#1496:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-16 04:24:22,335 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-01BA6878B153:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-01BA6878B153-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-01BA6878B153:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-01BA6878B153-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-01BA6878B153:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-01BA6878B153-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:22,335 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:22,336 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s0@group-01BA6878B153: receive client request(RaftClientRequest:client-E6785F099B9A->s0@group-01BA6878B153, cid=1524, seq=0, RW, message)
2022-11-16 04:24:22,336 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(410)) - s0@group-01BA6878B153-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-E6785F099B9A->s0@group-01BA6878B153, cid=1524, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 1524@client-E6785F099B9A
2022-11-16 04:24:22,337 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-01BA6878B153: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:1526, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 1524@client-E6785F099B9A]
2022-11-16 04:24:22,337 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-01BA6878B153: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:1525, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 1524@client-E6785F099B9A]
2022-11-16 04:24:22,338 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-01BA6878B153: succeeded to handle AppendEntries. Reply: s0<-s1#1525:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-16 04:24:22,338 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-01BA6878B153: succeeded to handle AppendEntries. Reply: s0<-s2#1526:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-16 04:24:22,339 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-01BA6878B153: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:1527, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-16 04:24:22,339 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-01BA6878B153: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:1528, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-16 04:24:22,339 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-01BA6878B153: succeeded to handle AppendEntries. Reply: s0<-s1#1527:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-16 04:24:22,340 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-01BA6878B153: succeeded to handle AppendEntries. Reply: s0<-s2#1528:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-16 04:24:22,341 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:addNewPeers(464)) - Add new peers [s3]
2022-11-16 04:24:22,341 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-01BA6878B153:[s3|priority:0|startupRole:LISTENER, s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:22,341 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s3
2022-11-16 04:24:22,341 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s3 does not exist.
2022-11-16 04:24:22,342 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s3
2022-11-16 04:24:22,342 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:22,342 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:22,342 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:22,342 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:22,342 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:22,342 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:22,342 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s3] (custom)
2022-11-16 04:24:22,343 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-01BA6878B153:[s3|priority:0|startupRole:LISTENER, s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER] returns group-01BA6878B153:java.util.concurrent.CompletableFuture@14405c55[Not completed]
2022-11-16 04:24:22,343 [pool-32-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-01BA6878B153:[s3|priority:0|startupRole:LISTENER, s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:22,344 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:22,344 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:22,344 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:22,344 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:22,344 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:22,344 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:22,344 [pool-32-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-01BA6878B153: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[s3|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:22,344 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:22,345 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:22,345 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:22,345 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:22,345 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:22,346 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:22,346 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:22,346 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:22,346 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:22,347 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:22,347 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:22,347 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:22,347 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s3] (custom)
2022-11-16 04:24:22,347 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s3/9f188c28-6ff0-438c-9429-01ba6878b153 does not exist. Creating ...
2022-11-16 04:24:22,348 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s3/9f188c28-6ff0-438c-9429-01ba6878b153
2022-11-16 04:24:22,349 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s3/9f188c28-6ff0-438c-9429-01ba6878b153/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:22,349 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s3/9f188c28-6ff0-438c-9429-01ba6878b153/current
2022-11-16 04:24:22,349 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s3/9f188c28-6ff0-438c-9429-01ba6878b153/sm
2022-11-16 04:24:22,350 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s3/9f188c28-6ff0-438c-9429-01ba6878b153 has been successfully formatted.
2022-11-16 04:24:22,351 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:22,351 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:22,351 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:22,352 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:22,352 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:22,352 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:22,352 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:22,352 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:22,352 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s3@group-01BA6878B153-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s3/9f188c28-6ff0-438c-9429-01ba6878b153
2022-11-16 04:24:22,352 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:22,353 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:22,353 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:22,353 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:22,353 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:22,353 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:22,353 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:22,353 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:22,353 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:22,353 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:22,367 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:22,367 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:22,368 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:22,368 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-01BA6878B153-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:22,368 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-01BA6878B153-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:22,383 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(341)) - s3@group-01BA6878B153: start as a listener, conf=-1: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[s3|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:22,383 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-01BA6878B153: changes role from      null to LISTENER at term 0 for startAsListener
2022-11-16 04:24:22,383 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-01BA6878B153-FollowerState
2022-11-16 04:24:22,391 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-01BA6878B153,id=s3
2022-11-16 04:24:22,391 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:22,391 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:22,391 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:22,391 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s3: start RPC server
2022-11-16 04:24:22,392 [s3@group-01BA6878B153-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:22,392 [s3@group-01BA6878B153-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:22,393 [JvmPauseMonitor31] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s3: Started
2022-11-16 04:24:22,393 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1188)) - s0@group-01BA6878B153: receive setConfiguration SetConfigurationRequest:client-E6785F099B9A->s0@group-01BA6878B153, cid=1531, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER], listeners:[s3|priority:0|startupRole:FOLLOWER]
2022-11-16 04:24:22,393 [s0-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(377)) - s0@group-01BA6878B153-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-E6785F099B9A->s0@group-01BA6878B153, cid=1531, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER], listeners:[s3|priority:0|startupRole:FOLLOWER]
2022-11-16 04:24:22,394 [s0-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:22,394 [s0-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:22,394 [s0-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:22,394 [s0@group-01BA6878B153->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.FollowerInfo (FollowerInfoImpl.java:setAttemptedToInstallSnapshot(118)) - Follower s0@group-01BA6878B153->s3 acknowledged installing snapshot
2022-11-16 04:24:22,396 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-01BA6878B153: change Leader from null to s0 at term 1 for appendEntries, leader elected after 51ms
2022-11-16 04:24:22,397 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-01BA6878B153: receive appendEntries(s0, 1, null, 2, false, commits:[s0:c2, s1:c1, s2:c1, s3:c-1], cId:1534, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:36037"
dataStreamAddress: "localhost:39245"
clientAddress: "localhost:37629"
adminAddress: "localhost:33357"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:40617"
dataStreamAddress: "localhost:40113"
clientAddress: "localhost:45919"
adminAddress: "localhost:35925"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42801"
dataStreamAddress: "localhost:39445"
clientAddress: "localhost:46427"
adminAddress: "localhost:36371"
startupRole: FOLLOWER
, old:), (t:1, i:1), STATEMACHINELOGENTRY, 1524@client-E6785F099B9A, (t:1, i:2), METADATAENTRY(c:1)]
2022-11-16 04:24:22,397 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s3@group-01BA6878B153: set configuration 0: peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:22,397 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s3@group-01BA6878B153-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:22,409 [s3@group-01BA6878B153-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s3@group-01BA6878B153-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4521b5fb/s3/9f188c28-6ff0-438c-9429-01ba6878b153/current/log_inprogress_0
2022-11-16 04:24:22,411 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-01BA6878B153: succeeded to handle AppendEntries. Reply: s0<-s3#1534:OK-t1,SUCCESS,nextIndex=3,followerCommit=2,matchIndex=2
2022-11-16 04:24:22,412 [s0@group-01BA6878B153-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-01BA6878B153: set configuration 3: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[s3|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-16 04:24:22,414 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-01BA6878B153: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits:[s0:c2, s1:c1, s2:c1, s3:c2], cId:1538, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:36037"
dataStreamAddress: "localhost:39245"
clientAddress: "localhost:37629"
adminAddress: "localhost:33357"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:40617"
dataStreamAddress: "localhost:40113"
clientAddress: "localhost:45919"
adminAddress: "localhost:35925"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42801"
dataStreamAddress: "localhost:39445"
clientAddress: "localhost:46427"
adminAddress: "localhost:36371"
startupRole: FOLLOWER
)]
2022-11-16 04:24:22,414 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-01BA6878B153: set configuration 3: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-16 04:24:22,414 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-01BA6878B153: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits:[s0:c2, s1:c1, s2:c1, s3:c2], cId:1537, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:36037"
dataStreamAddress: "localhost:39245"
clientAddress: "localhost:37629"
adminAddress: "localhost:33357"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:40617"
dataStreamAddress: "localhost:40113"
clientAddress: "localhost:45919"
adminAddress: "localhost:35925"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42801"
dataStreamAddress: "localhost:39445"
clientAddress: "localhost:46427"
adminAddress: "localhost:36371"
startupRole: FOLLOWER
)]
2022-11-16 04:24:22,414 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-01BA6878B153: set configuration 3: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-16 04:24:22,415 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-01BA6878B153: succeeded to handle AppendEntries. Reply: s0<-s1#1538:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-16 04:24:22,415 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-01BA6878B153: succeeded to handle AppendEntries. Reply: s0<-s2#1537:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-16 04:24:22,415 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-01BA6878B153: receive appendEntries(s0, 1, (t:1, i:2), 2, false, commits:[s0:c2, s1:c1, s2:c1, s3:c2], cId:1539, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:36037"
dataStreamAddress: "localhost:39245"
clientAddress: "localhost:37629"
adminAddress: "localhost:33357"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:40617"
dataStreamAddress: "localhost:40113"
clientAddress: "localhost:45919"
adminAddress: "localhost:35925"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42801"
dataStreamAddress: "localhost:39445"
clientAddress: "localhost:46427"
adminAddress: "localhost:36371"
startupRole: FOLLOWER
)]
2022-11-16 04:24:22,415 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s3@group-01BA6878B153: set configuration 3: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-16 04:24:22,416 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-01BA6878B153: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits:[s0:c3, s1:c2, s2:c2, s3:c2], cId:1540, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2022-11-16 04:24:22,417 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-01BA6878B153: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits:[s0:c3, s1:c2, s2:c2, s3:c2], cId:1541, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2022-11-16 04:24:22,417 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-01BA6878B153: succeeded to handle AppendEntries. Reply: s0<-s1#1540:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-11-16 04:24:22,418 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-01BA6878B153: succeeded to handle AppendEntries. Reply: s0<-s2#1541:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-11-16 04:24:22,419 [s0@group-01BA6878B153-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-01BA6878B153: set configuration 5: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[s3|priority:0|startupRole:FOLLOWER], old=null
2022-11-16 04:24:22,419 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-01BA6878B153: receive appendEntries(s0, 1, (t:1, i:4), 3, true, commits:[s0:c3, s1:c3, s2:c3, s3:c2], cId:1542, entries: [(t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:22,419 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-01BA6878B153: set configuration 5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null
2022-11-16 04:24:22,420 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-01BA6878B153: receive appendEntries(s0, 1, (t:1, i:4), 3, true, commits:[s0:c3, s1:c3, s2:c3, s3:c2], cId:1543, entries: [(t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:22,420 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-01BA6878B153: set configuration 5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null
2022-11-16 04:24:22,421 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-01BA6878B153: succeeded to handle AppendEntries. Reply: s0<-s1#1542:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-16 04:24:22,421 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-01BA6878B153: succeeded to handle AppendEntries. Reply: s0<-s2#1543:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-16 04:24:22,422 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-01BA6878B153: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits:[s0:c5, s1:c3, s2:c3, s3:c2], cId:1544, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-16 04:24:22,422 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-01BA6878B153: succeeded to handle AppendEntries. Reply: s0<-s1#1544:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-16 04:24:22,422 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-01BA6878B153: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits:[s0:c5, s1:c3, s2:c3, s3:c2], cId:1545, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-16 04:24:22,423 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-01BA6878B153: succeeded to handle AppendEntries. Reply: s0<-s2#1545:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-16 04:24:22,424 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-16 04:24:22,424 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-16 04:24:22,424 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:22,424 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-16 04:24:22,424 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-16 04:24:22,424 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-01BA6878B153:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-01BA6878B153-SegmentedRaftLog:OPENED:c2, conf=3: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[] RUNNING
  s0:  RUNNING    LEADER s0@group-01BA6878B153:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-01BA6878B153-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[s3|priority:0|startupRole:FOLLOWER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-01BA6878B153:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-01BA6878B153-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-01BA6878B153:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-01BA6878B153-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null RUNNING
2022-11-16 04:24:22,424 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-01BA6878B153: succeeded to handle AppendEntries. Reply: s0<-s3#1539:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-16 04:24:22,426 [MiniRaftCluster-36] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-16 04:24:22,425 [MiniRaftCluster-35] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-16 04:24:22,425 [MiniRaftCluster-34] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-16 04:24:22,424 [MiniRaftCluster-33] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s3: close
2022-11-16 04:24:22,427 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-01BA6878B153: shutdown
2022-11-16 04:24:22,427 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s3@group-01BA6878B153: shutdown
2022-11-16 04:24:22,427 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:22,427 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:22,427 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:22,427 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:22,427 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:22,427 [s0@group-01BA6878B153->s3-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-01BA6878B153->s3-LogAppenderDefault: Failed to appendEntries (retry=1): {}
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s3@group-01BA6878B153 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$9(RaftServerImpl.java:737)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:253)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:736)
	at org.apache.ratis.server.impl.RaftServerImpl.preAppendEntriesAsync(RaftServerImpl.java:1441)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1385)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntries(RaftServerImpl.java:1371)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntries(RaftServerProxy.java:646)
	at org.apache.ratis.server.simulation.SimulatedServerRpc$1.handleRequest(SimulatedServerRpc.java:163)
	at org.apache.ratis.server.simulation.SimulatedServerRpc$1.handleRequest(SimulatedServerRpc.java:153)
	at org.apache.ratis.server.simulation.RequestHandler.handleRequest(RequestHandler.java:91)
	at org.apache.ratis.server.simulation.RequestHandler$HandlerDaemon.run(RequestHandler.java:125)
2022-11-16 04:24:22,429 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:22,427 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:22,429 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:22,429 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:22,427 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-01BA6878B153,id=s3
2022-11-16 04:24:22,430 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-01BA6878B153-FollowerState
2022-11-16 04:24:22,430 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-01BA6878B153-StateMachineUpdater: set stopIndex = 2
2022-11-16 04:24:22,427 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-01BA6878B153,id=s0
2022-11-16 04:24:22,430 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-01BA6878B153-LeaderStateImpl
2022-11-16 04:24:22,429 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:22,430 [s3@group-01BA6878B153-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-01BA6878B153-FollowerState was interrupted
2022-11-16 04:24:22,430 [s0@group-01BA6878B153->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-01BA6878B153->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:22,429 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-01BA6878B153: shutdown
2022-11-16 04:24:22,430 [s0@group-01BA6878B153->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-01BA6878B153->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:22,429 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:22,430 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s3@group-01BA6878B153: applyIndex: 2
2022-11-16 04:24:22,429 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:22,428 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:22,430 [s0@group-01BA6878B153->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-01BA6878B153->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-11-16 04:24:22,428 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:22,428 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:22,428 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-01BA6878B153: shutdown
2022-11-16 04:24:22,430 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:22,428 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:22,430 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-01BA6878B153,id=s1
2022-11-16 04:24:22,431 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-01BA6878B153-FollowerState
2022-11-16 04:24:22,431 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-01BA6878B153-StateMachineUpdater: set stopIndex = 5
2022-11-16 04:24:22,431 [s1@group-01BA6878B153-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-01BA6878B153-FollowerState was interrupted
2022-11-16 04:24:22,431 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:22,431 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:22,430 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-01BA6878B153,id=s2
2022-11-16 04:24:22,431 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-01BA6878B153-FollowerState
2022-11-16 04:24:22,431 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-01BA6878B153-StateMachineUpdater: set stopIndex = 5
2022-11-16 04:24:22,431 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:22,431 [s2@group-01BA6878B153-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-01BA6878B153-FollowerState was interrupted
2022-11-16 04:24:22,431 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:22,430 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-01BA6878B153-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:22,431 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:22,433 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-01BA6878B153: applyIndex: 5
2022-11-16 04:24:22,433 [s1@group-01BA6878B153-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-01BA6878B153-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:22,433 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-01BA6878B153: applyIndex: 5
2022-11-16 04:24:22,433 [s3@group-01BA6878B153-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s3@group-01BA6878B153-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:22,433 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-01BA6878B153-StateMachineUpdater: set stopIndex = 6
2022-11-16 04:24:22,437 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-01BA6878B153: applyIndex: 6
2022-11-16 04:24:22,435 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-01BA6878B153-SegmentedRaftLogWorker close()
2022-11-16 04:24:22,437 [s0@group-01BA6878B153-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-01BA6878B153-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:22,434 [s2@group-01BA6878B153-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-01BA6878B153-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:22,439 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s3@group-01BA6878B153-SegmentedRaftLogWorker close()
2022-11-16 04:24:22,439 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-01BA6878B153-SegmentedRaftLogWorker close()
2022-11-16 04:24:22,440 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-01BA6878B153-SegmentedRaftLogWorker close()
2022-11-16 04:24:22,441 [JvmPauseMonitor28] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-16 04:24:22,441 [JvmPauseMonitor29] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-16 04:24:22,442 [JvmPauseMonitor30] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-16 04:24:22,442 [JvmPauseMonitor31] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s3: Stopped
2022-11-16 04:24:22,442 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-16 04:24:22,442 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-16 04:24:22,442 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-16 04:24:22,442 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:22,442 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-16 04:24:22,442 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-16 04:24:22,442 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:   CLOSED  LISTENER s3@group-01BA6878B153:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-01BA6878B153-SegmentedRaftLog:CLOSED:c2, conf=3: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:36037|admin:localhost:33357|client:localhost:37629|dataStream:localhost:39245|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40617|admin:localhost:35925|client:localhost:45919|dataStream:localhost:40113|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42801|admin:localhost:36371|client:localhost:46427|dataStream:localhost:39445|priority:0|startupRole:FOLLOWER]|listeners:[] CLOSED
  s0:   CLOSED    LEADER s0@group-01BA6878B153:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-01BA6878B153-SegmentedRaftLog:CLOSED:c6, conf=5: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[s3|priority:0|startupRole:FOLLOWER], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-01BA6878B153:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-01BA6878B153-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-01BA6878B153:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-01BA6878B153-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null CLOSED
2022-11-16 04:24:22,447 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-16 04:24:22,448 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-16 04:24:22,448 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-16 04:24:22,448 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-16 04:24:22,448 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-16 04:24:22,448 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-16 04:24:22,449 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-947F2C6143BE:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]
2022-11-16 04:24:22,449 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-16 04:24:22,449 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-16 04:24:22,449 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:22,449 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-16 04:24:22,449 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-16 04:24:22,449 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-16 04:24:22,449 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-947F2C6143BE:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:22,450 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s0
2022-11-16 04:24:22,450 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s0 does not exist.
2022-11-16 04:24:22,450 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s0
2022-11-16 04:24:22,450 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:22,450 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:22,450 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:22,450 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:22,450 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:22,451 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:22,451 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s0] (custom)
2022-11-16 04:24:22,451 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-947F2C6143BE:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER] returns group-947F2C6143BE:java.util.concurrent.CompletableFuture@6834de1[Not completed]
2022-11-16 04:24:22,451 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-947F2C6143BE:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:22,451 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s1
2022-11-16 04:24:22,451 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s1 does not exist.
2022-11-16 04:24:22,451 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s1
2022-11-16 04:24:22,452 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:22,452 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:22,452 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:22,452 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:22,452 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:22,452 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:22,452 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s1] (custom)
2022-11-16 04:24:22,452 [pool-33-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-947F2C6143BE:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:22,452 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:22,452 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:22,453 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:22,453 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:22,453 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:22,453 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:22,453 [pool-33-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-947F2C6143BE: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:22,453 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:22,453 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:22,453 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:22,453 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:22,453 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:22,454 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:22,454 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:22,454 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:22,454 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:22,454 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:22,457 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-947F2C6143BE:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER] returns group-947F2C6143BE:java.util.concurrent.CompletableFuture@7208f61e[Not completed]
2022-11-16 04:24:22,457 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-947F2C6143BE:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:22,457 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s2
2022-11-16 04:24:22,458 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s2 does not exist.
2022-11-16 04:24:22,458 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s2
2022-11-16 04:24:22,458 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:22,458 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:22,458 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:22,458 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:22,458 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:22,458 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:22,458 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s2] (custom)
2022-11-16 04:24:22,458 [pool-34-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-947F2C6143BE:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:22,459 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:22,459 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:22,459 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:22,459 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:22,459 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:22,459 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:22,459 [pool-34-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-947F2C6143BE: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:22,459 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:22,459 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:22,459 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:22,459 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:22,459 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:22,460 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:22,460 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:22,460 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:22,460 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:22,460 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:22,465 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-947F2C6143BE:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER] returns group-947F2C6143BE:java.util.concurrent.CompletableFuture@6c2a998f[Not completed]
2022-11-16 04:24:22,465 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:22,466 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:22,466 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s0] (custom)
2022-11-16 04:24:22,466 [pool-35-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-947F2C6143BE:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:22,466 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s0/00c73abe-9e19-4e3c-b520-947f2c6143be does not exist. Creating ...
2022-11-16 04:24:22,466 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:22,466 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:22,466 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:22,466 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:22,466 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:22,466 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:22,466 [pool-35-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-947F2C6143BE: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:22,466 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:22,466 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:22,466 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s0/00c73abe-9e19-4e3c-b520-947f2c6143be
2022-11-16 04:24:22,466 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:22,466 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:22,467 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:22,467 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s0/00c73abe-9e19-4e3c-b520-947f2c6143be/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:22,468 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:22,468 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:22,468 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:22,468 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:22,468 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:22,468 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s0/00c73abe-9e19-4e3c-b520-947f2c6143be/current
2022-11-16 04:24:22,468 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s0/00c73abe-9e19-4e3c-b520-947f2c6143be/sm
2022-11-16 04:24:22,469 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s0/00c73abe-9e19-4e3c-b520-947f2c6143be has been successfully formatted.
2022-11-16 04:24:22,469 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:22,469 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:22,469 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:22,469 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:22,470 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:22,470 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:22,470 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:22,470 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:22,470 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-947F2C6143BE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s0/00c73abe-9e19-4e3c-b520-947f2c6143be
2022-11-16 04:24:22,470 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:22,470 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:22,470 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:22,470 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:22,470 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:22,470 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:22,470 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:22,470 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:22,470 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:22,470 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:22,471 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:22,471 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:22,471 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:22,471 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-947F2C6143BE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:22,471 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-947F2C6143BE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:22,472 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-947F2C6143BE: start as a follower, conf=-1: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:22,472 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-947F2C6143BE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:22,472 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-947F2C6143BE-FollowerState
2022-11-16 04:24:22,472 [s0@group-947F2C6143BE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:22,472 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-947F2C6143BE,id=s0
2022-11-16 04:24:22,472 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:22,472 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:22,472 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:22,472 [s0@group-947F2C6143BE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:22,473 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-16 04:24:22,478 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:22,478 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:22,478 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s1] (custom)
2022-11-16 04:24:22,478 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s1/00c73abe-9e19-4e3c-b520-947f2c6143be does not exist. Creating ...
2022-11-16 04:24:22,479 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s1/00c73abe-9e19-4e3c-b520-947f2c6143be
2022-11-16 04:24:22,479 [JvmPauseMonitor32] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-16 04:24:22,479 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s1/00c73abe-9e19-4e3c-b520-947f2c6143be/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:22,479 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s1/00c73abe-9e19-4e3c-b520-947f2c6143be/current
2022-11-16 04:24:22,480 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s1/00c73abe-9e19-4e3c-b520-947f2c6143be/sm
2022-11-16 04:24:22,480 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s1/00c73abe-9e19-4e3c-b520-947f2c6143be has been successfully formatted.
2022-11-16 04:24:22,480 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:22,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:22,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:22,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:22,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:22,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:22,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:22,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:22,481 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-947F2C6143BE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s1/00c73abe-9e19-4e3c-b520-947f2c6143be
2022-11-16 04:24:22,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:22,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:22,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:22,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:22,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:22,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:22,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:22,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:22,482 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:22,482 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:22,482 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:22,483 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:22,483 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:22,483 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-947F2C6143BE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:22,483 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-947F2C6143BE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:22,483 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-947F2C6143BE: start as a follower, conf=-1: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:22,483 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-947F2C6143BE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:22,483 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-947F2C6143BE-FollowerState
2022-11-16 04:24:22,485 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-947F2C6143BE,id=s1
2022-11-16 04:24:22,486 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:22,486 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:22,486 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:22,486 [s1@group-947F2C6143BE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:22,486 [s1@group-947F2C6143BE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:22,486 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-16 04:24:22,487 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:22,487 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:22,487 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s2] (custom)
2022-11-16 04:24:22,487 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s2/00c73abe-9e19-4e3c-b520-947f2c6143be does not exist. Creating ...
2022-11-16 04:24:22,488 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s2/00c73abe-9e19-4e3c-b520-947f2c6143be
2022-11-16 04:24:22,487 [JvmPauseMonitor33] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-16 04:24:22,489 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s2/00c73abe-9e19-4e3c-b520-947f2c6143be/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:22,489 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s2/00c73abe-9e19-4e3c-b520-947f2c6143be/current
2022-11-16 04:24:22,489 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s2/00c73abe-9e19-4e3c-b520-947f2c6143be/sm
2022-11-16 04:24:22,490 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s2/00c73abe-9e19-4e3c-b520-947f2c6143be has been successfully formatted.
2022-11-16 04:24:22,490 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:22,490 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:22,490 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:22,490 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:22,490 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:22,490 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:22,491 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:22,491 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:22,491 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-947F2C6143BE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s2/00c73abe-9e19-4e3c-b520-947f2c6143be
2022-11-16 04:24:22,491 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:22,491 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:22,491 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:22,491 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:22,491 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:22,491 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:22,491 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:22,491 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:22,491 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:22,491 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:22,492 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:22,492 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:22,492 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:22,492 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-947F2C6143BE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:22,492 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-947F2C6143BE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:22,492 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-947F2C6143BE: start as a follower, conf=-1: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:22,493 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-947F2C6143BE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:22,493 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-947F2C6143BE-FollowerState
2022-11-16 04:24:22,494 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-947F2C6143BE,id=s2
2022-11-16 04:24:22,494 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:22,494 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:22,494 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:22,494 [s2@group-947F2C6143BE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:22,494 [s2@group-947F2C6143BE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:22,494 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-16 04:24:22,495 [JvmPauseMonitor34] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-16 04:24:22,495 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:22,496 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-947F2C6143BE:t0, leader=null, voted=, raftlog=Memoized:s0@group-947F2C6143BE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-947F2C6143BE:t0, leader=null, voted=, raftlog=Memoized:s1@group-947F2C6143BE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-947F2C6143BE:t0, leader=null, voted=, raftlog=Memoized:s2@group-947F2C6143BE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:22,496 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-947F2C6143BE:t0, leader=null, voted=, raftlog=Memoized:s0@group-947F2C6143BE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-947F2C6143BE:t0, leader=null, voted=, raftlog=Memoized:s1@group-947F2C6143BE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-947F2C6143BE:t0, leader=null, voted=, raftlog=Memoized:s2@group-947F2C6143BE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-947F2C6143BE:t0, leader=null, voted=, raftlog=Memoized:s0@group-947F2C6143BE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-947F2C6143BE:t0, leader=null, voted=, raftlog=Memoized:s1@group-947F2C6143BE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-947F2C6143BE:t0, leader=null, voted=, raftlog=Memoized:s2@group-947F2C6143BE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testTransferLeaderTimeout(LeaderElectionTests.java:213)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:22,717 [s1@group-947F2C6143BE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-947F2C6143BE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:234084583ns, electionTimeout:231ms
2022-11-16 04:24:22,717 [s1@group-947F2C6143BE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-947F2C6143BE-FollowerState
2022-11-16 04:24:22,718 [s1@group-947F2C6143BE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-947F2C6143BE: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-16 04:24:22,718 [s1@group-947F2C6143BE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:22,718 [s1@group-947F2C6143BE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-947F2C6143BE-LeaderElection26
2022-11-16 04:24:22,719 [s1@group-947F2C6143BE-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-947F2C6143BE-LeaderElection26 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:22,719 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-947F2C6143BE: receive requestVote(PRE_VOTE, s1, group-947F2C6143BE, 0, (t:0, i:0))
2022-11-16 04:24:22,720 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-947F2C6143BE-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:22,720 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-947F2C6143BE replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-947F2C6143BE:t0, leader=null, voted=, raftlog=Memoized:s0@group-947F2C6143BE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:22,720 [s1@group-947F2C6143BE-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:22,720 [s1@group-947F2C6143BE-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:22,720 [s1@group-947F2C6143BE-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-947F2C6143BE-LeaderElection26: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:22,720 [s1@group-947F2C6143BE-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2022-11-16 04:24:22,720 [s1@group-947F2C6143BE-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-947F2C6143BE-LeaderElection26 PRE_VOTE round 0: result PASSED
2022-11-16 04:24:22,721 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-947F2C6143BE: receive requestVote(PRE_VOTE, s1, group-947F2C6143BE, 0, (t:0, i:0))
2022-11-16 04:24:22,722 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-947F2C6143BE-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:22,722 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-947F2C6143BE replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-947F2C6143BE:t0, leader=null, voted=, raftlog=Memoized:s2@group-947F2C6143BE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:22,722 [s1@group-947F2C6143BE-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-947F2C6143BE-LeaderElection26 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:22,723 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-947F2C6143BE: receive requestVote(ELECTION, s1, group-947F2C6143BE, 1, (t:0, i:0))
2022-11-16 04:24:22,723 [s1@group-947F2C6143BE-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:22,723 [s1@group-947F2C6143BE-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:22,723 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-947F2C6143BE-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:22,724 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-947F2C6143BE: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-11-16 04:24:22,724 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-947F2C6143BE-FollowerState
2022-11-16 04:24:22,724 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-947F2C6143BE-FollowerState
2022-11-16 04:24:22,724 [s0@group-947F2C6143BE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-947F2C6143BE-FollowerState was interrupted
2022-11-16 04:24:22,726 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-947F2C6143BE: receive requestVote(ELECTION, s1, group-947F2C6143BE, 1, (t:0, i:0))
2022-11-16 04:24:22,727 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-947F2C6143BE-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:22,727 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-947F2C6143BE: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-11-16 04:24:22,727 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-947F2C6143BE-FollowerState
2022-11-16 04:24:22,727 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-947F2C6143BE-FollowerState
2022-11-16 04:24:22,727 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-947F2C6143BE replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-947F2C6143BE:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-947F2C6143BE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:22,727 [s2@group-947F2C6143BE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-947F2C6143BE-FollowerState was interrupted
2022-11-16 04:24:22,727 [s1@group-947F2C6143BE-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-947F2C6143BE-LeaderElection26: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:22,727 [s1@group-947F2C6143BE-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2022-11-16 04:24:22,727 [s1@group-947F2C6143BE-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-947F2C6143BE-LeaderElection26 ELECTION round 0: result PASSED
2022-11-16 04:24:22,727 [s1@group-947F2C6143BE-LeaderElection26] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-947F2C6143BE-LeaderElection26
2022-11-16 04:24:22,727 [s1@group-947F2C6143BE-LeaderElection26] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-947F2C6143BE: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-16 04:24:22,727 [s1@group-947F2C6143BE-LeaderElection26] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-947F2C6143BE: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 268ms
2022-11-16 04:24:22,727 [s1@group-947F2C6143BE-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:22,728 [s1@group-947F2C6143BE-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:22,728 [s1@group-947F2C6143BE-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:22,728 [s1@group-947F2C6143BE-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:22,728 [s1@group-947F2C6143BE-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:22,728 [s1@group-947F2C6143BE-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:22,728 [s1@group-947F2C6143BE-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:22,728 [s1@group-947F2C6143BE-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:22,728 [s1@group-947F2C6143BE-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:22,728 [s1@group-947F2C6143BE-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:22,728 [s1@group-947F2C6143BE-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:22,728 [s1@group-947F2C6143BE-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:22,729 [s1@group-947F2C6143BE-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:22,729 [s1@group-947F2C6143BE-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:22,729 [s1@group-947F2C6143BE-LeaderElection26] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-947F2C6143BE-LeaderStateImpl
2022-11-16 04:24:22,729 [s1@group-947F2C6143BE-LeaderElection26] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-947F2C6143BE-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:22,733 [s0@group-947F2C6143BE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:22,733 [s0@group-947F2C6143BE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:22,737 [s2@group-947F2C6143BE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:22,738 [s2@group-947F2C6143BE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:22,743 [s1@group-947F2C6143BE-LeaderElection26] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-947F2C6143BE: set configuration 0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:22,743 [s1@group-947F2C6143BE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-947F2C6143BE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s1/00c73abe-9e19-4e3c-b520-947f2c6143be/current/log_inprogress_0
2022-11-16 04:24:22,743 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-947F2C6143BE: change Leader from null to s1 at term 1 for appendEntries, leader elected after 290ms
2022-11-16 04:24:22,744 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-947F2C6143BE replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-947F2C6143BE:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-947F2C6143BE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:22,744 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-947F2C6143BE: change Leader from null to s1 at term 1 for appendEntries, leader elected after 277ms
2022-11-16 04:24:22,745 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-947F2C6143BE: receive appendEntries(s1, 1, null, 0, true, commits:[s1:c0, s0:c-1, s2:c-1], cId:1569, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43299"
dataStreamAddress: "localhost:35131"
clientAddress: "localhost:38587"
adminAddress: "localhost:46219"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37861"
dataStreamAddress: "localhost:36547"
clientAddress: "localhost:45225"
adminAddress: "localhost:37199"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:45699"
dataStreamAddress: "localhost:38391"
clientAddress: "localhost:38279"
adminAddress: "localhost:42051"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:22,745 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-947F2C6143BE: set configuration 0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:22,745 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-947F2C6143BE-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:22,750 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-947F2C6143BE: receive appendEntries(s1, 1, null, 0, true, commits:[s1:c0, s0:c-1, s2:c-1], cId:1570, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43299"
dataStreamAddress: "localhost:35131"
clientAddress: "localhost:38587"
adminAddress: "localhost:46219"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37861"
dataStreamAddress: "localhost:36547"
clientAddress: "localhost:45225"
adminAddress: "localhost:37199"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:45699"
dataStreamAddress: "localhost:38391"
clientAddress: "localhost:38279"
adminAddress: "localhost:42051"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:22,751 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-947F2C6143BE: set configuration 0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:22,751 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-947F2C6143BE-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:22,763 [s0@group-947F2C6143BE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-947F2C6143BE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s0/00c73abe-9e19-4e3c-b520-947f2c6143be/current/log_inprogress_0
2022-11-16 04:24:22,764 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-947F2C6143BE: succeeded to handle AppendEntries. Reply: s1<-s0#1569:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-16 04:24:22,764 [s2@group-947F2C6143BE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-947F2C6143BE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpce2a7fea7/s2/00c73abe-9e19-4e3c-b520-947f2c6143be/current/log_inprogress_0
2022-11-16 04:24:22,765 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-947F2C6143BE: succeeded to handle AppendEntries. Reply: s1<-s2#1570:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-16 04:24:22,947 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-947F2C6143BE:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-947F2C6143BE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-947F2C6143BE:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-947F2C6143BE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-947F2C6143BE:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-947F2C6143BE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:22,947 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:22,948 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1188)) - s1@group-947F2C6143BE: receive setConfiguration SetConfigurationRequest:client-04C3BDA15B94->s1@group-947F2C6143BE, cid=1589, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER], listeners:[]
2022-11-16 04:24:22,949 [s1-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(377)) - s1@group-947F2C6143BE-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-04C3BDA15B94->s1@group-947F2C6143BE, cid=1589, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER], listeners:[]
2022-11-16 04:24:22,950 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-947F2C6143BE: set configuration 1: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-16 04:24:22,950 [HandlerDaemon-0] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2022-11-16 04:24:22,951 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-947F2C6143BE: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:1590, entries: [(t:1, i:1), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:43299"
dataStreamAddress: "localhost:35131"
clientAddress: "localhost:38587"
adminAddress: "localhost:46219"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37861"
dataStreamAddress: "localhost:36547"
clientAddress: "localhost:45225"
adminAddress: "localhost:37199"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:45699"
dataStreamAddress: "localhost:38391"
clientAddress: "localhost:38279"
adminAddress: "localhost:42051"
startupRole: FOLLOWER
)]
2022-11-16 04:24:22,951 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-947F2C6143BE: set configuration 1: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-16 04:24:22,951 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-947F2C6143BE: succeeded to handle AppendEntries. Reply: s1<-s2#1590:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-16 04:24:22,952 [s1@group-947F2C6143BE-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-947F2C6143BE: set configuration 3: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:22,953 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-947F2C6143BE: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:1592, entries: [(t:1, i:2), METADATAENTRY(c:1), (t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:22,953 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-947F2C6143BE: set configuration 3: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:22,954 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-947F2C6143BE: succeeded to handle AppendEntries. Reply: s1<-s2#1592:OK-t1,SUCCESS,nextIndex=4,followerCommit=1,matchIndex=3
2022-11-16 04:24:22,955 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-947F2C6143BE: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c0, s2:c1], cId:1593, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2022-11-16 04:24:22,956 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-947F2C6143BE: succeeded to handle AppendEntries. Reply: s1<-s2#1593:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-11-16 04:24:22,958 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s1@group-947F2C6143BE: receive client request(RaftClientRequest:client-04C3BDA15B94->s1@group-947F2C6143BE, cid=1597, seq=0, RW, message)
2022-11-16 04:24:22,959 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(1080)) - s1@group-947F2C6143BE: receive transferLeadership TransferLeadershipRequest:client-04C3BDA15B94->s1@group-947F2C6143BE, cid=1596, seq=0, RO, null
2022-11-16 04:24:22,960 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(410)) - s1@group-947F2C6143BE-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-04C3BDA15B94->s1@group-947F2C6143BE, cid=1597, seq=0, RW, message, entry=(t:1, i:5), STATEMACHINELOGENTRY, 1597@client-04C3BDA15B94
2022-11-16 04:24:22,960 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-947F2C6143BE: receive appendEntries(s1, 1, (t:1, i:4), 4, true, commits:[s1:c4, s0:c0, s2:c3], cId:1598, entries: [(t:1, i:5), STATEMACHINELOGENTRY, 1597@client-04C3BDA15B94]
2022-11-16 04:24:22,961 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-947F2C6143BE: succeeded to handle AppendEntries. Reply: s1<-s2#1598:OK-t1,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2022-11-16 04:24:22,962 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-947F2C6143BE: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits:[s1:c5, s0:c0, s2:c4], cId:1599, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-16 04:24:22,963 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-947F2C6143BE: succeeded to handle AppendEntries. Reply: s1<-s2#1599:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-16 04:24:23,001 [HandlerDaemon-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2022-11-16 04:24:23,235 [s0@group-947F2C6143BE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-947F2C6143BE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:318711323ns, electionTimeout:202ms
2022-11-16 04:24:23,235 [s0@group-947F2C6143BE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-947F2C6143BE-FollowerState
2022-11-16 04:24:23,235 [s0@group-947F2C6143BE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-947F2C6143BE: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:23,235 [s0@group-947F2C6143BE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:23,235 [s0@group-947F2C6143BE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-947F2C6143BE-LeaderElection27
2022-11-16 04:24:23,236 [s0@group-947F2C6143BE-LeaderElection27] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-947F2C6143BE: change Leader from s1 to null at term 1 for PRE_VOTE
2022-11-16 04:24:23,236 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:23,337 [s0@group-1BDA9046D277-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-1BDA9046D277-FollowerState: change to CANDIDATE, lastRpcElapsedTime:411921574ns, electionTimeout:171ms
2022-11-16 04:24:23,337 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:23,338 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:23,338 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:23,338 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-LeaderElection28
2022-11-16 04:24:23,339 [s0@group-1BDA9046D277-LeaderElection28] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-1BDA9046D277: change Leader from s1 to null at term 1 for PRE_VOTE
2022-11-16 04:24:23,339 [s0@group-1BDA9046D277-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-1BDA9046D277-LeaderElection28 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:23,340 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:23,340 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1BDA9046D277-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-16 04:24:23,340 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-1BDA9046D277:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:23,340 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:23,340 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-1BDA9046D277-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-16 04:24:23,340 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-1BDA9046D277:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:23,341 [s0@group-1BDA9046D277-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-1BDA9046D277-LeaderElection28: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:23,341 [s0@group-1BDA9046D277-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-16 04:24:23,341 [s0@group-1BDA9046D277-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-16 04:24:23,341 [s0@group-1BDA9046D277-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-1BDA9046D277-LeaderElection28 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:23,341 [s0@group-1BDA9046D277-LeaderElection28] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:23,341 [s0@group-1BDA9046D277-LeaderElection28] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-1BDA9046D277-LeaderElection28
2022-11-16 04:24:23,341 [s0@group-1BDA9046D277-LeaderElection28] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:23,472 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-947F2C6143BE-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:23,472 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 0: result TIMEOUT
2022-11-16 04:24:23,472 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 1: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:23,553 [s0@group-1BDA9046D277-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-1BDA9046D277-FollowerState: change to CANDIDATE, lastRpcElapsedTime:211966492ns, electionTimeout:211ms
2022-11-16 04:24:23,553 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:23,553 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:23,553 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:23,553 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-LeaderElection29
2022-11-16 04:24:23,554 [s0@group-1BDA9046D277-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-1BDA9046D277-LeaderElection29 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:23,554 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:23,555 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1BDA9046D277-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-16 04:24:23,555 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-1BDA9046D277:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:23,555 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:23,555 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-1BDA9046D277-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-16 04:24:23,555 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-1BDA9046D277:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:23,555 [s0@group-1BDA9046D277-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-1BDA9046D277-LeaderElection29: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:23,555 [s0@group-1BDA9046D277-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-16 04:24:23,555 [s0@group-1BDA9046D277-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-16 04:24:23,555 [s0@group-1BDA9046D277-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-1BDA9046D277-LeaderElection29 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:23,555 [s0@group-1BDA9046D277-LeaderElection29] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:23,555 [s0@group-1BDA9046D277-LeaderElection29] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-1BDA9046D277-LeaderElection29
2022-11-16 04:24:23,555 [s0@group-1BDA9046D277-LeaderElection29] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:23,734 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-947F2C6143BE-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:23,734 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 1: result TIMEOUT
2022-11-16 04:24:23,734 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 2: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:23,818 [s0@group-1BDA9046D277-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-1BDA9046D277-FollowerState: change to CANDIDATE, lastRpcElapsedTime:262644464ns, electionTimeout:262ms
2022-11-16 04:24:23,818 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:23,818 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:23,818 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:23,818 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-LeaderElection30
2022-11-16 04:24:23,819 [s0@group-1BDA9046D277-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-1BDA9046D277-LeaderElection30 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:23,819 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:23,819 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1BDA9046D277-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-16 04:24:23,819 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-1BDA9046D277:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:23,820 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:23,820 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-1BDA9046D277-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-16 04:24:23,820 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-1BDA9046D277:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:23,820 [s0@group-1BDA9046D277-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-1BDA9046D277-LeaderElection30: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:23,820 [s0@group-1BDA9046D277-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-16 04:24:23,820 [s0@group-1BDA9046D277-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-16 04:24:23,820 [s0@group-1BDA9046D277-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-1BDA9046D277-LeaderElection30 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:23,820 [s0@group-1BDA9046D277-LeaderElection30] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:23,820 [s0@group-1BDA9046D277-LeaderElection30] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-1BDA9046D277-LeaderElection30
2022-11-16 04:24:23,820 [s0@group-1BDA9046D277-LeaderElection30] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:23,954 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-947F2C6143BE-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:23,954 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 2: result TIMEOUT
2022-11-16 04:24:23,954 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 3: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:24,050 [s0@group-1BDA9046D277-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-1BDA9046D277-FollowerState: change to CANDIDATE, lastRpcElapsedTime:229671992ns, electionTimeout:229ms
2022-11-16 04:24:24,050 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:24,050 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:24,050 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:24,050 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-LeaderElection31
2022-11-16 04:24:24,051 [s0@group-1BDA9046D277-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-1BDA9046D277-LeaderElection31 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:24,051 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:24,052 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-1BDA9046D277-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-16 04:24:24,052 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-1BDA9046D277:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:24,052 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:24,052 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1BDA9046D277-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-16 04:24:24,052 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-1BDA9046D277:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:24,052 [s0@group-1BDA9046D277-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-1BDA9046D277-LeaderElection31: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:24,052 [s0@group-1BDA9046D277-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-16 04:24:24,052 [s0@group-1BDA9046D277-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-16 04:24:24,052 [s0@group-1BDA9046D277-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-1BDA9046D277-LeaderElection31 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:24,052 [s0@group-1BDA9046D277-LeaderElection31] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:24,052 [s0@group-1BDA9046D277-LeaderElection31] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-1BDA9046D277-LeaderElection31
2022-11-16 04:24:24,053 [s0@group-1BDA9046D277-LeaderElection31] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:24,158 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-947F2C6143BE-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:24,159 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 3: result TIMEOUT
2022-11-16 04:24:24,159 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 4: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:24,326 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-947F2C6143BE-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:24,326 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 4: result TIMEOUT
2022-11-16 04:24:24,327 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 5: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:24,348 [s0@group-1BDA9046D277-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-1BDA9046D277-FollowerState: change to CANDIDATE, lastRpcElapsedTime:295751638ns, electionTimeout:295ms
2022-11-16 04:24:24,348 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:24,348 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:24,349 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:24,349 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-LeaderElection32
2022-11-16 04:24:24,349 [s0@group-1BDA9046D277-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-1BDA9046D277-LeaderElection32 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:24,350 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:24,350 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-1BDA9046D277-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-16 04:24:24,350 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-1BDA9046D277:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:24,350 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:24,350 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1BDA9046D277-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-16 04:24:24,350 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-1BDA9046D277:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:24,351 [s0@group-1BDA9046D277-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-1BDA9046D277-LeaderElection32: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:24,351 [s0@group-1BDA9046D277-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-16 04:24:24,351 [s0@group-1BDA9046D277-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-16 04:24:24,351 [s0@group-1BDA9046D277-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-1BDA9046D277-LeaderElection32 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:24,351 [s0@group-1BDA9046D277-LeaderElection32] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:24,351 [s0@group-1BDA9046D277-LeaderElection32] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-1BDA9046D277-LeaderElection32
2022-11-16 04:24:24,351 [s0@group-1BDA9046D277-LeaderElection32] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:24,524 [s0@group-1BDA9046D277-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-1BDA9046D277-FollowerState: change to CANDIDATE, lastRpcElapsedTime:173485759ns, electionTimeout:173ms
2022-11-16 04:24:24,525 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:24,525 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:24,525 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:24,525 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-LeaderElection33
2022-11-16 04:24:24,525 [s0@group-1BDA9046D277-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-1BDA9046D277-LeaderElection33 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:24,526 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:24,526 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1BDA9046D277-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-16 04:24:24,526 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:24,526 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-1BDA9046D277:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:24,527 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-1BDA9046D277-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-16 04:24:24,527 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-1BDA9046D277:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:24,527 [s0@group-1BDA9046D277-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-1BDA9046D277-LeaderElection33: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:24,527 [s0@group-1BDA9046D277-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-16 04:24:24,527 [s0@group-1BDA9046D277-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-16 04:24:24,527 [s0@group-1BDA9046D277-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-1BDA9046D277-LeaderElection33 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:24,527 [s0@group-1BDA9046D277-LeaderElection33] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:24,527 [s0@group-1BDA9046D277-LeaderElection33] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-1BDA9046D277-LeaderElection33
2022-11-16 04:24:24,527 [s0@group-1BDA9046D277-LeaderElection33] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:24,548 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-947F2C6143BE-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:24,548 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 5: result TIMEOUT
2022-11-16 04:24:24,548 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 6: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:24,798 [s0@group-1BDA9046D277-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-1BDA9046D277-FollowerState: change to CANDIDATE, lastRpcElapsedTime:270725055ns, electionTimeout:270ms
2022-11-16 04:24:24,798 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:24,798 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:24,799 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:24,799 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-LeaderElection34
2022-11-16 04:24:24,799 [s0@group-1BDA9046D277-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-1BDA9046D277-LeaderElection34 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:24,800 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:24,800 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:24,800 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-1BDA9046D277-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-16 04:24:24,800 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1BDA9046D277-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-16 04:24:24,800 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-1BDA9046D277:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:24,800 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-1BDA9046D277:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:24,800 [s0@group-1BDA9046D277-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-1BDA9046D277-LeaderElection34: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:24,801 [s0@group-1BDA9046D277-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-16 04:24:24,801 [s0@group-1BDA9046D277-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-16 04:24:24,801 [s0@group-1BDA9046D277-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-1BDA9046D277-LeaderElection34 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:24,801 [s0@group-1BDA9046D277-LeaderElection34] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:24,801 [s0@group-1BDA9046D277-LeaderElection34] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-1BDA9046D277-LeaderElection34
2022-11-16 04:24:24,801 [s0@group-1BDA9046D277-LeaderElection34] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:24,833 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-947F2C6143BE-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:24,833 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 6: result TIMEOUT
2022-11-16 04:24:24,833 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 7: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:24,999 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-947F2C6143BE-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:24,999 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 7: result TIMEOUT
2022-11-16 04:24:24,999 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 8: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:25,043 [s0@group-1BDA9046D277-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-1BDA9046D277-FollowerState: change to CANDIDATE, lastRpcElapsedTime:242553438ns, electionTimeout:242ms
2022-11-16 04:24:25,043 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:25,044 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:25,044 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:25,044 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-LeaderElection35
2022-11-16 04:24:25,044 [s0@group-1BDA9046D277-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-1BDA9046D277-LeaderElection35 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:25,045 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:25,045 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:25,045 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-1BDA9046D277-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-16 04:24:25,045 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1BDA9046D277-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-16 04:24:25,045 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-1BDA9046D277:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:25,045 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-1BDA9046D277:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:25,046 [s0@group-1BDA9046D277-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-1BDA9046D277-LeaderElection35: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:25,046 [s0@group-1BDA9046D277-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-16 04:24:25,046 [s0@group-1BDA9046D277-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-16 04:24:25,046 [s0@group-1BDA9046D277-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-1BDA9046D277-LeaderElection35 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:25,046 [s0@group-1BDA9046D277-LeaderElection35] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:25,046 [s0@group-1BDA9046D277-LeaderElection35] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-1BDA9046D277-LeaderElection35
2022-11-16 04:24:25,046 [s0@group-1BDA9046D277-LeaderElection35] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:25,236 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-947F2C6143BE-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:25,236 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 8: result TIMEOUT
2022-11-16 04:24:25,236 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 9: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:25,238 [s0@group-1BDA9046D277-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-1BDA9046D277-FollowerState: change to CANDIDATE, lastRpcElapsedTime:191580862ns, electionTimeout:191ms
2022-11-16 04:24:25,238 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:25,238 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:25,238 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:25,238 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-LeaderElection36
2022-11-16 04:24:25,238 [s0@group-1BDA9046D277-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-1BDA9046D277-LeaderElection36 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:25,239 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:25,239 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1BDA9046D277-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-16 04:24:25,239 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-1BDA9046D277:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:25,239 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:25,239 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-1BDA9046D277-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-16 04:24:25,239 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-1BDA9046D277:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:25,240 [s0@group-1BDA9046D277-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-1BDA9046D277-LeaderElection36: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:25,240 [s0@group-1BDA9046D277-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-16 04:24:25,240 [s0@group-1BDA9046D277-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-16 04:24:25,240 [s0@group-1BDA9046D277-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-1BDA9046D277-LeaderElection36 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:25,240 [s0@group-1BDA9046D277-LeaderElection36] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:25,240 [s0@group-1BDA9046D277-LeaderElection36] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-1BDA9046D277-LeaderElection36
2022-11-16 04:24:25,240 [s0@group-1BDA9046D277-LeaderElection36] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:25,406 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-947F2C6143BE-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:25,407 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 9: result TIMEOUT
2022-11-16 04:24:25,407 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 10: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:25,466 [s0@group-1BDA9046D277-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-1BDA9046D277-FollowerState: change to CANDIDATE, lastRpcElapsedTime:226041551ns, electionTimeout:222ms
2022-11-16 04:24:25,466 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:25,466 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:25,466 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:25,466 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-LeaderElection37
2022-11-16 04:24:25,467 [s0@group-1BDA9046D277-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-1BDA9046D277-LeaderElection37 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:25,467 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:25,467 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1BDA9046D277-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-16 04:24:25,467 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-1BDA9046D277:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:25,467 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:25,468 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-1BDA9046D277-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-16 04:24:25,468 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-1BDA9046D277:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:25,469 [s0@group-1BDA9046D277-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-1BDA9046D277-LeaderElection37: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:25,469 [s0@group-1BDA9046D277-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-16 04:24:25,469 [s0@group-1BDA9046D277-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-16 04:24:25,469 [s0@group-1BDA9046D277-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-1BDA9046D277-LeaderElection37 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:25,469 [s0@group-1BDA9046D277-LeaderElection37] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:25,469 [s0@group-1BDA9046D277-LeaderElection37] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-1BDA9046D277-LeaderElection37
2022-11-16 04:24:25,469 [s0@group-1BDA9046D277-LeaderElection37] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:25,636 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-947F2C6143BE-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:25,637 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 10: result TIMEOUT
2022-11-16 04:24:25,637 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 11: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:25,653 [s0@group-1BDA9046D277-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-1BDA9046D277-FollowerState: change to CANDIDATE, lastRpcElapsedTime:183569072ns, electionTimeout:183ms
2022-11-16 04:24:25,653 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:25,653 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:25,653 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:25,653 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-LeaderElection38
2022-11-16 04:24:25,653 [s0@group-1BDA9046D277-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-1BDA9046D277-LeaderElection38 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:25,654 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:25,654 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1BDA9046D277-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-16 04:24:25,654 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-1BDA9046D277:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:25,654 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:25,654 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-1BDA9046D277-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-16 04:24:25,654 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-1BDA9046D277:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:25,655 [s0@group-1BDA9046D277-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-1BDA9046D277-LeaderElection38: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:25,655 [s0@group-1BDA9046D277-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-16 04:24:25,655 [s0@group-1BDA9046D277-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-16 04:24:25,655 [s0@group-1BDA9046D277-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-1BDA9046D277-LeaderElection38 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:25,655 [s0@group-1BDA9046D277-LeaderElection38] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:25,655 [s0@group-1BDA9046D277-LeaderElection38] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-1BDA9046D277-LeaderElection38
2022-11-16 04:24:25,655 [s0@group-1BDA9046D277-LeaderElection38] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:25,834 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-947F2C6143BE-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:25,834 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 11: result TIMEOUT
2022-11-16 04:24:25,834 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 12: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:25,868 [s0@group-1BDA9046D277-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-1BDA9046D277-FollowerState: change to CANDIDATE, lastRpcElapsedTime:213461610ns, electionTimeout:213ms
2022-11-16 04:24:25,868 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:25,869 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:25,869 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:25,869 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-LeaderElection39
2022-11-16 04:24:25,869 [s0@group-1BDA9046D277-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-1BDA9046D277-LeaderElection39 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:25,870 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:25,870 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1BDA9046D277-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-16 04:24:25,870 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-1BDA9046D277:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:25,871 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:25,871 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-1BDA9046D277-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-16 04:24:25,871 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-1BDA9046D277:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:25,871 [s0@group-1BDA9046D277-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-1BDA9046D277-LeaderElection39: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:25,871 [s0@group-1BDA9046D277-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-16 04:24:25,871 [s0@group-1BDA9046D277-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-16 04:24:25,871 [s0@group-1BDA9046D277-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-1BDA9046D277-LeaderElection39 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:25,872 [s0@group-1BDA9046D277-LeaderElection39] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:25,872 [s0@group-1BDA9046D277-LeaderElection39] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-1BDA9046D277-LeaderElection39
2022-11-16 04:24:25,872 [s0@group-1BDA9046D277-LeaderElection39] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:25,950 [s1@group-947F2C6143BE->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s1@group-947F2C6143BE->s0-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: Timeout while waiting for reply of request org.apache.ratis.server.simulation.RaftServerRequest@30bf7b6a
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:25,964 [Thread-659] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-04C3BDA15B94: suggested new leader: null. Failed TransferLeadershipRequest:client-04C3BDA15B94->s1@group-947F2C6143BE, cid=1596, seq=0, RO, null with {}
java.io.IOException: Timeout while waiting for reply of request TransferLeadershipRequest:client-04C3BDA15B94->s1@group-947F2C6143BE, cid=1596, seq=0, RO, null
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:134)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:99)
	at org.apache.ratis.client.impl.AdminImpl.transferLeadership(AdminImpl.java:53)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testTransferLeaderTimeout$1(LeaderElectionTests.java:232)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:25,966 [Thread-659] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-04C3BDA15B94: oldLeader=s1,  curLeader=s1, newLeader=s0
2022-11-16 04:24:25,967 [Thread-659] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-947F2C6143BE client-04C3BDA15B94: client change Leader from s1 to s0 ex=java.io.IOException
2022-11-16 04:24:25,976 [HandlerDaemon-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2022-11-16 04:24:25,991 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-947F2C6143BE-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:25,991 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 12: result TIMEOUT
2022-11-16 04:24:25,991 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 13: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:26,001 [s1@group-1BDA9046D277->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s1@group-1BDA9046D277->s0-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: Timeout while waiting for reply of request org.apache.ratis.server.simulation.RaftServerRequest@ffa0bdc
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:26,027 [HandlerDaemon-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2022-11-16 04:24:26,066 [s0@group-1BDA9046D277-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-1BDA9046D277-FollowerState: change to CANDIDATE, lastRpcElapsedTime:194723497ns, electionTimeout:194ms
2022-11-16 04:24:26,067 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:26,067 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:26,067 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:26,067 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-LeaderElection40
2022-11-16 04:24:26,067 [s0@group-1BDA9046D277-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-1BDA9046D277-LeaderElection40 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:26,068 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(1080)) - s0@group-947F2C6143BE: receive transferLeadership TransferLeadershipRequest:client-04C3BDA15B94->s0@group-947F2C6143BE, cid=1596, seq=0, RO, null
2022-11-16 04:24:26,069 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:26,069 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1BDA9046D277-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-16 04:24:26,070 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-1BDA9046D277:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:26,070 [Thread-659] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-04C3BDA15B94: suggested new leader: null. Failed TransferLeadershipRequest:client-04C3BDA15B94->s0@group-947F2C6143BE, cid=1596, seq=0, RO, null with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-947F2C6143BE is not the leader
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:732)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:697)
	at org.apache.ratis.server.impl.RaftServerImpl.transferLeadershipAsync(RaftServerImpl.java:1085)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$transferLeadershipAsync$24(RaftServerProxy.java:617)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$11(RaftServerImpl.java:813)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:26,070 [Thread-659] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-04C3BDA15B94: oldLeader=s0,  curLeader=s0, newLeader=s2
2022-11-16 04:24:26,070 [Thread-659] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-947F2C6143BE client-04C3BDA15B94: client change Leader from s0 to s2 ex=org.apache.ratis.protocol.exceptions.NotLeaderException
2022-11-16 04:24:26,071 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:26,071 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-1BDA9046D277-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-16 04:24:26,071 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-1BDA9046D277:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:26,071 [s0@group-1BDA9046D277-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-1BDA9046D277-LeaderElection40: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:26,071 [s0@group-1BDA9046D277-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-16 04:24:26,071 [s0@group-1BDA9046D277-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-16 04:24:26,072 [s0@group-1BDA9046D277-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-1BDA9046D277-LeaderElection40 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:26,072 [s0@group-1BDA9046D277-LeaderElection40] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:26,072 [s0@group-1BDA9046D277-LeaderElection40] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-1BDA9046D277-LeaderElection40
2022-11-16 04:24:26,072 [s0@group-1BDA9046D277-LeaderElection40] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:26,145 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-947F2C6143BE-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:26,145 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 13: result TIMEOUT
2022-11-16 04:24:26,145 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 14: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:26,171 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(1080)) - s2@group-947F2C6143BE: receive transferLeadership TransferLeadershipRequest:client-04C3BDA15B94->s2@group-947F2C6143BE, cid=1596, seq=0, RO, null
2022-11-16 04:24:26,172 [Thread-659] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-04C3BDA15B94: suggested new leader: s1. Failed TransferLeadershipRequest:client-04C3BDA15B94->s2@group-947F2C6143BE, cid=1596, seq=0, RO, null with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-947F2C6143BE is not the leader s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:732)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:697)
	at org.apache.ratis.server.impl.RaftServerImpl.transferLeadershipAsync(RaftServerImpl.java:1085)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$transferLeadershipAsync$24(RaftServerProxy.java:617)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$11(RaftServerImpl.java:813)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:26,172 [Thread-659] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-04C3BDA15B94: oldLeader=s2,  curLeader=s2, newLeader=s1
2022-11-16 04:24:26,172 [Thread-659] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-947F2C6143BE client-04C3BDA15B94: client change Leader from s2 to s1 ex=org.apache.ratis.protocol.exceptions.NotLeaderException
2022-11-16 04:24:26,273 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(1080)) - s1@group-947F2C6143BE: receive transferLeadership TransferLeadershipRequest:client-04C3BDA15B94->s1@group-947F2C6143BE, cid=1596, seq=0, RO, null
2022-11-16 04:24:26,352 [s0@group-1BDA9046D277-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-1BDA9046D277-FollowerState: change to CANDIDATE, lastRpcElapsedTime:280505566ns, electionTimeout:280ms
2022-11-16 04:24:26,352 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:26,352 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:26,353 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:26,353 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-LeaderElection41
2022-11-16 04:24:26,353 [s0@group-1BDA9046D277-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-1BDA9046D277-LeaderElection41 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:26,354 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:26,354 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1BDA9046D277-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-16 04:24:26,355 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:26,355 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-1BDA9046D277-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-16 04:24:26,355 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-1BDA9046D277:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:26,355 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-1BDA9046D277:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:26,355 [s0@group-1BDA9046D277-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-1BDA9046D277-LeaderElection41: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:26,355 [s0@group-1BDA9046D277-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-16 04:24:26,356 [s0@group-1BDA9046D277-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-16 04:24:26,356 [s0@group-1BDA9046D277-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-1BDA9046D277-LeaderElection41 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:26,356 [s0@group-1BDA9046D277-LeaderElection41] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:26,356 [s0@group-1BDA9046D277-LeaderElection41] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-1BDA9046D277-LeaderElection41
2022-11-16 04:24:26,356 [s0@group-1BDA9046D277-LeaderElection41] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:26,391 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-947F2C6143BE-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:26,391 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 14: result TIMEOUT
2022-11-16 04:24:26,391 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 15: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:26,604 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-947F2C6143BE-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:26,604 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 15: result TIMEOUT
2022-11-16 04:24:26,604 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 16: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:26,613 [s0@group-1BDA9046D277-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-1BDA9046D277-FollowerState: change to CANDIDATE, lastRpcElapsedTime:257519106ns, electionTimeout:257ms
2022-11-16 04:24:26,613 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:26,613 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:26,614 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:26,614 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-LeaderElection42
2022-11-16 04:24:26,614 [s0@group-1BDA9046D277-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-1BDA9046D277-LeaderElection42 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:26,615 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:26,615 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1BDA9046D277-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-16 04:24:26,615 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-1BDA9046D277:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:26,617 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:26,617 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-1BDA9046D277-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-16 04:24:26,618 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-1BDA9046D277:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:26,618 [s0@group-1BDA9046D277-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-1BDA9046D277-LeaderElection42: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:26,618 [s0@group-1BDA9046D277-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-16 04:24:26,618 [s0@group-1BDA9046D277-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-16 04:24:26,618 [s0@group-1BDA9046D277-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-1BDA9046D277-LeaderElection42 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:26,618 [s0@group-1BDA9046D277-LeaderElection42] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:26,618 [s0@group-1BDA9046D277-LeaderElection42] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-1BDA9046D277-LeaderElection42
2022-11-16 04:24:26,618 [s0@group-1BDA9046D277-LeaderElection42] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:26,789 [s0@group-1BDA9046D277-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-1BDA9046D277-FollowerState: change to CANDIDATE, lastRpcElapsedTime:170653126ns, electionTimeout:170ms
2022-11-16 04:24:26,789 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:26,789 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:26,789 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:26,789 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-LeaderElection43
2022-11-16 04:24:26,790 [s0@group-1BDA9046D277-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-1BDA9046D277-LeaderElection43 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:26,791 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:26,791 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-1BDA9046D277-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-16 04:24:26,791 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-1BDA9046D277:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:26,792 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:26,792 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1BDA9046D277-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-16 04:24:26,792 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-1BDA9046D277:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:26,792 [s0@group-1BDA9046D277-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-1BDA9046D277-LeaderElection43: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:26,792 [s0@group-1BDA9046D277-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-16 04:24:26,792 [s0@group-1BDA9046D277-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-16 04:24:26,792 [s0@group-1BDA9046D277-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-1BDA9046D277-LeaderElection43 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:26,792 [s0@group-1BDA9046D277-LeaderElection43] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:26,792 [s0@group-1BDA9046D277-LeaderElection43] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-1BDA9046D277-LeaderElection43
2022-11-16 04:24:26,793 [s0@group-1BDA9046D277-LeaderElection43] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:26,797 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-947F2C6143BE-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:26,798 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 16: result TIMEOUT
2022-11-16 04:24:26,798 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 17: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:26,964 [s0@group-1BDA9046D277-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-1BDA9046D277-FollowerState: change to CANDIDATE, lastRpcElapsedTime:171582536ns, electionTimeout:171ms
2022-11-16 04:24:26,964 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:26,964 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:26,964 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:26,965 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-LeaderElection44
2022-11-16 04:24:26,965 [s0@group-1BDA9046D277-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-1BDA9046D277-LeaderElection44 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:26,966 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:26,966 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1BDA9046D277-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-16 04:24:26,966 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-1BDA9046D277:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:26,966 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:26,966 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-1BDA9046D277-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-16 04:24:26,966 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-1BDA9046D277:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:26,968 [s0@group-1BDA9046D277-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-1BDA9046D277-LeaderElection44: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:26,968 [s0@group-1BDA9046D277-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-16 04:24:26,968 [s0@group-1BDA9046D277-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-16 04:24:26,968 [s0@group-1BDA9046D277-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-1BDA9046D277-LeaderElection44 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:26,968 [s0@group-1BDA9046D277-LeaderElection44] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:26,968 [s0@group-1BDA9046D277-LeaderElection44] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-1BDA9046D277-LeaderElection44
2022-11-16 04:24:26,968 [s0@group-1BDA9046D277-LeaderElection44] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:26,968 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-947F2C6143BE-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:26,968 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 17: result TIMEOUT
2022-11-16 04:24:26,968 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 18: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:27,168 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-947F2C6143BE-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:27,168 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 18: result TIMEOUT
2022-11-16 04:24:27,168 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 19: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:27,206 [s0@group-1BDA9046D277-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-1BDA9046D277-FollowerState: change to CANDIDATE, lastRpcElapsedTime:238081787ns, electionTimeout:237ms
2022-11-16 04:24:27,206 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:27,206 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:27,206 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:27,206 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-LeaderElection45
2022-11-16 04:24:27,207 [s0@group-1BDA9046D277-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-1BDA9046D277-LeaderElection45 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:27,207 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:27,207 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1BDA9046D277-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-16 04:24:27,208 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-1BDA9046D277:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:27,208 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:27,208 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-1BDA9046D277-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-16 04:24:27,208 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-1BDA9046D277:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:27,208 [s0@group-1BDA9046D277-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-1BDA9046D277-LeaderElection45: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:27,208 [s0@group-1BDA9046D277-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-16 04:24:27,208 [s0@group-1BDA9046D277-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-16 04:24:27,208 [s0@group-1BDA9046D277-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-1BDA9046D277-LeaderElection45 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:27,209 [s0@group-1BDA9046D277-LeaderElection45] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:27,209 [s0@group-1BDA9046D277-LeaderElection45] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-1BDA9046D277-LeaderElection45
2022-11-16 04:24:27,209 [s0@group-1BDA9046D277-LeaderElection45] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:27,340 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-947F2C6143BE-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:27,340 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 19: result TIMEOUT
2022-11-16 04:24:27,340 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 20: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:27,359 [s0@group-1BDA9046D277-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-1BDA9046D277-FollowerState: change to CANDIDATE, lastRpcElapsedTime:150648100ns, electionTimeout:150ms
2022-11-16 04:24:27,359 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:27,359 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:27,360 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:27,360 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-LeaderElection46
2022-11-16 04:24:27,360 [s0@group-1BDA9046D277-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-1BDA9046D277-LeaderElection46 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:27,360 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:27,360 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1BDA9046D277-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-16 04:24:27,361 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:27,361 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-1BDA9046D277-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-16 04:24:27,361 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-1BDA9046D277:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:27,361 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-1BDA9046D277:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:27,361 [s0@group-1BDA9046D277-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-1BDA9046D277-LeaderElection46: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:27,361 [s0@group-1BDA9046D277-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-16 04:24:27,361 [s0@group-1BDA9046D277-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-16 04:24:27,361 [s0@group-1BDA9046D277-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-1BDA9046D277-LeaderElection46 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:27,361 [s0@group-1BDA9046D277-LeaderElection46] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:27,361 [s0@group-1BDA9046D277-LeaderElection46] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-1BDA9046D277-LeaderElection46
2022-11-16 04:24:27,361 [s0@group-1BDA9046D277-LeaderElection46] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:27,543 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-947F2C6143BE-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:27,544 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 20: result TIMEOUT
2022-11-16 04:24:27,544 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 21: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:27,636 [s0@group-1BDA9046D277-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-1BDA9046D277-FollowerState: change to CANDIDATE, lastRpcElapsedTime:274400997ns, electionTimeout:274ms
2022-11-16 04:24:27,636 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:27,636 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:27,636 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:27,636 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-LeaderElection47
2022-11-16 04:24:27,636 [s0@group-1BDA9046D277-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-1BDA9046D277-LeaderElection47 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:27,637 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:27,637 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1BDA9046D277-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-16 04:24:27,637 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-1BDA9046D277:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:27,637 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:27,638 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-1BDA9046D277-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-16 04:24:27,638 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-1BDA9046D277:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:27,638 [s0@group-1BDA9046D277-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-1BDA9046D277-LeaderElection47: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:27,638 [s0@group-1BDA9046D277-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-16 04:24:27,638 [s0@group-1BDA9046D277-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-16 04:24:27,638 [s0@group-1BDA9046D277-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-1BDA9046D277-LeaderElection47 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:27,638 [s0@group-1BDA9046D277-LeaderElection47] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:27,638 [s0@group-1BDA9046D277-LeaderElection47] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-1BDA9046D277-LeaderElection47
2022-11-16 04:24:27,638 [s0@group-1BDA9046D277-LeaderElection47] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:27,708 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-947F2C6143BE-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:27,709 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 21: result TIMEOUT
2022-11-16 04:24:27,709 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 22: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:27,878 [s0@group-1BDA9046D277-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-1BDA9046D277-FollowerState: change to CANDIDATE, lastRpcElapsedTime:240514315ns, electionTimeout:240ms
2022-11-16 04:24:27,879 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:27,879 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:27,879 [s0@group-1BDA9046D277-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:27,879 [s0@group-1BDA9046D277-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-LeaderElection48
2022-11-16 04:24:27,879 [s0@group-1BDA9046D277-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-1BDA9046D277-LeaderElection48 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:27,880 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:27,880 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1BDA9046D277-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-16 04:24:27,880 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-1BDA9046D277:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:27,880 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-1BDA9046D277: receive requestVote(PRE_VOTE, s0, group-1BDA9046D277, 1, (t:1, i:0))
2022-11-16 04:24:27,880 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-1BDA9046D277-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-16 04:24:27,881 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-1BDA9046D277 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-1BDA9046D277:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-1BDA9046D277-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32967|admin:localhost:45143|client:localhost:44465|dataStream:localhost:38491|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44567|admin:localhost:46731|client:localhost:45189|dataStream:localhost:38937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38429|admin:localhost:45093|client:localhost:38079|dataStream:localhost:38841|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:27,881 [s0@group-1BDA9046D277-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-1BDA9046D277-LeaderElection48: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:27,881 [s0@group-1BDA9046D277-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-16 04:24:27,881 [s0@group-1BDA9046D277-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-16 04:24:27,881 [s0@group-1BDA9046D277-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-1BDA9046D277-LeaderElection48 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:27,881 [s0@group-1BDA9046D277-LeaderElection48] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1BDA9046D277: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-16 04:24:27,881 [s0@group-1BDA9046D277-LeaderElection48] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-1BDA9046D277-LeaderElection48
2022-11-16 04:24:27,881 [s0@group-1BDA9046D277-LeaderElection48] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1BDA9046D277-FollowerState
2022-11-16 04:24:27,930 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-947F2C6143BE-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-16 04:24:27,931 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 22: result TIMEOUT
2022-11-16 04:24:27,931 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 23: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:27,963 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s1@group-947F2C6143BE: receive client request(RaftClientRequest:client-04C3BDA15B94->s1@group-947F2C6143BE, cid=1867, seq=0, RW, message)
2022-11-16 04:24:27,964 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(410)) - s1@group-947F2C6143BE-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-04C3BDA15B94->s1@group-947F2C6143BE, cid=1867, seq=0, RW, message, entry=(t:1, i:7), STATEMACHINELOGENTRY, 1867@client-04C3BDA15B94
2022-11-16 04:24:27,964 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-947F2C6143BE: receive appendEntries(s1, 1, (t:1, i:6), 6, true, commits:[s1:c6, s0:c0, s2:c6], cId:1868, entries: [(t:1, i:7), STATEMACHINELOGENTRY, 1867@client-04C3BDA15B94]
2022-11-16 04:24:27,965 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-947F2C6143BE: succeeded to handle AppendEntries. Reply: s1<-s2#1868:OK-t1,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2022-11-16 04:24:27,966 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-16 04:24:27,966 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-16 04:24:27,966 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:27,966 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-16 04:24:27,966 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-16 04:24:27,967 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-947F2C6143BE:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-947F2C6143BE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-947F2C6143BE:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-947F2C6143BE-SegmentedRaftLog:OPENED:c7, conf=3: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-947F2C6143BE:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-947F2C6143BE-SegmentedRaftLog:OPENED:c6, conf=3: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:27,967 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-947F2C6143BE: receive appendEntries(s1, 1, (t:1, i:7), 7, true, commits:[s1:c7, s0:c0, s2:c6], cId:1869, entries: [(t:1, i:8), METADATAENTRY(c:7)]
2022-11-16 04:24:27,967 [MiniRaftCluster-41] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-16 04:24:27,968 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-947F2C6143BE: succeeded to handle AppendEntries. Reply: s1<-s2#1869:OK-t1,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2022-11-16 04:24:27,968 [MiniRaftCluster-42] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-16 04:24:27,970 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-947F2C6143BE: shutdown
2022-11-16 04:24:27,970 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-947F2C6143BE,id=s1
2022-11-16 04:24:27,970 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-947F2C6143BE-LeaderStateImpl
2022-11-16 04:24:27,970 [MiniRaftCluster-43] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-16 04:24:27,970 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-947F2C6143BE-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:27,971 [s1@group-947F2C6143BE->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-947F2C6143BE->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-16 04:24:27,971 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:27,971 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:27,971 [s1@group-947F2C6143BE->s2-LogAppenderDefault-LogAppenderDaemon] INFO  server.RaftServer$Division (LeaderStateImpl.java:submit(155)) - s1@group-947F2C6143BE-EventQueue: Interrupted when submitting UPDATE_COMMIT 
2022-11-16 04:24:27,971 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:27,971 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:27,972 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:27,972 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:27,972 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:27,973 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:27,973 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:27,973 [HandlerDaemon-0] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2022-11-16 04:24:27,973 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-947F2C6143BE: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:1591, entries: [(t:1, i:1), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:43299"
dataStreamAddress: "localhost:35131"
clientAddress: "localhost:38587"
adminAddress: "localhost:46219"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37861"
dataStreamAddress: "localhost:36547"
clientAddress: "localhost:45225"
adminAddress: "localhost:37199"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:45699"
dataStreamAddress: "localhost:38391"
clientAddress: "localhost:38279"
adminAddress: "localhost:42051"
startupRole: FOLLOWER
)]
2022-11-16 04:24:27,973 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-947F2C6143BE: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-11-16 04:24:27,974 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-947F2C6143BE-LeaderElection27
2022-11-16 04:24:27,974 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-947F2C6143BE-FollowerState
2022-11-16 04:24:27,974 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:27,974 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-947F2C6143BE: change Leader from null to s1 at term 1 for appendEntries, leader elected after 4737ms
2022-11-16 04:24:27,974 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-947F2C6143BE: set configuration 1: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-16 04:24:27,975 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-947F2C6143BE: succeeded to handle AppendEntries. Reply: s1<-s0#1591:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-16 04:24:27,976 [HandlerDaemon-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2022-11-16 04:24:27,976 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-947F2C6143BE: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:1591, entries: [(t:1, i:1), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:43299"
dataStreamAddress: "localhost:35131"
clientAddress: "localhost:38587"
adminAddress: "localhost:46219"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37861"
dataStreamAddress: "localhost:36547"
clientAddress: "localhost:45225"
adminAddress: "localhost:37199"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:45699"
dataStreamAddress: "localhost:38391"
clientAddress: "localhost:38279"
adminAddress: "localhost:42051"
startupRole: FOLLOWER
)]
2022-11-16 04:24:27,977 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-947F2C6143BE: set configuration 1: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-16 04:24:27,977 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-947F2C6143BE: succeeded to handle AppendEntries. Reply: s1<-s0#1591:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-16 04:24:27,981 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-947F2C6143BE: shutdown
2022-11-16 04:24:27,982 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-947F2C6143BE,id=s0
2022-11-16 04:24:27,982 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-947F2C6143BE-FollowerState
2022-11-16 04:24:27,982 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-947F2C6143BE-StateMachineUpdater: set stopIndex = 0
2022-11-16 04:24:27,982 [s0@group-947F2C6143BE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-947F2C6143BE-FollowerState was interrupted
2022-11-16 04:24:27,985 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-947F2C6143BE: applyIndex: 0
2022-11-16 04:24:27,985 [s0@group-947F2C6143BE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-947F2C6143BE-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:27,990 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-947F2C6143BE-StateMachineUpdater: set stopIndex = 7
2022-11-16 04:24:27,991 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-947F2C6143BE: applyIndex: 7
2022-11-16 04:24:27,991 [s1@group-947F2C6143BE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-947F2C6143BE-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:27,991 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:27,992 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-947F2C6143BE-SegmentedRaftLogWorker close()
2022-11-16 04:24:27,992 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-947F2C6143BE: shutdown
2022-11-16 04:24:27,992 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-947F2C6143BE,id=s2
2022-11-16 04:24:27,992 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-947F2C6143BE-FollowerState
2022-11-16 04:24:27,992 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-947F2C6143BE-StateMachineUpdater: set stopIndex = 7
2022-11-16 04:24:27,992 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:27,992 [s2@group-947F2C6143BE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-947F2C6143BE-FollowerState was interrupted
2022-11-16 04:24:27,992 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:27,993 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:27,993 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-947F2C6143BE: applyIndex: 7
2022-11-16 04:24:27,993 [JvmPauseMonitor32] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-16 04:24:27,993 [s2@group-947F2C6143BE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-947F2C6143BE-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:27,995 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:27,996 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:27,996 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-947F2C6143BE-SegmentedRaftLogWorker close()
2022-11-16 04:24:27,996 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-947F2C6143BE-SegmentedRaftLogWorker close()
2022-11-16 04:24:27,997 [JvmPauseMonitor33] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-16 04:24:27,997 [JvmPauseMonitor34] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-16 04:24:27,998 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-16 04:24:27,998 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-16 04:24:27,998 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-16 04:24:27,998 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:27,998 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-16 04:24:27,998 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-16 04:24:27,998 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-947F2C6143BE:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-947F2C6143BE-SegmentedRaftLog:CLOSED:c0, conf=1: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:43299|admin:localhost:46219|client:localhost:38587|dataStream:localhost:35131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37861|admin:localhost:37199|client:localhost:45225|dataStream:localhost:36547|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45699|admin:localhost:42051|client:localhost:38279|dataStream:localhost:38391|priority:0|startupRole:FOLLOWER]|listeners:[] CLOSED
  s1:   CLOSED    LEADER s1@group-947F2C6143BE:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-947F2C6143BE-SegmentedRaftLog:CLOSED:c7, conf=3: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-947F2C6143BE:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-947F2C6143BE-SegmentedRaftLog:CLOSED:c7, conf=3: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2022-11-16 04:24:28,002 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-16 04:24:28,002 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-16 04:24:28,002 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-16 04:24:28,002 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-16 04:24:28,002 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-16 04:24:28,003 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testBasicLeaderElection(87)) - Running testBasicLeaderElection
2022-11-16 04:24:28,003 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-16 04:24:28,004 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-441FDCB73124:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]
2022-11-16 04:24:28,004 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-16 04:24:28,004 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-16 04:24:28,004 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:28,004 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-16 04:24:28,004 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-16 04:24:28,004 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-16 04:24:28,004 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-441FDCB73124:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:28,004 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s3
2022-11-16 04:24:28,004 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s3 does not exist.
2022-11-16 04:24:28,004 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s3
2022-11-16 04:24:28,004 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:28,005 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:28,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:28,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:28,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:28,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:28,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s3] (custom)
2022-11-16 04:24:28,006 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-441FDCB73124:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER] returns group-441FDCB73124:java.util.concurrent.CompletableFuture@67bc74e5[Not completed]
2022-11-16 04:24:28,014 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s4, group-441FDCB73124:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:28,014 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s4
2022-11-16 04:24:28,014 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s4 does not exist.
2022-11-16 04:24:28,014 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s4
2022-11-16 04:24:28,014 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:28,014 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:28,014 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:28,014 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:28,015 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:28,015 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:28,015 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s4] (custom)
2022-11-16 04:24:28,006 [pool-36-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-441FDCB73124:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:28,015 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:28,015 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:28,015 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:28,015 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:28,015 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:28,015 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:28,015 [pool-36-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-441FDCB73124: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:28,015 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:28,015 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:28,015 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:28,016 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:28,016 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:28,016 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:28,016 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:28,016 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:28,016 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:28,016 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:28,017 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s4: addNew group-441FDCB73124:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER] returns group-441FDCB73124:java.util.concurrent.CompletableFuture@13568523[Not completed]
2022-11-16 04:24:28,017 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-441FDCB73124:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:28,017 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s0
2022-11-16 04:24:28,017 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s0 does not exist.
2022-11-16 04:24:28,017 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s0
2022-11-16 04:24:28,017 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:28,017 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:28,017 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:28,018 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:28,018 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:28,018 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:28,018 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s0] (custom)
2022-11-16 04:24:28,018 [pool-37-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s4: new RaftServerImpl for group-441FDCB73124:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:28,018 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:28,018 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:28,018 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:28,018 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:28,018 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:28,018 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:28,018 [pool-37-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-441FDCB73124: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:28,018 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:28,018 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:28,018 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:28,018 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:28,019 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:28,019 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:28,019 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:28,019 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:28,019 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:28,019 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:28,020 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-441FDCB73124:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER] returns group-441FDCB73124:java.util.concurrent.CompletableFuture@7282578d[Not completed]
2022-11-16 04:24:28,020 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-441FDCB73124:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:28,020 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s1
2022-11-16 04:24:28,020 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s1 does not exist.
2022-11-16 04:24:28,020 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s1
2022-11-16 04:24:28,020 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:28,020 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:28,020 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:28,020 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:28,020 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:28,020 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:28,020 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s1] (custom)
2022-11-16 04:24:28,021 [pool-38-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-441FDCB73124:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:28,021 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:28,021 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:28,021 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:28,021 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:28,021 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:28,021 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:28,021 [pool-38-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-441FDCB73124: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:28,021 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:28,021 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:28,021 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:28,021 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:28,021 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:28,022 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:28,022 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:28,022 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:28,022 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:28,022 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:28,022 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-441FDCB73124:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER] returns group-441FDCB73124:java.util.concurrent.CompletableFuture@46df2719[Not completed]
2022-11-16 04:24:28,022 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-441FDCB73124:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:28,022 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s2
2022-11-16 04:24:28,022 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s2 does not exist.
2022-11-16 04:24:28,022 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s2
2022-11-16 04:24:28,023 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:28,023 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:28,023 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:28,023 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:28,023 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:28,023 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:28,023 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s2] (custom)
2022-11-16 04:24:28,023 [pool-39-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-441FDCB73124:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:28,023 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:28,023 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:28,023 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:28,023 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:28,023 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:28,023 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:28,024 [pool-39-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-441FDCB73124: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:28,024 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:28,024 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:28,024 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:28,024 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:28,024 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:28,024 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:28,024 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:28,024 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:28,024 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:28,024 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:28,025 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-441FDCB73124:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER] returns group-441FDCB73124:java.util.concurrent.CompletableFuture@47d7c5a7[Not completed]
2022-11-16 04:24:28,025 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:28,025 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:28,025 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s3] (custom)
2022-11-16 04:24:28,025 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s3/f7f303a2-b714-47ce-9bf9-441fdcb73124 does not exist. Creating ...
2022-11-16 04:24:28,026 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s3/f7f303a2-b714-47ce-9bf9-441fdcb73124
2022-11-16 04:24:28,026 [pool-40-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-441FDCB73124:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:28,026 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:28,026 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:28,026 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:28,026 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:28,026 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:28,026 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:28,026 [pool-40-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-441FDCB73124: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:28,026 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:28,026 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:28,026 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:28,026 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:28,026 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:28,027 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:28,027 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:28,027 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:28,027 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:28,027 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:28,028 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s3/f7f303a2-b714-47ce-9bf9-441fdcb73124/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:28,028 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s3/f7f303a2-b714-47ce-9bf9-441fdcb73124/current
2022-11-16 04:24:28,028 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s3/f7f303a2-b714-47ce-9bf9-441fdcb73124/sm
2022-11-16 04:24:28,029 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s3/f7f303a2-b714-47ce-9bf9-441fdcb73124 has been successfully formatted.
2022-11-16 04:24:28,029 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:28,030 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:28,030 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:28,030 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:28,030 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:28,030 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:28,030 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:28,030 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:28,030 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s3@group-441FDCB73124-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s3/f7f303a2-b714-47ce-9bf9-441fdcb73124
2022-11-16 04:24:28,030 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:28,030 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:28,030 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:28,030 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:28,030 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:28,030 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:28,030 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:28,030 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:28,030 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:28,031 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:28,031 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:28,031 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:28,031 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:28,031 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-441FDCB73124-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:28,031 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-441FDCB73124-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:28,032 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s3@group-441FDCB73124: start as a follower, conf=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,032 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:28,032 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:28,032 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-441FDCB73124,id=s3
2022-11-16 04:24:28,032 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:28,032 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:28,032 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:28,032 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:28,033 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:28,033 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s3: start RPC server
2022-11-16 04:24:28,034 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:28,034 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:28,034 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s4] (custom)
2022-11-16 04:24:28,034 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s4/f7f303a2-b714-47ce-9bf9-441fdcb73124 does not exist. Creating ...
2022-11-16 04:24:28,034 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s4/f7f303a2-b714-47ce-9bf9-441fdcb73124
2022-11-16 04:24:28,034 [JvmPauseMonitor35] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s3: Started
2022-11-16 04:24:28,035 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s4/f7f303a2-b714-47ce-9bf9-441fdcb73124/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:28,035 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s4/f7f303a2-b714-47ce-9bf9-441fdcb73124/current
2022-11-16 04:24:28,035 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s4/f7f303a2-b714-47ce-9bf9-441fdcb73124/sm
2022-11-16 04:24:28,036 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s4/f7f303a2-b714-47ce-9bf9-441fdcb73124 has been successfully formatted.
2022-11-16 04:24:28,036 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:28,036 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:28,037 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:28,037 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:28,037 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:28,037 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:28,037 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:28,037 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:28,037 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s4@group-441FDCB73124-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s4/f7f303a2-b714-47ce-9bf9-441fdcb73124
2022-11-16 04:24:28,037 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:28,037 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:28,037 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:28,037 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:28,037 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:28,037 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:28,037 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:28,037 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:28,037 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:28,037 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:28,046 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:28,046 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:28,046 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:28,046 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-441FDCB73124-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:28,046 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-441FDCB73124-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:28,053 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s4@group-441FDCB73124: start as a follower, conf=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,053 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-441FDCB73124: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:28,053 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-441FDCB73124-FollowerState
2022-11-16 04:24:28,054 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-441FDCB73124,id=s4
2022-11-16 04:24:28,054 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:28,054 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:28,054 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:28,054 [s4@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:28,054 [s4@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:28,056 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s4: start RPC server
2022-11-16 04:24:28,062 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:28,062 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:28,063 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s0] (custom)
2022-11-16 04:24:28,063 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s0/f7f303a2-b714-47ce-9bf9-441fdcb73124 does not exist. Creating ...
2022-11-16 04:24:28,063 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s0/f7f303a2-b714-47ce-9bf9-441fdcb73124
2022-11-16 04:24:28,064 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s0/f7f303a2-b714-47ce-9bf9-441fdcb73124/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:28,064 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s0/f7f303a2-b714-47ce-9bf9-441fdcb73124/current
2022-11-16 04:24:28,064 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s0/f7f303a2-b714-47ce-9bf9-441fdcb73124/sm
2022-11-16 04:24:28,065 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s0/f7f303a2-b714-47ce-9bf9-441fdcb73124 has been successfully formatted.
2022-11-16 04:24:28,065 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:28,065 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:28,065 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:28,066 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:28,066 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:28,066 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:28,066 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:28,066 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:28,066 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-441FDCB73124-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s0/f7f303a2-b714-47ce-9bf9-441fdcb73124
2022-11-16 04:24:28,066 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:28,066 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:28,066 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:28,066 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:28,066 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:28,066 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:28,066 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:28,066 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:28,066 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:28,066 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:28,067 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:28,067 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:28,067 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:28,067 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-441FDCB73124-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:28,067 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-441FDCB73124-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:28,074 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-441FDCB73124: start as a follower, conf=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,075 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-441FDCB73124: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:28,075 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-441FDCB73124-FollowerState
2022-11-16 04:24:28,075 [JvmPauseMonitor36] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s4: Started
2022-11-16 04:24:28,075 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-441FDCB73124,id=s0
2022-11-16 04:24:28,075 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:28,075 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:28,075 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:28,082 [s0@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:28,082 [s0@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:28,082 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-16 04:24:28,090 [JvmPauseMonitor37] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-16 04:24:28,090 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:28,090 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:28,090 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s1] (custom)
2022-11-16 04:24:28,090 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s1/f7f303a2-b714-47ce-9bf9-441fdcb73124 does not exist. Creating ...
2022-11-16 04:24:28,091 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s1/f7f303a2-b714-47ce-9bf9-441fdcb73124
2022-11-16 04:24:28,092 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s1/f7f303a2-b714-47ce-9bf9-441fdcb73124/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:28,092 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s1/f7f303a2-b714-47ce-9bf9-441fdcb73124/current
2022-11-16 04:24:28,092 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s1/f7f303a2-b714-47ce-9bf9-441fdcb73124/sm
2022-11-16 04:24:28,093 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s1/f7f303a2-b714-47ce-9bf9-441fdcb73124 has been successfully formatted.
2022-11-16 04:24:28,094 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:28,094 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:28,094 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:28,094 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:28,094 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:28,094 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:28,094 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:28,094 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:28,094 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-441FDCB73124-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s1/f7f303a2-b714-47ce-9bf9-441fdcb73124
2022-11-16 04:24:28,094 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:28,094 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:28,094 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:28,094 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:28,094 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:28,095 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:28,095 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:28,095 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:28,095 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:28,095 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:28,095 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:28,095 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:28,096 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:28,096 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-441FDCB73124-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:28,096 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-441FDCB73124-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:28,097 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-441FDCB73124: start as a follower, conf=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,097 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-441FDCB73124: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:28,097 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-441FDCB73124-FollowerState
2022-11-16 04:24:28,097 [s1@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:28,097 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-441FDCB73124,id=s1
2022-11-16 04:24:28,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:28,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:28,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:28,098 [s1@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:28,098 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-16 04:24:28,099 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:28,099 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:28,099 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s2] (custom)
2022-11-16 04:24:28,099 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s2/f7f303a2-b714-47ce-9bf9-441fdcb73124 does not exist. Creating ...
2022-11-16 04:24:28,100 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s2/f7f303a2-b714-47ce-9bf9-441fdcb73124
2022-11-16 04:24:28,100 [JvmPauseMonitor38] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-16 04:24:28,101 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s2/f7f303a2-b714-47ce-9bf9-441fdcb73124/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:28,101 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s2/f7f303a2-b714-47ce-9bf9-441fdcb73124/current
2022-11-16 04:24:28,101 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s2/f7f303a2-b714-47ce-9bf9-441fdcb73124/sm
2022-11-16 04:24:28,102 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s2/f7f303a2-b714-47ce-9bf9-441fdcb73124 has been successfully formatted.
2022-11-16 04:24:28,102 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:28,102 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:28,102 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:28,102 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:28,102 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:28,103 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:28,103 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:28,103 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:28,103 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-441FDCB73124-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s2/f7f303a2-b714-47ce-9bf9-441fdcb73124
2022-11-16 04:24:28,103 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:28,103 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:28,103 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:28,103 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:28,103 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:28,103 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:28,103 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:28,103 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:28,103 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:28,103 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:28,103 [HandlerDaemon-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2022-11-16 04:24:28,104 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-1BDA9046D277: change Leader from null to s1 at term 1 for appendEntries, leader elected after 4765ms
2022-11-16 04:24:28,104 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:28,104 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:28,104 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:28,104 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-441FDCB73124-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:28,104 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-441FDCB73124-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:28,104 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-441FDCB73124: start as a follower, conf=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,104 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-441FDCB73124: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:28,104 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-441FDCB73124-FollowerState
2022-11-16 04:24:28,110 [s2@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:28,110 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-441FDCB73124,id=s2
2022-11-16 04:24:28,111 [s2@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:28,111 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:28,111 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:28,111 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:28,111 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-16 04:24:28,112 [JvmPauseMonitor39] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-16 04:24:28,112 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:28,112 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t0, leader=null, voted=, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-441FDCB73124:t0, leader=null, voted=, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-441FDCB73124:t0, leader=null, voted=, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-441FDCB73124:t0, leader=null, voted=, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t0, leader=null, voted=, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:28,113 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t0, leader=null, voted=, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-441FDCB73124:t0, leader=null, voted=, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-441FDCB73124:t0, leader=null, voted=, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-441FDCB73124:t0, leader=null, voted=, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t0, leader=null, voted=, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t0, leader=null, voted=, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-441FDCB73124:t0, leader=null, voted=, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-441FDCB73124:t0, leader=null, voted=, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-441FDCB73124:t0, leader=null, voted=, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t0, leader=null, voted=, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.waitAndKillLeader(RaftTestUtil.java:132)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:90)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:28,128 [HandlerDaemon-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2022-11-16 04:24:28,199 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-947F2C6143BE-LeaderElection27: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2022-11-16 04:24:28,199 [s0@group-947F2C6143BE-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-947F2C6143BE-LeaderElection27 PRE_VOTE round 23: result REJECTED
2022-11-16 04:24:28,264 [s4@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-441FDCB73124-FollowerState: change to CANDIDATE, lastRpcElapsedTime:210067771ns, electionTimeout:209ms
2022-11-16 04:24:28,264 [s4@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-441FDCB73124-FollowerState
2022-11-16 04:24:28,264 [s4@group-441FDCB73124-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-441FDCB73124: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-16 04:24:28,264 [s4@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:28,264 [s4@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-441FDCB73124-LeaderElection49
2022-11-16 04:24:28,265 [s4@group-441FDCB73124-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-441FDCB73124-LeaderElection49 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,265 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-441FDCB73124: receive requestVote(PRE_VOTE, s4, group-441FDCB73124, 0, (t:0, i:0))
2022-11-16 04:24:28,265 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-441FDCB73124-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-11-16 04:24:28,266 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-441FDCB73124 replies to PRE_VOTE vote request: s4<-s3#0:OK-t0. Peer's state: s3@group-441FDCB73124:t0, leader=null, voted=, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,266 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-441FDCB73124: receive requestVote(PRE_VOTE, s4, group-441FDCB73124, 0, (t:0, i:0))
2022-11-16 04:24:28,266 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-441FDCB73124-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-11-16 04:24:28,266 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-441FDCB73124 replies to PRE_VOTE vote request: s4<-s0#0:OK-t0. Peer's state: s0@group-441FDCB73124:t0, leader=null, voted=, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,269 [s4@group-441FDCB73124-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:28,269 [s4@group-441FDCB73124-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:28,269 [s4@group-441FDCB73124-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-441FDCB73124-LeaderElection49: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:28,269 [s4@group-441FDCB73124-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s3#0:OK-t0
2022-11-16 04:24:28,269 [s4@group-441FDCB73124-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s4<-s0#0:OK-t0
2022-11-16 04:24:28,269 [s4@group-441FDCB73124-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-441FDCB73124-LeaderElection49 PRE_VOTE round 0: result PASSED
2022-11-16 04:24:28,271 [s4@group-441FDCB73124-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-441FDCB73124-LeaderElection49 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,271 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-441FDCB73124: receive requestVote(ELECTION, s4, group-441FDCB73124, 1, (t:0, i:0))
2022-11-16 04:24:28,272 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-441FDCB73124: receive requestVote(PRE_VOTE, s4, group-441FDCB73124, 0, (t:0, i:0))
2022-11-16 04:24:28,272 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-441FDCB73124-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-11-16 04:24:28,272 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-441FDCB73124 replies to PRE_VOTE vote request: s4<-s1#0:OK-t0. Peer's state: s1@group-441FDCB73124:t0, leader=null, voted=, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,272 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-441FDCB73124: receive requestVote(ELECTION, s4, group-441FDCB73124, 1, (t:0, i:0))
2022-11-16 04:24:28,272 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-441FDCB73124-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2022-11-16 04:24:28,272 [s4@group-441FDCB73124-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:28,272 [s4@group-441FDCB73124-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:28,272 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-441FDCB73124: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s4
2022-11-16 04:24:28,274 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-441FDCB73124-FollowerState
2022-11-16 04:24:28,274 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-441FDCB73124-FollowerState
2022-11-16 04:24:28,274 [s1@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-441FDCB73124-FollowerState was interrupted
2022-11-16 04:24:28,274 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-441FDCB73124: receive requestVote(PRE_VOTE, s4, group-441FDCB73124, 0, (t:0, i:0))
2022-11-16 04:24:28,274 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-441FDCB73124-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-11-16 04:24:28,274 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-441FDCB73124 replies to PRE_VOTE vote request: s4<-s2#0:OK-t0. Peer's state: s2@group-441FDCB73124:t0, leader=null, voted=, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,276 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-441FDCB73124 replies to ELECTION vote request: s4<-s1#0:OK-t1. Peer's state: s1@group-441FDCB73124:t1, leader=null, voted=s4, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,278 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-441FDCB73124: receive requestVote(ELECTION, s4, group-441FDCB73124, 1, (t:0, i:0))
2022-11-16 04:24:28,278 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-441FDCB73124-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2022-11-16 04:24:28,278 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-441FDCB73124: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s4
2022-11-16 04:24:28,278 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-441FDCB73124-FollowerState
2022-11-16 04:24:28,278 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-441FDCB73124-FollowerState
2022-11-16 04:24:28,280 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-441FDCB73124: receive requestVote(ELECTION, s4, group-441FDCB73124, 1, (t:0, i:0))
2022-11-16 04:24:28,280 [s1@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:28,280 [s1@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:28,280 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-441FDCB73124-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2022-11-16 04:24:28,280 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s4
2022-11-16 04:24:28,280 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:28,280 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:28,281 [s3@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-441FDCB73124-FollowerState was interrupted
2022-11-16 04:24:28,281 [s0@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:28,281 [s0@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:28,282 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-441FDCB73124-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2022-11-16 04:24:28,282 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-441FDCB73124 replies to ELECTION vote request: s4<-s0#0:OK-t1. Peer's state: s0@group-441FDCB73124:t1, leader=null, voted=s4, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,282 [s0@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:shouldRun(117)) - s0@group-441FDCB73124-FollowerState: Stopping now (isRunning? false, role = FOLLOWER)
2022-11-16 04:24:28,282 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-441FDCB73124: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s4
2022-11-16 04:24:28,283 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-441FDCB73124-FollowerState
2022-11-16 04:24:28,283 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-441FDCB73124-FollowerState
2022-11-16 04:24:28,283 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:28,283 [s2@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-441FDCB73124-FollowerState was interrupted
2022-11-16 04:24:28,283 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:28,283 [s4@group-441FDCB73124-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-441FDCB73124-LeaderElection49: ELECTION PASSED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:28,283 [s4@group-441FDCB73124-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s0#0:OK-t1
2022-11-16 04:24:28,283 [s4@group-441FDCB73124-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s4<-s1#0:OK-t1
2022-11-16 04:24:28,283 [s4@group-441FDCB73124-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-441FDCB73124-LeaderElection49 ELECTION round 0: result PASSED
2022-11-16 04:24:28,283 [s4@group-441FDCB73124-LeaderElection49] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-441FDCB73124-LeaderElection49
2022-11-16 04:24:28,283 [s4@group-441FDCB73124-LeaderElection49] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-441FDCB73124: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-16 04:24:28,283 [s4@group-441FDCB73124-LeaderElection49] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s4@group-441FDCB73124: change Leader from null to s4 at term 1 for becomeLeader, leader elected after 264ms
2022-11-16 04:24:28,283 [s4@group-441FDCB73124-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:28,283 [s4@group-441FDCB73124-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:28,283 [s4@group-441FDCB73124-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:28,284 [s4@group-441FDCB73124-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:28,284 [s4@group-441FDCB73124-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:28,284 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-441FDCB73124 replies to ELECTION vote request: s4<-s3#0:OK-t1. Peer's state: s3@group-441FDCB73124:t1, leader=null, voted=s4, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,284 [s4@group-441FDCB73124-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:28,284 [s4@group-441FDCB73124-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:28,284 [s4@group-441FDCB73124-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:28,284 [s4@group-441FDCB73124-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:28,284 [s4@group-441FDCB73124-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:28,284 [s4@group-441FDCB73124-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:28,284 [s4@group-441FDCB73124-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:28,284 [s4@group-441FDCB73124-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:28,284 [s4@group-441FDCB73124-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:28,285 [s4@group-441FDCB73124-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:28,285 [s4@group-441FDCB73124-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:28,285 [s4@group-441FDCB73124-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:28,285 [s4@group-441FDCB73124-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:28,285 [s4@group-441FDCB73124-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:28,285 [s4@group-441FDCB73124-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:28,285 [s4@group-441FDCB73124-LeaderElection49] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-441FDCB73124-LeaderStateImpl
2022-11-16 04:24:28,285 [s4@group-441FDCB73124-LeaderElection49] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s4@group-441FDCB73124-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:28,287 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-441FDCB73124 replies to ELECTION vote request: s4<-s2#0:OK-t1. Peer's state: s2@group-441FDCB73124:t1, leader=null, voted=s4, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,287 [s2@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:28,287 [s2@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:28,291 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-441FDCB73124: change Leader from null to s4 at term 1 for appendEntries, leader elected after 275ms
2022-11-16 04:24:28,291 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-441FDCB73124: change Leader from null to s4 at term 1 for appendEntries, leader elected after 270ms
2022-11-16 04:24:28,291 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-441FDCB73124: change Leader from null to s4 at term 1 for appendEntries, leader elected after 267ms
2022-11-16 04:24:28,292 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-441FDCB73124: change Leader from null to s4 at term 1 for appendEntries, leader elected after 265ms
2022-11-16 04:24:28,293 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-441FDCB73124: receive appendEntries(s4, 1, null, -1, true, commits:[s4:c-1, s3:c-1, s0:c-1, s1:c-1, s2:c-1], cId:1890, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:40893"
dataStreamAddress: "localhost:44865"
clientAddress: "localhost:33577"
adminAddress: "localhost:39015"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:39137"
dataStreamAddress: "localhost:45401"
clientAddress: "localhost:35611"
adminAddress: "localhost:35527"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:35549"
dataStreamAddress: "localhost:34141"
clientAddress: "localhost:43535"
adminAddress: "localhost:38009"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32817"
dataStreamAddress: "localhost:42789"
clientAddress: "localhost:37265"
adminAddress: "localhost:35387"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42875"
dataStreamAddress: "localhost:39509"
clientAddress: "localhost:39639"
adminAddress: "localhost:34123"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:28,294 [s4@group-441FDCB73124-LeaderElection49] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s4@group-441FDCB73124: set configuration 0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,294 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-441FDCB73124: receive appendEntries(s4, 1, null, -1, true, commits:[s4:c-1, s3:c-1, s0:c-1, s1:c-1, s2:c-1], cId:1891, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:40893"
dataStreamAddress: "localhost:44865"
clientAddress: "localhost:33577"
adminAddress: "localhost:39015"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:39137"
dataStreamAddress: "localhost:45401"
clientAddress: "localhost:35611"
adminAddress: "localhost:35527"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:35549"
dataStreamAddress: "localhost:34141"
clientAddress: "localhost:43535"
adminAddress: "localhost:38009"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32817"
dataStreamAddress: "localhost:42789"
clientAddress: "localhost:37265"
adminAddress: "localhost:35387"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42875"
dataStreamAddress: "localhost:39509"
clientAddress: "localhost:39639"
adminAddress: "localhost:34123"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:28,294 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-441FDCB73124: receive appendEntries(s4, 1, null, -1, true, commits:[s4:c-1, s3:c-1, s0:c-1, s1:c-1, s2:c-1], cId:1892, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:40893"
dataStreamAddress: "localhost:44865"
clientAddress: "localhost:33577"
adminAddress: "localhost:39015"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:39137"
dataStreamAddress: "localhost:45401"
clientAddress: "localhost:35611"
adminAddress: "localhost:35527"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:35549"
dataStreamAddress: "localhost:34141"
clientAddress: "localhost:43535"
adminAddress: "localhost:38009"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32817"
dataStreamAddress: "localhost:42789"
clientAddress: "localhost:37265"
adminAddress: "localhost:35387"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42875"
dataStreamAddress: "localhost:39509"
clientAddress: "localhost:39639"
adminAddress: "localhost:34123"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:28,295 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s3@group-441FDCB73124: set configuration 0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,295 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s3@group-441FDCB73124-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:28,296 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-441FDCB73124: receive appendEntries(s4, 1, null, -1, true, commits:[s4:c-1, s3:c-1, s0:c-1, s1:c-1, s2:c-1], cId:1893, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:40893"
dataStreamAddress: "localhost:44865"
clientAddress: "localhost:33577"
adminAddress: "localhost:39015"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:39137"
dataStreamAddress: "localhost:45401"
clientAddress: "localhost:35611"
adminAddress: "localhost:35527"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:35549"
dataStreamAddress: "localhost:34141"
clientAddress: "localhost:43535"
adminAddress: "localhost:38009"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32817"
dataStreamAddress: "localhost:42789"
clientAddress: "localhost:37265"
adminAddress: "localhost:35387"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42875"
dataStreamAddress: "localhost:39509"
clientAddress: "localhost:39639"
adminAddress: "localhost:34123"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:28,299 [s4@group-441FDCB73124-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s4@group-441FDCB73124-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s4/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_inprogress_0
2022-11-16 04:24:28,300 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-441FDCB73124: set configuration 0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,300 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-441FDCB73124-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:28,301 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-441FDCB73124: set configuration 0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,301 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-441FDCB73124-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:28,301 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-441FDCB73124: set configuration 0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,301 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-441FDCB73124-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:28,331 [s0@group-441FDCB73124-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-441FDCB73124-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s0/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_inprogress_0
2022-11-16 04:24:28,332 [s1@group-441FDCB73124-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-441FDCB73124-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s1/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_inprogress_0
2022-11-16 04:24:28,332 [s2@group-441FDCB73124-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-441FDCB73124-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s2/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_inprogress_0
2022-11-16 04:24:28,332 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-441FDCB73124: succeeded to handle AppendEntries. Reply: s4<-s0#1892:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-16 04:24:28,333 [s3@group-441FDCB73124-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s3@group-441FDCB73124-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s3/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_inprogress_0
2022-11-16 04:24:28,334 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-441FDCB73124: succeeded to handle AppendEntries. Reply: s4<-s1#1891:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-16 04:24:28,334 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-441FDCB73124: succeeded to handle AppendEntries. Reply: s4<-s3#1890:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-16 04:24:28,334 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-441FDCB73124: succeeded to handle AppendEntries. Reply: s4<-s2#1893:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-16 04:24:28,563 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:28,564 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(135)) - killing leader =    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:28,564 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s4
2022-11-16 04:24:28,564 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s4: close
2022-11-16 04:24:28,564 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s4@group-441FDCB73124: shutdown
2022-11-16 04:24:28,564 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:28,564 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-441FDCB73124,id=s4
2022-11-16 04:24:28,565 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s4: shutdown s4@group-441FDCB73124-LeaderStateImpl
2022-11-16 04:24:28,565 [s4-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s4@group-441FDCB73124-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:28,565 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s4@group-441FDCB73124-StateMachineUpdater: set stopIndex = 0
2022-11-16 04:24:28,565 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:28,565 [s4@group-441FDCB73124->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s4@group-441FDCB73124->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:28,566 [s4@group-441FDCB73124->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s4@group-441FDCB73124->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:28,564 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:28,566 [s4@group-441FDCB73124->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s4@group-441FDCB73124->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:28,566 [s4@group-441FDCB73124->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s4@group-441FDCB73124->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:28,566 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s4@group-441FDCB73124: applyIndex: 0
2022-11-16 04:24:28,566 [s4@group-441FDCB73124-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s4@group-441FDCB73124-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:28,566 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:28,567 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:28,567 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:28,567 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s4@group-441FDCB73124-SegmentedRaftLogWorker close()
2022-11-16 04:24:28,568 [JvmPauseMonitor36] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s4: Stopped
2022-11-16 04:24:28,568 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:28,568 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:28,568 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.waitAndKillLeader(RaftTestUtil.java:132)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:91)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:28,899 [s0@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-441FDCB73124-FollowerState: change to CANDIDATE, lastRpcElapsedTime:338899625ns, electionTimeout:244ms
2022-11-16 04:24:28,899 [s0@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-441FDCB73124-FollowerState
2022-11-16 04:24:28,900 [s0@group-441FDCB73124-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-441FDCB73124: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:28,900 [s0@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:28,900 [s0@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-441FDCB73124-LeaderElection50
2022-11-16 04:24:28,900 [s0@group-441FDCB73124-LeaderElection50] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-441FDCB73124: change Leader from s4 to null at term 1 for PRE_VOTE
2022-11-16 04:24:28,900 [s0@group-441FDCB73124-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-441FDCB73124-LeaderElection50 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,901 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-441FDCB73124: receive requestVote(PRE_VOTE, s0, group-441FDCB73124, 1, (t:1, i:0))
2022-11-16 04:24:28,901 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-441FDCB73124-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:28,901 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-441FDCB73124 replies to PRE_VOTE vote request: s0<-s3#0:OK-t1. Peer's state: s3@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,902 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-441FDCB73124: receive requestVote(PRE_VOTE, s0, group-441FDCB73124, 1, (t:1, i:0))
2022-11-16 04:24:28,902 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-441FDCB73124-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:28,902 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-441FDCB73124 replies to PRE_VOTE vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,902 [s0@group-441FDCB73124-LeaderElection50] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-441FDCB73124-LeaderElection50 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:28,902 [s0@group-441FDCB73124-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-441FDCB73124-LeaderElection50: PRE_VOTE PASSED received 2 response(s) and 1 exception(s):
2022-11-16 04:24:28,902 [s0@group-441FDCB73124-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s3#0:OK-t1
2022-11-16 04:24:28,903 [s0@group-441FDCB73124-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s1#0:OK-t1
2022-11-16 04:24:28,903 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-441FDCB73124: receive requestVote(PRE_VOTE, s0, group-441FDCB73124, 1, (t:1, i:0))
2022-11-16 04:24:28,903 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-441FDCB73124-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:28,903 [s0@group-441FDCB73124-LeaderElection50] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:28,903 [s0@group-441FDCB73124-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-441FDCB73124-LeaderElection50 PRE_VOTE round 0: result PASSED
2022-11-16 04:24:28,903 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-441FDCB73124 replies to PRE_VOTE vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,905 [s0@group-441FDCB73124-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-441FDCB73124-LeaderElection50 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,905 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-441FDCB73124: receive requestVote(ELECTION, s0, group-441FDCB73124, 2, (t:1, i:0))
2022-11-16 04:24:28,906 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-441FDCB73124-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:28,906 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-441FDCB73124: change Leader from s4 to null at term 2 for updateCurrentTerm
2022-11-16 04:24:28,906 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-11-16 04:24:28,906 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:28,906 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:28,906 [s3@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-441FDCB73124-FollowerState was interrupted
2022-11-16 04:24:28,906 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-441FDCB73124: receive requestVote(ELECTION, s0, group-441FDCB73124, 2, (t:1, i:0))
2022-11-16 04:24:28,906 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-441FDCB73124-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:28,906 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-441FDCB73124: change Leader from s4 to null at term 2 for updateCurrentTerm
2022-11-16 04:24:28,906 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-441FDCB73124: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-11-16 04:24:28,906 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-441FDCB73124-FollowerState
2022-11-16 04:24:28,906 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-441FDCB73124-FollowerState
2022-11-16 04:24:28,906 [s1@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-441FDCB73124-FollowerState was interrupted
2022-11-16 04:24:28,907 [s0@group-441FDCB73124-LeaderElection50] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-441FDCB73124-LeaderElection50 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:28,907 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-441FDCB73124: receive requestVote(ELECTION, s0, group-441FDCB73124, 2, (t:1, i:0))
2022-11-16 04:24:28,907 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-441FDCB73124-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:28,908 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-441FDCB73124: change Leader from s4 to null at term 2 for updateCurrentTerm
2022-11-16 04:24:28,908 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-441FDCB73124: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-11-16 04:24:28,908 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-441FDCB73124-FollowerState
2022-11-16 04:24:28,908 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-441FDCB73124-FollowerState
2022-11-16 04:24:28,908 [s2@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-441FDCB73124-FollowerState was interrupted
2022-11-16 04:24:28,909 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-441FDCB73124 replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-441FDCB73124:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,910 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-441FDCB73124 replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-441FDCB73124:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,910 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-441FDCB73124 replies to ELECTION vote request: s0<-s3#0:OK-t2. Peer's state: s3@group-441FDCB73124:t2, leader=null, voted=s0, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,910 [s0@group-441FDCB73124-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-441FDCB73124-LeaderElection50: ELECTION PASSED received 2 response(s) and 1 exception(s):
2022-11-16 04:24:28,910 [s0@group-441FDCB73124-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t2
2022-11-16 04:24:28,910 [s0@group-441FDCB73124-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:OK-t2
2022-11-16 04:24:28,910 [s0@group-441FDCB73124-LeaderElection50] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:28,910 [s0@group-441FDCB73124-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-441FDCB73124-LeaderElection50 ELECTION round 0: result PASSED
2022-11-16 04:24:28,910 [s0@group-441FDCB73124-LeaderElection50] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-441FDCB73124-LeaderElection50
2022-11-16 04:24:28,910 [s0@group-441FDCB73124-LeaderElection50] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-441FDCB73124: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-11-16 04:24:28,910 [s0@group-441FDCB73124-LeaderElection50] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-441FDCB73124: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 10ms
2022-11-16 04:24:28,911 [s0@group-441FDCB73124-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:28,911 [s0@group-441FDCB73124-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:28,911 [s0@group-441FDCB73124-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:28,911 [s0@group-441FDCB73124-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:28,911 [s0@group-441FDCB73124-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:28,911 [s0@group-441FDCB73124-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:28,911 [s0@group-441FDCB73124-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:28,911 [s0@group-441FDCB73124-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:28,911 [s0@group-441FDCB73124-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:28,911 [s0@group-441FDCB73124-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:28,911 [s0@group-441FDCB73124-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:28,912 [s0@group-441FDCB73124-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:28,912 [s0@group-441FDCB73124-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:28,912 [s0@group-441FDCB73124-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:28,912 [s0@group-441FDCB73124-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:28,912 [s0@group-441FDCB73124-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:28,912 [s0@group-441FDCB73124-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:28,912 [s0@group-441FDCB73124-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:28,912 [s0@group-441FDCB73124-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:28,912 [s0@group-441FDCB73124-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:28,912 [s0@group-441FDCB73124-LeaderElection50] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-441FDCB73124-LeaderStateImpl
2022-11-16 04:24:28,913 [s0@group-441FDCB73124-LeaderElection50] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-441FDCB73124-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-11-16 04:24:28,914 [s0@group-441FDCB73124-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s0/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s0/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_0-0
2022-11-16 04:24:28,914 [s0@group-441FDCB73124-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-441FDCB73124-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s0/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s0/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_0-0
2022-11-16 04:24:28,917 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-441FDCB73124: change Leader from null to s0 at term 2 for appendEntries, leader elected after 11ms
2022-11-16 04:24:28,918 [s0@group-441FDCB73124->s4-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-441FDCB73124->s4-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s4 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:28,918 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-441FDCB73124: change Leader from null to s0 at term 2 for appendEntries, leader elected after 12ms
2022-11-16 04:24:28,919 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-441FDCB73124: receive appendEntries(s0, 2, (t:1, i:0), 0, true, commits:[s0:c0, s3:c0, s4:c0, s1:c0, s2:c0], cId:1954, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:40893"
dataStreamAddress: "localhost:44865"
clientAddress: "localhost:33577"
adminAddress: "localhost:39015"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:39137"
dataStreamAddress: "localhost:45401"
clientAddress: "localhost:35611"
adminAddress: "localhost:35527"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:35549"
dataStreamAddress: "localhost:34141"
clientAddress: "localhost:43535"
adminAddress: "localhost:38009"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32817"
dataStreamAddress: "localhost:42789"
clientAddress: "localhost:37265"
adminAddress: "localhost:35387"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42875"
dataStreamAddress: "localhost:39509"
clientAddress: "localhost:39639"
adminAddress: "localhost:34123"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:28,919 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s3@group-441FDCB73124: set configuration 1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,919 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s3@group-441FDCB73124-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-11-16 04:24:28,920 [s3@group-441FDCB73124-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s3/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s3/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_0-0
2022-11-16 04:24:28,920 [s3@group-441FDCB73124-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s3@group-441FDCB73124-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s3/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s3/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_0-0
2022-11-16 04:24:28,922 [s0@group-441FDCB73124-LeaderElection50] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-441FDCB73124: set configuration 1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,927 [s0@group-441FDCB73124-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-441FDCB73124-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s0/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_inprogress_1
2022-11-16 04:24:28,927 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-441FDCB73124: receive appendEntries(s0, 2, (t:1, i:0), 0, true, commits:[s0:c0, s3:c0, s4:c0, s1:c0, s2:c0], cId:1957, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:40893"
dataStreamAddress: "localhost:44865"
clientAddress: "localhost:33577"
adminAddress: "localhost:39015"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:39137"
dataStreamAddress: "localhost:45401"
clientAddress: "localhost:35611"
adminAddress: "localhost:35527"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:35549"
dataStreamAddress: "localhost:34141"
clientAddress: "localhost:43535"
adminAddress: "localhost:38009"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32817"
dataStreamAddress: "localhost:42789"
clientAddress: "localhost:37265"
adminAddress: "localhost:35387"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42875"
dataStreamAddress: "localhost:39509"
clientAddress: "localhost:39639"
adminAddress: "localhost:34123"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:28,927 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-441FDCB73124: set configuration 1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,927 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-441FDCB73124: change Leader from null to s0 at term 2 for appendEntries, leader elected after 19ms
2022-11-16 04:24:28,927 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-441FDCB73124-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-11-16 04:24:28,928 [s1@group-441FDCB73124-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s1/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s1/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_0-0
2022-11-16 04:24:28,928 [s1@group-441FDCB73124-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-441FDCB73124-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s1/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s1/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_0-0
2022-11-16 04:24:28,934 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-441FDCB73124: receive appendEntries(s0, 2, (t:1, i:0), 0, true, commits:[s0:c0, s3:c0, s4:c0, s1:c0, s2:c0], cId:1962, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:40893"
dataStreamAddress: "localhost:44865"
clientAddress: "localhost:33577"
adminAddress: "localhost:39015"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:39137"
dataStreamAddress: "localhost:45401"
clientAddress: "localhost:35611"
adminAddress: "localhost:35527"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:35549"
dataStreamAddress: "localhost:34141"
clientAddress: "localhost:43535"
adminAddress: "localhost:38009"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32817"
dataStreamAddress: "localhost:42789"
clientAddress: "localhost:37265"
adminAddress: "localhost:35387"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42875"
dataStreamAddress: "localhost:39509"
clientAddress: "localhost:39639"
adminAddress: "localhost:34123"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:28,934 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-441FDCB73124: set configuration 1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:28,934 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-441FDCB73124-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-11-16 04:24:28,935 [s2@group-441FDCB73124-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s2/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s2/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_0-0
2022-11-16 04:24:28,936 [s2@group-441FDCB73124-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-441FDCB73124-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s2/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s2/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_0-0
2022-11-16 04:24:28,952 [s1@group-441FDCB73124-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-441FDCB73124-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s1/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_inprogress_1
2022-11-16 04:24:28,952 [s3@group-441FDCB73124-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s3@group-441FDCB73124-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s3/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_inprogress_1
2022-11-16 04:24:28,952 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-441FDCB73124: succeeded to handle AppendEntries. Reply: s0<-s1#1957:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-16 04:24:28,953 [s2@group-441FDCB73124-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-441FDCB73124-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s2/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_inprogress_1
2022-11-16 04:24:28,953 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-441FDCB73124: succeeded to handle AppendEntries. Reply: s0<-s3#1954:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-16 04:24:28,953 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-441FDCB73124: receive appendEntries(s0, 2, (t:2, i:1), 1, true, commits:[s0:c1, s3:c0, s4:c0, s1:c0, s2:c0], cId:1964, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2022-11-16 04:24:28,953 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-441FDCB73124: receive appendEntries(s0, 2, (t:2, i:1), 1, true, commits:[s0:c1, s3:c0, s4:c0, s1:c0, s2:c0], cId:1965, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2022-11-16 04:24:28,955 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-441FDCB73124: succeeded to handle AppendEntries. Reply: s0<-s1#1964:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-16 04:24:28,956 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-441FDCB73124: succeeded to handle AppendEntries. Reply: s0<-s3#1965:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-16 04:24:28,957 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-441FDCB73124: succeeded to handle AppendEntries. Reply: s0<-s2#1962:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-16 04:24:28,957 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-441FDCB73124: receive appendEntries(s0, 2, (t:2, i:1), 2, true, commits:[s0:c2, s3:c1, s4:c0, s1:c1, s2:c0], cId:1966, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2022-11-16 04:24:28,958 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-441FDCB73124: succeeded to handle AppendEntries. Reply: s0<-s2#1966:OK-t2,SUCCESS,nextIndex=3,followerCommit=2,matchIndex=2
2022-11-16 04:24:29,019 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING    LEADER s0@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:29,020 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(135)) - killing leader =    LEADER s0@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:29,020 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s0
2022-11-16 04:24:29,020 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-16 04:24:29,020 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-441FDCB73124: shutdown
2022-11-16 04:24:29,020 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:29,020 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-441FDCB73124,id=s0
2022-11-16 04:24:29,020 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-441FDCB73124-LeaderStateImpl
2022-11-16 04:24:29,020 [s0@group-441FDCB73124->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-441FDCB73124->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:29,020 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:29,021 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:29,021 [s0@group-441FDCB73124->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-441FDCB73124->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:29,021 [s0@group-441FDCB73124->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-441FDCB73124->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:29,020 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-441FDCB73124-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:29,021 [s0@group-441FDCB73124->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-441FDCB73124->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-11-16 04:24:29,021 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:29,022 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:29,022 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:29,024 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-441FDCB73124-StateMachineUpdater: set stopIndex = 2
2022-11-16 04:24:29,024 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-441FDCB73124: applyIndex: 2
2022-11-16 04:24:29,024 [s0@group-441FDCB73124-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-441FDCB73124-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:29,025 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-441FDCB73124-SegmentedRaftLogWorker close()
2022-11-16 04:24:29,025 [JvmPauseMonitor37] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-16 04:24:29,025 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:29,026 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:29,026 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.waitAndKillLeader(RaftTestUtil.java:132)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:92)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:29,295 [s1@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-441FDCB73124-FollowerState: change to CANDIDATE, lastRpcElapsedTime:339713034ns, electionTimeout:212ms
2022-11-16 04:24:29,295 [s1@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-441FDCB73124-FollowerState
2022-11-16 04:24:29,295 [s1@group-441FDCB73124-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-441FDCB73124: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2022-11-16 04:24:29,295 [s1@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:29,295 [s1@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-441FDCB73124-LeaderElection51
2022-11-16 04:24:29,295 [s1@group-441FDCB73124-LeaderElection51] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-441FDCB73124: change Leader from s0 to null at term 2 for PRE_VOTE
2022-11-16 04:24:29,296 [s1@group-441FDCB73124-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-441FDCB73124-LeaderElection51 PRE_VOTE round 0: submit vote requests at term 2 for 1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:29,296 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-441FDCB73124: receive requestVote(PRE_VOTE, s1, group-441FDCB73124, 2, (t:2, i:2))
2022-11-16 04:24:29,296 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-441FDCB73124-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:29,297 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-441FDCB73124 replies to PRE_VOTE vote request: s1<-s3#0:OK-t2. Peer's state: s3@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:29,297 [s1@group-441FDCB73124-LeaderElection51] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-441FDCB73124-LeaderElection51 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:29,297 [s1@group-441FDCB73124-LeaderElection51] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-441FDCB73124-LeaderElection51 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:29,297 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-441FDCB73124: receive requestVote(PRE_VOTE, s1, group-441FDCB73124, 2, (t:2, i:2))
2022-11-16 04:24:29,297 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-441FDCB73124-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:29,297 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-441FDCB73124 replies to PRE_VOTE vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:29,297 [s1@group-441FDCB73124-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-441FDCB73124-LeaderElection51: PRE_VOTE PASSED received 2 response(s) and 2 exception(s):
2022-11-16 04:24:29,298 [s1@group-441FDCB73124-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s3#0:OK-t2
2022-11-16 04:24:29,298 [s1@group-441FDCB73124-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:OK-t2
2022-11-16 04:24:29,298 [s1@group-441FDCB73124-LeaderElection51] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:29,298 [s1@group-441FDCB73124-LeaderElection51] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:29,298 [s1@group-441FDCB73124-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-441FDCB73124-LeaderElection51 PRE_VOTE round 0: result PASSED
2022-11-16 04:24:29,301 [s1@group-441FDCB73124-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-441FDCB73124-LeaderElection51 ELECTION round 0: submit vote requests at term 3 for 1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:29,302 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-441FDCB73124: receive requestVote(ELECTION, s1, group-441FDCB73124, 3, (t:2, i:2))
2022-11-16 04:24:29,302 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-441FDCB73124-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:29,302 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-441FDCB73124: change Leader from s0 to null at term 3 for updateCurrentTerm
2022-11-16 04:24:29,302 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s1
2022-11-16 04:24:29,302 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:29,302 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:29,302 [s3@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-441FDCB73124-FollowerState was interrupted
2022-11-16 04:24:29,302 [s1@group-441FDCB73124-LeaderElection51] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-441FDCB73124-LeaderElection51 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:29,302 [s1@group-441FDCB73124-LeaderElection51] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-441FDCB73124-LeaderElection51 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:29,302 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-441FDCB73124: receive requestVote(ELECTION, s1, group-441FDCB73124, 3, (t:2, i:2))
2022-11-16 04:24:29,302 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-441FDCB73124-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:29,302 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-441FDCB73124: change Leader from s0 to null at term 3 for updateCurrentTerm
2022-11-16 04:24:29,303 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-441FDCB73124: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s1
2022-11-16 04:24:29,303 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-441FDCB73124-FollowerState
2022-11-16 04:24:29,303 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-441FDCB73124-FollowerState
2022-11-16 04:24:29,303 [s2@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-441FDCB73124-FollowerState was interrupted
2022-11-16 04:24:29,305 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-441FDCB73124 replies to ELECTION vote request: s1<-s3#0:OK-t3. Peer's state: s3@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:29,305 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-441FDCB73124 replies to ELECTION vote request: s1<-s2#0:OK-t3. Peer's state: s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:29,305 [s1@group-441FDCB73124-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-441FDCB73124-LeaderElection51: ELECTION PASSED received 2 response(s) and 2 exception(s):
2022-11-16 04:24:29,305 [s1@group-441FDCB73124-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s3#0:OK-t3
2022-11-16 04:24:29,305 [s1@group-441FDCB73124-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:OK-t3
2022-11-16 04:24:29,305 [s1@group-441FDCB73124-LeaderElection51] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:29,305 [s1@group-441FDCB73124-LeaderElection51] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:29,305 [s1@group-441FDCB73124-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-441FDCB73124-LeaderElection51 ELECTION round 0: result PASSED
2022-11-16 04:24:29,306 [s1@group-441FDCB73124-LeaderElection51] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-441FDCB73124-LeaderElection51
2022-11-16 04:24:29,306 [s1@group-441FDCB73124-LeaderElection51] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-441FDCB73124: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2022-11-16 04:24:29,306 [s1@group-441FDCB73124-LeaderElection51] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-441FDCB73124: change Leader from null to s1 at term 3 for becomeLeader, leader elected after 10ms
2022-11-16 04:24:29,306 [s1@group-441FDCB73124-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:29,306 [s1@group-441FDCB73124-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:29,306 [s1@group-441FDCB73124-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:29,306 [s1@group-441FDCB73124-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:29,306 [s1@group-441FDCB73124-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:29,306 [s1@group-441FDCB73124-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:29,306 [s1@group-441FDCB73124-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:29,306 [s1@group-441FDCB73124-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:29,306 [s1@group-441FDCB73124-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:29,307 [s1@group-441FDCB73124-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:29,307 [s1@group-441FDCB73124-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:29,307 [s1@group-441FDCB73124-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:29,307 [s1@group-441FDCB73124-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:29,307 [s1@group-441FDCB73124-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:29,307 [s1@group-441FDCB73124-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:29,307 [s1@group-441FDCB73124-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:29,307 [s1@group-441FDCB73124-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:29,307 [s1@group-441FDCB73124-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:29,307 [s1@group-441FDCB73124-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:29,307 [s1@group-441FDCB73124-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:29,307 [s1@group-441FDCB73124-LeaderElection51] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-441FDCB73124-LeaderStateImpl
2022-11-16 04:24:29,308 [s1@group-441FDCB73124-LeaderElection51] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-441FDCB73124-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-11-16 04:24:29,309 [s1@group-441FDCB73124-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s1/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s1/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_1-2
2022-11-16 04:24:29,309 [s1@group-441FDCB73124-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-441FDCB73124-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s1/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s1/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_1-2
2022-11-16 04:24:29,313 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-441FDCB73124: change Leader from null to s1 at term 3 for appendEntries, leader elected after 11ms
2022-11-16 04:24:29,313 [s1@group-441FDCB73124->s4-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s1@group-441FDCB73124->s4-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s4 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:29,314 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-441FDCB73124: receive appendEntries(s1, 3, (t:2, i:2), 1, true, commits:[s1:c1, s3:c1, s4:c0, s0:c1, s2:c0], cId:1990, entries: [(t:3, i:3), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:40893"
dataStreamAddress: "localhost:44865"
clientAddress: "localhost:33577"
adminAddress: "localhost:39015"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:39137"
dataStreamAddress: "localhost:45401"
clientAddress: "localhost:35611"
adminAddress: "localhost:35527"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:35549"
dataStreamAddress: "localhost:34141"
clientAddress: "localhost:43535"
adminAddress: "localhost:38009"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32817"
dataStreamAddress: "localhost:42789"
clientAddress: "localhost:37265"
adminAddress: "localhost:35387"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42875"
dataStreamAddress: "localhost:39509"
clientAddress: "localhost:39639"
adminAddress: "localhost:34123"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:29,314 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s3@group-441FDCB73124: set configuration 3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:29,314 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s3@group-441FDCB73124-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-11-16 04:24:29,315 [s3@group-441FDCB73124-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s3/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s3/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_1-2
2022-11-16 04:24:29,315 [s3@group-441FDCB73124-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s3@group-441FDCB73124-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s3/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s3/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_1-2
2022-11-16 04:24:29,313 [s1@group-441FDCB73124->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s1@group-441FDCB73124->s0-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:29,317 [s1@group-441FDCB73124-LeaderElection51] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-441FDCB73124: set configuration 3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:29,320 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-441FDCB73124: change Leader from null to s1 at term 3 for appendEntries, leader elected after 17ms
2022-11-16 04:24:29,321 [s1@group-441FDCB73124-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-441FDCB73124-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s1/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_inprogress_3
2022-11-16 04:24:29,324 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-441FDCB73124: receive appendEntries(s1, 3, (t:2, i:2), 1, true, commits:[s1:c1, s3:c1, s4:c0, s0:c1, s2:c2], cId:1996, entries: [(t:3, i:3), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:40893"
dataStreamAddress: "localhost:44865"
clientAddress: "localhost:33577"
adminAddress: "localhost:39015"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:39137"
dataStreamAddress: "localhost:45401"
clientAddress: "localhost:35611"
adminAddress: "localhost:35527"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:35549"
dataStreamAddress: "localhost:34141"
clientAddress: "localhost:43535"
adminAddress: "localhost:38009"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32817"
dataStreamAddress: "localhost:42789"
clientAddress: "localhost:37265"
adminAddress: "localhost:35387"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42875"
dataStreamAddress: "localhost:39509"
clientAddress: "localhost:39639"
adminAddress: "localhost:34123"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:29,324 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-441FDCB73124: set configuration 3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:29,324 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-441FDCB73124-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-11-16 04:24:29,325 [s2@group-441FDCB73124-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s2/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s2/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_1-2
2022-11-16 04:24:29,325 [s2@group-441FDCB73124-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-441FDCB73124-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s2/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s2/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_1-2
2022-11-16 04:24:29,338 [s3@group-441FDCB73124-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s3@group-441FDCB73124-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s3/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_inprogress_3
2022-11-16 04:24:29,338 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-441FDCB73124: succeeded to handle AppendEntries. Reply: s1<-s3#1990:OK-t3,SUCCESS,nextIndex=4,followerCommit=1,matchIndex=3
2022-11-16 04:24:29,339 [s2@group-441FDCB73124-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-441FDCB73124-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcea5d6032/s2/f7f303a2-b714-47ce-9bf9-441fdcb73124/current/log_inprogress_3
2022-11-16 04:24:29,341 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-441FDCB73124: succeeded to handle AppendEntries. Reply: s1<-s2#1996:OK-t3,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-16 04:24:29,342 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-441FDCB73124: receive appendEntries(s1, 3, (t:3, i:3), 3, true, commits:[s1:c3, s3:c1, s4:c0, s0:c1, s2:c2], cId:2000, entries: [(t:3, i:4), METADATAENTRY(c:3)]
2022-11-16 04:24:29,342 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-441FDCB73124: receive appendEntries(s1, 3, (t:3, i:3), 3, true, commits:[s1:c3, s3:c1, s4:c0, s0:c1, s2:c2], cId:2001, entries: [(t:3, i:4), METADATAENTRY(c:3)]
2022-11-16 04:24:29,343 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-441FDCB73124: succeeded to handle AppendEntries. Reply: s1<-s3#2000:OK-t3,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-11-16 04:24:29,346 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-441FDCB73124: succeeded to handle AppendEntries. Reply: s1<-s2#2001:OK-t3,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-11-16 04:24:29,477 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:  RUNNING    LEADER s1@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:29,477 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(135)) - killing leader =    LEADER s1@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:29,477 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s1
2022-11-16 04:24:29,478 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-16 04:24:29,478 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-441FDCB73124: shutdown
2022-11-16 04:24:29,478 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-441FDCB73124,id=s1
2022-11-16 04:24:29,478 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-441FDCB73124-LeaderStateImpl
2022-11-16 04:24:29,478 [s1@group-441FDCB73124->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-441FDCB73124->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:29,478 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:29,478 [s1@group-441FDCB73124->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-441FDCB73124->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-11-16 04:24:29,478 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:29,479 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:29,479 [s1@group-441FDCB73124->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-441FDCB73124->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-11-16 04:24:29,478 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-441FDCB73124-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:29,480 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-441FDCB73124-StateMachineUpdater: set stopIndex = 4
2022-11-16 04:24:29,480 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:29,480 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:29,480 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-441FDCB73124: applyIndex: 4
2022-11-16 04:24:29,480 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:29,480 [s1@group-441FDCB73124-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-441FDCB73124-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:29,481 [s1@group-441FDCB73124->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-441FDCB73124->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:29,481 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-441FDCB73124-SegmentedRaftLogWorker close()
2022-11-16 04:24:29,482 [JvmPauseMonitor38] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-16 04:24:29,482 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (BaseTest.java:testFailureCase(151)) - run 'waitForLeader after killed a majority of servers'
2022-11-16 04:24:29,482 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:29,483 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:29,483 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #1/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:29,696 [s3@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-441FDCB73124-FollowerState: change to CANDIDATE, lastRpcElapsedTime:276468620ns, electionTimeout:206ms
2022-11-16 04:24:29,696 [s3@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:29,696 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-16 04:24:29,696 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:29,696 [s3@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-LeaderElection52
2022-11-16 04:24:29,697 [s3@group-441FDCB73124-LeaderElection52] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-441FDCB73124: change Leader from s1 to null at term 3 for PRE_VOTE
2022-11-16 04:24:29,697 [s3@group-441FDCB73124-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-441FDCB73124-LeaderElection52 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:29,698 [s3@group-441FDCB73124-LeaderElection52] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection52 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:29,698 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-441FDCB73124: receive requestVote(PRE_VOTE, s3, group-441FDCB73124, 3, (t:3, i:4))
2022-11-16 04:24:29,698 [s3@group-441FDCB73124-LeaderElection52] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection52 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:29,698 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-441FDCB73124-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-11-16 04:24:29,698 [s3@group-441FDCB73124-LeaderElection52] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection52 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:29,699 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-441FDCB73124 replies to PRE_VOTE vote request: s3<-s2#0:OK-t3. Peer's state: s2@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:29,699 [s3@group-441FDCB73124-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-441FDCB73124-LeaderElection52: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-16 04:24:29,699 [s3@group-441FDCB73124-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s2#0:OK-t3
2022-11-16 04:24:29,699 [s3@group-441FDCB73124-LeaderElection52] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:29,699 [s3@group-441FDCB73124-LeaderElection52] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:29,699 [s3@group-441FDCB73124-LeaderElection52] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:29,699 [s3@group-441FDCB73124-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-441FDCB73124-LeaderElection52 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:29,699 [s3@group-441FDCB73124-LeaderElection52] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-16 04:24:29,699 [s3@group-441FDCB73124-LeaderElection52] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-441FDCB73124-LeaderElection52
2022-11-16 04:24:29,699 [s3@group-441FDCB73124-LeaderElection52] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:29,934 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #2/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:29,937 [s2@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-441FDCB73124-FollowerState: change to CANDIDATE, lastRpcElapsedTime:238311290ns, electionTimeout:153ms
2022-11-16 04:24:29,937 [s2@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-441FDCB73124-FollowerState
2022-11-16 04:24:29,937 [s2@group-441FDCB73124-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-441FDCB73124: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-16 04:24:29,937 [s2@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:29,937 [s2@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-441FDCB73124-LeaderElection53
2022-11-16 04:24:29,938 [s2@group-441FDCB73124-LeaderElection53] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-441FDCB73124: change Leader from s1 to null at term 3 for PRE_VOTE
2022-11-16 04:24:29,938 [s2@group-441FDCB73124-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-441FDCB73124-LeaderElection53 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:29,938 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-441FDCB73124: receive requestVote(PRE_VOTE, s2, group-441FDCB73124, 3, (t:3, i:4))
2022-11-16 04:24:29,938 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-441FDCB73124-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-16 04:24:29,938 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-441FDCB73124 replies to PRE_VOTE vote request: s2<-s3#0:OK-t3. Peer's state: s3@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:29,939 [s2@group-441FDCB73124-LeaderElection53] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-441FDCB73124-LeaderElection53 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:29,939 [s2@group-441FDCB73124-LeaderElection53] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-441FDCB73124-LeaderElection53 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:29,939 [s2@group-441FDCB73124-LeaderElection53] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-441FDCB73124-LeaderElection53 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:29,939 [s2@group-441FDCB73124-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-441FDCB73124-LeaderElection53: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-16 04:24:29,939 [s2@group-441FDCB73124-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s3#0:OK-t3
2022-11-16 04:24:29,939 [s2@group-441FDCB73124-LeaderElection53] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:29,939 [s2@group-441FDCB73124-LeaderElection53] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:29,939 [s2@group-441FDCB73124-LeaderElection53] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:29,939 [s2@group-441FDCB73124-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-441FDCB73124-LeaderElection53 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:29,939 [s2@group-441FDCB73124-LeaderElection53] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-441FDCB73124: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-16 04:24:29,939 [s2@group-441FDCB73124-LeaderElection53] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-441FDCB73124-LeaderElection53
2022-11-16 04:24:29,939 [s2@group-441FDCB73124-LeaderElection53] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-441FDCB73124-FollowerState
2022-11-16 04:24:30,103 [s3@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-441FDCB73124-FollowerState: change to CANDIDATE, lastRpcElapsedTime:165043663ns, electionTimeout:163ms
2022-11-16 04:24:30,104 [s3@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:30,104 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-16 04:24:30,104 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:30,104 [s3@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-LeaderElection54
2022-11-16 04:24:30,104 [s3@group-441FDCB73124-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-441FDCB73124-LeaderElection54 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:30,105 [s3@group-441FDCB73124-LeaderElection54] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection54 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:30,105 [s3@group-441FDCB73124-LeaderElection54] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection54 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:30,105 [s3@group-441FDCB73124-LeaderElection54] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection54 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:30,106 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-441FDCB73124: receive requestVote(PRE_VOTE, s3, group-441FDCB73124, 3, (t:3, i:4))
2022-11-16 04:24:30,106 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-441FDCB73124-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-11-16 04:24:30,106 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-441FDCB73124 replies to PRE_VOTE vote request: s3<-s2#0:OK-t3. Peer's state: s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:30,106 [s3@group-441FDCB73124-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-441FDCB73124-LeaderElection54: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-16 04:24:30,106 [s3@group-441FDCB73124-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s2#0:OK-t3
2022-11-16 04:24:30,106 [s3@group-441FDCB73124-LeaderElection54] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:30,106 [s3@group-441FDCB73124-LeaderElection54] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:30,106 [s3@group-441FDCB73124-LeaderElection54] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:30,106 [s3@group-441FDCB73124-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-441FDCB73124-LeaderElection54 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:30,106 [s3@group-441FDCB73124-LeaderElection54] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-16 04:24:30,106 [s3@group-441FDCB73124-LeaderElection54] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-441FDCB73124-LeaderElection54
2022-11-16 04:24:30,106 [s3@group-441FDCB73124-LeaderElection54] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:30,312 [s3@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-441FDCB73124-FollowerState: change to CANDIDATE, lastRpcElapsedTime:205936124ns, electionTimeout:205ms
2022-11-16 04:24:30,312 [s3@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:30,313 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-16 04:24:30,313 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:30,313 [s3@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-LeaderElection55
2022-11-16 04:24:30,313 [s3@group-441FDCB73124-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-441FDCB73124-LeaderElection55 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:30,314 [s3@group-441FDCB73124-LeaderElection55] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection55 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:30,315 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-441FDCB73124: receive requestVote(PRE_VOTE, s3, group-441FDCB73124, 3, (t:3, i:4))
2022-11-16 04:24:30,315 [s3@group-441FDCB73124-LeaderElection55] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection55 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:30,315 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-441FDCB73124-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-11-16 04:24:30,315 [s3@group-441FDCB73124-LeaderElection55] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection55 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:30,315 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-441FDCB73124 replies to PRE_VOTE vote request: s3<-s2#0:OK-t3. Peer's state: s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:30,315 [s3@group-441FDCB73124-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-441FDCB73124-LeaderElection55: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-16 04:24:30,315 [s3@group-441FDCB73124-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s2#0:OK-t3
2022-11-16 04:24:30,315 [s3@group-441FDCB73124-LeaderElection55] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:30,315 [s3@group-441FDCB73124-LeaderElection55] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:30,315 [s3@group-441FDCB73124-LeaderElection55] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:30,315 [s3@group-441FDCB73124-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-441FDCB73124-LeaderElection55 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:30,315 [s3@group-441FDCB73124-LeaderElection55] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-16 04:24:30,315 [s3@group-441FDCB73124-LeaderElection55] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-441FDCB73124-LeaderElection55
2022-11-16 04:24:30,316 [s3@group-441FDCB73124-LeaderElection55] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:30,385 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #3/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:30,469 [s3@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-441FDCB73124-FollowerState: change to CANDIDATE, lastRpcElapsedTime:153761435ns, electionTimeout:153ms
2022-11-16 04:24:30,470 [s3@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:30,470 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-16 04:24:30,470 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:30,470 [s3@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-LeaderElection56
2022-11-16 04:24:30,470 [s3@group-441FDCB73124-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-441FDCB73124-LeaderElection56 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:30,471 [s3@group-441FDCB73124-LeaderElection56] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection56 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:30,471 [s3@group-441FDCB73124-LeaderElection56] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection56 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:30,471 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-441FDCB73124: receive requestVote(PRE_VOTE, s3, group-441FDCB73124, 3, (t:3, i:4))
2022-11-16 04:24:30,472 [s3@group-441FDCB73124-LeaderElection56] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection56 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:30,472 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-441FDCB73124-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-11-16 04:24:30,472 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-441FDCB73124 replies to PRE_VOTE vote request: s3<-s2#0:OK-t3. Peer's state: s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:30,472 [s3@group-441FDCB73124-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-441FDCB73124-LeaderElection56: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-16 04:24:30,472 [s3@group-441FDCB73124-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s2#0:OK-t3
2022-11-16 04:24:30,472 [s3@group-441FDCB73124-LeaderElection56] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:30,473 [s3@group-441FDCB73124-LeaderElection56] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:30,473 [s3@group-441FDCB73124-LeaderElection56] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:30,473 [s3@group-441FDCB73124-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-441FDCB73124-LeaderElection56 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:30,473 [s3@group-441FDCB73124-LeaderElection56] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-16 04:24:30,473 [s3@group-441FDCB73124-LeaderElection56] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-441FDCB73124-LeaderElection56
2022-11-16 04:24:30,473 [s3@group-441FDCB73124-LeaderElection56] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:30,710 [s3@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-441FDCB73124-FollowerState: change to CANDIDATE, lastRpcElapsedTime:236755772ns, electionTimeout:236ms
2022-11-16 04:24:30,710 [s3@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:30,710 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-16 04:24:30,710 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:30,710 [s3@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-LeaderElection57
2022-11-16 04:24:30,710 [s3@group-441FDCB73124-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-441FDCB73124-LeaderElection57 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:30,715 [s3@group-441FDCB73124-LeaderElection57] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection57 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:30,715 [s3@group-441FDCB73124-LeaderElection57] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection57 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:30,715 [s3@group-441FDCB73124-LeaderElection57] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection57 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:30,715 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-441FDCB73124: receive requestVote(PRE_VOTE, s3, group-441FDCB73124, 3, (t:3, i:4))
2022-11-16 04:24:30,715 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-441FDCB73124-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-11-16 04:24:30,716 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-441FDCB73124 replies to PRE_VOTE vote request: s3<-s2#0:OK-t3. Peer's state: s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:30,716 [s3@group-441FDCB73124-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-441FDCB73124-LeaderElection57: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-16 04:24:30,716 [s3@group-441FDCB73124-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s2#0:OK-t3
2022-11-16 04:24:30,716 [s3@group-441FDCB73124-LeaderElection57] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:30,716 [s3@group-441FDCB73124-LeaderElection57] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:30,716 [s3@group-441FDCB73124-LeaderElection57] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:30,716 [s3@group-441FDCB73124-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-441FDCB73124-LeaderElection57 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:30,716 [s3@group-441FDCB73124-LeaderElection57] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-16 04:24:30,716 [s3@group-441FDCB73124-LeaderElection57] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-441FDCB73124-LeaderElection57
2022-11-16 04:24:30,716 [s3@group-441FDCB73124-LeaderElection57] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:30,836 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #4/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:30,908 [s3@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-441FDCB73124-FollowerState: change to CANDIDATE, lastRpcElapsedTime:191738564ns, electionTimeout:191ms
2022-11-16 04:24:30,908 [s3@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:30,908 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-16 04:24:30,908 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:30,908 [s3@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-LeaderElection58
2022-11-16 04:24:30,909 [s3@group-441FDCB73124-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-441FDCB73124-LeaderElection58 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:30,910 [s3@group-441FDCB73124-LeaderElection58] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection58 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:30,910 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-441FDCB73124: receive requestVote(PRE_VOTE, s3, group-441FDCB73124, 3, (t:3, i:4))
2022-11-16 04:24:30,910 [s3@group-441FDCB73124-LeaderElection58] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection58 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:30,910 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-441FDCB73124-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-11-16 04:24:30,910 [s3@group-441FDCB73124-LeaderElection58] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection58 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:30,910 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-441FDCB73124 replies to PRE_VOTE vote request: s3<-s2#0:OK-t3. Peer's state: s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:30,910 [s3@group-441FDCB73124-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-441FDCB73124-LeaderElection58: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-16 04:24:30,910 [s3@group-441FDCB73124-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s2#0:OK-t3
2022-11-16 04:24:30,910 [s3@group-441FDCB73124-LeaderElection58] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:30,910 [s3@group-441FDCB73124-LeaderElection58] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:30,910 [s3@group-441FDCB73124-LeaderElection58] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:30,910 [s3@group-441FDCB73124-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-441FDCB73124-LeaderElection58 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:30,910 [s3@group-441FDCB73124-LeaderElection58] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-16 04:24:30,910 [s3@group-441FDCB73124-LeaderElection58] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-441FDCB73124-LeaderElection58
2022-11-16 04:24:30,911 [s3@group-441FDCB73124-LeaderElection58] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:31,084 [s3@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-441FDCB73124-FollowerState: change to CANDIDATE, lastRpcElapsedTime:173492167ns, electionTimeout:173ms
2022-11-16 04:24:31,084 [s3@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:31,084 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-16 04:24:31,085 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:31,085 [s3@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-LeaderElection59
2022-11-16 04:24:31,085 [s3@group-441FDCB73124-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-441FDCB73124-LeaderElection59 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:31,086 [s3@group-441FDCB73124-LeaderElection59] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection59 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:31,086 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-441FDCB73124: receive requestVote(PRE_VOTE, s3, group-441FDCB73124, 3, (t:3, i:4))
2022-11-16 04:24:31,086 [s3@group-441FDCB73124-LeaderElection59] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection59 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:31,086 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-441FDCB73124-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-11-16 04:24:31,086 [s3@group-441FDCB73124-LeaderElection59] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection59 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:31,086 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-441FDCB73124 replies to PRE_VOTE vote request: s3<-s2#0:OK-t3. Peer's state: s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:31,086 [s3@group-441FDCB73124-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-441FDCB73124-LeaderElection59: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-16 04:24:31,086 [s3@group-441FDCB73124-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s2#0:OK-t3
2022-11-16 04:24:31,086 [s3@group-441FDCB73124-LeaderElection59] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:31,086 [s3@group-441FDCB73124-LeaderElection59] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:31,086 [s3@group-441FDCB73124-LeaderElection59] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:31,086 [s3@group-441FDCB73124-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-441FDCB73124-LeaderElection59 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:31,086 [s3@group-441FDCB73124-LeaderElection59] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-16 04:24:31,086 [s3@group-441FDCB73124-LeaderElection59] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-441FDCB73124-LeaderElection59
2022-11-16 04:24:31,086 [s3@group-441FDCB73124-LeaderElection59] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:31,288 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #5/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:31,342 [s3@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-441FDCB73124-FollowerState: change to CANDIDATE, lastRpcElapsedTime:255547633ns, electionTimeout:255ms
2022-11-16 04:24:31,342 [s3@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:31,342 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-16 04:24:31,342 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:31,342 [s3@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-LeaderElection60
2022-11-16 04:24:31,343 [s3@group-441FDCB73124-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-441FDCB73124-LeaderElection60 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:31,344 [s3@group-441FDCB73124-LeaderElection60] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection60 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:31,344 [s3@group-441FDCB73124-LeaderElection60] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection60 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:31,344 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-441FDCB73124: receive requestVote(PRE_VOTE, s3, group-441FDCB73124, 3, (t:3, i:4))
2022-11-16 04:24:31,344 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-441FDCB73124-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-11-16 04:24:31,344 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-441FDCB73124 replies to PRE_VOTE vote request: s3<-s2#0:OK-t3. Peer's state: s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:31,344 [s3@group-441FDCB73124-LeaderElection60] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection60 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:31,344 [s3@group-441FDCB73124-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-441FDCB73124-LeaderElection60: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-16 04:24:31,345 [s3@group-441FDCB73124-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s2#0:OK-t3
2022-11-16 04:24:31,345 [s3@group-441FDCB73124-LeaderElection60] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:31,345 [s3@group-441FDCB73124-LeaderElection60] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:31,345 [s3@group-441FDCB73124-LeaderElection60] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:31,345 [s3@group-441FDCB73124-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-441FDCB73124-LeaderElection60 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:31,345 [s3@group-441FDCB73124-LeaderElection60] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-16 04:24:31,345 [s3@group-441FDCB73124-LeaderElection60] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-441FDCB73124-LeaderElection60
2022-11-16 04:24:31,345 [s3@group-441FDCB73124-LeaderElection60] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:31,548 [s3@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-441FDCB73124-FollowerState: change to CANDIDATE, lastRpcElapsedTime:202701785ns, electionTimeout:202ms
2022-11-16 04:24:31,548 [s3@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:31,548 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-16 04:24:31,548 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:31,548 [s3@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-LeaderElection61
2022-11-16 04:24:31,549 [s3@group-441FDCB73124-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-441FDCB73124-LeaderElection61 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:31,550 [s3@group-441FDCB73124-LeaderElection61] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection61 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:31,550 [s3@group-441FDCB73124-LeaderElection61] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection61 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:31,550 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-441FDCB73124: receive requestVote(PRE_VOTE, s3, group-441FDCB73124, 3, (t:3, i:4))
2022-11-16 04:24:31,550 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-441FDCB73124-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-11-16 04:24:31,550 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-441FDCB73124 replies to PRE_VOTE vote request: s3<-s2#0:OK-t3. Peer's state: s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:31,551 [s3@group-441FDCB73124-LeaderElection61] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection61 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:31,551 [s3@group-441FDCB73124-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-441FDCB73124-LeaderElection61: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-16 04:24:31,551 [s3@group-441FDCB73124-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s2#0:OK-t3
2022-11-16 04:24:31,551 [s3@group-441FDCB73124-LeaderElection61] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:31,551 [s3@group-441FDCB73124-LeaderElection61] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:31,551 [s3@group-441FDCB73124-LeaderElection61] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:31,551 [s3@group-441FDCB73124-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-441FDCB73124-LeaderElection61 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:31,551 [s3@group-441FDCB73124-LeaderElection61] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-16 04:24:31,551 [s3@group-441FDCB73124-LeaderElection61] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-441FDCB73124-LeaderElection61
2022-11-16 04:24:31,551 [s3@group-441FDCB73124-LeaderElection61] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:31,720 [s3@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-441FDCB73124-FollowerState: change to CANDIDATE, lastRpcElapsedTime:168554366ns, electionTimeout:167ms
2022-11-16 04:24:31,720 [s3@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:31,720 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-16 04:24:31,720 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:31,720 [s3@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-LeaderElection62
2022-11-16 04:24:31,721 [s3@group-441FDCB73124-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-441FDCB73124-LeaderElection62 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:31,722 [s3@group-441FDCB73124-LeaderElection62] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection62 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:31,722 [s3@group-441FDCB73124-LeaderElection62] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection62 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:31,722 [s3@group-441FDCB73124-LeaderElection62] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection62 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:31,722 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-441FDCB73124: receive requestVote(PRE_VOTE, s3, group-441FDCB73124, 3, (t:3, i:4))
2022-11-16 04:24:31,722 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-441FDCB73124-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-11-16 04:24:31,722 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-441FDCB73124 replies to PRE_VOTE vote request: s3<-s2#0:OK-t3. Peer's state: s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:31,724 [s3@group-441FDCB73124-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-441FDCB73124-LeaderElection62: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-16 04:24:31,724 [s3@group-441FDCB73124-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s2#0:OK-t3
2022-11-16 04:24:31,724 [s3@group-441FDCB73124-LeaderElection62] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:31,724 [s3@group-441FDCB73124-LeaderElection62] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:31,724 [s3@group-441FDCB73124-LeaderElection62] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:31,724 [s3@group-441FDCB73124-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-441FDCB73124-LeaderElection62 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:31,724 [s3@group-441FDCB73124-LeaderElection62] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-16 04:24:31,724 [s3@group-441FDCB73124-LeaderElection62] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-441FDCB73124-LeaderElection62
2022-11-16 04:24:31,724 [s3@group-441FDCB73124-LeaderElection62] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:31,739 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #6/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:32,010 [s3@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-441FDCB73124-FollowerState: change to CANDIDATE, lastRpcElapsedTime:286542813ns, electionTimeout:286ms
2022-11-16 04:24:32,011 [s3@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:32,011 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-16 04:24:32,011 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:32,011 [s3@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-LeaderElection63
2022-11-16 04:24:32,012 [s3@group-441FDCB73124-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-441FDCB73124-LeaderElection63 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:32,013 [s3@group-441FDCB73124-LeaderElection63] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection63 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:32,013 [s3@group-441FDCB73124-LeaderElection63] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection63 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:32,013 [s3@group-441FDCB73124-LeaderElection63] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection63 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:32,013 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-441FDCB73124: receive requestVote(PRE_VOTE, s3, group-441FDCB73124, 3, (t:3, i:4))
2022-11-16 04:24:32,013 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-441FDCB73124-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-11-16 04:24:32,013 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-441FDCB73124 replies to PRE_VOTE vote request: s3<-s2#0:OK-t3. Peer's state: s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:32,014 [s3@group-441FDCB73124-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-441FDCB73124-LeaderElection63: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-16 04:24:32,014 [s3@group-441FDCB73124-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s2#0:OK-t3
2022-11-16 04:24:32,014 [s3@group-441FDCB73124-LeaderElection63] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:32,014 [s3@group-441FDCB73124-LeaderElection63] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:32,014 [s3@group-441FDCB73124-LeaderElection63] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:32,014 [s3@group-441FDCB73124-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-441FDCB73124-LeaderElection63 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:32,014 [s3@group-441FDCB73124-LeaderElection63] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-16 04:24:32,014 [s3@group-441FDCB73124-LeaderElection63] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-441FDCB73124-LeaderElection63
2022-11-16 04:24:32,014 [s3@group-441FDCB73124-LeaderElection63] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:32,189 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #7/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:32,285 [s3@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-441FDCB73124-FollowerState: change to CANDIDATE, lastRpcElapsedTime:270611217ns, electionTimeout:270ms
2022-11-16 04:24:32,285 [s3@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:32,285 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-16 04:24:32,285 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:32,285 [s3@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-LeaderElection64
2022-11-16 04:24:32,286 [s3@group-441FDCB73124-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-441FDCB73124-LeaderElection64 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:32,287 [s3@group-441FDCB73124-LeaderElection64] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection64 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:32,287 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-441FDCB73124: receive requestVote(PRE_VOTE, s3, group-441FDCB73124, 3, (t:3, i:4))
2022-11-16 04:24:32,287 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-441FDCB73124-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-11-16 04:24:32,287 [s3@group-441FDCB73124-LeaderElection64] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection64 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:32,287 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-441FDCB73124 replies to PRE_VOTE vote request: s3<-s2#0:OK-t3. Peer's state: s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:32,287 [s3@group-441FDCB73124-LeaderElection64] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection64 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:32,287 [s3@group-441FDCB73124-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-441FDCB73124-LeaderElection64: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-16 04:24:32,287 [s3@group-441FDCB73124-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s2#0:OK-t3
2022-11-16 04:24:32,287 [s3@group-441FDCB73124-LeaderElection64] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:32,287 [s3@group-441FDCB73124-LeaderElection64] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:32,287 [s3@group-441FDCB73124-LeaderElection64] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:32,287 [s3@group-441FDCB73124-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-441FDCB73124-LeaderElection64 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:32,287 [s3@group-441FDCB73124-LeaderElection64] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-16 04:24:32,287 [s3@group-441FDCB73124-LeaderElection64] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-441FDCB73124-LeaderElection64
2022-11-16 04:24:32,288 [s3@group-441FDCB73124-LeaderElection64] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:32,520 [s3@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-441FDCB73124-FollowerState: change to CANDIDATE, lastRpcElapsedTime:232865555ns, electionTimeout:232ms
2022-11-16 04:24:32,521 [s3@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:32,521 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-16 04:24:32,521 [s3@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:32,521 [s3@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-LeaderElection65
2022-11-16 04:24:32,521 [s3@group-441FDCB73124-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-441FDCB73124-LeaderElection65 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:32,522 [s3@group-441FDCB73124-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection65 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:32,522 [s3@group-441FDCB73124-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection65 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:32,522 [s3@group-441FDCB73124-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-441FDCB73124-LeaderElection65 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:32,522 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-441FDCB73124: receive requestVote(PRE_VOTE, s3, group-441FDCB73124, 3, (t:3, i:4))
2022-11-16 04:24:32,522 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-441FDCB73124-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-11-16 04:24:32,523 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-441FDCB73124 replies to PRE_VOTE vote request: s3<-s2#0:OK-t3. Peer's state: s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:32,523 [s3@group-441FDCB73124-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-441FDCB73124-LeaderElection65: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-16 04:24:32,523 [s3@group-441FDCB73124-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s2#0:OK-t3
2022-11-16 04:24:32,523 [s3@group-441FDCB73124-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:32,523 [s3@group-441FDCB73124-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:32,523 [s3@group-441FDCB73124-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:32,523 [s3@group-441FDCB73124-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-441FDCB73124-LeaderElection65 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:32,523 [s3@group-441FDCB73124-LeaderElection65] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-441FDCB73124: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-16 04:24:32,523 [s3@group-441FDCB73124-LeaderElection65] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-441FDCB73124-LeaderElection65
2022-11-16 04:24:32,523 [s3@group-441FDCB73124-LeaderElection65] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:32,641 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #8/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:32,717 [s2@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-441FDCB73124-FollowerState: change to CANDIDATE, lastRpcElapsedTime:194111080ns, electionTimeout:160ms
2022-11-16 04:24:32,717 [s2@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-441FDCB73124-FollowerState
2022-11-16 04:24:32,717 [s2@group-441FDCB73124-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-441FDCB73124: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-16 04:24:32,717 [s2@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:32,717 [s2@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-441FDCB73124-LeaderElection66
2022-11-16 04:24:32,718 [s2@group-441FDCB73124-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-441FDCB73124-LeaderElection66 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:32,718 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-441FDCB73124: receive requestVote(PRE_VOTE, s2, group-441FDCB73124, 3, (t:3, i:4))
2022-11-16 04:24:32,718 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-441FDCB73124-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-16 04:24:32,719 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-441FDCB73124 replies to PRE_VOTE vote request: s2<-s3#0:OK-t3. Peer's state: s3@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:32,720 [s2@group-441FDCB73124-LeaderElection66] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-441FDCB73124-LeaderElection66 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:32,720 [s2@group-441FDCB73124-LeaderElection66] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-441FDCB73124-LeaderElection66 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:32,720 [s2@group-441FDCB73124-LeaderElection66] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-441FDCB73124-LeaderElection66 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:32,720 [s2@group-441FDCB73124-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-441FDCB73124-LeaderElection66: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-16 04:24:32,720 [s2@group-441FDCB73124-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s3#0:OK-t3
2022-11-16 04:24:32,720 [s2@group-441FDCB73124-LeaderElection66] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:32,720 [s2@group-441FDCB73124-LeaderElection66] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:32,720 [s2@group-441FDCB73124-LeaderElection66] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:32,720 [s2@group-441FDCB73124-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-441FDCB73124-LeaderElection66 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:32,720 [s2@group-441FDCB73124-LeaderElection66] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-441FDCB73124: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-16 04:24:32,720 [s2@group-441FDCB73124-LeaderElection66] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-441FDCB73124-LeaderElection66
2022-11-16 04:24:32,720 [s2@group-441FDCB73124-LeaderElection66] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-441FDCB73124-FollowerState
2022-11-16 04:24:32,910 [s2@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-441FDCB73124-FollowerState: change to CANDIDATE, lastRpcElapsedTime:189486223ns, electionTimeout:189ms
2022-11-16 04:24:32,910 [s2@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-441FDCB73124-FollowerState
2022-11-16 04:24:32,910 [s2@group-441FDCB73124-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-441FDCB73124: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-16 04:24:32,911 [s2@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:32,911 [s2@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-441FDCB73124-LeaderElection67
2022-11-16 04:24:32,911 [s2@group-441FDCB73124-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-441FDCB73124-LeaderElection67 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:32,912 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-441FDCB73124: receive requestVote(PRE_VOTE, s2, group-441FDCB73124, 3, (t:3, i:4))
2022-11-16 04:24:32,912 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-441FDCB73124-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-16 04:24:32,912 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-441FDCB73124 replies to PRE_VOTE vote request: s2<-s3#0:OK-t3. Peer's state: s3@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:32,912 [s2@group-441FDCB73124-LeaderElection67] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-441FDCB73124-LeaderElection67 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:32,912 [s2@group-441FDCB73124-LeaderElection67] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-441FDCB73124-LeaderElection67 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:32,913 [s2@group-441FDCB73124-LeaderElection67] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-441FDCB73124-LeaderElection67 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:32,913 [s2@group-441FDCB73124-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-441FDCB73124-LeaderElection67: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-16 04:24:32,913 [s2@group-441FDCB73124-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s3#0:OK-t3
2022-11-16 04:24:32,913 [s2@group-441FDCB73124-LeaderElection67] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:32,913 [s2@group-441FDCB73124-LeaderElection67] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:32,913 [s2@group-441FDCB73124-LeaderElection67] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:32,913 [s2@group-441FDCB73124-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-441FDCB73124-LeaderElection67 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:32,913 [s2@group-441FDCB73124-LeaderElection67] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-441FDCB73124: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-16 04:24:32,913 [s2@group-441FDCB73124-LeaderElection67] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-441FDCB73124-LeaderElection67
2022-11-16 04:24:32,913 [s2@group-441FDCB73124-LeaderElection67] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-441FDCB73124-FollowerState
2022-11-16 04:24:33,088 [s2@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-441FDCB73124-FollowerState: change to CANDIDATE, lastRpcElapsedTime:174604140ns, electionTimeout:174ms
2022-11-16 04:24:33,088 [s2@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-441FDCB73124-FollowerState
2022-11-16 04:24:33,088 [s2@group-441FDCB73124-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-441FDCB73124: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-16 04:24:33,088 [s2@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:33,088 [s2@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-441FDCB73124-LeaderElection68
2022-11-16 04:24:33,089 [s2@group-441FDCB73124-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-441FDCB73124-LeaderElection68 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:33,089 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-441FDCB73124: receive requestVote(PRE_VOTE, s2, group-441FDCB73124, 3, (t:3, i:4))
2022-11-16 04:24:33,089 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-441FDCB73124-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-16 04:24:33,090 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-441FDCB73124 replies to PRE_VOTE vote request: s2<-s3#0:OK-t3. Peer's state: s3@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:33,090 [s2@group-441FDCB73124-LeaderElection68] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-441FDCB73124-LeaderElection68 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:33,090 [s2@group-441FDCB73124-LeaderElection68] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-441FDCB73124-LeaderElection68 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:33,090 [s2@group-441FDCB73124-LeaderElection68] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-441FDCB73124-LeaderElection68 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:33,090 [s2@group-441FDCB73124-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-441FDCB73124-LeaderElection68: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-16 04:24:33,090 [s2@group-441FDCB73124-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s3#0:OK-t3
2022-11-16 04:24:33,090 [s2@group-441FDCB73124-LeaderElection68] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:33,090 [s2@group-441FDCB73124-LeaderElection68] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:33,090 [s2@group-441FDCB73124-LeaderElection68] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:33,090 [s2@group-441FDCB73124-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-441FDCB73124-LeaderElection68 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:33,090 [s2@group-441FDCB73124-LeaderElection68] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-441FDCB73124: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-16 04:24:33,091 [s2@group-441FDCB73124-LeaderElection68] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-441FDCB73124-LeaderElection68
2022-11-16 04:24:33,091 [s2@group-441FDCB73124-LeaderElection68] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-441FDCB73124-FollowerState
2022-11-16 04:24:33,092 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #9/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:33,309 [s2@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-441FDCB73124-FollowerState: change to CANDIDATE, lastRpcElapsedTime:218462578ns, electionTimeout:218ms
2022-11-16 04:24:33,309 [s2@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-441FDCB73124-FollowerState
2022-11-16 04:24:33,309 [s2@group-441FDCB73124-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-441FDCB73124: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-16 04:24:33,310 [s2@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:33,310 [s2@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-441FDCB73124-LeaderElection69
2022-11-16 04:24:33,310 [s2@group-441FDCB73124-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-441FDCB73124-LeaderElection69 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:33,311 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-441FDCB73124: receive requestVote(PRE_VOTE, s2, group-441FDCB73124, 3, (t:3, i:4))
2022-11-16 04:24:33,311 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-441FDCB73124-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-16 04:24:33,311 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-441FDCB73124 replies to PRE_VOTE vote request: s2<-s3#0:OK-t3. Peer's state: s3@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:33,312 [s2@group-441FDCB73124-LeaderElection69] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-441FDCB73124-LeaderElection69 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:33,312 [s2@group-441FDCB73124-LeaderElection69] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-441FDCB73124-LeaderElection69 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:33,313 [s2@group-441FDCB73124-LeaderElection69] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-441FDCB73124-LeaderElection69 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:33,313 [s2@group-441FDCB73124-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-441FDCB73124-LeaderElection69: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-16 04:24:33,313 [s2@group-441FDCB73124-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s3#0:OK-t3
2022-11-16 04:24:33,313 [s2@group-441FDCB73124-LeaderElection69] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:33,313 [s2@group-441FDCB73124-LeaderElection69] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:33,313 [s2@group-441FDCB73124-LeaderElection69] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:33,313 [s2@group-441FDCB73124-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-441FDCB73124-LeaderElection69 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:33,314 [s2@group-441FDCB73124-LeaderElection69] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-441FDCB73124: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-16 04:24:33,314 [s2@group-441FDCB73124-LeaderElection69] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-441FDCB73124-LeaderElection69
2022-11-16 04:24:33,314 [s2@group-441FDCB73124-LeaderElection69] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-441FDCB73124-FollowerState
2022-11-16 04:24:33,543 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (BaseTest.java:assertThrowable(133)) - The test "waitForLeader after killed a majority of servers" throws IllegalStateException
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:33,544 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-16 04:24:33,544 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-16 04:24:33,544 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:33,544 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-16 04:24:33,544 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-16 04:24:33,544 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-441FDCB73124:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-441FDCB73124-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-441FDCB73124:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-441FDCB73124-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-441FDCB73124:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-441FDCB73124-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-441FDCB73124:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-441FDCB73124-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:33,545 [s2@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-441FDCB73124-FollowerState: change to CANDIDATE, lastRpcElapsedTime:230894431ns, electionTimeout:230ms
2022-11-16 04:24:33,545 [s2@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-441FDCB73124-FollowerState
2022-11-16 04:24:33,545 [s2@group-441FDCB73124-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-441FDCB73124: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-16 04:24:33,545 [MiniRaftCluster-47] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s3: close
2022-11-16 04:24:33,545 [s2@group-441FDCB73124-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:33,547 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:33,547 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:33,548 [MiniRaftCluster-51] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-16 04:24:33,547 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:33,548 [s2@group-441FDCB73124-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-441FDCB73124-LeaderElection70
2022-11-16 04:24:33,549 [s2@group-441FDCB73124-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-441FDCB73124-LeaderElection70 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:40893|admin:localhost:39015|client:localhost:33577|dataStream:localhost:44865|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39137|admin:localhost:35527|client:localhost:35611|dataStream:localhost:45401|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:35549|admin:localhost:38009|client:localhost:43535|dataStream:localhost:34141|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32817|admin:localhost:35387|client:localhost:37265|dataStream:localhost:42789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42875|admin:localhost:34123|client:localhost:39639|dataStream:localhost:39509|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:33,546 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s3@group-441FDCB73124: shutdown
2022-11-16 04:24:33,549 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-441FDCB73124,id=s3
2022-11-16 04:24:33,549 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-441FDCB73124-FollowerState
2022-11-16 04:24:33,549 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-441FDCB73124-StateMachineUpdater: set stopIndex = 4
2022-11-16 04:24:33,550 [s3@group-441FDCB73124-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-441FDCB73124-FollowerState was interrupted
2022-11-16 04:24:33,550 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s3@group-441FDCB73124: applyIndex: 4
2022-11-16 04:24:33,550 [s3@group-441FDCB73124-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s3@group-441FDCB73124-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:33,550 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-441FDCB73124: receive requestVote(PRE_VOTE, s2, group-441FDCB73124, 3, (t:3, i:4))
2022-11-16 04:24:33,550 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:33,550 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:33,551 [s2@group-441FDCB73124-LeaderElection70] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-441FDCB73124-LeaderElection70 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:33,551 [s2@group-441FDCB73124-LeaderElection70] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-441FDCB73124-LeaderElection70 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s3@group-441FDCB73124 is not in [RUNNING]: current state is CLOSING
2022-11-16 04:24:33,551 [s2@group-441FDCB73124-LeaderElection70] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-441FDCB73124-LeaderElection70 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:33,551 [s2@group-441FDCB73124-LeaderElection70] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-441FDCB73124-LeaderElection70 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:33,552 [s2@group-441FDCB73124-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-441FDCB73124-LeaderElection70: PRE_VOTE REJECTED received 0 response(s) and 4 exception(s):
2022-11-16 04:24:33,552 [s2@group-441FDCB73124-LeaderElection70] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 0: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-11-16 04:24:33,552 [s2@group-441FDCB73124-LeaderElection70] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s3@group-441FDCB73124 is not in [RUNNING]: current state is CLOSING
2022-11-16 04:24:33,552 [s2@group-441FDCB73124-LeaderElection70] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-16 04:24:33,552 [s2@group-441FDCB73124-LeaderElection70] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-16 04:24:33,552 [s2@group-441FDCB73124-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-441FDCB73124-LeaderElection70 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:33,552 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:33,552 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s3@group-441FDCB73124-SegmentedRaftLogWorker close()
2022-11-16 04:24:33,552 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:33,552 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:33,552 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-441FDCB73124: shutdown
2022-11-16 04:24:33,552 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:33,553 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:33,553 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-441FDCB73124,id=s2
2022-11-16 04:24:33,553 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:33,553 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-441FDCB73124-LeaderElection70
2022-11-16 04:24:33,553 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-441FDCB73124-StateMachineUpdater: set stopIndex = 4
2022-11-16 04:24:33,553 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-441FDCB73124: applyIndex: 4
2022-11-16 04:24:33,553 [s2@group-441FDCB73124-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-441FDCB73124-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:33,554 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-441FDCB73124-SegmentedRaftLogWorker close()
2022-11-16 04:24:33,555 [JvmPauseMonitor39] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-16 04:24:33,555 [JvmPauseMonitor35] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s3: Stopped
2022-11-16 04:24:33,555 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-16 04:24:33,556 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-16 04:24:33,556 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-16 04:24:33,556 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-16 04:24:33,556 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-16 04:24:33,566 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-16 04:24:33,566 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-A03B1A9122B3:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]
2022-11-16 04:24:33,566 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-16 04:24:33,566 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-16 04:24:33,566 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:33,566 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-16 04:24:33,566 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-16 04:24:33,566 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-16 04:24:33,567 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-A03B1A9122B3:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:33,567 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s0
2022-11-16 04:24:33,568 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s0 does not exist.
2022-11-16 04:24:33,568 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s0
2022-11-16 04:24:33,568 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:33,568 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:33,568 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:33,568 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:33,569 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:33,569 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:33,569 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s0] (custom)
2022-11-16 04:24:33,569 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-A03B1A9122B3:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER] returns group-A03B1A9122B3:java.util.concurrent.CompletableFuture@2808edf1[Not completed]
2022-11-16 04:24:33,569 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-A03B1A9122B3:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:33,570 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s1
2022-11-16 04:24:33,570 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s1 does not exist.
2022-11-16 04:24:33,570 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s1
2022-11-16 04:24:33,570 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:33,570 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:33,570 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:33,570 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:33,570 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:33,570 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:33,570 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s1] (custom)
2022-11-16 04:24:33,570 [pool-41-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-A03B1A9122B3:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:33,571 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:33,571 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:33,571 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:33,571 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:33,571 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:33,571 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:33,571 [pool-41-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-A03B1A9122B3: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:33,571 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:33,571 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:33,571 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:33,571 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-A03B1A9122B3:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER] returns group-A03B1A9122B3:java.util.concurrent.CompletableFuture@5cadfefc[Not completed]
2022-11-16 04:24:33,571 [pool-42-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-A03B1A9122B3:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:33,572 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-A03B1A9122B3:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:33,572 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s2
2022-11-16 04:24:33,572 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:33,572 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:33,572 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s2 does not exist.
2022-11-16 04:24:33,572 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:33,572 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:33,572 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s2
2022-11-16 04:24:33,572 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:33,572 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:33,572 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:33,572 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:33,572 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:33,572 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:33,572 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:33,573 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s2] (custom)
2022-11-16 04:24:33,572 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:33,573 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:33,573 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:33,573 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:33,573 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:33,574 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:33,574 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:33,572 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:33,578 [pool-42-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-A03B1A9122B3: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:33,578 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:33,578 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:33,578 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:33,578 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:33,578 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:33,579 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:33,579 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:33,579 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:33,579 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:33,579 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:33,579 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-A03B1A9122B3:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER] returns group-A03B1A9122B3:java.util.concurrent.CompletableFuture@74e18b4[Not completed]
2022-11-16 04:24:33,579 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:33,579 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:33,580 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s0] (custom)
2022-11-16 04:24:33,580 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s0/d3929a30-35b2-4ad7-9672-a03b1a9122b3 does not exist. Creating ...
2022-11-16 04:24:33,580 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s0/d3929a30-35b2-4ad7-9672-a03b1a9122b3
2022-11-16 04:24:33,580 [pool-43-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-A03B1A9122B3:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:33,580 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:33,581 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:33,581 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:33,581 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:33,581 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:33,581 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:33,581 [pool-43-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-A03B1A9122B3: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:33,581 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:33,581 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:33,581 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:33,581 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:33,581 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s0/d3929a30-35b2-4ad7-9672-a03b1a9122b3/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:33,581 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:33,582 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s0/d3929a30-35b2-4ad7-9672-a03b1a9122b3/current
2022-11-16 04:24:33,582 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s0/d3929a30-35b2-4ad7-9672-a03b1a9122b3/sm
2022-11-16 04:24:33,583 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s0/d3929a30-35b2-4ad7-9672-a03b1a9122b3 has been successfully formatted.
2022-11-16 04:24:33,583 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:33,583 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:33,583 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:33,583 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:33,583 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:33,583 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:33,583 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:33,583 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:33,583 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:33,583 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:33,583 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:33,583 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:33,583 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:33,583 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-A03B1A9122B3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s0/d3929a30-35b2-4ad7-9672-a03b1a9122b3
2022-11-16 04:24:33,583 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:33,583 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:33,583 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:33,583 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:33,583 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:33,584 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:33,584 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:33,584 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:33,584 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:33,584 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:33,584 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:33,584 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:33,584 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:33,585 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-A03B1A9122B3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:33,585 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-A03B1A9122B3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:33,585 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-A03B1A9122B3: start as a follower, conf=-1: peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:33,585 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-A03B1A9122B3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:33,585 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A03B1A9122B3-FollowerState
2022-11-16 04:24:33,585 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A03B1A9122B3,id=s0
2022-11-16 04:24:33,585 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:33,585 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:33,586 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:33,586 [s0@group-A03B1A9122B3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:33,586 [s0@group-A03B1A9122B3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:33,586 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-16 04:24:33,587 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:33,587 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:33,587 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s1] (custom)
2022-11-16 04:24:33,587 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s1/d3929a30-35b2-4ad7-9672-a03b1a9122b3 does not exist. Creating ...
2022-11-16 04:24:33,587 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s1/d3929a30-35b2-4ad7-9672-a03b1a9122b3
2022-11-16 04:24:33,588 [JvmPauseMonitor40] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-16 04:24:33,588 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s1/d3929a30-35b2-4ad7-9672-a03b1a9122b3/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:33,588 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s1/d3929a30-35b2-4ad7-9672-a03b1a9122b3/current
2022-11-16 04:24:33,588 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s1/d3929a30-35b2-4ad7-9672-a03b1a9122b3/sm
2022-11-16 04:24:33,589 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s1/d3929a30-35b2-4ad7-9672-a03b1a9122b3 has been successfully formatted.
2022-11-16 04:24:33,589 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:33,589 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:33,589 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:33,590 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:33,590 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:33,590 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:33,590 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:33,590 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:33,590 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-A03B1A9122B3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s1/d3929a30-35b2-4ad7-9672-a03b1a9122b3
2022-11-16 04:24:33,590 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:33,590 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:33,590 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:33,590 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:33,590 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:33,590 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:33,590 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:33,590 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:33,590 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:33,590 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:33,591 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:33,591 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:33,591 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:33,591 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-A03B1A9122B3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:33,591 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-A03B1A9122B3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:33,601 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-A03B1A9122B3: start as a follower, conf=-1: peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:33,601 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-A03B1A9122B3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:33,601 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A03B1A9122B3-FollowerState
2022-11-16 04:24:33,602 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A03B1A9122B3,id=s1
2022-11-16 04:24:33,602 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:33,602 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:33,602 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:33,602 [s1@group-A03B1A9122B3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:33,602 [s1@group-A03B1A9122B3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:33,602 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-16 04:24:33,603 [JvmPauseMonitor41] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-16 04:24:33,603 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:33,603 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:33,603 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s2] (custom)
2022-11-16 04:24:33,604 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s2/d3929a30-35b2-4ad7-9672-a03b1a9122b3 does not exist. Creating ...
2022-11-16 04:24:33,604 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s2/d3929a30-35b2-4ad7-9672-a03b1a9122b3
2022-11-16 04:24:33,605 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s2/d3929a30-35b2-4ad7-9672-a03b1a9122b3/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:33,605 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s2/d3929a30-35b2-4ad7-9672-a03b1a9122b3/current
2022-11-16 04:24:33,605 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s2/d3929a30-35b2-4ad7-9672-a03b1a9122b3/sm
2022-11-16 04:24:33,606 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s2/d3929a30-35b2-4ad7-9672-a03b1a9122b3 has been successfully formatted.
2022-11-16 04:24:33,606 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:33,606 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:33,606 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:33,606 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:33,606 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:33,606 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:33,607 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:33,607 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:33,607 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-A03B1A9122B3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s2/d3929a30-35b2-4ad7-9672-a03b1a9122b3
2022-11-16 04:24:33,607 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:33,607 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:33,607 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:33,607 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:33,607 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:33,607 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:33,607 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:33,607 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:33,607 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:33,607 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:33,608 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:33,608 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:33,608 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:33,608 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-A03B1A9122B3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:33,608 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-A03B1A9122B3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:33,608 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-A03B1A9122B3: start as a follower, conf=-1: peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:33,608 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-A03B1A9122B3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:33,608 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A03B1A9122B3-FollowerState
2022-11-16 04:24:33,609 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A03B1A9122B3,id=s2
2022-11-16 04:24:33,609 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:33,609 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:33,609 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:33,610 [s2@group-A03B1A9122B3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:33,610 [s2@group-A03B1A9122B3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:33,612 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-16 04:24:33,613 [JvmPauseMonitor42] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-16 04:24:33,613 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:33,613 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A03B1A9122B3:t0, leader=null, voted=, raftlog=Memoized:s0@group-A03B1A9122B3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A03B1A9122B3:t0, leader=null, voted=, raftlog=Memoized:s1@group-A03B1A9122B3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A03B1A9122B3:t0, leader=null, voted=, raftlog=Memoized:s2@group-A03B1A9122B3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:33,613 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A03B1A9122B3:t0, leader=null, voted=, raftlog=Memoized:s0@group-A03B1A9122B3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A03B1A9122B3:t0, leader=null, voted=, raftlog=Memoized:s1@group-A03B1A9122B3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A03B1A9122B3:t0, leader=null, voted=, raftlog=Memoized:s2@group-A03B1A9122B3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A03B1A9122B3:t0, leader=null, voted=, raftlog=Memoized:s0@group-A03B1A9122B3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A03B1A9122B3:t0, leader=null, voted=, raftlog=Memoized:s1@group-A03B1A9122B3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A03B1A9122B3:t0, leader=null, voted=, raftlog=Memoized:s2@group-A03B1A9122B3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeFollowerToListener(LeaderElectionTests.java:409)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:33,741 [s0@group-A03B1A9122B3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-A03B1A9122B3-FollowerState: change to CANDIDATE, lastRpcElapsedTime:156039113ns, electionTimeout:155ms
2022-11-16 04:24:33,741 [s0@group-A03B1A9122B3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A03B1A9122B3-FollowerState
2022-11-16 04:24:33,741 [s0@group-A03B1A9122B3-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-A03B1A9122B3: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-16 04:24:33,742 [s0@group-A03B1A9122B3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:33,742 [s0@group-A03B1A9122B3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A03B1A9122B3-LeaderElection71
2022-11-16 04:24:33,742 [s0@group-A03B1A9122B3-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-A03B1A9122B3-LeaderElection71 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:33,743 [s0@group-A03B1A9122B3-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:33,743 [s0@group-A03B1A9122B3-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:33,743 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-A03B1A9122B3: receive requestVote(PRE_VOTE, s0, group-A03B1A9122B3, 0, (t:0, i:0))
2022-11-16 04:24:33,743 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-A03B1A9122B3-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:33,743 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-A03B1A9122B3 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-A03B1A9122B3:t0, leader=null, voted=, raftlog=Memoized:s1@group-A03B1A9122B3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:33,743 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-A03B1A9122B3: receive requestVote(PRE_VOTE, s0, group-A03B1A9122B3, 0, (t:0, i:0))
2022-11-16 04:24:33,743 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-A03B1A9122B3-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:33,743 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-A03B1A9122B3 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-A03B1A9122B3:t0, leader=null, voted=, raftlog=Memoized:s2@group-A03B1A9122B3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:33,743 [s0@group-A03B1A9122B3-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-A03B1A9122B3-LeaderElection71: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:33,744 [s0@group-A03B1A9122B3-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t0
2022-11-16 04:24:33,744 [s0@group-A03B1A9122B3-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-A03B1A9122B3-LeaderElection71 PRE_VOTE round 0: result PASSED
2022-11-16 04:24:33,745 [s0@group-A03B1A9122B3-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-A03B1A9122B3-LeaderElection71 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:33,745 [s0@group-A03B1A9122B3-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:33,745 [s0@group-A03B1A9122B3-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:33,745 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-A03B1A9122B3: receive requestVote(ELECTION, s0, group-A03B1A9122B3, 1, (t:0, i:0))
2022-11-16 04:24:33,745 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-A03B1A9122B3-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:33,745 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-A03B1A9122B3: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-11-16 04:24:33,745 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-A03B1A9122B3-FollowerState
2022-11-16 04:24:33,745 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A03B1A9122B3-FollowerState
2022-11-16 04:24:33,746 [s1@group-A03B1A9122B3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-A03B1A9122B3-FollowerState was interrupted
2022-11-16 04:24:33,746 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-A03B1A9122B3: receive requestVote(ELECTION, s0, group-A03B1A9122B3, 1, (t:0, i:0))
2022-11-16 04:24:33,746 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-A03B1A9122B3-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:33,746 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-A03B1A9122B3: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-11-16 04:24:33,746 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-A03B1A9122B3-FollowerState
2022-11-16 04:24:33,746 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A03B1A9122B3-FollowerState
2022-11-16 04:24:33,746 [s2@group-A03B1A9122B3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-A03B1A9122B3-FollowerState was interrupted
2022-11-16 04:24:33,747 [s1@group-A03B1A9122B3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:33,747 [s1@group-A03B1A9122B3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:33,747 [s2@group-A03B1A9122B3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:33,747 [s2@group-A03B1A9122B3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:33,747 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-A03B1A9122B3 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-A03B1A9122B3:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-A03B1A9122B3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:33,747 [s0@group-A03B1A9122B3-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-A03B1A9122B3-LeaderElection71: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:33,747 [s0@group-A03B1A9122B3-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2022-11-16 04:24:33,747 [s0@group-A03B1A9122B3-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-A03B1A9122B3-LeaderElection71 ELECTION round 0: result PASSED
2022-11-16 04:24:33,748 [s0@group-A03B1A9122B3-LeaderElection71] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-A03B1A9122B3-LeaderElection71
2022-11-16 04:24:33,748 [s0@group-A03B1A9122B3-LeaderElection71] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-A03B1A9122B3: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-16 04:24:33,748 [s0@group-A03B1A9122B3-LeaderElection71] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-A03B1A9122B3: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 176ms
2022-11-16 04:24:33,748 [s0@group-A03B1A9122B3-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:33,748 [s0@group-A03B1A9122B3-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:33,748 [s0@group-A03B1A9122B3-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:33,748 [s0@group-A03B1A9122B3-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:33,748 [s0@group-A03B1A9122B3-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:33,748 [s0@group-A03B1A9122B3-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:33,748 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-A03B1A9122B3 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-A03B1A9122B3:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-A03B1A9122B3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:33,748 [s0@group-A03B1A9122B3-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:33,748 [s0@group-A03B1A9122B3-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:33,748 [s0@group-A03B1A9122B3-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:33,748 [s0@group-A03B1A9122B3-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:33,748 [s0@group-A03B1A9122B3-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:33,749 [s0@group-A03B1A9122B3-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:33,749 [s0@group-A03B1A9122B3-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:33,749 [s0@group-A03B1A9122B3-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:33,749 [s0@group-A03B1A9122B3-LeaderElection71] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A03B1A9122B3-LeaderStateImpl
2022-11-16 04:24:33,749 [s0@group-A03B1A9122B3-LeaderElection71] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-A03B1A9122B3-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:33,753 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-A03B1A9122B3: change Leader from null to s0 at term 1 for appendEntries, leader elected after 175ms
2022-11-16 04:24:33,754 [s0@group-A03B1A9122B3-LeaderElection71] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-A03B1A9122B3: set configuration 0: peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:33,755 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-A03B1A9122B3: change Leader from null to s0 at term 1 for appendEntries, leader elected after 173ms
2022-11-16 04:24:33,755 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-A03B1A9122B3: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:2243, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:45211"
dataStreamAddress: "localhost:46301"
clientAddress: "localhost:41999"
adminAddress: "localhost:36845"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41025"
dataStreamAddress: "localhost:44789"
clientAddress: "localhost:43575"
adminAddress: "localhost:39875"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44483"
dataStreamAddress: "localhost:38359"
clientAddress: "localhost:38777"
adminAddress: "localhost:41367"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:33,755 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-A03B1A9122B3: set configuration 0: peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:33,756 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-A03B1A9122B3-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:33,757 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-A03B1A9122B3: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:2244, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:45211"
dataStreamAddress: "localhost:46301"
clientAddress: "localhost:41999"
adminAddress: "localhost:36845"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41025"
dataStreamAddress: "localhost:44789"
clientAddress: "localhost:43575"
adminAddress: "localhost:39875"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44483"
dataStreamAddress: "localhost:38359"
clientAddress: "localhost:38777"
adminAddress: "localhost:41367"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:33,757 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-A03B1A9122B3: set configuration 0: peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:33,757 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-A03B1A9122B3-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:33,761 [s0@group-A03B1A9122B3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-A03B1A9122B3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s0/d3929a30-35b2-4ad7-9672-a03b1a9122b3/current/log_inprogress_0
2022-11-16 04:24:33,774 [s2@group-A03B1A9122B3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-A03B1A9122B3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s2/d3929a30-35b2-4ad7-9672-a03b1a9122b3/current/log_inprogress_0
2022-11-16 04:24:33,775 [s1@group-A03B1A9122B3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-A03B1A9122B3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc2a194a4c/s1/d3929a30-35b2-4ad7-9672-a03b1a9122b3/current/log_inprogress_0
2022-11-16 04:24:33,775 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-A03B1A9122B3: succeeded to handle AppendEntries. Reply: s0<-s1#2243:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-16 04:24:33,775 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-A03B1A9122B3: succeeded to handle AppendEntries. Reply: s0<-s2#2244:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-16 04:24:34,064 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-A03B1A9122B3:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-A03B1A9122B3-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A03B1A9122B3:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-A03B1A9122B3-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A03B1A9122B3:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-A03B1A9122B3-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:34,064 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:34,065 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s0@group-A03B1A9122B3: receive client request(RaftClientRequest:client-3F443B6AD235->s0@group-A03B1A9122B3, cid=2273, seq=0, RW, message)
2022-11-16 04:24:34,066 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(410)) - s0@group-A03B1A9122B3-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-3F443B6AD235->s0@group-A03B1A9122B3, cid=2273, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 2273@client-3F443B6AD235
2022-11-16 04:24:34,066 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-A03B1A9122B3: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:2276, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2273@client-3F443B6AD235]
2022-11-16 04:24:34,066 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-A03B1A9122B3: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:2277, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2273@client-3F443B6AD235]
2022-11-16 04:24:34,067 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-A03B1A9122B3: succeeded to handle AppendEntries. Reply: s0<-s1#2276:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-16 04:24:34,067 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-A03B1A9122B3: succeeded to handle AppendEntries. Reply: s0<-s2#2277:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-16 04:24:34,067 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-A03B1A9122B3: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:2278, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-16 04:24:34,068 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-A03B1A9122B3: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:2280, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-16 04:24:34,069 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-A03B1A9122B3: succeeded to handle AppendEntries. Reply: s0<-s1#2278:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-16 04:24:34,071 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-A03B1A9122B3: succeeded to handle AppendEntries. Reply: s0<-s2#2280:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-16 04:24:34,073 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1188)) - s0@group-A03B1A9122B3: receive setConfiguration SetConfigurationRequest:client-3F443B6AD235->s0@group-A03B1A9122B3, cid=2279, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER], listeners:[s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]
2022-11-16 04:24:34,074 [s0-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(377)) - s0@group-A03B1A9122B3-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-3F443B6AD235->s0@group-A03B1A9122B3, cid=2279, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER], listeners:[s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]
2022-11-16 04:24:34,074 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-A03B1A9122B3: set configuration 3: peers:[s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-16 04:24:34,075 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-A03B1A9122B3: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits:[s0:c2, s1:c1, s2:c1], cId:2281, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s1"
address: "localhost:41025"
dataStreamAddress: "localhost:44789"
clientAddress: "localhost:43575"
adminAddress: "localhost:39875"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:45211"
dataStreamAddress: "localhost:46301"
clientAddress: "localhost:41999"
adminAddress: "localhost:36845"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41025"
dataStreamAddress: "localhost:44789"
clientAddress: "localhost:43575"
adminAddress: "localhost:39875"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44483"
dataStreamAddress: "localhost:38359"
clientAddress: "localhost:38777"
adminAddress: "localhost:41367"
startupRole: FOLLOWER
)]
2022-11-16 04:24:34,075 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-A03B1A9122B3: set configuration 3: peers:[s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-16 04:24:34,075 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-A03B1A9122B3: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits:[s0:c2, s1:c1, s2:c1], cId:2282, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s1"
address: "localhost:41025"
dataStreamAddress: "localhost:44789"
clientAddress: "localhost:43575"
adminAddress: "localhost:39875"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:45211"
dataStreamAddress: "localhost:46301"
clientAddress: "localhost:41999"
adminAddress: "localhost:36845"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41025"
dataStreamAddress: "localhost:44789"
clientAddress: "localhost:43575"
adminAddress: "localhost:39875"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44483"
dataStreamAddress: "localhost:38359"
clientAddress: "localhost:38777"
adminAddress: "localhost:41367"
startupRole: FOLLOWER
)]
2022-11-16 04:24:34,076 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-A03B1A9122B3: set configuration 3: peers:[s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:45211|admin:localhost:36845|client:localhost:41999|dataStream:localhost:46301|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-16 04:24:34,076 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-A03B1A9122B3: succeeded to handle AppendEntries. Reply: s0<-s1#2281:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-16 04:24:34,076 [s0@group-A03B1A9122B3-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-A03B1A9122B3: set configuration 5: peers:[s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER], old=null
2022-11-16 04:24:34,077 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-A03B1A9122B3: succeeded to handle AppendEntries. Reply: s0<-s2#2282:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-16 04:24:34,078 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-A03B1A9122B3: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits:[s0:c3, s1:c2, s2:c1], cId:2283, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s1"
address: "localhost:41025"
dataStreamAddress: "localhost:44789"
clientAddress: "localhost:43575"
adminAddress: "localhost:39875"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:34,078 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-A03B1A9122B3: set configuration 5: peers:[s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER], old=null
2022-11-16 04:24:34,078 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-A03B1A9122B3: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits:[s0:c3, s1:c2, s2:c2], cId:2284, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s1"
address: "localhost:41025"
dataStreamAddress: "localhost:44789"
clientAddress: "localhost:43575"
adminAddress: "localhost:39875"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:34,078 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-A03B1A9122B3: set configuration 5: peers:[s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER], old=null
2022-11-16 04:24:34,078 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-A03B1A9122B3: succeeded to handle AppendEntries. Reply: s0<-s1#2283:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-16 04:24:34,079 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-A03B1A9122B3: succeeded to handle AppendEntries. Reply: s0<-s2#2284:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-16 04:24:34,080 [s0@group-A03B1A9122B3-LeaderStateImpl] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkAndUpdateConfiguration(893)) - s0@group-A03B1A9122B3-LeaderStateImpl is not included in the new configuration 5: peers:[s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER], old=null. Will shutdown server...
2022-11-16 04:24:34,080 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-A03B1A9122B3: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits:[s0:c5, s1:c3, s2:c3], cId:2285, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-16 04:24:34,080 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-A03B1A9122B3: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits:[s0:c5, s1:c3, s2:c3], cId:2286, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-16 04:24:34,081 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-A03B1A9122B3: succeeded to handle AppendEntries. Reply: s0<-s1#2285:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-16 04:24:34,081 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-16 04:24:34,081 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-16 04:24:34,081 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:34,081 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-16 04:24:34,081 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-16 04:24:34,081 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-A03B1A9122B3:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-A03B1A9122B3-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A03B1A9122B3:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-A03B1A9122B3-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A03B1A9122B3:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-A03B1A9122B3-SegmentedRaftLog:OPENED:c3, conf=5: peers:[s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER], old=null RUNNING
2022-11-16 04:24:34,082 [MiniRaftCluster-52] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-16 04:24:34,086 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:34,086 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-A03B1A9122B3: shutdown
2022-11-16 04:24:34,086 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:34,086 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-A03B1A9122B3: succeeded to handle AppendEntries. Reply: s0<-s2#2286:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-16 04:24:34,086 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A03B1A9122B3,id=s0
2022-11-16 04:24:34,086 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-A03B1A9122B3-LeaderStateImpl
2022-11-16 04:24:34,086 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-A03B1A9122B3-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:34,086 [s0@group-A03B1A9122B3->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-A03B1A9122B3->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:34,086 [s0@group-A03B1A9122B3->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-A03B1A9122B3->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:34,089 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:34,090 [MiniRaftCluster-53] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-16 04:24:34,087 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-A03B1A9122B3-StateMachineUpdater: set stopIndex = 5
2022-11-16 04:24:34,092 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-A03B1A9122B3: applyIndex: 5
2022-11-16 04:24:34,092 [s0@group-A03B1A9122B3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-A03B1A9122B3-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:34,092 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:34,092 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:34,091 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:34,090 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:34,090 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:34,090 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-A03B1A9122B3: shutdown
2022-11-16 04:24:34,093 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A03B1A9122B3,id=s1
2022-11-16 04:24:34,093 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-A03B1A9122B3-FollowerState
2022-11-16 04:24:34,093 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-A03B1A9122B3-StateMachineUpdater: set stopIndex = 5
2022-11-16 04:24:34,093 [s1@group-A03B1A9122B3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-A03B1A9122B3-FollowerState was interrupted
2022-11-16 04:24:34,093 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-A03B1A9122B3: applyIndex: 5
2022-11-16 04:24:34,092 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:34,093 [s1@group-A03B1A9122B3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-A03B1A9122B3-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:34,096 [MiniRaftCluster-54] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-16 04:24:34,096 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-A03B1A9122B3-SegmentedRaftLogWorker close()
2022-11-16 04:24:34,097 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:34,097 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:34,098 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:34,098 [JvmPauseMonitor40] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-16 04:24:34,099 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-A03B1A9122B3-SegmentedRaftLogWorker close()
2022-11-16 04:24:34,100 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-A03B1A9122B3: shutdown
2022-11-16 04:24:34,100 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A03B1A9122B3,id=s2
2022-11-16 04:24:34,100 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-A03B1A9122B3-FollowerState
2022-11-16 04:24:34,100 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-A03B1A9122B3-StateMachineUpdater: set stopIndex = 5
2022-11-16 04:24:34,100 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:34,100 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:34,100 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-A03B1A9122B3: applyIndex: 5
2022-11-16 04:24:34,101 [s2@group-A03B1A9122B3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-A03B1A9122B3-FollowerState was interrupted
2022-11-16 04:24:34,101 [s2@group-A03B1A9122B3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-A03B1A9122B3-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:34,101 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:34,102 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-A03B1A9122B3-SegmentedRaftLogWorker close()
2022-11-16 04:24:34,102 [JvmPauseMonitor41] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-16 04:24:34,103 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:34,103 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:34,103 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:34,103 [JvmPauseMonitor42] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-16 04:24:34,103 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-16 04:24:34,103 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-16 04:24:34,103 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-16 04:24:34,104 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:34,104 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-16 04:24:34,104 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-16 04:24:34,104 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED    LEADER s0@group-A03B1A9122B3:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-A03B1A9122B3-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-A03B1A9122B3:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-A03B1A9122B3-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-A03B1A9122B3:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-A03B1A9122B3-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s1|rpc:localhost:41025|admin:localhost:39875|client:localhost:43575|dataStream:localhost:44789|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:44483|admin:localhost:41367|client:localhost:38777|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER], old=null CLOSED
2022-11-16 04:24:34,105 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-16 04:24:34,105 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-16 04:24:34,105 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-16 04:24:34,105 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-16 04:24:34,105 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-16 04:24:34,106 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-16 04:24:34,106 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-0AEFB9F24AB3:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]
2022-11-16 04:24:34,107 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-16 04:24:34,107 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-16 04:24:34,107 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:34,107 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-16 04:24:34,107 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-16 04:24:34,107 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-16 04:24:34,107 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-0AEFB9F24AB3:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:34,107 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s0
2022-11-16 04:24:34,107 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s0 does not exist.
2022-11-16 04:24:34,107 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s0
2022-11-16 04:24:34,107 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:34,107 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:34,107 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:34,107 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:34,108 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:34,108 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:34,108 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s0] (custom)
2022-11-16 04:24:34,108 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-0AEFB9F24AB3:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER] returns group-0AEFB9F24AB3:java.util.concurrent.CompletableFuture@9968d27[Not completed]
2022-11-16 04:24:34,108 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-0AEFB9F24AB3:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:34,108 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s1
2022-11-16 04:24:34,108 [pool-44-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-0AEFB9F24AB3:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:34,108 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s1 does not exist.
2022-11-16 04:24:34,108 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s1
2022-11-16 04:24:34,109 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:34,109 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:34,109 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:34,109 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:34,109 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:34,109 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:34,109 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s1] (custom)
2022-11-16 04:24:34,108 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:34,109 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:34,109 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:34,110 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:34,110 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:34,110 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:34,110 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-0AEFB9F24AB3:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER] returns group-0AEFB9F24AB3:java.util.concurrent.CompletableFuture@7d123dff[Not completed]
2022-11-16 04:24:34,110 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-0AEFB9F24AB3:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:34,110 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s2
2022-11-16 04:24:34,110 [pool-44-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-0AEFB9F24AB3: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:34,110 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s2 does not exist.
2022-11-16 04:24:34,110 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s2
2022-11-16 04:24:34,110 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:34,110 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:34,110 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:34,110 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:34,110 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:34,110 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:34,110 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:34,111 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:34,111 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:34,110 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:34,111 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s2] (custom)
2022-11-16 04:24:34,111 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:34,111 [pool-45-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-0AEFB9F24AB3:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:34,111 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:34,111 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:34,111 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:34,111 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:34,111 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:34,111 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:34,111 [pool-45-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-0AEFB9F24AB3: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:34,111 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:34,111 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:34,112 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:34,112 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:34,112 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:34,112 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:34,112 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:34,112 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:34,112 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:34,112 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:34,114 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-0AEFB9F24AB3:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER] returns group-0AEFB9F24AB3:java.util.concurrent.CompletableFuture@7410421a[Not completed]
2022-11-16 04:24:34,114 [pool-46-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-0AEFB9F24AB3:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:34,114 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:34,114 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:34,114 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:34,114 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:34,114 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:34,114 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:34,114 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:34,114 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s0] (custom)
2022-11-16 04:24:34,115 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s0/84730e7f-a28c-4032-bed9-0aefb9f24ab3 does not exist. Creating ...
2022-11-16 04:24:34,115 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s0/84730e7f-a28c-4032-bed9-0aefb9f24ab3
2022-11-16 04:24:34,115 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:34,115 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:34,115 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:34,115 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:34,115 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:34,115 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:34,115 [pool-46-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-0AEFB9F24AB3: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:34,115 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:34,116 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:34,116 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:34,116 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:34,116 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:34,116 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s0/84730e7f-a28c-4032-bed9-0aefb9f24ab3/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:34,116 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s0/84730e7f-a28c-4032-bed9-0aefb9f24ab3/current
2022-11-16 04:24:34,116 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s0/84730e7f-a28c-4032-bed9-0aefb9f24ab3/sm
2022-11-16 04:24:34,117 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:34,117 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:34,117 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:34,117 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:34,117 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:34,118 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s0/84730e7f-a28c-4032-bed9-0aefb9f24ab3 has been successfully formatted.
2022-11-16 04:24:34,118 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:34,118 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:34,118 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:34,118 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:34,118 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:34,118 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:34,118 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:34,118 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:34,118 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-0AEFB9F24AB3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s0/84730e7f-a28c-4032-bed9-0aefb9f24ab3
2022-11-16 04:24:34,118 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:34,118 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:34,118 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:34,118 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:34,119 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:34,119 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:34,119 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:34,119 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:34,119 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:34,119 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:34,126 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:34,126 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:34,126 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:34,126 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-0AEFB9F24AB3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:34,126 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-0AEFB9F24AB3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:34,129 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-0AEFB9F24AB3: start as a follower, conf=-1: peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:34,129 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-0AEFB9F24AB3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:34,130 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-0AEFB9F24AB3-FollowerState
2022-11-16 04:24:34,133 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0AEFB9F24AB3,id=s0
2022-11-16 04:24:34,134 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:34,134 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:34,134 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:34,134 [s0@group-0AEFB9F24AB3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:34,134 [s0@group-0AEFB9F24AB3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:34,134 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-16 04:24:34,135 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:34,135 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:34,135 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s1] (custom)
2022-11-16 04:24:34,135 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s1/84730e7f-a28c-4032-bed9-0aefb9f24ab3 does not exist. Creating ...
2022-11-16 04:24:34,136 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s1/84730e7f-a28c-4032-bed9-0aefb9f24ab3
2022-11-16 04:24:34,147 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s1/84730e7f-a28c-4032-bed9-0aefb9f24ab3/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:34,148 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s1/84730e7f-a28c-4032-bed9-0aefb9f24ab3/current
2022-11-16 04:24:34,148 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s1/84730e7f-a28c-4032-bed9-0aefb9f24ab3/sm
2022-11-16 04:24:34,149 [JvmPauseMonitor43] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-16 04:24:34,154 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s1/84730e7f-a28c-4032-bed9-0aefb9f24ab3 has been successfully formatted.
2022-11-16 04:24:34,154 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:34,154 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:34,154 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:34,154 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:34,155 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:34,155 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:34,155 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:34,155 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:34,155 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-0AEFB9F24AB3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s1/84730e7f-a28c-4032-bed9-0aefb9f24ab3
2022-11-16 04:24:34,155 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:34,155 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:34,155 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:34,155 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:34,155 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:34,155 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:34,155 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:34,155 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:34,155 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:34,155 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:34,156 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:34,156 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:34,156 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:34,156 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-0AEFB9F24AB3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:34,156 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-0AEFB9F24AB3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:34,162 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-0AEFB9F24AB3: start as a follower, conf=-1: peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:34,162 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-0AEFB9F24AB3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:34,162 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-0AEFB9F24AB3-FollowerState
2022-11-16 04:24:34,163 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0AEFB9F24AB3,id=s1
2022-11-16 04:24:34,163 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:34,163 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:34,163 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:34,163 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-16 04:24:34,163 [s1@group-0AEFB9F24AB3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:34,163 [s1@group-0AEFB9F24AB3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:34,165 [JvmPauseMonitor44] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-16 04:24:34,165 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:34,165 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:34,165 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s2] (custom)
2022-11-16 04:24:34,166 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s2/84730e7f-a28c-4032-bed9-0aefb9f24ab3 does not exist. Creating ...
2022-11-16 04:24:34,166 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s2/84730e7f-a28c-4032-bed9-0aefb9f24ab3
2022-11-16 04:24:34,167 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s2/84730e7f-a28c-4032-bed9-0aefb9f24ab3/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:34,167 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s2/84730e7f-a28c-4032-bed9-0aefb9f24ab3/current
2022-11-16 04:24:34,167 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s2/84730e7f-a28c-4032-bed9-0aefb9f24ab3/sm
2022-11-16 04:24:34,168 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s2/84730e7f-a28c-4032-bed9-0aefb9f24ab3 has been successfully formatted.
2022-11-16 04:24:34,168 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:34,168 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:34,168 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:34,168 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:34,168 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:34,169 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:34,169 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:34,169 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:34,169 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-0AEFB9F24AB3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s2/84730e7f-a28c-4032-bed9-0aefb9f24ab3
2022-11-16 04:24:34,169 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:34,169 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:34,169 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:34,169 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:34,169 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:34,169 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:34,169 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:34,169 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:34,169 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:34,169 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:34,170 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:34,170 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:34,170 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:34,170 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-0AEFB9F24AB3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:34,170 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-0AEFB9F24AB3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:34,170 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-0AEFB9F24AB3: start as a follower, conf=-1: peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:34,170 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-0AEFB9F24AB3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:34,170 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-0AEFB9F24AB3-FollowerState
2022-11-16 04:24:34,171 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0AEFB9F24AB3,id=s2
2022-11-16 04:24:34,171 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:34,171 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:34,171 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:34,171 [s2@group-0AEFB9F24AB3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:34,171 [s2@group-0AEFB9F24AB3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:34,171 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-16 04:24:34,172 [JvmPauseMonitor45] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-16 04:24:34,172 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:34,172 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0AEFB9F24AB3:t0, leader=null, voted=, raftlog=Memoized:s0@group-0AEFB9F24AB3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0AEFB9F24AB3:t0, leader=null, voted=, raftlog=Memoized:s1@group-0AEFB9F24AB3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0AEFB9F24AB3:t0, leader=null, voted=, raftlog=Memoized:s2@group-0AEFB9F24AB3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:34,172 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0AEFB9F24AB3:t0, leader=null, voted=, raftlog=Memoized:s0@group-0AEFB9F24AB3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0AEFB9F24AB3:t0, leader=null, voted=, raftlog=Memoized:s1@group-0AEFB9F24AB3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0AEFB9F24AB3:t0, leader=null, voted=, raftlog=Memoized:s2@group-0AEFB9F24AB3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0AEFB9F24AB3:t0, leader=null, voted=, raftlog=Memoized:s0@group-0AEFB9F24AB3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0AEFB9F24AB3:t0, leader=null, voted=, raftlog=Memoized:s1@group-0AEFB9F24AB3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0AEFB9F24AB3:t0, leader=null, voted=, raftlog=Memoized:s2@group-0AEFB9F24AB3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testTransferLeader(LeaderElectionTests.java:180)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:34,366 [s2@group-0AEFB9F24AB3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-0AEFB9F24AB3-FollowerState: change to CANDIDATE, lastRpcElapsedTime:195910202ns, electionTimeout:195ms
2022-11-16 04:24:34,366 [s2@group-0AEFB9F24AB3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-0AEFB9F24AB3-FollowerState
2022-11-16 04:24:34,367 [s2@group-0AEFB9F24AB3-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-0AEFB9F24AB3: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-16 04:24:34,367 [s2@group-0AEFB9F24AB3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:34,367 [s2@group-0AEFB9F24AB3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-0AEFB9F24AB3-LeaderElection72
2022-11-16 04:24:34,367 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-0AEFB9F24AB3-LeaderElection72 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:34,368 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:34,368 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-0AEFB9F24AB3: receive requestVote(PRE_VOTE, s2, group-0AEFB9F24AB3, 0, (t:0, i:0))
2022-11-16 04:24:34,368 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:34,368 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-0AEFB9F24AB3-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-16 04:24:34,368 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-0AEFB9F24AB3 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-0AEFB9F24AB3:t0, leader=null, voted=, raftlog=Memoized:s0@group-0AEFB9F24AB3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:34,368 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-0AEFB9F24AB3: receive requestVote(PRE_VOTE, s2, group-0AEFB9F24AB3, 0, (t:0, i:0))
2022-11-16 04:24:34,368 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-0AEFB9F24AB3-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-16 04:24:34,369 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-0AEFB9F24AB3 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-0AEFB9F24AB3:t0, leader=null, voted=, raftlog=Memoized:s1@group-0AEFB9F24AB3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:34,369 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-0AEFB9F24AB3-LeaderElection72: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:34,369 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t0
2022-11-16 04:24:34,369 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-0AEFB9F24AB3-LeaderElection72 PRE_VOTE round 0: result PASSED
2022-11-16 04:24:34,371 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-0AEFB9F24AB3-LeaderElection72 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:34,371 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:34,371 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-0AEFB9F24AB3: receive requestVote(ELECTION, s2, group-0AEFB9F24AB3, 1, (t:0, i:0))
2022-11-16 04:24:34,371 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-0AEFB9F24AB3-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-11-16 04:24:34,371 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-0AEFB9F24AB3: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-11-16 04:24:34,371 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-0AEFB9F24AB3-FollowerState
2022-11-16 04:24:34,371 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-0AEFB9F24AB3-FollowerState
2022-11-16 04:24:34,372 [s0@group-0AEFB9F24AB3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-0AEFB9F24AB3-FollowerState was interrupted
2022-11-16 04:24:34,371 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:34,372 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-0AEFB9F24AB3: receive requestVote(ELECTION, s2, group-0AEFB9F24AB3, 1, (t:0, i:0))
2022-11-16 04:24:34,372 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-0AEFB9F24AB3-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-11-16 04:24:34,372 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-0AEFB9F24AB3: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-11-16 04:24:34,372 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-0AEFB9F24AB3-FollowerState
2022-11-16 04:24:34,372 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-0AEFB9F24AB3-FollowerState
2022-11-16 04:24:34,372 [s1@group-0AEFB9F24AB3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-0AEFB9F24AB3-FollowerState was interrupted
2022-11-16 04:24:34,373 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-0AEFB9F24AB3 replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-0AEFB9F24AB3:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-0AEFB9F24AB3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:34,373 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-0AEFB9F24AB3-LeaderElection72: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:34,373 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2022-11-16 04:24:34,373 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-0AEFB9F24AB3-LeaderElection72 ELECTION round 0: result PASSED
2022-11-16 04:24:34,373 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-0AEFB9F24AB3-LeaderElection72
2022-11-16 04:24:34,373 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-0AEFB9F24AB3: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-16 04:24:34,373 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-0AEFB9F24AB3: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 257ms
2022-11-16 04:24:34,373 [s1@group-0AEFB9F24AB3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:34,373 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:34,374 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:34,374 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:34,374 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:34,374 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:34,374 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:34,374 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:34,374 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:34,374 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:34,374 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:34,374 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:34,375 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:34,375 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:34,375 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:34,375 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-0AEFB9F24AB3-LeaderStateImpl
2022-11-16 04:24:34,375 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-0AEFB9F24AB3-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:34,374 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-0AEFB9F24AB3 replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-0AEFB9F24AB3:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-0AEFB9F24AB3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:34,375 [s1@group-0AEFB9F24AB3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:34,380 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-0AEFB9F24AB3: change Leader from null to s2 at term 1 for appendEntries, leader elected after 269ms
2022-11-16 04:24:34,380 [s2@group-0AEFB9F24AB3-LeaderElection72] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-0AEFB9F24AB3: set configuration 0: peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:34,380 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-0AEFB9F24AB3: change Leader from null to s2 at term 1 for appendEntries, leader elected after 268ms
2022-11-16 04:24:34,381 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-0AEFB9F24AB3: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1], cId:2307, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:46339"
dataStreamAddress: "localhost:40735"
clientAddress: "localhost:43231"
adminAddress: "localhost:43011"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:33285"
dataStreamAddress: "localhost:39279"
clientAddress: "localhost:45573"
adminAddress: "localhost:39523"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:39403"
dataStreamAddress: "localhost:38435"
clientAddress: "localhost:33375"
adminAddress: "localhost:44047"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:34,381 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-0AEFB9F24AB3: set configuration 0: peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:34,381 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-0AEFB9F24AB3-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:34,383 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-0AEFB9F24AB3: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1], cId:2308, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:46339"
dataStreamAddress: "localhost:40735"
clientAddress: "localhost:43231"
adminAddress: "localhost:43011"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:33285"
dataStreamAddress: "localhost:39279"
clientAddress: "localhost:45573"
adminAddress: "localhost:39523"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:39403"
dataStreamAddress: "localhost:38435"
clientAddress: "localhost:33375"
adminAddress: "localhost:44047"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:34,383 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-0AEFB9F24AB3: set configuration 0: peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:34,383 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-0AEFB9F24AB3-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:34,386 [s2@group-0AEFB9F24AB3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-0AEFB9F24AB3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s2/84730e7f-a28c-4032-bed9-0aefb9f24ab3/current/log_inprogress_0
2022-11-16 04:24:34,404 [s0@group-0AEFB9F24AB3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-0AEFB9F24AB3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s0/84730e7f-a28c-4032-bed9-0aefb9f24ab3/current/log_inprogress_0
2022-11-16 04:24:34,404 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-0AEFB9F24AB3: succeeded to handle AppendEntries. Reply: s2<-s0#2307:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-16 04:24:34,404 [s1@group-0AEFB9F24AB3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-0AEFB9F24AB3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s1/84730e7f-a28c-4032-bed9-0aefb9f24ab3/current/log_inprogress_0
2022-11-16 04:24:34,405 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-0AEFB9F24AB3: succeeded to handle AppendEntries. Reply: s2<-s1#2308:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-16 04:24:34,623 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0AEFB9F24AB3:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-0AEFB9F24AB3-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0AEFB9F24AB3:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-0AEFB9F24AB3-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-0AEFB9F24AB3:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-0AEFB9F24AB3-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:34,624 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:34,624 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s2@group-0AEFB9F24AB3: receive client request(RaftClientRequest:client-AFAE0D7DF25B->s2@group-0AEFB9F24AB3, cid=2329, seq=0, RW, message)
2022-11-16 04:24:34,626 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(410)) - s2@group-0AEFB9F24AB3-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-AFAE0D7DF25B->s2@group-0AEFB9F24AB3, cid=2329, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 2329@client-AFAE0D7DF25B
2022-11-16 04:24:34,626 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-0AEFB9F24AB3: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits:[s2:c0, s0:c0, s1:c0], cId:2330, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2329@client-AFAE0D7DF25B]
2022-11-16 04:24:34,626 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-0AEFB9F24AB3: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits:[s2:c0, s0:c0, s1:c0], cId:2331, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2329@client-AFAE0D7DF25B]
2022-11-16 04:24:34,627 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-0AEFB9F24AB3: succeeded to handle AppendEntries. Reply: s2<-s0#2331:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-16 04:24:34,627 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-0AEFB9F24AB3: succeeded to handle AppendEntries. Reply: s2<-s1#2330:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-16 04:24:34,628 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-0AEFB9F24AB3: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits:[s2:c1, s0:c0, s1:c0], cId:2334, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-16 04:24:34,628 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-0AEFB9F24AB3: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits:[s2:c1, s0:c0, s1:c0], cId:2335, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-16 04:24:34,628 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-0AEFB9F24AB3: succeeded to handle AppendEntries. Reply: s2<-s0#2334:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-16 04:24:34,629 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-0AEFB9F24AB3: succeeded to handle AppendEntries. Reply: s2<-s1#2335:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-16 04:24:34,631 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1188)) - s2@group-0AEFB9F24AB3: receive setConfiguration SetConfigurationRequest:client-AFAE0D7DF25B->s2@group-0AEFB9F24AB3, cid=2336, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER], listeners:[]
2022-11-16 04:24:34,631 [s2-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(377)) - s2@group-0AEFB9F24AB3-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-AFAE0D7DF25B->s2@group-0AEFB9F24AB3, cid=2336, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER], listeners:[]
2022-11-16 04:24:34,631 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-0AEFB9F24AB3: set configuration 3: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-16 04:24:34,632 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-0AEFB9F24AB3: receive appendEntries(s2, 1, (t:1, i:2), 2, true, commits:[s2:c2, s0:c1, s1:c1], cId:2337, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:46339"
dataStreamAddress: "localhost:40735"
clientAddress: "localhost:43231"
adminAddress: "localhost:43011"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:33285"
dataStreamAddress: "localhost:39279"
clientAddress: "localhost:45573"
adminAddress: "localhost:39523"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:39403"
dataStreamAddress: "localhost:38435"
clientAddress: "localhost:33375"
adminAddress: "localhost:44047"
startupRole: FOLLOWER
)]
2022-11-16 04:24:34,632 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-0AEFB9F24AB3: set configuration 3: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-16 04:24:34,632 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-0AEFB9F24AB3: receive appendEntries(s2, 1, (t:1, i:2), 2, true, commits:[s2:c2, s0:c1, s1:c1], cId:2338, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:46339"
dataStreamAddress: "localhost:40735"
clientAddress: "localhost:43231"
adminAddress: "localhost:43011"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:33285"
dataStreamAddress: "localhost:39279"
clientAddress: "localhost:45573"
adminAddress: "localhost:39523"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:39403"
dataStreamAddress: "localhost:38435"
clientAddress: "localhost:33375"
adminAddress: "localhost:44047"
startupRole: FOLLOWER
)]
2022-11-16 04:24:34,632 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-0AEFB9F24AB3: set configuration 3: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:46339|admin:localhost:43011|client:localhost:43231|dataStream:localhost:40735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33285|admin:localhost:39523|client:localhost:45573|dataStream:localhost:39279|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39403|admin:localhost:44047|client:localhost:33375|dataStream:localhost:38435|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-16 04:24:34,633 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-0AEFB9F24AB3: succeeded to handle AppendEntries. Reply: s2<-s1#2338:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-16 04:24:34,634 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-0AEFB9F24AB3: succeeded to handle AppendEntries. Reply: s2<-s0#2337:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-16 04:24:34,634 [s2@group-0AEFB9F24AB3-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-0AEFB9F24AB3: set configuration 5: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:34,635 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-0AEFB9F24AB3: receive appendEntries(s2, 1, (t:1, i:3), 3, true, commits:[s2:c3, s0:c1, s1:c2], cId:2339, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:34,635 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-0AEFB9F24AB3: set configuration 5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:34,635 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-0AEFB9F24AB3: receive appendEntries(s2, 1, (t:1, i:3), 3, true, commits:[s2:c3, s0:c2, s1:c2], cId:2340, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:34,636 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-0AEFB9F24AB3: set configuration 5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:34,636 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-0AEFB9F24AB3: succeeded to handle AppendEntries. Reply: s2<-s1#2339:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-16 04:24:34,636 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-0AEFB9F24AB3: succeeded to handle AppendEntries. Reply: s2<-s0#2340:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-16 04:24:34,637 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-0AEFB9F24AB3: receive appendEntries(s2, 1, (t:1, i:5), 5, true, commits:[s2:c5, s0:c3, s1:c3], cId:2341, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-16 04:24:34,638 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-0AEFB9F24AB3: receive appendEntries(s2, 1, (t:1, i:5), 5, true, commits:[s2:c5, s0:c3, s1:c3], cId:2342, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-16 04:24:34,639 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-0AEFB9F24AB3: succeeded to handle AppendEntries. Reply: s2<-s0#2342:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-16 04:24:34,639 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-0AEFB9F24AB3: succeeded to handle AppendEntries. Reply: s2<-s1#2341:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-16 04:24:34,640 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(1080)) - s2@group-0AEFB9F24AB3: receive transferLeadership TransferLeadershipRequest:client-AFAE0D7DF25B->s2@group-0AEFB9F24AB3, cid=2343, seq=0, RO, null
2022-11-16 04:24:34,940 [s2@group-0AEFB9F24AB3-LeaderStateImpl] INFO  server.RaftServer$Division (LeaderStateImpl.java:yieldLeaderToHigherPriorityPeer(1020)) - s2@group-0AEFB9F24AB3-LeaderStateImpl send StartLeaderElectionRequest to follower:s0 on term:1 because follower's priority:2 is higher than leader's:1 and follower's lastEntry index:6 catch up with leader's:6
2022-11-16 04:24:34,944 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:startLeaderElection(1658)) - s0@group-0AEFB9F24AB3: receive startLeaderElection from:s2, leaderLastEntry:term: 1
index: 6
,
2022-11-16 04:24:34,944 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-0AEFB9F24AB3-FollowerState
2022-11-16 04:24:34,944 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-0AEFB9F24AB3: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:34,945 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-0AEFB9F24AB3-LeaderElection73
2022-11-16 04:24:34,945 [s0@group-0AEFB9F24AB3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-0AEFB9F24AB3-FollowerState was interrupted
2022-11-16 04:24:34,947 [s0@group-0AEFB9F24AB3-LeaderElection73] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-0AEFB9F24AB3: change Leader from s2 to null at term 1 for ELECTION
2022-11-16 04:24:34,947 [Thread-1130] INFO  server.RaftServer$Division (LeaderStateImpl.java:lambda$sendStartLeaderElectionToHigherPriorityPeer$9(602)) - s2@group-0AEFB9F24AB3-LeaderStateImpl received success reply of StartLeaderElectionRequest from follower:s0
2022-11-16 04:24:34,948 [s0@group-0AEFB9F24AB3-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-0AEFB9F24AB3-LeaderElection73 ELECTION round 0: submit vote requests at term 2 for 5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:34,949 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-0AEFB9F24AB3: receive requestVote(ELECTION, s0, group-0AEFB9F24AB3, 2, (t:1, i:6))
2022-11-16 04:24:34,949 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-0AEFB9F24AB3-FOLLOWER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2022-11-16 04:24:34,949 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-0AEFB9F24AB3: change Leader from s2 to null at term 2 for updateCurrentTerm
2022-11-16 04:24:34,949 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-0AEFB9F24AB3: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-11-16 04:24:34,949 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-0AEFB9F24AB3-FollowerState
2022-11-16 04:24:34,949 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-0AEFB9F24AB3-FollowerState
2022-11-16 04:24:34,949 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-0AEFB9F24AB3: receive requestVote(ELECTION, s0, group-0AEFB9F24AB3, 2, (t:1, i:6))
2022-11-16 04:24:34,949 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-0AEFB9F24AB3-LEADER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2022-11-16 04:24:34,949 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-0AEFB9F24AB3: change Leader from s2 to null at term 2 for updateCurrentTerm
2022-11-16 04:24:34,949 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-0AEFB9F24AB3: changes role from    LEADER to FOLLOWER at term 2 for candidate:s0
2022-11-16 04:24:34,950 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-0AEFB9F24AB3-LeaderStateImpl
2022-11-16 04:24:34,950 [HandlerDaemon-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-0AEFB9F24AB3-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:34,949 [s1@group-0AEFB9F24AB3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-0AEFB9F24AB3-FollowerState was interrupted
2022-11-16 04:24:34,955 [s2@group-0AEFB9F24AB3->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s2@group-0AEFB9F24AB3->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:34,955 [s2@group-0AEFB9F24AB3->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s2@group-0AEFB9F24AB3->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:34,954 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-0AEFB9F24AB3 replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-0AEFB9F24AB3:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-0AEFB9F24AB3-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:34,956 [s0@group-0AEFB9F24AB3-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-0AEFB9F24AB3-LeaderElection73: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:34,956 [s0@group-0AEFB9F24AB3-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t2
2022-11-16 04:24:34,956 [s0@group-0AEFB9F24AB3-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-0AEFB9F24AB3-LeaderElection73 ELECTION round 0: result PASSED
2022-11-16 04:24:34,956 [s0@group-0AEFB9F24AB3-LeaderElection73] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-0AEFB9F24AB3-LeaderElection73
2022-11-16 04:24:34,956 [s0@group-0AEFB9F24AB3-LeaderElection73] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-0AEFB9F24AB3: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-11-16 04:24:34,956 [s0@group-0AEFB9F24AB3-LeaderElection73] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-0AEFB9F24AB3: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 9ms
2022-11-16 04:24:34,956 [s0@group-0AEFB9F24AB3-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:34,957 [s0@group-0AEFB9F24AB3-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:34,957 [s0@group-0AEFB9F24AB3-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:34,957 [s0@group-0AEFB9F24AB3-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:34,957 [s0@group-0AEFB9F24AB3-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:34,957 [s0@group-0AEFB9F24AB3-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:34,957 [s0@group-0AEFB9F24AB3-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:34,957 [s0@group-0AEFB9F24AB3-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:34,957 [s0@group-0AEFB9F24AB3-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:34,957 [s0@group-0AEFB9F24AB3-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:34,957 [s0@group-0AEFB9F24AB3-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:34,958 [s0@group-0AEFB9F24AB3-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:34,958 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-0AEFB9F24AB3-FollowerState
2022-11-16 04:24:34,958 [s0@group-0AEFB9F24AB3-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:34,959 [s0@group-0AEFB9F24AB3-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:34,959 [s0@group-0AEFB9F24AB3-LeaderElection73] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-0AEFB9F24AB3-LeaderStateImpl
2022-11-16 04:24:34,959 [s0@group-0AEFB9F24AB3-LeaderElection73] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-0AEFB9F24AB3-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-11-16 04:24:34,959 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-0AEFB9F24AB3 replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-0AEFB9F24AB3:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-0AEFB9F24AB3-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:34,960 [s0@group-0AEFB9F24AB3-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s0/84730e7f-a28c-4032-bed9-0aefb9f24ab3/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s0/84730e7f-a28c-4032-bed9-0aefb9f24ab3/current/log_0-6
2022-11-16 04:24:34,960 [s0@group-0AEFB9F24AB3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-0AEFB9F24AB3-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s0/84730e7f-a28c-4032-bed9-0aefb9f24ab3/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s0/84730e7f-a28c-4032-bed9-0aefb9f24ab3/current/log_0-6
2022-11-16 04:24:34,961 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-0AEFB9F24AB3: change Leader from null to s0 at term 2 for appendEntries, leader elected after 12ms
2022-11-16 04:24:34,962 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-0AEFB9F24AB3: receive appendEntries(s0, 2, (t:1, i:6), 6, true, commits:[s0:c6, s1:c6, s2:c6], cId:2378, entries: [(t:2, i:7), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:34,962 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-0AEFB9F24AB3: set configuration 7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:34,962 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-0AEFB9F24AB3-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-11-16 04:24:34,963 [s1@group-0AEFB9F24AB3-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s1/84730e7f-a28c-4032-bed9-0aefb9f24ab3/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s1/84730e7f-a28c-4032-bed9-0aefb9f24ab3/current/log_0-6
2022-11-16 04:24:34,963 [s1@group-0AEFB9F24AB3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-0AEFB9F24AB3-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s1/84730e7f-a28c-4032-bed9-0aefb9f24ab3/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s1/84730e7f-a28c-4032-bed9-0aefb9f24ab3/current/log_0-6
2022-11-16 04:24:34,967 [s0@group-0AEFB9F24AB3-LeaderElection73] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-0AEFB9F24AB3: set configuration 7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:34,967 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-0AEFB9F24AB3: change Leader from null to s0 at term 2 for appendEntries, leader elected after 17ms
2022-11-16 04:24:34,968 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:34,968 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-0AEFB9F24AB3:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-0AEFB9F24AB3-SegmentedRaftLog:OPENED:c6, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0AEFB9F24AB3:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-0AEFB9F24AB3-SegmentedRaftLog:OPENED:c6, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0AEFB9F24AB3:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-0AEFB9F24AB3-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:34,968 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s0@group-0AEFB9F24AB3 not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s0@group-0AEFB9F24AB3 not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testTransferLeader(LeaderElectionTests.java:196)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:34,969 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-0AEFB9F24AB3: receive appendEntries(s0, 2, (t:1, i:6), 6, true, commits:[s0:c6, s1:c6, s2:c6], cId:2381, entries: [(t:2, i:7), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:34,969 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-0AEFB9F24AB3: set configuration 7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:34,970 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-0AEFB9F24AB3-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-11-16 04:24:34,970 [s2@group-0AEFB9F24AB3-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s2/84730e7f-a28c-4032-bed9-0aefb9f24ab3/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s2/84730e7f-a28c-4032-bed9-0aefb9f24ab3/current/log_0-6
2022-11-16 04:24:34,970 [s2@group-0AEFB9F24AB3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-0AEFB9F24AB3-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s2/84730e7f-a28c-4032-bed9-0aefb9f24ab3/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s2/84730e7f-a28c-4032-bed9-0aefb9f24ab3/current/log_0-6
2022-11-16 04:24:34,986 [s0@group-0AEFB9F24AB3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-0AEFB9F24AB3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s0/84730e7f-a28c-4032-bed9-0aefb9f24ab3/current/log_inprogress_7
2022-11-16 04:24:34,990 [s2@group-0AEFB9F24AB3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-0AEFB9F24AB3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s2/84730e7f-a28c-4032-bed9-0aefb9f24ab3/current/log_inprogress_7
2022-11-16 04:24:34,990 [s1@group-0AEFB9F24AB3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-0AEFB9F24AB3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc995a59d1/s1/84730e7f-a28c-4032-bed9-0aefb9f24ab3/current/log_inprogress_7
2022-11-16 04:24:34,990 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-0AEFB9F24AB3: succeeded to handle AppendEntries. Reply: s0<-s2#2381:OK-t2,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2022-11-16 04:24:34,994 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-0AEFB9F24AB3: succeeded to handle AppendEntries. Reply: s0<-s1#2378:OK-t2,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2022-11-16 04:24:34,994 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-0AEFB9F24AB3: receive appendEntries(s0, 2, (t:2, i:7), 7, true, commits:[s0:c7, s1:c6, s2:c6], cId:2384, entries: [(t:2, i:8), METADATAENTRY(c:7)]
2022-11-16 04:24:34,995 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-0AEFB9F24AB3: succeeded to handle AppendEntries. Reply: s0<-s2#2384:OK-t2,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2022-11-16 04:24:34,998 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-0AEFB9F24AB3: receive appendEntries(s0, 2, (t:2, i:7), 7, true, commits:[s0:c7, s1:c6, s2:c6], cId:2385, entries: [(t:2, i:8), METADATAENTRY(c:7)]
2022-11-16 04:24:34,999 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-0AEFB9F24AB3: succeeded to handle AppendEntries. Reply: s0<-s1#2385:OK-t2,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2022-11-16 04:24:35,419 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-0AEFB9F24AB3:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-0AEFB9F24AB3-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0AEFB9F24AB3:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-0AEFB9F24AB3-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0AEFB9F24AB3:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-0AEFB9F24AB3-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:35,420 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s2@group-0AEFB9F24AB3: receive client request(RaftClientRequest:client-AFAE0D7DF25B->s2@group-0AEFB9F24AB3, cid=2428, seq=0, RW, message)
2022-11-16 04:24:35,420 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-AFAE0D7DF25B: suggested new leader: s0. Failed RaftClientRequest:client-AFAE0D7DF25B->s2@group-0AEFB9F24AB3, cid=2428, seq=0, RW, message with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-0AEFB9F24AB3 is not the leader s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:732)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:697)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:839)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:819)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:819)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:35,421 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-AFAE0D7DF25B: oldLeader=s2,  curLeader=s2, newLeader=s0
2022-11-16 04:24:35,421 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-0AEFB9F24AB3 client-AFAE0D7DF25B: client change Leader from s2 to s0 ex=org.apache.ratis.protocol.exceptions.NotLeaderException
2022-11-16 04:24:35,522 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s0@group-0AEFB9F24AB3: receive client request(RaftClientRequest:client-AFAE0D7DF25B->s0@group-0AEFB9F24AB3, cid=2428, seq=0, RW, message)
2022-11-16 04:24:35,522 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(410)) - s0@group-0AEFB9F24AB3-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-AFAE0D7DF25B->s0@group-0AEFB9F24AB3, cid=2428, seq=0, RW, message, entry=(t:2, i:9), STATEMACHINELOGENTRY, 2428@client-AFAE0D7DF25B
2022-11-16 04:24:35,523 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-0AEFB9F24AB3: receive appendEntries(s0, 2, (t:2, i:8), 8, true, commits:[s0:c8, s1:c8, s2:c8], cId:2440, entries: [(t:2, i:9), STATEMACHINELOGENTRY, 2428@client-AFAE0D7DF25B]
2022-11-16 04:24:35,523 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-0AEFB9F24AB3: receive appendEntries(s0, 2, (t:2, i:8), 8, true, commits:[s0:c8, s1:c8, s2:c8], cId:2439, entries: [(t:2, i:9), STATEMACHINELOGENTRY, 2428@client-AFAE0D7DF25B]
2022-11-16 04:24:35,524 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-0AEFB9F24AB3: succeeded to handle AppendEntries. Reply: s0<-s1#2440:OK-t2,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2022-11-16 04:24:35,524 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-0AEFB9F24AB3: succeeded to handle AppendEntries. Reply: s0<-s2#2439:OK-t2,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2022-11-16 04:24:35,525 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-0AEFB9F24AB3: receive appendEntries(s0, 2, (t:2, i:9), 9, true, commits:[s0:c9, s1:c8, s2:c8], cId:2442, entries: [(t:2, i:10), METADATAENTRY(c:9)]
2022-11-16 04:24:35,525 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-0AEFB9F24AB3: succeeded to handle AppendEntries. Reply: s0<-s1#2442:OK-t2,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2022-11-16 04:24:35,526 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-0AEFB9F24AB3: receive appendEntries(s0, 2, (t:2, i:9), 9, true, commits:[s0:c9, s1:c8, s2:c8], cId:2441, entries: [(t:2, i:10), METADATAENTRY(c:9)]
2022-11-16 04:24:35,526 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-16 04:24:35,526 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-16 04:24:35,526 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:35,526 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-16 04:24:35,526 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-16 04:24:35,527 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-0AEFB9F24AB3:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-0AEFB9F24AB3-SegmentedRaftLog:OPENED:c10, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0AEFB9F24AB3:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-0AEFB9F24AB3-SegmentedRaftLog:OPENED:c9, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0AEFB9F24AB3:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-0AEFB9F24AB3-SegmentedRaftLog:OPENED:c9, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:35,526 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-0AEFB9F24AB3: succeeded to handle AppendEntries. Reply: s0<-s2#2441:OK-t2,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2022-11-16 04:24:35,527 [MiniRaftCluster-58] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-16 04:24:35,528 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:35,528 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-0AEFB9F24AB3: shutdown
2022-11-16 04:24:35,528 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:35,528 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0AEFB9F24AB3,id=s0
2022-11-16 04:24:35,528 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-0AEFB9F24AB3-LeaderStateImpl
2022-11-16 04:24:35,528 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-0AEFB9F24AB3-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:35,528 [s0@group-0AEFB9F24AB3->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-0AEFB9F24AB3->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:35,528 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:35,529 [s0@group-0AEFB9F24AB3->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-0AEFB9F24AB3->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:35,529 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:35,529 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:35,529 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:35,531 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-0AEFB9F24AB3-StateMachineUpdater: set stopIndex = 10
2022-11-16 04:24:35,531 [MiniRaftCluster-59] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-16 04:24:35,532 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-0AEFB9F24AB3: applyIndex: 10
2022-11-16 04:24:35,532 [s0@group-0AEFB9F24AB3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-0AEFB9F24AB3-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:35,533 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-0AEFB9F24AB3-SegmentedRaftLogWorker close()
2022-11-16 04:24:35,534 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-0AEFB9F24AB3: shutdown
2022-11-16 04:24:35,534 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0AEFB9F24AB3,id=s1
2022-11-16 04:24:35,534 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-0AEFB9F24AB3-FollowerState
2022-11-16 04:24:35,534 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-0AEFB9F24AB3-StateMachineUpdater: set stopIndex = 9
2022-11-16 04:24:35,534 [s1@group-0AEFB9F24AB3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-0AEFB9F24AB3-FollowerState was interrupted
2022-11-16 04:24:35,534 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:35,535 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-0AEFB9F24AB3: applyIndex: 9
2022-11-16 04:24:35,535 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:35,535 [s1@group-0AEFB9F24AB3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-0AEFB9F24AB3-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:35,535 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:35,535 [MiniRaftCluster-60] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-16 04:24:35,535 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-0AEFB9F24AB3: shutdown
2022-11-16 04:24:35,535 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0AEFB9F24AB3,id=s2
2022-11-16 04:24:35,535 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-0AEFB9F24AB3-FollowerState
2022-11-16 04:24:35,535 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-0AEFB9F24AB3-StateMachineUpdater: set stopIndex = 9
2022-11-16 04:24:35,535 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:35,535 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:35,535 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-0AEFB9F24AB3-SegmentedRaftLogWorker close()
2022-11-16 04:24:35,536 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:35,536 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:35,536 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:35,536 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:35,536 [s2@group-0AEFB9F24AB3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-0AEFB9F24AB3-FollowerState was interrupted
2022-11-16 04:24:35,536 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:35,536 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:35,537 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:35,538 [JvmPauseMonitor43] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-16 04:24:35,536 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-0AEFB9F24AB3: applyIndex: 9
2022-11-16 04:24:35,539 [s2@group-0AEFB9F24AB3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-0AEFB9F24AB3-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:35,540 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-0AEFB9F24AB3-SegmentedRaftLogWorker close()
2022-11-16 04:24:35,540 [JvmPauseMonitor44] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-16 04:24:35,541 [JvmPauseMonitor45] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-16 04:24:35,541 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-16 04:24:35,541 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-16 04:24:35,541 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-16 04:24:35,541 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:35,541 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-16 04:24:35,541 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-16 04:24:35,541 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED    LEADER s0@group-0AEFB9F24AB3:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-0AEFB9F24AB3-SegmentedRaftLog:CLOSED:c10, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-0AEFB9F24AB3:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-0AEFB9F24AB3-SegmentedRaftLog:CLOSED:c9, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-0AEFB9F24AB3:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-0AEFB9F24AB3-SegmentedRaftLog:CLOSED:c9, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2022-11-16 04:24:35,542 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-16 04:24:35,544 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-16 04:24:35,544 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-16 04:24:35,544 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-16 04:24:35,544 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-16 04:24:35,545 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-11-16 04:24:35,545 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-16 04:24:35,546 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-AE1A6DBBF262:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]
2022-11-16 04:24:35,546 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-16 04:24:35,546 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-16 04:24:35,546 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:35,546 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-16 04:24:35,546 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-16 04:24:35,546 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-16 04:24:35,546 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-AE1A6DBBF262:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:35,546 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s0
2022-11-16 04:24:35,546 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s0 does not exist.
2022-11-16 04:24:35,546 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s0
2022-11-16 04:24:35,546 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:35,547 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:35,547 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:35,547 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:35,547 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:35,547 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:35,547 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s0] (custom)
2022-11-16 04:24:35,547 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-AE1A6DBBF262:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER] returns group-AE1A6DBBF262:java.util.concurrent.CompletableFuture@516d437d[Not completed]
2022-11-16 04:24:35,547 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-AE1A6DBBF262:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:35,547 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s1
2022-11-16 04:24:35,548 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s1 does not exist.
2022-11-16 04:24:35,548 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s1
2022-11-16 04:24:35,548 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:35,548 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:35,548 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:35,548 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:35,548 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:35,548 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:35,548 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s1] (custom)
2022-11-16 04:24:35,548 [pool-47-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-AE1A6DBBF262:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:35,548 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:35,549 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:35,549 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:35,549 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:35,549 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:35,549 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:35,549 [pool-47-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-AE1A6DBBF262: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:35,549 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:35,549 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:35,549 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:35,549 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:35,549 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:35,549 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:35,550 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:35,550 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:35,550 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:35,550 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:35,553 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-AE1A6DBBF262:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER] returns group-AE1A6DBBF262:java.util.concurrent.CompletableFuture@a0f70a5[Not completed]
2022-11-16 04:24:35,553 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-AE1A6DBBF262:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:35,553 [pool-48-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-AE1A6DBBF262:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:35,553 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s2
2022-11-16 04:24:35,553 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:35,553 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:35,553 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:35,553 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:35,553 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:35,553 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:35,553 [pool-48-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-AE1A6DBBF262: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:35,553 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:35,553 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:35,553 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:35,553 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:35,553 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:35,554 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:35,554 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:35,554 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:35,554 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:35,554 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:35,553 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s2 does not exist.
2022-11-16 04:24:35,554 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s2
2022-11-16 04:24:35,554 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:35,555 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:35,555 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:35,555 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:35,555 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:35,555 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:35,555 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s2] (custom)
2022-11-16 04:24:35,556 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-AE1A6DBBF262:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER] returns group-AE1A6DBBF262:java.util.concurrent.CompletableFuture@6070220d[Not completed]
2022-11-16 04:24:35,556 [pool-49-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-AE1A6DBBF262:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:35,556 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:35,556 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:35,556 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:35,556 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:35,556 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s0] (custom)
2022-11-16 04:24:35,556 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s0/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262 does not exist. Creating ...
2022-11-16 04:24:35,557 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s0/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262
2022-11-16 04:24:35,557 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:35,557 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:35,557 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:35,557 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:35,557 [pool-49-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-AE1A6DBBF262: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:35,557 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:35,557 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:35,557 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:35,557 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:35,557 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:35,558 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s0/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:35,558 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s0/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262/current
2022-11-16 04:24:35,558 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:35,558 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:35,558 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:35,558 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:35,558 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:35,558 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s0/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262/sm
2022-11-16 04:24:35,559 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s0/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262 has been successfully formatted.
2022-11-16 04:24:35,559 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:35,560 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:35,560 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:35,560 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:35,560 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:35,560 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:35,560 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:35,560 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:35,560 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-AE1A6DBBF262-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s0/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262
2022-11-16 04:24:35,560 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:35,560 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:35,560 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:35,560 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:35,560 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:35,560 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:35,560 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:35,560 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:35,560 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:35,560 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:35,561 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:35,561 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:35,561 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:35,561 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-AE1A6DBBF262-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:35,561 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-AE1A6DBBF262-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:35,561 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-AE1A6DBBF262: start as a follower, conf=-1: peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:35,561 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-AE1A6DBBF262: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:35,561 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AE1A6DBBF262-FollowerState
2022-11-16 04:24:35,562 [s0@group-AE1A6DBBF262-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:35,562 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AE1A6DBBF262,id=s0
2022-11-16 04:24:35,562 [s0@group-AE1A6DBBF262-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:35,562 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:35,562 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:35,562 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:35,562 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-16 04:24:35,563 [JvmPauseMonitor46] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-16 04:24:35,563 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:35,563 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:35,563 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s1] (custom)
2022-11-16 04:24:35,563 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s1/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262 does not exist. Creating ...
2022-11-16 04:24:35,563 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s1/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262
2022-11-16 04:24:35,564 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s1/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:35,564 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s1/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262/current
2022-11-16 04:24:35,564 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s1/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262/sm
2022-11-16 04:24:35,565 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s1/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262 has been successfully formatted.
2022-11-16 04:24:35,565 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:35,565 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:35,565 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:35,566 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:35,566 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:35,566 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:35,566 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:35,566 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:35,566 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-AE1A6DBBF262-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s1/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262
2022-11-16 04:24:35,566 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:35,566 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:35,566 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:35,566 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:35,566 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:35,566 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:35,566 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:35,566 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:35,566 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:35,566 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:35,567 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:35,567 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:35,567 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:35,567 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-AE1A6DBBF262-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:35,567 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-AE1A6DBBF262-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:35,567 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-AE1A6DBBF262: start as a follower, conf=-1: peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:35,567 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-AE1A6DBBF262: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:35,567 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AE1A6DBBF262-FollowerState
2022-11-16 04:24:35,568 [s1@group-AE1A6DBBF262-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:35,568 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AE1A6DBBF262,id=s1
2022-11-16 04:24:35,568 [s1@group-AE1A6DBBF262-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:35,568 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:35,568 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:35,568 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:35,568 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-16 04:24:35,569 [JvmPauseMonitor47] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-16 04:24:35,569 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:35,569 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:35,569 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s2] (custom)
2022-11-16 04:24:35,569 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s2/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262 does not exist. Creating ...
2022-11-16 04:24:35,570 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s2/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262
2022-11-16 04:24:35,571 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s2/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:35,571 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s2/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262/current
2022-11-16 04:24:35,571 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s2/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262/sm
2022-11-16 04:24:35,572 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s2/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262 has been successfully formatted.
2022-11-16 04:24:35,572 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:35,572 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:35,572 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:35,572 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:35,572 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:35,572 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:35,573 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:35,573 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:35,573 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-AE1A6DBBF262-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s2/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262
2022-11-16 04:24:35,573 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:35,573 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:35,573 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:35,573 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:35,573 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:35,573 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:35,573 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:35,573 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:35,573 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:35,573 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:35,574 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:35,574 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:35,574 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:35,574 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-AE1A6DBBF262-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:35,574 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-AE1A6DBBF262-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:35,581 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-AE1A6DBBF262: start as a follower, conf=-1: peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:35,581 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-AE1A6DBBF262: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:35,581 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-AE1A6DBBF262-FollowerState
2022-11-16 04:24:35,582 [s2@group-AE1A6DBBF262-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:35,582 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AE1A6DBBF262,id=s2
2022-11-16 04:24:35,582 [s2@group-AE1A6DBBF262-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:35,582 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:35,582 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:35,582 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:35,582 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-16 04:24:35,583 [JvmPauseMonitor48] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-16 04:24:35,583 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:35,583 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-AE1A6DBBF262:t0, leader=null, voted=, raftlog=Memoized:s0@group-AE1A6DBBF262-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-AE1A6DBBF262:t0, leader=null, voted=, raftlog=Memoized:s1@group-AE1A6DBBF262-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AE1A6DBBF262:t0, leader=null, voted=, raftlog=Memoized:s2@group-AE1A6DBBF262-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:35,584 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-AE1A6DBBF262:t0, leader=null, voted=, raftlog=Memoized:s0@group-AE1A6DBBF262-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-AE1A6DBBF262:t0, leader=null, voted=, raftlog=Memoized:s1@group-AE1A6DBBF262-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AE1A6DBBF262:t0, leader=null, voted=, raftlog=Memoized:s2@group-AE1A6DBBF262-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-AE1A6DBBF262:t0, leader=null, voted=, raftlog=Memoized:s0@group-AE1A6DBBF262-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-AE1A6DBBF262:t0, leader=null, voted=, raftlog=Memoized:s1@group-AE1A6DBBF262-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AE1A6DBBF262:t0, leader=null, voted=, raftlog=Memoized:s2@group-AE1A6DBBF262-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:566)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:561)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:35,751 [s1@group-AE1A6DBBF262-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-AE1A6DBBF262-FollowerState: change to CANDIDATE, lastRpcElapsedTime:183586850ns, electionTimeout:183ms
2022-11-16 04:24:35,751 [s1@group-AE1A6DBBF262-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-AE1A6DBBF262-FollowerState
2022-11-16 04:24:35,751 [s1@group-AE1A6DBBF262-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-AE1A6DBBF262: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-16 04:24:35,751 [s1@group-AE1A6DBBF262-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:35,751 [s1@group-AE1A6DBBF262-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AE1A6DBBF262-LeaderElection74
2022-11-16 04:24:35,752 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-AE1A6DBBF262-LeaderElection74 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:35,752 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:35,752 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:35,753 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-AE1A6DBBF262: receive requestVote(PRE_VOTE, s1, group-AE1A6DBBF262, 0, (t:0, i:0))
2022-11-16 04:24:35,753 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-AE1A6DBBF262-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:35,753 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-AE1A6DBBF262: receive requestVote(PRE_VOTE, s1, group-AE1A6DBBF262, 0, (t:0, i:0))
2022-11-16 04:24:35,753 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-AE1A6DBBF262 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-AE1A6DBBF262:t0, leader=null, voted=, raftlog=Memoized:s0@group-AE1A6DBBF262-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:35,753 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-AE1A6DBBF262-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:35,753 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-AE1A6DBBF262 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-AE1A6DBBF262:t0, leader=null, voted=, raftlog=Memoized:s2@group-AE1A6DBBF262-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:35,753 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-AE1A6DBBF262-LeaderElection74: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:35,753 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2022-11-16 04:24:35,753 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-AE1A6DBBF262-LeaderElection74 PRE_VOTE round 0: result PASSED
2022-11-16 04:24:35,755 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-AE1A6DBBF262-LeaderElection74 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:35,756 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-AE1A6DBBF262: receive requestVote(ELECTION, s1, group-AE1A6DBBF262, 1, (t:0, i:0))
2022-11-16 04:24:35,756 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-AE1A6DBBF262-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:35,756 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-AE1A6DBBF262: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-11-16 04:24:35,756 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-AE1A6DBBF262-FollowerState
2022-11-16 04:24:35,756 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AE1A6DBBF262-FollowerState
2022-11-16 04:24:35,756 [s0@group-AE1A6DBBF262-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-AE1A6DBBF262-FollowerState was interrupted
2022-11-16 04:24:35,756 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:35,756 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:35,756 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-AE1A6DBBF262: receive requestVote(ELECTION, s1, group-AE1A6DBBF262, 1, (t:0, i:0))
2022-11-16 04:24:35,757 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-AE1A6DBBF262-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:35,757 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-AE1A6DBBF262: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-11-16 04:24:35,757 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-AE1A6DBBF262-FollowerState
2022-11-16 04:24:35,757 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-AE1A6DBBF262-FollowerState
2022-11-16 04:24:35,757 [s2@group-AE1A6DBBF262-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-AE1A6DBBF262-FollowerState was interrupted
2022-11-16 04:24:35,757 [s0@group-AE1A6DBBF262-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:35,757 [s0@group-AE1A6DBBF262-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:35,757 [s2@group-AE1A6DBBF262-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:35,757 [s2@group-AE1A6DBBF262-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:35,758 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-AE1A6DBBF262 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-AE1A6DBBF262:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-AE1A6DBBF262-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:35,758 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-AE1A6DBBF262-LeaderElection74: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:35,758 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2022-11-16 04:24:35,758 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-AE1A6DBBF262-LeaderElection74 ELECTION round 0: result PASSED
2022-11-16 04:24:35,758 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-AE1A6DBBF262-LeaderElection74
2022-11-16 04:24:35,758 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-AE1A6DBBF262 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-AE1A6DBBF262:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-AE1A6DBBF262-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:35,758 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-AE1A6DBBF262: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-16 04:24:35,758 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-AE1A6DBBF262: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 205ms
2022-11-16 04:24:35,758 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:35,759 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:35,759 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:35,759 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:35,759 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:35,759 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:35,759 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:35,759 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:35,759 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:35,759 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:35,759 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:35,759 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:35,759 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:35,759 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:35,760 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AE1A6DBBF262-LeaderStateImpl
2022-11-16 04:24:35,760 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-AE1A6DBBF262-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:35,765 [s1@group-AE1A6DBBF262-LeaderElection74] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-AE1A6DBBF262: set configuration 0: peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:35,765 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-AE1A6DBBF262: change Leader from null to s1 at term 1 for appendEntries, leader elected after 207ms
2022-11-16 04:24:35,765 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-AE1A6DBBF262: change Leader from null to s1 at term 1 for appendEntries, leader elected after 216ms
2022-11-16 04:24:35,766 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-AE1A6DBBF262: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:2461, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:33599"
dataStreamAddress: "localhost:43857"
clientAddress: "localhost:44683"
adminAddress: "localhost:43983"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:40727"
dataStreamAddress: "localhost:38689"
clientAddress: "localhost:37309"
adminAddress: "localhost:42927"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40499"
dataStreamAddress: "localhost:45059"
clientAddress: "localhost:42391"
adminAddress: "localhost:42143"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:35,766 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-AE1A6DBBF262: set configuration 0: peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:35,766 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-AE1A6DBBF262-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:35,779 [s2@group-AE1A6DBBF262-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-AE1A6DBBF262-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s2/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262/current/log_inprogress_0
2022-11-16 04:24:35,780 [s1@group-AE1A6DBBF262-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-AE1A6DBBF262-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s1/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262/current/log_inprogress_0
2022-11-16 04:24:35,780 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-AE1A6DBBF262: succeeded to handle AppendEntries. Reply: s1<-s2#2461:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-16 04:24:35,781 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-AE1A6DBBF262: receive appendEntries(s1, 1, null, 0, true, commits:[s1:c0, s0:c-1, s2:c-1], cId:2462, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:33599"
dataStreamAddress: "localhost:43857"
clientAddress: "localhost:44683"
adminAddress: "localhost:43983"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:40727"
dataStreamAddress: "localhost:38689"
clientAddress: "localhost:37309"
adminAddress: "localhost:42927"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40499"
dataStreamAddress: "localhost:45059"
clientAddress: "localhost:42391"
adminAddress: "localhost:42143"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:35,781 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-AE1A6DBBF262: set configuration 0: peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:35,781 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-AE1A6DBBF262-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:35,793 [s0@group-AE1A6DBBF262-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-AE1A6DBBF262-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s0/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262/current/log_inprogress_0
2022-11-16 04:24:35,794 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-AE1A6DBBF262: succeeded to handle AppendEntries. Reply: s1<-s0#2462:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-16 04:24:36,034 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-AE1A6DBBF262:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-AE1A6DBBF262-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-AE1A6DBBF262:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-AE1A6DBBF262-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AE1A6DBBF262:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-AE1A6DBBF262-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:36,035 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:36,038 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:leaderElectionManagementAsync(1153)) - s0@group-AE1A6DBBF262 receive leaderElectionManagement request LeaderElectionManagementRequest:client-673CB9075AC9->s0@group-AE1A6DBBF262, cid=2487, seq=0, RO, null, Pause:
2022-11-16 04:24:36,039 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s0@group-AE1A6DBBF262: receive client request(RaftClientRequest:client-673CB9075AC9->s0@group-AE1A6DBBF262, cid=2490, seq=0, RW, message)
2022-11-16 04:24:36,040 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-673CB9075AC9: suggested new leader: s1. Failed RaftClientRequest:client-673CB9075AC9->s0@group-AE1A6DBBF262, cid=2490, seq=0, RW, message with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-AE1A6DBBF262 is not the leader s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:732)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:697)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:839)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:819)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:819)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:36,041 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-673CB9075AC9: oldLeader=s0,  curLeader=s0, newLeader=s1
2022-11-16 04:24:36,041 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-AE1A6DBBF262 client-673CB9075AC9: client change Leader from s0 to s1 ex=org.apache.ratis.protocol.exceptions.NotLeaderException
2022-11-16 04:24:36,141 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s1@group-AE1A6DBBF262: receive client request(RaftClientRequest:client-673CB9075AC9->s1@group-AE1A6DBBF262, cid=2490, seq=0, RW, message)
2022-11-16 04:24:36,142 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(410)) - s1@group-AE1A6DBBF262-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-673CB9075AC9->s1@group-AE1A6DBBF262, cid=2490, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 2490@client-673CB9075AC9
2022-11-16 04:24:36,143 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-AE1A6DBBF262: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:2502, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2490@client-673CB9075AC9]
2022-11-16 04:24:36,143 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-AE1A6DBBF262: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:2501, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2490@client-673CB9075AC9]
2022-11-16 04:24:36,144 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-AE1A6DBBF262: succeeded to handle AppendEntries. Reply: s1<-s2#2501:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-16 04:24:36,144 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-AE1A6DBBF262: succeeded to handle AppendEntries. Reply: s1<-s0#2502:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-16 04:24:36,146 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-AE1A6DBBF262: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:2503, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-16 04:24:36,146 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-AE1A6DBBF262: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:2504, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-16 04:24:36,146 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-AE1A6DBBF262: succeeded to handle AppendEntries. Reply: s1<-s2#2503:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-16 04:24:36,146 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1188)) - s1@group-AE1A6DBBF262: receive setConfiguration SetConfigurationRequest:client-673CB9075AC9->s1@group-AE1A6DBBF262, cid=2505, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER], listeners:[]
2022-11-16 04:24:36,147 [s1-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(377)) - s1@group-AE1A6DBBF262-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-673CB9075AC9->s1@group-AE1A6DBBF262, cid=2505, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER], listeners:[]
2022-11-16 04:24:36,147 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-AE1A6DBBF262: succeeded to handle AppendEntries. Reply: s1<-s0#2504:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-16 04:24:36,148 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-AE1A6DBBF262: set configuration 3: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-16 04:24:36,148 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-AE1A6DBBF262: receive appendEntries(s1, 1, (t:1, i:2), 1, true, commits:[s1:c1, s0:c1, s2:c1], cId:2506, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:33599"
dataStreamAddress: "localhost:43857"
clientAddress: "localhost:44683"
adminAddress: "localhost:43983"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:40727"
dataStreamAddress: "localhost:38689"
clientAddress: "localhost:37309"
adminAddress: "localhost:42927"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40499"
dataStreamAddress: "localhost:45059"
clientAddress: "localhost:42391"
adminAddress: "localhost:42143"
startupRole: FOLLOWER
)]
2022-11-16 04:24:36,148 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-AE1A6DBBF262: receive appendEntries(s1, 1, (t:1, i:2), 1, true, commits:[s1:c1, s0:c1, s2:c1], cId:2507, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:33599"
dataStreamAddress: "localhost:43857"
clientAddress: "localhost:44683"
adminAddress: "localhost:43983"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:40727"
dataStreamAddress: "localhost:38689"
clientAddress: "localhost:37309"
adminAddress: "localhost:42927"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40499"
dataStreamAddress: "localhost:45059"
clientAddress: "localhost:42391"
adminAddress: "localhost:42143"
startupRole: FOLLOWER
)]
2022-11-16 04:24:36,149 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-AE1A6DBBF262: set configuration 3: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-16 04:24:36,148 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-AE1A6DBBF262: set configuration 3: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:33599|admin:localhost:43983|client:localhost:44683|dataStream:localhost:43857|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40727|admin:localhost:42927|client:localhost:37309|dataStream:localhost:38689|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40499|admin:localhost:42143|client:localhost:42391|dataStream:localhost:45059|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-16 04:24:36,150 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-AE1A6DBBF262: succeeded to handle AppendEntries. Reply: s1<-s0#2507:OK-t1,SUCCESS,nextIndex=4,followerCommit=1,matchIndex=3
2022-11-16 04:24:36,150 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-AE1A6DBBF262: succeeded to handle AppendEntries. Reply: s1<-s2#2506:OK-t1,SUCCESS,nextIndex=4,followerCommit=1,matchIndex=3
2022-11-16 04:24:36,150 [s1@group-AE1A6DBBF262-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-AE1A6DBBF262: set configuration 5: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:36,151 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-AE1A6DBBF262: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c1, s2:c1], cId:2508, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:36,151 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-AE1A6DBBF262: set configuration 5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:36,152 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-AE1A6DBBF262: succeeded to handle AppendEntries. Reply: s1<-s2#2508:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-16 04:24:36,154 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-AE1A6DBBF262: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c1, s2:c3], cId:2509, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:36,154 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-AE1A6DBBF262: set configuration 5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:36,154 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-AE1A6DBBF262: succeeded to handle AppendEntries. Reply: s1<-s0#2509:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-16 04:24:36,155 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-AE1A6DBBF262: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits:[s1:c5, s0:c3, s2:c3], cId:2511, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-16 04:24:36,155 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-AE1A6DBBF262: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits:[s1:c5, s0:c1, s2:c3], cId:2510, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-16 04:24:36,155 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-AE1A6DBBF262: succeeded to handle AppendEntries. Reply: s1<-s0#2511:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-16 04:24:36,156 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-AE1A6DBBF262: succeeded to handle AppendEntries. Reply: s1<-s2#2510:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-16 04:24:36,160 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:leaderElectionManagementAsync(1153)) - s0@group-AE1A6DBBF262 receive leaderElectionManagement request LeaderElectionManagementRequest:client-673CB9075AC9->s0@group-AE1A6DBBF262, cid=2512, seq=0, RO, null, Resume:
2022-11-16 04:24:36,160 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(217)) - FAILED "check new leader", attempt #1/20: java.lang.AssertionError: expected:<s0> but was:<s1>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s1>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:585)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:231)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:585)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:561)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:36,261 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(217)) - FAILED "check new leader", attempt #2/20: java.lang.AssertionError: expected:<s0> but was:<s1>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s1>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:585)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:231)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:585)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:561)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:36,362 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(217)) - FAILED "check new leader", attempt #3/20: java.lang.AssertionError: expected:<s0> but was:<s1>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s1>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:585)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:231)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:585)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:561)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:36,459 [s1@group-AE1A6DBBF262-LeaderStateImpl] INFO  server.RaftServer$Division (LeaderStateImpl.java:yieldLeaderToHigherPriorityPeer(1020)) - s1@group-AE1A6DBBF262-LeaderStateImpl send StartLeaderElectionRequest to follower:s0 on term:1 because follower's priority:2 is higher than leader's:1 and follower's lastEntry index:6 catch up with leader's:6
2022-11-16 04:24:36,460 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:startLeaderElection(1658)) - s0@group-AE1A6DBBF262: receive startLeaderElection from:s1, leaderLastEntry:term: 1
index: 6
,
2022-11-16 04:24:36,460 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-AE1A6DBBF262-FollowerState
2022-11-16 04:24:36,460 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-AE1A6DBBF262: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:36,460 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AE1A6DBBF262-LeaderElection75
2022-11-16 04:24:36,460 [s0@group-AE1A6DBBF262-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-AE1A6DBBF262-FollowerState was interrupted
2022-11-16 04:24:36,461 [Thread-1199] INFO  server.RaftServer$Division (LeaderStateImpl.java:lambda$sendStartLeaderElectionToHigherPriorityPeer$9(602)) - s1@group-AE1A6DBBF262-LeaderStateImpl received success reply of StartLeaderElectionRequest from follower:s0
2022-11-16 04:24:36,461 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-AE1A6DBBF262: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-11-16 04:24:36,461 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-AE1A6DBBF262-LeaderElection75
2022-11-16 04:24:36,461 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AE1A6DBBF262-FollowerState
2022-11-16 04:24:36,461 [s0@group-AE1A6DBBF262-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:run(232)) - s0@group-AE1A6DBBF262-LeaderElection75: skip running since this is already CLOSING
2022-11-16 04:24:36,462 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(217)) - FAILED "check new leader", attempt #4/20: java.lang.AssertionError: expected:<s0> but was:<s1>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s1>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:585)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:231)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:585)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:561)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:36,563 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(217)) - FAILED "check new leader", attempt #5/20: java.lang.AssertionError: expected:<s0> but was:<s1>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s1>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:585)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:231)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:585)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:561)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:36,664 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(217)) - FAILED "check new leader", attempt #6/20: java.lang.AssertionError: expected:<s0> but was:<s1>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s1>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:585)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:231)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:585)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:561)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:36,760 [s1@group-AE1A6DBBF262-LeaderStateImpl] INFO  server.RaftServer$Division (LeaderStateImpl.java:yieldLeaderToHigherPriorityPeer(1020)) - s1@group-AE1A6DBBF262-LeaderStateImpl send StartLeaderElectionRequest to follower:s0 on term:1 because follower's priority:2 is higher than leader's:1 and follower's lastEntry index:6 catch up with leader's:6
2022-11-16 04:24:36,761 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:startLeaderElection(1658)) - s0@group-AE1A6DBBF262: receive startLeaderElection from:s1, leaderLastEntry:term: 1
index: 6
,
2022-11-16 04:24:36,761 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-AE1A6DBBF262-FollowerState
2022-11-16 04:24:36,761 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-AE1A6DBBF262: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:36,761 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AE1A6DBBF262-LeaderElection76
2022-11-16 04:24:36,761 [s0@group-AE1A6DBBF262-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-AE1A6DBBF262-FollowerState was interrupted
2022-11-16 04:24:36,761 [Thread-1202] INFO  server.RaftServer$Division (LeaderStateImpl.java:lambda$sendStartLeaderElectionToHigherPriorityPeer$9(602)) - s1@group-AE1A6DBBF262-LeaderStateImpl received success reply of StartLeaderElectionRequest from follower:s0
2022-11-16 04:24:36,761 [s0@group-AE1A6DBBF262-LeaderElection76] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-AE1A6DBBF262: change Leader from s1 to null at term 1 for ELECTION
2022-11-16 04:24:36,763 [s0@group-AE1A6DBBF262-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-AE1A6DBBF262-LeaderElection76 ELECTION round 0: submit vote requests at term 2 for 5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:36,764 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1484)) - s0@group-AE1A6DBBF262: Not recognize s1 (term=1) as leader, state: s0@group-AE1A6DBBF262:t2, leader=null, voted=s0, raftlog=Memoized:s0@group-AE1A6DBBF262-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null reply: s1<-s0#2576:FAIL-t2,NOT_LEADER,nextIndex=7,followerCommit=6,matchIndex=-1
2022-11-16 04:24:36,765 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(217)) - FAILED "check new leader", attempt #7/20: java.lang.AssertionError: expected:<s0> but was:<s1>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s1>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:585)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:231)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:585)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:561)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:36,765 [s1@group-AE1A6DBBF262-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-AE1A6DBBF262: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-11-16 04:24:36,765 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-AE1A6DBBF262: receive requestVote(ELECTION, s0, group-AE1A6DBBF262, 2, (t:1, i:6))
2022-11-16 04:24:36,765 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-AE1A6DBBF262-FOLLOWER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2022-11-16 04:24:36,765 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-AE1A6DBBF262: receive requestVote(ELECTION, s0, group-AE1A6DBBF262, 2, (t:1, i:6))
2022-11-16 04:24:36,765 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-AE1A6DBBF262: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-11-16 04:24:36,766 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-AE1A6DBBF262: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-11-16 04:24:36,766 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-AE1A6DBBF262-FollowerState
2022-11-16 04:24:36,766 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-AE1A6DBBF262-FollowerState
2022-11-16 04:24:36,766 [s2@group-AE1A6DBBF262-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-AE1A6DBBF262-FollowerState was interrupted
2022-11-16 04:24:36,765 [s1@group-AE1A6DBBF262-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-AE1A6DBBF262: changes role from    LEADER to FOLLOWER at term 2 for StepDownReason:HIGHER_TERM
2022-11-16 04:24:36,766 [s1@group-AE1A6DBBF262-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-AE1A6DBBF262-LeaderStateImpl
2022-11-16 04:24:36,766 [s1@group-AE1A6DBBF262->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-AE1A6DBBF262->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:36,766 [s1@group-AE1A6DBBF262-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-AE1A6DBBF262-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:36,766 [s1@group-AE1A6DBBF262->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-AE1A6DBBF262->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:36,770 [s1@group-AE1A6DBBF262-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AE1A6DBBF262-FollowerState
2022-11-16 04:24:36,770 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-AE1A6DBBF262 replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-AE1A6DBBF262:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-AE1A6DBBF262-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:36,771 [s0@group-AE1A6DBBF262-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-AE1A6DBBF262-LeaderElection76: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:36,771 [s0@group-AE1A6DBBF262-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t2
2022-11-16 04:24:36,771 [s0@group-AE1A6DBBF262-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-AE1A6DBBF262-LeaderElection76 ELECTION round 0: result PASSED
2022-11-16 04:24:36,771 [s0@group-AE1A6DBBF262-LeaderElection76] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-AE1A6DBBF262-LeaderElection76
2022-11-16 04:24:36,771 [s0@group-AE1A6DBBF262-LeaderElection76] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-AE1A6DBBF262: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-11-16 04:24:36,771 [s0@group-AE1A6DBBF262-LeaderElection76] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-AE1A6DBBF262: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 9ms
2022-11-16 04:24:36,771 [s0@group-AE1A6DBBF262-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:36,771 [s0@group-AE1A6DBBF262-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:36,771 [s0@group-AE1A6DBBF262-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:36,771 [s0@group-AE1A6DBBF262-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:36,771 [s0@group-AE1A6DBBF262-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:36,771 [s0@group-AE1A6DBBF262-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:36,771 [s0@group-AE1A6DBBF262-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:36,771 [s0@group-AE1A6DBBF262-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:36,771 [s0@group-AE1A6DBBF262-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:36,771 [s0@group-AE1A6DBBF262-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:36,771 [s0@group-AE1A6DBBF262-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:36,772 [s0@group-AE1A6DBBF262-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:36,772 [s0@group-AE1A6DBBF262-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:36,772 [s0@group-AE1A6DBBF262-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:36,772 [s0@group-AE1A6DBBF262-LeaderElection76] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AE1A6DBBF262-LeaderStateImpl
2022-11-16 04:24:36,772 [s0@group-AE1A6DBBF262-LeaderElection76] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-AE1A6DBBF262-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-11-16 04:24:36,773 [s0@group-AE1A6DBBF262-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s0/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s0/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262/current/log_0-6
2022-11-16 04:24:36,773 [s0@group-AE1A6DBBF262-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-AE1A6DBBF262-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s0/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s0/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262/current/log_0-6
2022-11-16 04:24:36,777 [s0@group-AE1A6DBBF262-LeaderElection76] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-AE1A6DBBF262: set configuration 7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:36,777 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-AE1A6DBBF262: change Leader from null to s0 at term 2 for appendEntries, leader elected after 11ms
2022-11-16 04:24:36,778 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-AE1A6DBBF262: receive appendEntries(s0, 2, (t:1, i:6), 6, true, commits:[s0:c6, s1:c6, s2:c6], cId:2581, entries: [(t:2, i:7), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:36,778 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-AE1A6DBBF262: set configuration 7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:36,778 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-AE1A6DBBF262-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-11-16 04:24:36,784 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-AE1A6DBBF262: change Leader from null to s0 at term 2 for appendEntries, leader elected after 19ms
2022-11-16 04:24:36,784 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-AE1A6DBBF262-FOLLOWER: reject ELECTION from s0: this server is a follower and still has a valid leader s0
2022-11-16 04:24:36,784 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-AE1A6DBBF262 replies to ELECTION vote request: s0<-s1#0:FAIL-t2. Peer's state: s1@group-AE1A6DBBF262:t2, leader=s0, voted=null, raftlog=Memoized:s1@group-AE1A6DBBF262-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:36,784 [s0@group-AE1A6DBBF262-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-AE1A6DBBF262-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s0/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262/current/log_inprogress_7
2022-11-16 04:24:36,785 [s2@group-AE1A6DBBF262-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s2/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s2/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262/current/log_0-6
2022-11-16 04:24:36,785 [s2@group-AE1A6DBBF262-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-AE1A6DBBF262-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s2/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s2/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262/current/log_0-6
2022-11-16 04:24:36,789 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-AE1A6DBBF262: receive appendEntries(s0, 2, (t:1, i:6), 6, true, commits:[s0:c6, s1:c6, s2:c6], cId:2582, entries: [(t:2, i:7), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:36,789 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-AE1A6DBBF262: set configuration 7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:36,789 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-AE1A6DBBF262-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-11-16 04:24:36,790 [s1@group-AE1A6DBBF262-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s1/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s1/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262/current/log_0-6
2022-11-16 04:24:36,790 [s1@group-AE1A6DBBF262-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-AE1A6DBBF262-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s1/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s1/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262/current/log_0-6
2022-11-16 04:24:36,801 [s2@group-AE1A6DBBF262-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-AE1A6DBBF262-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s2/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262/current/log_inprogress_7
2022-11-16 04:24:36,801 [s1@group-AE1A6DBBF262-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-AE1A6DBBF262-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc4c0e3598/s1/dac1b8ca-64b1-478e-bd96-ae1a6dbbf262/current/log_inprogress_7
2022-11-16 04:24:36,801 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-AE1A6DBBF262: succeeded to handle AppendEntries. Reply: s0<-s2#2581:OK-t2,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2022-11-16 04:24:36,803 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-AE1A6DBBF262: succeeded to handle AppendEntries. Reply: s0<-s1#2582:OK-t2,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2022-11-16 04:24:36,803 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-AE1A6DBBF262: receive appendEntries(s0, 2, (t:2, i:7), 7, true, commits:[s0:c7, s1:c6, s2:c6], cId:2585, entries: [(t:2, i:8), METADATAENTRY(c:7)]
2022-11-16 04:24:36,803 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-AE1A6DBBF262: receive appendEntries(s0, 2, (t:2, i:7), 7, true, commits:[s0:c7, s1:c6, s2:c6], cId:2586, entries: [(t:2, i:8), METADATAENTRY(c:7)]
2022-11-16 04:24:36,803 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-AE1A6DBBF262: succeeded to handle AppendEntries. Reply: s0<-s2#2585:OK-t2,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2022-11-16 04:24:36,804 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-AE1A6DBBF262: succeeded to handle AppendEntries. Reply: s0<-s1#2586:OK-t2,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2022-11-16 04:24:36,865 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-16 04:24:36,865 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-16 04:24:36,865 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:36,865 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-16 04:24:36,865 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-16 04:24:36,866 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-AE1A6DBBF262:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-AE1A6DBBF262-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-AE1A6DBBF262:t2, leader=s0, voted=null, raftlog=Memoized:s1@group-AE1A6DBBF262-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AE1A6DBBF262:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-AE1A6DBBF262-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:36,867 [MiniRaftCluster-64] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-16 04:24:36,867 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-AE1A6DBBF262: shutdown
2022-11-16 04:24:36,867 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AE1A6DBBF262,id=s0
2022-11-16 04:24:36,867 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-AE1A6DBBF262-LeaderStateImpl
2022-11-16 04:24:36,867 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-AE1A6DBBF262-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:36,867 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:36,868 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:36,868 [s0@group-AE1A6DBBF262->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-AE1A6DBBF262->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:36,868 [s0@group-AE1A6DBBF262->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-AE1A6DBBF262->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:36,869 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:36,869 [MiniRaftCluster-65] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-16 04:24:36,869 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-AE1A6DBBF262: shutdown
2022-11-16 04:24:36,869 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AE1A6DBBF262,id=s1
2022-11-16 04:24:36,869 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-AE1A6DBBF262-FollowerState
2022-11-16 04:24:36,869 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-AE1A6DBBF262-StateMachineUpdater: set stopIndex = 7
2022-11-16 04:24:36,869 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:36,869 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:36,869 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:36,869 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:36,870 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:36,869 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:36,870 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:36,870 [s1@group-AE1A6DBBF262-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-AE1A6DBBF262-FollowerState was interrupted
2022-11-16 04:24:36,871 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-AE1A6DBBF262-StateMachineUpdater: set stopIndex = 8
2022-11-16 04:24:36,871 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-AE1A6DBBF262: applyIndex: 8
2022-11-16 04:24:36,871 [s0@group-AE1A6DBBF262-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-AE1A6DBBF262-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:36,872 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-AE1A6DBBF262-SegmentedRaftLogWorker close()
2022-11-16 04:24:36,873 [JvmPauseMonitor46] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-16 04:24:36,873 [MiniRaftCluster-66] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-16 04:24:36,874 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-AE1A6DBBF262: applyIndex: 7
2022-11-16 04:24:36,873 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:36,873 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:36,875 [s1@group-AE1A6DBBF262-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-AE1A6DBBF262-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:36,875 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-AE1A6DBBF262-SegmentedRaftLogWorker close()
2022-11-16 04:24:36,876 [JvmPauseMonitor47] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-16 04:24:36,876 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:36,876 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-AE1A6DBBF262: shutdown
2022-11-16 04:24:36,876 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AE1A6DBBF262,id=s2
2022-11-16 04:24:36,876 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-AE1A6DBBF262-FollowerState
2022-11-16 04:24:36,876 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-AE1A6DBBF262-StateMachineUpdater: set stopIndex = 7
2022-11-16 04:24:36,877 [s2@group-AE1A6DBBF262-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-AE1A6DBBF262-FollowerState was interrupted
2022-11-16 04:24:36,877 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-AE1A6DBBF262: applyIndex: 7
2022-11-16 04:24:36,877 [s2@group-AE1A6DBBF262-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-AE1A6DBBF262-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:36,877 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:36,878 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-AE1A6DBBF262-SegmentedRaftLogWorker close()
2022-11-16 04:24:36,878 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:36,879 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:36,879 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:36,879 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:36,879 [JvmPauseMonitor48] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-16 04:24:36,879 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-16 04:24:36,880 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-16 04:24:36,880 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-16 04:24:36,880 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-16 04:24:36,880 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-16 04:24:36,884 [Time-limited test] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker log level to TRACE
2022-11-16 04:24:36,884 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testChangeLeader(102)) - Running testChangeLeader
2022-11-16 04:24:36,884 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-16 04:24:36,885 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-C1F51A45389C:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]
2022-11-16 04:24:36,885 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-16 04:24:36,885 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-16 04:24:36,885 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:36,885 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-16 04:24:36,885 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-16 04:24:36,885 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-16 04:24:36,885 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-C1F51A45389C:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:36,886 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0
2022-11-16 04:24:36,886 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0 does not exist.
2022-11-16 04:24:36,886 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0
2022-11-16 04:24:36,886 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:36,886 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:36,886 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:36,886 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:36,886 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:36,886 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:36,887 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0] (custom)
2022-11-16 04:24:36,887 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-C1F51A45389C:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER] returns group-C1F51A45389C:java.util.concurrent.CompletableFuture@446e2e4a[Not completed]
2022-11-16 04:24:36,887 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-C1F51A45389C:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:36,887 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1
2022-11-16 04:24:36,887 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1 does not exist.
2022-11-16 04:24:36,887 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1
2022-11-16 04:24:36,887 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:36,888 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:36,888 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:36,888 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:36,888 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:36,888 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:36,888 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1] (custom)
2022-11-16 04:24:36,888 [pool-50-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-C1F51A45389C:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:36,888 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:36,888 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:36,888 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:36,888 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:36,888 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:36,888 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:36,889 [pool-50-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-C1F51A45389C: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:36,889 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:36,889 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:36,889 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:36,889 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:36,889 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:36,889 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:36,890 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:36,890 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:36,890 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:36,890 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:36,890 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-C1F51A45389C:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER] returns group-C1F51A45389C:java.util.concurrent.CompletableFuture@11e8a10c[Not completed]
2022-11-16 04:24:36,890 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-C1F51A45389C:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:36,890 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2
2022-11-16 04:24:36,890 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2 does not exist.
2022-11-16 04:24:36,890 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2
2022-11-16 04:24:36,890 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:36,891 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:36,891 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:36,891 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:36,891 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:36,891 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:36,891 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2] (custom)
2022-11-16 04:24:36,891 [pool-51-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-C1F51A45389C:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:36,891 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:36,891 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:36,891 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:36,891 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:36,891 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:36,891 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:36,892 [pool-51-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-C1F51A45389C: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:36,892 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:36,892 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:36,892 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:36,892 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:36,892 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:36,893 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:36,893 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:36,893 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:36,893 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:36,893 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:36,893 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-C1F51A45389C:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER] returns group-C1F51A45389C:java.util.concurrent.CompletableFuture@5ed88252[Not completed]
2022-11-16 04:24:36,893 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:36,893 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:36,894 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0] (custom)
2022-11-16 04:24:36,894 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c does not exist. Creating ...
2022-11-16 04:24:36,894 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c
2022-11-16 04:24:36,894 [pool-52-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-C1F51A45389C:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:36,895 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:36,895 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:36,895 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:36,895 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:36,895 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:36,895 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:36,895 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current
2022-11-16 04:24:36,895 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/sm
2022-11-16 04:24:36,896 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:36,896 [pool-52-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-C1F51A45389C: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:36,896 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:36,896 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:36,896 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c has been successfully formatted.
2022-11-16 04:24:36,897 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:36,897 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:36,897 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:36,897 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:36,897 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:36,897 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:36,897 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:36,897 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:36,897 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-C1F51A45389C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c
2022-11-16 04:24:36,897 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:36,897 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:36,897 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:36,897 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:36,897 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:36,897 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:36,897 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:36,897 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:36,897 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:36,897 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:36,898 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:36,898 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:36,898 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:36,898 [s0-impl-thread1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(225)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2022-11-16 04:24:36,898 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:36,898 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:36,899 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:36,899 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:36,899 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:36,901 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:36,901 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:36,901 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:36,901 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:36,901 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:36,901 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-C1F51A45389C: start as a follower, conf=-1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:36,901 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-C1F51A45389C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:36,902 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C1F51A45389C-FollowerState
2022-11-16 04:24:36,902 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C1F51A45389C,id=s0
2022-11-16 04:24:36,902 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:36,902 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:36,902 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:36,902 [s0@group-C1F51A45389C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:36,902 [s0@group-C1F51A45389C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:36,902 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-16 04:24:36,903 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:36,903 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:36,903 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1] (custom)
2022-11-16 04:24:36,904 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c does not exist. Creating ...
2022-11-16 04:24:36,904 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c
2022-11-16 04:24:36,905 [JvmPauseMonitor49] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-16 04:24:36,905 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:36,905 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current
2022-11-16 04:24:36,905 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/sm
2022-11-16 04:24:36,906 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c has been successfully formatted.
2022-11-16 04:24:36,906 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:36,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:36,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:36,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:36,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:36,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:36,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:36,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:36,907 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-C1F51A45389C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c
2022-11-16 04:24:36,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:36,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:36,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:36,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:36,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:36,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:36,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:36,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:36,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:36,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:36,908 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:36,908 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:36,908 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:36,908 [s1-impl-thread1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(225)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2022-11-16 04:24:36,908 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:36,908 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:36,909 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-C1F51A45389C: start as a follower, conf=-1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:36,909 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-C1F51A45389C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:36,909 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C1F51A45389C-FollowerState
2022-11-16 04:24:36,910 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C1F51A45389C,id=s1
2022-11-16 04:24:36,910 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:36,910 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:36,910 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:36,910 [s1@group-C1F51A45389C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:36,910 [s1@group-C1F51A45389C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:36,910 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-16 04:24:36,911 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:36,911 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:36,911 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2] (custom)
2022-11-16 04:24:36,911 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c does not exist. Creating ...
2022-11-16 04:24:36,912 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c
2022-11-16 04:24:36,912 [JvmPauseMonitor50] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-16 04:24:36,912 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:36,913 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current
2022-11-16 04:24:36,913 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/sm
2022-11-16 04:24:36,913 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c has been successfully formatted.
2022-11-16 04:24:36,913 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:36,914 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:36,914 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:36,914 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:36,914 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:36,914 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:36,914 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:36,914 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:36,914 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-C1F51A45389C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c
2022-11-16 04:24:36,914 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:36,914 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:36,914 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:36,914 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:36,914 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:36,914 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:36,914 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:36,914 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:36,914 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:36,914 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:36,924 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:36,924 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:36,924 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:36,924 [s2-impl-thread1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(225)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2022-11-16 04:24:36,924 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:36,924 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:36,929 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-C1F51A45389C: start as a follower, conf=-1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:36,929 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-C1F51A45389C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:36,930 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C1F51A45389C-FollowerState
2022-11-16 04:24:36,938 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C1F51A45389C,id=s2
2022-11-16 04:24:36,938 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:36,938 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:36,938 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:36,943 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-16 04:24:36,943 [s2@group-C1F51A45389C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:36,943 [s2@group-C1F51A45389C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:36,945 [JvmPauseMonitor51] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-16 04:24:36,949 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:36,950 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t0, leader=null, voted=, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t0, leader=null, voted=, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t0, leader=null, voted=, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:36,950 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t0, leader=null, voted=, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t0, leader=null, voted=, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t0, leader=null, voted=, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t0, leader=null, voted=, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t0, leader=null, voted=, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t0, leader=null, voted=, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:37,088 [s0@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C1F51A45389C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:186934892ns, electionTimeout:186ms
2022-11-16 04:24:37,089 [s0@group-C1F51A45389C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C1F51A45389C-FollowerState
2022-11-16 04:24:37,089 [s0@group-C1F51A45389C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-C1F51A45389C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-16 04:24:37,089 [s0@group-C1F51A45389C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:37,089 [s0@group-C1F51A45389C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C1F51A45389C-LeaderElection77
2022-11-16 04:24:37,090 [s0@group-C1F51A45389C-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-C1F51A45389C-LeaderElection77 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:37,090 [s0@group-C1F51A45389C-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:37,090 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-C1F51A45389C: receive requestVote(PRE_VOTE, s0, group-C1F51A45389C, 0, (t:0, i:0))
2022-11-16 04:24:37,090 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C1F51A45389C-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:37,090 [s0@group-C1F51A45389C-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:37,090 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-C1F51A45389C replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-C1F51A45389C:t0, leader=null, voted=, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:37,091 [s0@group-C1F51A45389C-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C1F51A45389C-LeaderElection77: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:37,091 [s0@group-C1F51A45389C-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2022-11-16 04:24:37,091 [s0@group-C1F51A45389C-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-C1F51A45389C-LeaderElection77 PRE_VOTE round 0: result PASSED
2022-11-16 04:24:37,092 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-C1F51A45389C: receive requestVote(PRE_VOTE, s0, group-C1F51A45389C, 0, (t:0, i:0))
2022-11-16 04:24:37,092 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C1F51A45389C-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:37,092 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-C1F51A45389C replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-C1F51A45389C:t0, leader=null, voted=, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:37,093 [s0@group-C1F51A45389C-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-C1F51A45389C-LeaderElection77 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:37,093 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-C1F51A45389C: receive requestVote(ELECTION, s0, group-C1F51A45389C, 1, (t:0, i:0))
2022-11-16 04:24:37,093 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C1F51A45389C-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:37,093 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-C1F51A45389C: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-11-16 04:24:37,093 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C1F51A45389C-FollowerState
2022-11-16 04:24:37,094 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C1F51A45389C-FollowerState
2022-11-16 04:24:37,094 [s1@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-C1F51A45389C-FollowerState was interrupted
2022-11-16 04:24:37,094 [s0@group-C1F51A45389C-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:37,094 [s0@group-C1F51A45389C-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:37,094 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-C1F51A45389C: receive requestVote(ELECTION, s0, group-C1F51A45389C, 1, (t:0, i:0))
2022-11-16 04:24:37,094 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C1F51A45389C-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:37,094 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-C1F51A45389C: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-11-16 04:24:37,094 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-C1F51A45389C-FollowerState
2022-11-16 04:24:37,094 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C1F51A45389C-FollowerState
2022-11-16 04:24:37,094 [s2@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-C1F51A45389C-FollowerState was interrupted
2022-11-16 04:24:37,095 [s1@group-C1F51A45389C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:37,095 [s1@group-C1F51A45389C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:37,095 [s2@group-C1F51A45389C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:37,095 [s2@group-C1F51A45389C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:37,096 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-C1F51A45389C replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-C1F51A45389C:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:37,096 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-C1F51A45389C replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-C1F51A45389C:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:37,097 [s0@group-C1F51A45389C-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C1F51A45389C-LeaderElection77: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:37,097 [s0@group-C1F51A45389C-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t1
2022-11-16 04:24:37,097 [s0@group-C1F51A45389C-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-C1F51A45389C-LeaderElection77 ELECTION round 0: result PASSED
2022-11-16 04:24:37,097 [s0@group-C1F51A45389C-LeaderElection77] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C1F51A45389C-LeaderElection77
2022-11-16 04:24:37,097 [s0@group-C1F51A45389C-LeaderElection77] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-C1F51A45389C: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-16 04:24:37,097 [s0@group-C1F51A45389C-LeaderElection77] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-C1F51A45389C: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 208ms
2022-11-16 04:24:37,097 [s0@group-C1F51A45389C-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:37,097 [s0@group-C1F51A45389C-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:37,097 [s0@group-C1F51A45389C-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:37,097 [s0@group-C1F51A45389C-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:37,097 [s0@group-C1F51A45389C-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:37,097 [s0@group-C1F51A45389C-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:37,097 [s0@group-C1F51A45389C-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:37,097 [s0@group-C1F51A45389C-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:37,098 [s0@group-C1F51A45389C-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:37,098 [s0@group-C1F51A45389C-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:37,098 [s0@group-C1F51A45389C-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:37,098 [s0@group-C1F51A45389C-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:37,098 [s0@group-C1F51A45389C-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:37,098 [s0@group-C1F51A45389C-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:37,098 [s0@group-C1F51A45389C-LeaderElection77] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C1F51A45389C-LeaderStateImpl
2022-11-16 04:24:37,098 [s0@group-C1F51A45389C-LeaderElection77] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:37,098 [s0@group-C1F51A45389C-LeaderElection77] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2022-11-16 04:24:37,102 [s0@group-C1F51A45389C-LeaderElection77] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:37,103 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-C1F51A45389C: change Leader from null to s0 at term 1 for appendEntries, leader elected after 211ms
2022-11-16 04:24:37,103 [s0@group-C1F51A45389C-LeaderElection77] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-C1F51A45389C: set configuration 0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:37,103 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-C1F51A45389C: change Leader from null to s0 at term 1 for appendEntries, leader elected after 207ms
2022-11-16 04:24:37,104 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-C1F51A45389C: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:2608, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:37,104 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:2607, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:37,104 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-C1F51A45389C: set configuration 0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:37,104 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:37,104 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-C1F51A45389C: set configuration 0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:37,105 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:37,105 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2022-11-16 04:24:37,105 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:37,104 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2022-11-16 04:24:37,110 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:37,115 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_0
2022-11-16 04:24:37,116 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_0)
2022-11-16 04:24:37,117 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2022-11-16 04:24:37,119 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_0
2022-11-16 04:24:37,119 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_0)
2022-11-16 04:24:37,126 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2022-11-16 04:24:37,126 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s0<-s2#2607:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-16 04:24:37,127 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_0
2022-11-16 04:24:37,127 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_0)
2022-11-16 04:24:37,127 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2022-11-16 04:24:37,128 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s0<-s1#2608:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-16 04:24:37,400 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:37,401 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:37,401 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:37,402 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:37,402 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:37,502 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:37,503 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:37,503 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:37,503 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:37,604 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:37,604 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:37,604 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:37,604 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:37,616 [s1@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-C1F51A45389C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:261450005ns, electionTimeout:244ms
2022-11-16 04:24:37,616 [s1@group-C1F51A45389C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C1F51A45389C-FollowerState
2022-11-16 04:24:37,616 [s1@group-C1F51A45389C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-C1F51A45389C: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-16 04:24:37,616 [s1@group-C1F51A45389C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:37,616 [s1@group-C1F51A45389C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C1F51A45389C-LeaderElection78
2022-11-16 04:24:37,617 [s1@group-C1F51A45389C-LeaderElection78] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-C1F51A45389C: change Leader from s0 to null at term 1 for PRE_VOTE
2022-11-16 04:24:37,617 [s1@group-C1F51A45389C-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-C1F51A45389C-LeaderElection78 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:37,617 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-C1F51A45389C: receive requestVote(PRE_VOTE, s1, group-C1F51A45389C, 1, (t:1, i:0))
2022-11-16 04:24:37,618 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-C1F51A45389C-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-11-16 04:24:37,618 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-C1F51A45389C replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-C1F51A45389C:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:37,618 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-C1F51A45389C: receive requestVote(PRE_VOTE, s1, group-C1F51A45389C, 1, (t:1, i:0))
2022-11-16 04:24:37,618 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C1F51A45389C-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:37,618 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-C1F51A45389C replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-C1F51A45389C:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:37,618 [s1@group-C1F51A45389C-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-C1F51A45389C-LeaderElection78: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:37,618 [s1@group-C1F51A45389C-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:FAIL-t1
2022-11-16 04:24:37,618 [s1@group-C1F51A45389C-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:OK-t1
2022-11-16 04:24:37,619 [s1@group-C1F51A45389C-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-C1F51A45389C-LeaderElection78 PRE_VOTE round 0: result PASSED
2022-11-16 04:24:37,620 [s1@group-C1F51A45389C-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-C1F51A45389C-LeaderElection78 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:37,621 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-C1F51A45389C: receive requestVote(ELECTION, s1, group-C1F51A45389C, 2, (t:1, i:0))
2022-11-16 04:24:37,621 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-C1F51A45389C-LEADER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:37,621 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-C1F51A45389C: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-11-16 04:24:37,621 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-C1F51A45389C: changes role from    LEADER to FOLLOWER at term 2 for candidate:s1
2022-11-16 04:24:37,621 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-C1F51A45389C-LeaderStateImpl
2022-11-16 04:24:37,621 [s0@group-C1F51A45389C->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-C1F51A45389C->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-16 04:24:37,621 [HandlerDaemon-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-C1F51A45389C-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:37,621 [s0@group-C1F51A45389C->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-C1F51A45389C->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-16 04:24:37,622 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C1F51A45389C-FollowerState
2022-11-16 04:24:37,622 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-C1F51A45389C: receive requestVote(ELECTION, s1, group-C1F51A45389C, 2, (t:1, i:0))
2022-11-16 04:24:37,622 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C1F51A45389C-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:37,622 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-C1F51A45389C: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-11-16 04:24:37,622 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-C1F51A45389C: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-11-16 04:24:37,622 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-C1F51A45389C-FollowerState
2022-11-16 04:24:37,623 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C1F51A45389C-FollowerState
2022-11-16 04:24:37,623 [s2@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-C1F51A45389C-FollowerState was interrupted
2022-11-16 04:24:37,624 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-C1F51A45389C replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-C1F51A45389C:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:37,624 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-C1F51A45389C replies to ELECTION vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-C1F51A45389C:t2, leader=null, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:37,624 [s1@group-C1F51A45389C-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-C1F51A45389C-LeaderElection78: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:37,624 [s1@group-C1F51A45389C-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t2
2022-11-16 04:24:37,624 [s1@group-C1F51A45389C-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-C1F51A45389C-LeaderElection78 ELECTION round 0: result PASSED
2022-11-16 04:24:37,624 [s1@group-C1F51A45389C-LeaderElection78] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-C1F51A45389C-LeaderElection78
2022-11-16 04:24:37,624 [s1@group-C1F51A45389C-LeaderElection78] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-C1F51A45389C: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-11-16 04:24:37,624 [s1@group-C1F51A45389C-LeaderElection78] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-C1F51A45389C: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 7ms
2022-11-16 04:24:37,624 [s1@group-C1F51A45389C-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:37,624 [s1@group-C1F51A45389C-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:37,625 [s1@group-C1F51A45389C-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:37,625 [s1@group-C1F51A45389C-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:37,625 [s1@group-C1F51A45389C-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:37,625 [s1@group-C1F51A45389C-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:37,625 [s1@group-C1F51A45389C-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:37,625 [s1@group-C1F51A45389C-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:37,625 [s1@group-C1F51A45389C-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:37,625 [s1@group-C1F51A45389C-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:37,625 [s1@group-C1F51A45389C-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:37,625 [s1@group-C1F51A45389C-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:37,625 [s1@group-C1F51A45389C-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:37,625 [s1@group-C1F51A45389C-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:37,626 [s1@group-C1F51A45389C-LeaderElection78] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C1F51A45389C-LeaderStateImpl
2022-11-16 04:24:37,626 [s1@group-C1F51A45389C-LeaderElection78] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-11-16 04:24:37,626 [s1@group-C1F51A45389C-LeaderElection78] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2022-11-16 04:24:37,626 [s1@group-C1F51A45389C-LeaderElection78] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2022-11-16 04:24:37,626 [s1@group-C1F51A45389C-LeaderElection78] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:37,627 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_0-0
2022-11-16 04:24:37,627 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_0-0
2022-11-16 04:24:37,627 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 0
2022-11-16 04:24:37,627 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2022-11-16 04:24:37,632 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-C1F51A45389C: change Leader from null to s1 at term 2 for appendEntries, leader elected after 10ms
2022-11-16 04:24:37,632 [s1@group-C1F51A45389C-LeaderElection78] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-C1F51A45389C: set configuration 1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:37,632 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-C1F51A45389C: change Leader from null to s1 at term 2 for appendEntries, leader elected after 9ms
2022-11-16 04:24:37,633 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-C1F51A45389C: receive appendEntries(s1, 2, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:2658, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:37,633 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-C1F51A45389C: set configuration 1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:37,634 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-11-16 04:24:37,634 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2022-11-16 04:24:37,634 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2022-11-16 04:24:37,634 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:37,639 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_0-0
2022-11-16 04:24:37,639 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_0-0
2022-11-16 04:24:37,639 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 0
2022-11-16 04:24:37,633 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: receive appendEntries(s1, 2, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:2657, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:37,639 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2022-11-16 04:24:37,639 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-C1F51A45389C: set configuration 1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:37,639 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-11-16 04:24:37,639 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2022-11-16 04:24:37,640 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2022-11-16 04:24:37,640 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:37,640 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_1
2022-11-16 04:24:37,640 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_1)
2022-11-16 04:24:37,640 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_0-0
2022-11-16 04:24:37,641 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_0-0
2022-11-16 04:24:37,641 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 0
2022-11-16 04:24:37,641 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2022-11-16 04:24:37,645 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2022-11-16 04:24:37,658 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_1
2022-11-16 04:24:37,658 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_1)
2022-11-16 04:24:37,658 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2022-11-16 04:24:37,659 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_1
2022-11-16 04:24:37,659 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s1<-s0#2658:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-16 04:24:37,659 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_1)
2022-11-16 04:24:37,659 [s1@group-C1F51A45389C-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2022-11-16 04:24:37,659 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2022-11-16 04:24:37,659 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_1)
2022-11-16 04:24:37,660 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-C1F51A45389C: receive appendEntries(s1, 2, (t:2, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:2661, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2022-11-16 04:24:37,660 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s1<-s2#2657:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-16 04:24:37,660 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2022-11-16 04:24:37,660 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2022-11-16 04:24:37,660 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_1)
2022-11-16 04:24:37,660 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2022-11-16 04:24:37,660 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: receive appendEntries(s1, 2, (t:2, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:2662, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2022-11-16 04:24:37,660 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2022-11-16 04:24:37,660 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_1)
2022-11-16 04:24:37,661 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2022-11-16 04:24:37,660 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s1<-s0#2661:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-16 04:24:37,661 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s1<-s2#2662:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-16 04:24:37,705 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:37,705 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:37,705 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:37,705 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s1
2022-11-16 04:24:37,705 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:37,705 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:37,705 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:37,706 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:37,806 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:37,806 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:37,806 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:37,807 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:37,907 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:37,907 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:37,908 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:37,908 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:38,008 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:38,008 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:38,009 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:38,009 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:38,063 [s0@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C1F51A45389C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:402995740ns, electionTimeout:285ms
2022-11-16 04:24:38,064 [s0@group-C1F51A45389C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C1F51A45389C-FollowerState
2022-11-16 04:24:38,064 [s0@group-C1F51A45389C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-C1F51A45389C: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2022-11-16 04:24:38,064 [s0@group-C1F51A45389C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:38,064 [s0@group-C1F51A45389C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C1F51A45389C-LeaderElection79
2022-11-16 04:24:38,064 [s0@group-C1F51A45389C-LeaderElection79] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-C1F51A45389C: change Leader from s1 to null at term 2 for PRE_VOTE
2022-11-16 04:24:38,064 [s0@group-C1F51A45389C-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-C1F51A45389C-LeaderElection79 PRE_VOTE round 0: submit vote requests at term 2 for 1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:38,065 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-C1F51A45389C: receive requestVote(PRE_VOTE, s0, group-C1F51A45389C, 2, (t:2, i:2))
2022-11-16 04:24:38,065 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-C1F51A45389C: receive requestVote(PRE_VOTE, s0, group-C1F51A45389C, 2, (t:2, i:2))
2022-11-16 04:24:38,065 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1063)) - s1@group-C1F51A45389C-LeaderStateImpl: Lost leadership on term: 2. Election timeout: 300ms. In charge for: 440ms. Conf: 1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:38,065 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C1F51A45389C-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:38,065 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s1@group-C1F51A45389C->s0(c1,m2,n3, attendVote=true, lastRpcSendTime=328, lastRpcResponseTime=403)
2022-11-16 04:24:38,065 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s1@group-C1F51A45389C->s2(c1,m2,n3, attendVote=true, lastRpcSendTime=328, lastRpcResponseTime=404)
2022-11-16 04:24:38,065 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-C1F51A45389C replies to PRE_VOTE vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:38,065 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-C1F51A45389C: changes role from    LEADER to FOLLOWER at term 2 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-11-16 04:24:38,065 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-C1F51A45389C-LeaderStateImpl
2022-11-16 04:24:38,066 [s1@group-C1F51A45389C->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-C1F51A45389C->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-16 04:24:38,066 [s1@group-C1F51A45389C->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-C1F51A45389C->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-16 04:24:38,065 [s0@group-C1F51A45389C-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C1F51A45389C-LeaderElection79: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:38,066 [s0@group-C1F51A45389C-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t2
2022-11-16 04:24:38,066 [s0@group-C1F51A45389C-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-C1F51A45389C-LeaderElection79 PRE_VOTE round 0: result PASSED
2022-11-16 04:24:38,066 [HandlerDaemon-2] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-C1F51A45389C-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:38,069 [s0@group-C1F51A45389C-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-C1F51A45389C-LeaderElection79 ELECTION round 0: submit vote requests at term 3 for 1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:38,070 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C1F51A45389C-FollowerState
2022-11-16 04:24:38,070 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-C1F51A45389C: receive requestVote(ELECTION, s0, group-C1F51A45389C, 3, (t:2, i:2))
2022-11-16 04:24:38,070 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C1F51A45389C-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-16 04:24:38,071 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-C1F51A45389C replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t2. Peer's state: s1@group-C1F51A45389C:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:38,071 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C1F51A45389C-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:38,071 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-C1F51A45389C: change Leader from s1 to null at term 3 for updateCurrentTerm
2022-11-16 04:24:38,071 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-C1F51A45389C: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s0
2022-11-16 04:24:38,071 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C1F51A45389C-FollowerState
2022-11-16 04:24:38,071 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C1F51A45389C-FollowerState
2022-11-16 04:24:38,071 [s1@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-C1F51A45389C-FollowerState was interrupted
2022-11-16 04:24:38,072 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-C1F51A45389C: receive requestVote(ELECTION, s0, group-C1F51A45389C, 3, (t:2, i:2))
2022-11-16 04:24:38,072 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C1F51A45389C-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:38,072 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-C1F51A45389C: change Leader from s1 to null at term 3 for updateCurrentTerm
2022-11-16 04:24:38,072 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-C1F51A45389C: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s0
2022-11-16 04:24:38,072 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-C1F51A45389C-FollowerState
2022-11-16 04:24:38,072 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C1F51A45389C-FollowerState
2022-11-16 04:24:38,072 [s2@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-C1F51A45389C-FollowerState was interrupted
2022-11-16 04:24:38,072 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-C1F51A45389C replies to ELECTION vote request: s0<-s1#0:OK-t3. Peer's state: s1@group-C1F51A45389C:t3, leader=null, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:38,073 [s0@group-C1F51A45389C-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C1F51A45389C-LeaderElection79: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:38,073 [s0@group-C1F51A45389C-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t3
2022-11-16 04:24:38,073 [s0@group-C1F51A45389C-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-C1F51A45389C-LeaderElection79 ELECTION round 0: result PASSED
2022-11-16 04:24:38,073 [s0@group-C1F51A45389C-LeaderElection79] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C1F51A45389C-LeaderElection79
2022-11-16 04:24:38,073 [s0@group-C1F51A45389C-LeaderElection79] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-C1F51A45389C: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2022-11-16 04:24:38,073 [s0@group-C1F51A45389C-LeaderElection79] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-C1F51A45389C: change Leader from null to s0 at term 3 for becomeLeader, leader elected after 8ms
2022-11-16 04:24:38,073 [s0@group-C1F51A45389C-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:38,073 [s0@group-C1F51A45389C-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:38,073 [s0@group-C1F51A45389C-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:38,073 [s0@group-C1F51A45389C-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:38,073 [s0@group-C1F51A45389C-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:38,073 [s0@group-C1F51A45389C-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:38,073 [s0@group-C1F51A45389C-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:38,073 [s0@group-C1F51A45389C-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:38,074 [s0@group-C1F51A45389C-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:38,074 [s0@group-C1F51A45389C-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:38,074 [s0@group-C1F51A45389C-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:38,074 [s0@group-C1F51A45389C-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:38,074 [s0@group-C1F51A45389C-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:38,074 [s0@group-C1F51A45389C-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:38,074 [s0@group-C1F51A45389C-LeaderElection79] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C1F51A45389C-LeaderStateImpl
2022-11-16 04:24:38,074 [s0@group-C1F51A45389C-LeaderElection79] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-11-16 04:24:38,074 [s0@group-C1F51A45389C-LeaderElection79] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2022-11-16 04:24:38,074 [s0@group-C1F51A45389C-LeaderElection79] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2022-11-16 04:24:38,075 [s0@group-C1F51A45389C-LeaderElection79] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:38,076 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_1-2
2022-11-16 04:24:38,076 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_1-2
2022-11-16 04:24:38,076 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 2
2022-11-16 04:24:38,076 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2022-11-16 04:24:38,078 [s0@group-C1F51A45389C-LeaderElection79] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-C1F51A45389C: set configuration 3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:38,078 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-C1F51A45389C replies to ELECTION vote request: s0<-s2#0:OK-t3. Peer's state: s2@group-C1F51A45389C:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:38,079 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-C1F51A45389C: change Leader from null to s0 at term 3 for appendEntries, leader elected after 7ms
2022-11-16 04:24:38,079 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-C1F51A45389C: receive appendEntries(s0, 3, (t:2, i:2), 1, true, commits:[s0:c1, s1:c2, s2:c0], cId:2691, entries: [(t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:38,079 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-C1F51A45389C: set configuration 3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:38,079 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-11-16 04:24:38,079 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2022-11-16 04:24:38,079 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2022-11-16 04:24:38,079 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:38,080 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_1-2
2022-11-16 04:24:38,080 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_1-2
2022-11-16 04:24:38,080 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 2
2022-11-16 04:24:38,080 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2022-11-16 04:24:38,084 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-C1F51A45389C: change Leader from null to s0 at term 3 for appendEntries, leader elected after 12ms
2022-11-16 04:24:38,085 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: receive appendEntries(s0, 3, (t:2, i:2), 1, true, commits:[s0:c1, s1:c2, s2:c1], cId:2694, entries: [(t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:38,085 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-C1F51A45389C: set configuration 3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:38,086 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-11-16 04:24:38,086 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2022-11-16 04:24:38,086 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2022-11-16 04:24:38,086 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:38,087 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_1-2
2022-11-16 04:24:38,087 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_1-2
2022-11-16 04:24:38,087 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 2
2022-11-16 04:24:38,087 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2022-11-16 04:24:38,095 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_3
2022-11-16 04:24:38,095 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_3)
2022-11-16 04:24:38,095 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2022-11-16 04:24:38,097 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_3
2022-11-16 04:24:38,097 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_3)
2022-11-16 04:24:38,098 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2022-11-16 04:24:38,098 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s0<-s1#2691:OK-t3,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-16 04:24:38,098 [s0@group-C1F51A45389C-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2022-11-16 04:24:38,098 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_3)
2022-11-16 04:24:38,099 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-C1F51A45389C: receive appendEntries(s0, 3, (t:3, i:3), 3, true, commits:[s0:c3, s1:c2, s2:c1], cId:2695, entries: [(t:3, i:4), METADATAENTRY(c:3)]
2022-11-16 04:24:38,099 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2022-11-16 04:24:38,099 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_3)
2022-11-16 04:24:38,104 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2022-11-16 04:24:38,104 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2022-11-16 04:24:38,105 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s0<-s1#2695:OK-t3,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-11-16 04:24:38,105 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_3
2022-11-16 04:24:38,105 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_3)
2022-11-16 04:24:38,105 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2022-11-16 04:24:38,105 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s0<-s2#2694:OK-t3,SUCCESS,nextIndex=4,followerCommit=1,matchIndex=3
2022-11-16 04:24:38,106 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: receive appendEntries(s0, 3, (t:3, i:3), 4, true, commits:[s0:c4, s1:c3, s2:c1], cId:2696, entries: [(t:3, i:4), METADATAENTRY(c:3)]
2022-11-16 04:24:38,106 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2022-11-16 04:24:38,106 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_3)
2022-11-16 04:24:38,106 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2022-11-16 04:24:38,106 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s0<-s2#2696:OK-t3,SUCCESS,nextIndex=5,followerCommit=4,matchIndex=4
2022-11-16 04:24:38,109 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:38,109 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:38,109 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:38,109 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s0
2022-11-16 04:24:38,109 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:38,110 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:38,110 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:38,110 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:38,210 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:38,210 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:38,211 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:38,211 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:38,311 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:38,312 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:38,312 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:38,312 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:38,413 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:38,413 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:38,413 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:38,413 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:38,514 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:38,514 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:38,514 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:38,514 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #5/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:38,542 [s2@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-C1F51A45389C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:435368537ns, electionTimeout:257ms
2022-11-16 04:24:38,542 [s2@group-C1F51A45389C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-C1F51A45389C-FollowerState
2022-11-16 04:24:38,542 [s2@group-C1F51A45389C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-C1F51A45389C: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-16 04:24:38,542 [s2@group-C1F51A45389C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:38,542 [s2@group-C1F51A45389C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C1F51A45389C-LeaderElection80
2022-11-16 04:24:38,542 [s2@group-C1F51A45389C-LeaderElection80] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-C1F51A45389C: change Leader from s0 to null at term 3 for PRE_VOTE
2022-11-16 04:24:38,542 [s2@group-C1F51A45389C-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-C1F51A45389C-LeaderElection80 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:38,543 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-C1F51A45389C: receive requestVote(PRE_VOTE, s2, group-C1F51A45389C, 3, (t:3, i:4))
2022-11-16 04:24:38,543 [HandlerDaemon-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1063)) - s0@group-C1F51A45389C-LeaderStateImpl: Lost leadership on term: 3. Election timeout: 300ms. In charge for: 469ms. Conf: 3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:38,543 [HandlerDaemon-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s0@group-C1F51A45389C->s1(c3,m4,n5, attendVote=true, lastRpcSendTime=361, lastRpcResponseTime=437)
2022-11-16 04:24:38,543 [HandlerDaemon-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s0@group-C1F51A45389C->s2(c4,m4,n5, attendVote=true, lastRpcSendTime=360, lastRpcResponseTime=436)
2022-11-16 04:24:38,543 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-C1F51A45389C: changes role from    LEADER to FOLLOWER at term 3 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-11-16 04:24:38,543 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-C1F51A45389C-LeaderStateImpl
2022-11-16 04:24:38,543 [HandlerDaemon-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-C1F51A45389C-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:38,543 [s0@group-C1F51A45389C->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-C1F51A45389C->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-16 04:24:38,543 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C1F51A45389C-FollowerState
2022-11-16 04:24:38,543 [s0@group-C1F51A45389C->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-C1F51A45389C->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-16 04:24:38,544 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-C1F51A45389C: receive requestVote(PRE_VOTE, s2, group-C1F51A45389C, 3, (t:3, i:4))
2022-11-16 04:24:38,544 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C1F51A45389C-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-16 04:24:38,544 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-C1F51A45389C-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s0
2022-11-16 04:24:38,544 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-C1F51A45389C replies to PRE_VOTE vote request: s2<-s1#0:OK-t3. Peer's state: s1@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:38,544 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-C1F51A45389C replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t3. Peer's state: s0@group-C1F51A45389C:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:38,544 [s2@group-C1F51A45389C-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-C1F51A45389C-LeaderElection80: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:38,544 [s2@group-C1F51A45389C-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:FAIL-t3
2022-11-16 04:24:38,544 [s2@group-C1F51A45389C-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s1#0:OK-t3
2022-11-16 04:24:38,544 [s2@group-C1F51A45389C-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-C1F51A45389C-LeaderElection80 PRE_VOTE round 0: result PASSED
2022-11-16 04:24:38,546 [s2@group-C1F51A45389C-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-C1F51A45389C-LeaderElection80 ELECTION round 0: submit vote requests at term 4 for 3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:38,547 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-C1F51A45389C: receive requestVote(ELECTION, s2, group-C1F51A45389C, 4, (t:3, i:4))
2022-11-16 04:24:38,547 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-C1F51A45389C-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-11-16 04:24:38,547 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-C1F51A45389C: change Leader from s0 to null at term 4 for updateCurrentTerm
2022-11-16 04:24:38,547 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-C1F51A45389C: changes role from  FOLLOWER to FOLLOWER at term 4 for candidate:s2
2022-11-16 04:24:38,547 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C1F51A45389C-FollowerState
2022-11-16 04:24:38,547 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C1F51A45389C-FollowerState
2022-11-16 04:24:38,547 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-C1F51A45389C: receive requestVote(ELECTION, s2, group-C1F51A45389C, 4, (t:3, i:4))
2022-11-16 04:24:38,547 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C1F51A45389C-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-11-16 04:24:38,547 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-C1F51A45389C: change Leader from s0 to null at term 4 for updateCurrentTerm
2022-11-16 04:24:38,547 [s0@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-C1F51A45389C-FollowerState was interrupted
2022-11-16 04:24:38,547 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-C1F51A45389C: changes role from  FOLLOWER to FOLLOWER at term 4 for candidate:s2
2022-11-16 04:24:38,547 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C1F51A45389C-FollowerState
2022-11-16 04:24:38,547 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C1F51A45389C-FollowerState
2022-11-16 04:24:38,547 [s1@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-C1F51A45389C-FollowerState was interrupted
2022-11-16 04:24:38,549 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-C1F51A45389C replies to ELECTION vote request: s2<-s1#0:OK-t4. Peer's state: s1@group-C1F51A45389C:t4, leader=null, voted=s2, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:38,549 [s2@group-C1F51A45389C-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-C1F51A45389C-LeaderElection80: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:38,549 [s2@group-C1F51A45389C-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t4
2022-11-16 04:24:38,549 [s2@group-C1F51A45389C-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-C1F51A45389C-LeaderElection80 ELECTION round 0: result PASSED
2022-11-16 04:24:38,549 [s2@group-C1F51A45389C-LeaderElection80] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-C1F51A45389C-LeaderElection80
2022-11-16 04:24:38,550 [s2@group-C1F51A45389C-LeaderElection80] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-C1F51A45389C: changes role from CANDIDATE to LEADER at term 4 for changeToLeader
2022-11-16 04:24:38,550 [s2@group-C1F51A45389C-LeaderElection80] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-C1F51A45389C: change Leader from null to s2 at term 4 for becomeLeader, leader elected after 7ms
2022-11-16 04:24:38,550 [s2@group-C1F51A45389C-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:38,550 [s2@group-C1F51A45389C-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:38,550 [s2@group-C1F51A45389C-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:38,550 [s2@group-C1F51A45389C-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:38,550 [s2@group-C1F51A45389C-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:38,550 [s2@group-C1F51A45389C-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:38,550 [s2@group-C1F51A45389C-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:38,550 [s2@group-C1F51A45389C-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:38,550 [s2@group-C1F51A45389C-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:38,550 [s2@group-C1F51A45389C-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:38,550 [s2@group-C1F51A45389C-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:38,550 [s2@group-C1F51A45389C-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:38,550 [s2@group-C1F51A45389C-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:38,551 [s2@group-C1F51A45389C-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:38,551 [s2@group-C1F51A45389C-LeaderElection80] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C1F51A45389C-LeaderStateImpl
2022-11-16 04:24:38,551 [s2@group-C1F51A45389C-LeaderElection80] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2022-11-16 04:24:38,551 [s2@group-C1F51A45389C-LeaderElection80] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2022-11-16 04:24:38,551 [s2@group-C1F51A45389C-LeaderElection80] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2022-11-16 04:24:38,551 [s2@group-C1F51A45389C-LeaderElection80] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:38,552 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_3-4
2022-11-16 04:24:38,552 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_3-4
2022-11-16 04:24:38,552 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 4
2022-11-16 04:24:38,552 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2022-11-16 04:24:38,553 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-C1F51A45389C replies to ELECTION vote request: s2<-s0#0:OK-t4. Peer's state: s0@group-C1F51A45389C:t4, leader=null, voted=s2, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:38,557 [s2@group-C1F51A45389C-LeaderElection80] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-C1F51A45389C: set configuration 5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:38,557 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-C1F51A45389C: change Leader from null to s2 at term 4 for appendEntries, leader elected after 10ms
2022-11-16 04:24:38,557 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-C1F51A45389C: change Leader from null to s2 at term 4 for appendEntries, leader elected after 10ms
2022-11-16 04:24:38,558 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-C1F51A45389C: receive appendEntries(s2, 4, (t:3, i:4), 4, true, commits:[s2:c4, s0:c4, s1:c3], cId:2729, entries: [(t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:38,558 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-C1F51A45389C: receive appendEntries(s2, 4, (t:3, i:4), 4, true, commits:[s2:c4, s0:c4, s1:c4], cId:2730, entries: [(t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:38,558 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-C1F51A45389C: set configuration 5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:38,558 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-C1F51A45389C: set configuration 5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:38,558 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2022-11-16 04:24:38,558 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2022-11-16 04:24:38,558 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2022-11-16 04:24:38,558 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2022-11-16 04:24:38,559 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:38,559 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_3-4
2022-11-16 04:24:38,560 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_3-4
2022-11-16 04:24:38,560 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 4
2022-11-16 04:24:38,560 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2022-11-16 04:24:38,558 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2022-11-16 04:24:38,562 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2022-11-16 04:24:38,562 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:38,563 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_3-4
2022-11-16 04:24:38,563 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_3-4
2022-11-16 04:24:38,563 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 4
2022-11-16 04:24:38,563 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2022-11-16 04:24:38,568 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_5
2022-11-16 04:24:38,568 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_5)
2022-11-16 04:24:38,569 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2022-11-16 04:24:38,583 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_5
2022-11-16 04:24:38,583 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_5)
2022-11-16 04:24:38,584 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2022-11-16 04:24:38,584 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s2<-s0#2729:OK-t4,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2022-11-16 04:24:38,584 [s2@group-C1F51A45389C-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2022-11-16 04:24:38,584 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_5)
2022-11-16 04:24:38,585 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2022-11-16 04:24:38,585 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-C1F51A45389C: receive appendEntries(s2, 4, (t:4, i:5), 5, true, commits:[s2:c5, s0:c4, s1:c4], cId:2733, entries: [(t:4, i:6), METADATAENTRY(c:5)]
2022-11-16 04:24:38,585 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2022-11-16 04:24:38,585 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_5
2022-11-16 04:24:38,585 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_5)
2022-11-16 04:24:38,585 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_5)
2022-11-16 04:24:38,586 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2022-11-16 04:24:38,586 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2022-11-16 04:24:38,586 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s2<-s1#2730:OK-t4,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2022-11-16 04:24:38,586 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s2<-s0#2733:OK-t4,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-16 04:24:38,589 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-C1F51A45389C: receive appendEntries(s2, 4, (t:4, i:5), 6, true, commits:[s2:c6, s0:c5, s1:c4], cId:2734, entries: [(t:4, i:6), METADATAENTRY(c:5)]
2022-11-16 04:24:38,589 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2022-11-16 04:24:38,589 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_5)
2022-11-16 04:24:38,589 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2022-11-16 04:24:38,589 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s2<-s1#2734:OK-t4,SUCCESS,nextIndex=7,followerCommit=6,matchIndex=6
2022-11-16 04:24:38,615 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:38,616 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:38,616 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:38,616 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s2
2022-11-16 04:24:38,616 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:38,616 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:38,616 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:38,616 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:38,716 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:38,717 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:38,717 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:38,717 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:38,817 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:38,817 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:38,818 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:38,818 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:38,918 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:38,918 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:38,919 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:38,919 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:38,985 [s1@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-C1F51A45389C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:396054856ns, electionTimeout:157ms
2022-11-16 04:24:38,985 [s1@group-C1F51A45389C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C1F51A45389C-FollowerState
2022-11-16 04:24:38,985 [s1@group-C1F51A45389C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-C1F51A45389C: changes role from  FOLLOWER to CANDIDATE at term 4 for changeToCandidate
2022-11-16 04:24:38,986 [s1@group-C1F51A45389C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:38,986 [s1@group-C1F51A45389C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C1F51A45389C-LeaderElection81
2022-11-16 04:24:38,986 [s1@group-C1F51A45389C-LeaderElection81] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-C1F51A45389C: change Leader from s2 to null at term 4 for PRE_VOTE
2022-11-16 04:24:38,986 [s1@group-C1F51A45389C-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-C1F51A45389C-LeaderElection81 PRE_VOTE round 0: submit vote requests at term 4 for 5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:38,987 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-C1F51A45389C: receive requestVote(PRE_VOTE, s1, group-C1F51A45389C, 4, (t:4, i:6))
2022-11-16 04:24:38,987 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-C1F51A45389C-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:38,987 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-C1F51A45389C replies to PRE_VOTE vote request: s1<-s0#0:OK-t4. Peer's state: s0@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:38,987 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-C1F51A45389C: receive requestVote(PRE_VOTE, s1, group-C1F51A45389C, 4, (t:4, i:6))
2022-11-16 04:24:38,987 [s1@group-C1F51A45389C-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-C1F51A45389C-LeaderElection81: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:38,987 [s1@group-C1F51A45389C-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t4
2022-11-16 04:24:38,987 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1063)) - s2@group-C1F51A45389C-LeaderStateImpl: Lost leadership on term: 4. Election timeout: 300ms. In charge for: 437ms. Conf: 5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:38,987 [s1@group-C1F51A45389C-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-C1F51A45389C-LeaderElection81 PRE_VOTE round 0: result PASSED
2022-11-16 04:24:38,987 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s2@group-C1F51A45389C->s0(c5,m6,n7, attendVote=true, lastRpcSendTime=325, lastRpcResponseTime=401)
2022-11-16 04:24:38,987 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s2@group-C1F51A45389C->s1(c6,m6,n7, attendVote=true, lastRpcSendTime=322, lastRpcResponseTime=398)
2022-11-16 04:24:38,987 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-C1F51A45389C: changes role from    LEADER to FOLLOWER at term 4 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-11-16 04:24:38,988 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-C1F51A45389C-LeaderStateImpl
2022-11-16 04:24:38,988 [HandlerDaemon-2] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-C1F51A45389C-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:38,988 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C1F51A45389C-FollowerState
2022-11-16 04:24:38,988 [s2@group-C1F51A45389C->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-C1F51A45389C->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-16 04:24:38,988 [s2@group-C1F51A45389C->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-C1F51A45389C->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-16 04:24:38,989 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C1F51A45389C-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s2
2022-11-16 04:24:38,989 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-C1F51A45389C replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t4. Peer's state: s2@group-C1F51A45389C:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:38,989 [s1@group-C1F51A45389C-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-C1F51A45389C-LeaderElection81 ELECTION round 0: submit vote requests at term 5 for 5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:38,990 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-C1F51A45389C: receive requestVote(ELECTION, s1, group-C1F51A45389C, 5, (t:4, i:6))
2022-11-16 04:24:38,990 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-C1F51A45389C-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:38,990 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-C1F51A45389C: change Leader from s2 to null at term 5 for updateCurrentTerm
2022-11-16 04:24:38,990 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-C1F51A45389C: changes role from  FOLLOWER to FOLLOWER at term 5 for candidate:s1
2022-11-16 04:24:38,990 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C1F51A45389C-FollowerState
2022-11-16 04:24:38,990 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-C1F51A45389C: receive requestVote(ELECTION, s1, group-C1F51A45389C, 5, (t:4, i:6))
2022-11-16 04:24:38,990 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C1F51A45389C-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:38,990 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-C1F51A45389C: change Leader from s2 to null at term 5 for updateCurrentTerm
2022-11-16 04:24:38,990 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-C1F51A45389C: changes role from  FOLLOWER to FOLLOWER at term 5 for candidate:s1
2022-11-16 04:24:38,990 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-C1F51A45389C-FollowerState
2022-11-16 04:24:38,991 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C1F51A45389C-FollowerState
2022-11-16 04:24:38,991 [s2@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-C1F51A45389C-FollowerState was interrupted
2022-11-16 04:24:38,991 [s0@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-C1F51A45389C-FollowerState was interrupted
2022-11-16 04:24:38,990 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C1F51A45389C-FollowerState
2022-11-16 04:24:38,992 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-C1F51A45389C replies to ELECTION vote request: s1<-s2#0:OK-t5. Peer's state: s2@group-C1F51A45389C:t5, leader=null, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:38,993 [s1@group-C1F51A45389C-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-C1F51A45389C-LeaderElection81: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:38,993 [s1@group-C1F51A45389C-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t5
2022-11-16 04:24:38,993 [s1@group-C1F51A45389C-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-C1F51A45389C-LeaderElection81 ELECTION round 0: result PASSED
2022-11-16 04:24:38,993 [s1@group-C1F51A45389C-LeaderElection81] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-C1F51A45389C-LeaderElection81
2022-11-16 04:24:38,993 [s1@group-C1F51A45389C-LeaderElection81] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-C1F51A45389C: changes role from CANDIDATE to LEADER at term 5 for changeToLeader
2022-11-16 04:24:38,993 [s1@group-C1F51A45389C-LeaderElection81] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-C1F51A45389C: change Leader from null to s1 at term 5 for becomeLeader, leader elected after 7ms
2022-11-16 04:24:38,993 [s1@group-C1F51A45389C-LeaderElection81] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:38,994 [s1@group-C1F51A45389C-LeaderElection81] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:38,994 [s1@group-C1F51A45389C-LeaderElection81] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:38,994 [s1@group-C1F51A45389C-LeaderElection81] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:38,994 [s1@group-C1F51A45389C-LeaderElection81] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:38,994 [s1@group-C1F51A45389C-LeaderElection81] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:38,994 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-C1F51A45389C replies to ELECTION vote request: s1<-s0#0:OK-t5. Peer's state: s0@group-C1F51A45389C:t5, leader=null, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:38,994 [s1@group-C1F51A45389C-LeaderElection81] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:38,994 [s1@group-C1F51A45389C-LeaderElection81] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:38,994 [s1@group-C1F51A45389C-LeaderElection81] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:38,994 [s1@group-C1F51A45389C-LeaderElection81] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:38,994 [s1@group-C1F51A45389C-LeaderElection81] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:38,995 [s1@group-C1F51A45389C-LeaderElection81] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:38,995 [s1@group-C1F51A45389C-LeaderElection81] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:38,995 [s1@group-C1F51A45389C-LeaderElection81] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:38,995 [s1@group-C1F51A45389C-LeaderElection81] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C1F51A45389C-LeaderStateImpl
2022-11-16 04:24:38,995 [s1@group-C1F51A45389C-LeaderElection81] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2022-11-16 04:24:38,995 [s1@group-C1F51A45389C-LeaderElection81] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2022-11-16 04:24:38,995 [s1@group-C1F51A45389C-LeaderElection81] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2022-11-16 04:24:38,995 [s1@group-C1F51A45389C-LeaderElection81] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:38,996 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_5-6
2022-11-16 04:24:38,996 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_5-6
2022-11-16 04:24:38,996 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 6
2022-11-16 04:24:38,996 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2022-11-16 04:24:39,006 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-C1F51A45389C: change Leader from null to s1 at term 5 for appendEntries, leader elected after 15ms
2022-11-16 04:24:39,006 [s1@group-C1F51A45389C-LeaderElection81] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-C1F51A45389C: set configuration 7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:39,006 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-C1F51A45389C: change Leader from null to s1 at term 5 for appendEntries, leader elected after 16ms
2022-11-16 04:24:39,007 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-C1F51A45389C: receive appendEntries(s1, 5, (t:4, i:6), 6, true, commits:[s1:c6, s0:c6, s2:c6], cId:2763, entries: [(t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:39,007 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-C1F51A45389C: set configuration 7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:39,007 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2022-11-16 04:24:39,007 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2022-11-16 04:24:39,007 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: receive appendEntries(s1, 5, (t:4, i:6), 6, true, commits:[s1:c6, s0:c6, s2:c6], cId:2766, entries: [(t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:39,007 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2022-11-16 04:24:39,007 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-C1F51A45389C: set configuration 7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:39,007 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2022-11-16 04:24:39,007 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:39,008 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_5-6
2022-11-16 04:24:39,008 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_5-6
2022-11-16 04:24:39,008 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 6
2022-11-16 04:24:39,008 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2022-11-16 04:24:39,008 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_7
2022-11-16 04:24:39,009 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_7)
2022-11-16 04:24:39,010 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2022-11-16 04:24:39,007 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2022-11-16 04:24:39,013 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2022-11-16 04:24:39,013 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:39,014 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_5-6
2022-11-16 04:24:39,014 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_5-6
2022-11-16 04:24:39,014 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 6
2022-11-16 04:24:39,014 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2022-11-16 04:24:39,019 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:39,019 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t5, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c6, conf=7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t5, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c6, conf=7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t5, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c6, conf=7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:39,019 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s1@group-C1F51A45389C not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s1@group-C1F51A45389C not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:39,025 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_7
2022-11-16 04:24:39,025 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_7)
2022-11-16 04:24:39,026 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2022-11-16 04:24:39,026 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s1<-s0#2763:OK-t5,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2022-11-16 04:24:39,026 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_7
2022-11-16 04:24:39,026 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_7)
2022-11-16 04:24:39,026 [s1@group-C1F51A45389C-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2022-11-16 04:24:39,027 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_7)
2022-11-16 04:24:39,027 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-C1F51A45389C: receive appendEntries(s1, 5, (t:5, i:7), 7, true, commits:[s1:c7, s0:c6, s2:c6], cId:2769, entries: [(t:5, i:8), METADATAENTRY(c:7)]
2022-11-16 04:24:39,027 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2022-11-16 04:24:39,027 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2022-11-16 04:24:39,027 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2022-11-16 04:24:39,027 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s1<-s2#2766:OK-t5,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2022-11-16 04:24:39,028 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_7)
2022-11-16 04:24:39,028 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: receive appendEntries(s1, 5, (t:5, i:7), 7, true, commits:[s1:c7, s0:c6, s2:c6], cId:2770, entries: [(t:5, i:8), METADATAENTRY(c:7)]
2022-11-16 04:24:39,028 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2022-11-16 04:24:39,028 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_7)
2022-11-16 04:24:39,028 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2022-11-16 04:24:39,028 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s1<-s2#2770:OK-t5,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2022-11-16 04:24:39,029 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2022-11-16 04:24:39,029 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s1<-s0#2769:OK-t5,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2022-11-16 04:24:39,470 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t5, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t5, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t5, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:39,470 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s1
2022-11-16 04:24:39,470 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:39,470 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t5, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t5, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t5, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:39,471 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t5, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t5, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t5, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:39,471 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:39,571 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:39,571 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t5, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t5, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t5, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:39,572 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t5, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t5, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t5, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:39,572 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:39,669 [s0@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C1F51A45389C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:261412430ns, electionTimeout:170ms
2022-11-16 04:24:39,669 [s0@group-C1F51A45389C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C1F51A45389C-FollowerState
2022-11-16 04:24:39,669 [s0@group-C1F51A45389C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-C1F51A45389C: changes role from  FOLLOWER to CANDIDATE at term 5 for changeToCandidate
2022-11-16 04:24:39,670 [s0@group-C1F51A45389C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:39,670 [s0@group-C1F51A45389C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C1F51A45389C-LeaderElection82
2022-11-16 04:24:39,670 [s0@group-C1F51A45389C-LeaderElection82] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-C1F51A45389C: change Leader from s1 to null at term 5 for PRE_VOTE
2022-11-16 04:24:39,670 [s0@group-C1F51A45389C-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-C1F51A45389C-LeaderElection82 PRE_VOTE round 0: submit vote requests at term 5 for 7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:39,670 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-C1F51A45389C: receive requestVote(PRE_VOTE, s0, group-C1F51A45389C, 5, (t:5, i:8))
2022-11-16 04:24:39,670 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-C1F51A45389C: receive requestVote(PRE_VOTE, s0, group-C1F51A45389C, 5, (t:5, i:8))
2022-11-16 04:24:39,671 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C1F51A45389C-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-16 04:24:39,671 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C1F51A45389C-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:39,671 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-C1F51A45389C replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t5. Peer's state: s1@group-C1F51A45389C:t5, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:39,671 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-C1F51A45389C replies to PRE_VOTE vote request: s0<-s2#0:OK-t5. Peer's state: s2@group-C1F51A45389C:t5, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:39,671 [s0@group-C1F51A45389C-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C1F51A45389C-LeaderElection82: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:39,671 [s0@group-C1F51A45389C-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t5
2022-11-16 04:24:39,671 [s0@group-C1F51A45389C-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:OK-t5
2022-11-16 04:24:39,671 [s0@group-C1F51A45389C-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-C1F51A45389C-LeaderElection82 PRE_VOTE round 0: result PASSED
2022-11-16 04:24:39,672 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:39,672 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-C1F51A45389C:t6, leader=null, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t5, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t5, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:39,672 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-C1F51A45389C:t6, leader=null, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t5, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t5, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:39,672 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:39,673 [s0@group-C1F51A45389C-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-C1F51A45389C-LeaderElection82 ELECTION round 0: submit vote requests at term 6 for 7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:39,673 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-C1F51A45389C: receive requestVote(ELECTION, s0, group-C1F51A45389C, 6, (t:5, i:8))
2022-11-16 04:24:39,674 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C1F51A45389C-LEADER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:39,674 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-C1F51A45389C: change Leader from s1 to null at term 6 for updateCurrentTerm
2022-11-16 04:24:39,674 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-C1F51A45389C: changes role from    LEADER to FOLLOWER at term 6 for candidate:s0
2022-11-16 04:24:39,674 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-C1F51A45389C-LeaderStateImpl
2022-11-16 04:24:39,674 [s1@group-C1F51A45389C->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-C1F51A45389C->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-16 04:24:39,674 [HandlerDaemon-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-C1F51A45389C-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:39,674 [s1@group-C1F51A45389C->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-C1F51A45389C->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-16 04:24:39,674 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C1F51A45389C-FollowerState
2022-11-16 04:24:39,674 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-C1F51A45389C: receive requestVote(ELECTION, s0, group-C1F51A45389C, 6, (t:5, i:8))
2022-11-16 04:24:39,674 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C1F51A45389C-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:39,674 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-C1F51A45389C: change Leader from s1 to null at term 6 for updateCurrentTerm
2022-11-16 04:24:39,674 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-C1F51A45389C: changes role from  FOLLOWER to FOLLOWER at term 6 for candidate:s0
2022-11-16 04:24:39,674 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-C1F51A45389C-FollowerState
2022-11-16 04:24:39,674 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C1F51A45389C-FollowerState
2022-11-16 04:24:39,675 [s2@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-C1F51A45389C-FollowerState was interrupted
2022-11-16 04:24:39,676 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-C1F51A45389C replies to ELECTION vote request: s0<-s1#0:OK-t6. Peer's state: s1@group-C1F51A45389C:t6, leader=null, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:39,676 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-C1F51A45389C replies to ELECTION vote request: s0<-s2#0:OK-t6. Peer's state: s2@group-C1F51A45389C:t6, leader=null, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:39,676 [s0@group-C1F51A45389C-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C1F51A45389C-LeaderElection82: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:39,676 [s0@group-C1F51A45389C-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t6
2022-11-16 04:24:39,676 [s0@group-C1F51A45389C-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-C1F51A45389C-LeaderElection82 ELECTION round 0: result PASSED
2022-11-16 04:24:39,676 [s0@group-C1F51A45389C-LeaderElection82] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C1F51A45389C-LeaderElection82
2022-11-16 04:24:39,676 [s0@group-C1F51A45389C-LeaderElection82] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-C1F51A45389C: changes role from CANDIDATE to LEADER at term 6 for changeToLeader
2022-11-16 04:24:39,676 [s0@group-C1F51A45389C-LeaderElection82] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-C1F51A45389C: change Leader from null to s0 at term 6 for becomeLeader, leader elected after 6ms
2022-11-16 04:24:39,676 [s0@group-C1F51A45389C-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:39,676 [s0@group-C1F51A45389C-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:39,677 [s0@group-C1F51A45389C-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:39,677 [s0@group-C1F51A45389C-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:39,677 [s0@group-C1F51A45389C-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:39,677 [s0@group-C1F51A45389C-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:39,677 [s0@group-C1F51A45389C-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:39,677 [s0@group-C1F51A45389C-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:39,677 [s0@group-C1F51A45389C-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:39,677 [s0@group-C1F51A45389C-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:39,677 [s0@group-C1F51A45389C-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:39,677 [s0@group-C1F51A45389C-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:39,677 [s0@group-C1F51A45389C-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:39,677 [s0@group-C1F51A45389C-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:39,677 [s0@group-C1F51A45389C-LeaderElection82] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C1F51A45389C-LeaderStateImpl
2022-11-16 04:24:39,678 [s0@group-C1F51A45389C-LeaderElection82] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2022-11-16 04:24:39,678 [s0@group-C1F51A45389C-LeaderElection82] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2022-11-16 04:24:39,678 [s0@group-C1F51A45389C-LeaderElection82] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2022-11-16 04:24:39,678 [s0@group-C1F51A45389C-LeaderElection82] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:39,679 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_7-8
2022-11-16 04:24:39,679 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_7-8
2022-11-16 04:24:39,679 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 8
2022-11-16 04:24:39,679 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2022-11-16 04:24:39,686 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-C1F51A45389C: change Leader from null to s0 at term 6 for appendEntries, leader elected after 12ms
2022-11-16 04:24:39,686 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-C1F51A45389C: receive appendEntries(s0, 6, (t:5, i:8), 8, true, commits:[s0:c8, s1:c8, s2:c8], cId:2831, entries: [(t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:39,687 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-C1F51A45389C: set configuration 9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:39,687 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2022-11-16 04:24:39,687 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2022-11-16 04:24:39,687 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2022-11-16 04:24:39,687 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:39,687 [s0@group-C1F51A45389C-LeaderElection82] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-C1F51A45389C: set configuration 9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:39,688 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-C1F51A45389C: change Leader from null to s0 at term 6 for appendEntries, leader elected after 13ms
2022-11-16 04:24:39,688 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_7-8
2022-11-16 04:24:39,688 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_7-8
2022-11-16 04:24:39,688 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 8
2022-11-16 04:24:39,688 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2022-11-16 04:24:39,693 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: receive appendEntries(s0, 6, (t:5, i:8), 8, true, commits:[s0:c8, s1:c8, s2:c8], cId:2834, entries: [(t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:39,693 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-C1F51A45389C: set configuration 9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:39,693 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2022-11-16 04:24:39,693 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2022-11-16 04:24:39,693 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2022-11-16 04:24:39,694 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:39,699 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_9
2022-11-16 04:24:39,700 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_9)
2022-11-16 04:24:39,700 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_9
2022-11-16 04:24:39,700 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_9)
2022-11-16 04:24:39,701 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_7-8
2022-11-16 04:24:39,701 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_7-8
2022-11-16 04:24:39,701 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 8
2022-11-16 04:24:39,701 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2022-11-16 04:24:39,701 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2022-11-16 04:24:39,701 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2022-11-16 04:24:39,702 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s0<-s1#2831:OK-t6,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2022-11-16 04:24:39,703 [s0@group-C1F51A45389C-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2022-11-16 04:24:39,703 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-C1F51A45389C: receive appendEntries(s0, 6, (t:6, i:9), 9, true, commits:[s0:c9, s1:c8, s2:c8], cId:2837, entries: [(t:6, i:10), METADATAENTRY(c:9)]
2022-11-16 04:24:39,703 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2022-11-16 04:24:39,703 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_9)
2022-11-16 04:24:39,704 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_9)
2022-11-16 04:24:39,704 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2022-11-16 04:24:39,704 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2022-11-16 04:24:39,704 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s0<-s1#2837:OK-t6,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2022-11-16 04:24:39,715 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_9
2022-11-16 04:24:39,715 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_9)
2022-11-16 04:24:39,716 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2022-11-16 04:24:39,716 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s0<-s2#2834:OK-t6,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2022-11-16 04:24:39,716 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: receive appendEntries(s0, 6, (t:6, i:9), 10, true, commits:[s0:c10, s1:c9, s2:c8], cId:2838, entries: [(t:6, i:10), METADATAENTRY(c:9)]
2022-11-16 04:24:39,716 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2022-11-16 04:24:39,716 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_9)
2022-11-16 04:24:39,716 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2022-11-16 04:24:39,717 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s0<-s2#2838:OK-t6,SUCCESS,nextIndex=11,followerCommit=10,matchIndex=10
2022-11-16 04:24:39,773 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:39,773 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t6, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t6, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t6, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:39,773 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t6, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t6, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t6, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:39,773 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s0
2022-11-16 04:24:39,774 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:39,774 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t6, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t6, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t6, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:39,774 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t6, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t6, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t6, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:39,774 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:39,874 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:39,874 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t6, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t6, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t6, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:39,875 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t6, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t6, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t6, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:39,875 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:39,975 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:39,975 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t6, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t6, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t6, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:39,976 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t6, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t6, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t6, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:39,976 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:40,036 [s1@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-C1F51A45389C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:332121831ns, electionTimeout:176ms
2022-11-16 04:24:40,036 [s1@group-C1F51A45389C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C1F51A45389C-FollowerState
2022-11-16 04:24:40,036 [s1@group-C1F51A45389C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-C1F51A45389C: changes role from  FOLLOWER to CANDIDATE at term 6 for changeToCandidate
2022-11-16 04:24:40,036 [s1@group-C1F51A45389C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:40,036 [s1@group-C1F51A45389C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C1F51A45389C-LeaderElection83
2022-11-16 04:24:40,037 [s1@group-C1F51A45389C-LeaderElection83] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-C1F51A45389C: change Leader from s0 to null at term 6 for PRE_VOTE
2022-11-16 04:24:40,037 [s1@group-C1F51A45389C-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-C1F51A45389C-LeaderElection83 PRE_VOTE round 0: submit vote requests at term 6 for 9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,037 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-C1F51A45389C: receive requestVote(PRE_VOTE, s1, group-C1F51A45389C, 6, (t:6, i:10))
2022-11-16 04:24:40,038 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-C1F51A45389C: receive requestVote(PRE_VOTE, s1, group-C1F51A45389C, 6, (t:6, i:10))
2022-11-16 04:24:40,038 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C1F51A45389C-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:40,038 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1063)) - s0@group-C1F51A45389C-LeaderStateImpl: Lost leadership on term: 6. Election timeout: 300ms. In charge for: 361ms. Conf: 9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,038 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-C1F51A45389C replies to PRE_VOTE vote request: s1<-s2#0:OK-t6. Peer's state: s2@group-C1F51A45389C:t6, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,038 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s0@group-C1F51A45389C->s1(c9,m10,n11, attendVote=true, lastRpcSendTime=257, lastRpcResponseTime=333)
2022-11-16 04:24:40,038 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s0@group-C1F51A45389C->s2(c10,m10,n11, attendVote=true, lastRpcSendTime=245, lastRpcResponseTime=321)
2022-11-16 04:24:40,038 [s1@group-C1F51A45389C-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-C1F51A45389C-LeaderElection83: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:40,038 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-C1F51A45389C: changes role from    LEADER to FOLLOWER at term 6 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-11-16 04:24:40,038 [s1@group-C1F51A45389C-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t6
2022-11-16 04:24:40,038 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-C1F51A45389C-LeaderStateImpl
2022-11-16 04:24:40,038 [s1@group-C1F51A45389C-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-C1F51A45389C-LeaderElection83 PRE_VOTE round 0: result PASSED
2022-11-16 04:24:40,038 [HandlerDaemon-2] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-C1F51A45389C-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:40,038 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C1F51A45389C-FollowerState
2022-11-16 04:24:40,039 [s0@group-C1F51A45389C->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-C1F51A45389C->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-16 04:24:40,039 [s0@group-C1F51A45389C->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-C1F51A45389C->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-16 04:24:40,040 [s1@group-C1F51A45389C-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-C1F51A45389C-LeaderElection83 ELECTION round 0: submit vote requests at term 7 for 9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,041 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-C1F51A45389C-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-11-16 04:24:40,041 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-C1F51A45389C replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t6. Peer's state: s0@group-C1F51A45389C:t6, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,042 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-C1F51A45389C: receive requestVote(ELECTION, s1, group-C1F51A45389C, 7, (t:6, i:10))
2022-11-16 04:24:40,042 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-C1F51A45389C-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:40,042 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-C1F51A45389C: change Leader from s0 to null at term 7 for updateCurrentTerm
2022-11-16 04:24:40,042 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-C1F51A45389C: changes role from  FOLLOWER to FOLLOWER at term 7 for candidate:s1
2022-11-16 04:24:40,042 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C1F51A45389C-FollowerState
2022-11-16 04:24:40,042 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-C1F51A45389C: receive requestVote(ELECTION, s1, group-C1F51A45389C, 7, (t:6, i:10))
2022-11-16 04:24:40,042 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C1F51A45389C-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:40,042 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-C1F51A45389C: change Leader from s0 to null at term 7 for updateCurrentTerm
2022-11-16 04:24:40,042 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-C1F51A45389C: changes role from  FOLLOWER to FOLLOWER at term 7 for candidate:s1
2022-11-16 04:24:40,042 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-C1F51A45389C-FollowerState
2022-11-16 04:24:40,042 [s0@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-C1F51A45389C-FollowerState was interrupted
2022-11-16 04:24:40,042 [s2@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-C1F51A45389C-FollowerState was interrupted
2022-11-16 04:24:40,042 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C1F51A45389C-FollowerState
2022-11-16 04:24:40,042 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C1F51A45389C-FollowerState
2022-11-16 04:24:40,044 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-C1F51A45389C replies to ELECTION vote request: s1<-s2#0:OK-t7. Peer's state: s2@group-C1F51A45389C:t7, leader=null, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,044 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-C1F51A45389C replies to ELECTION vote request: s1<-s0#0:OK-t7. Peer's state: s0@group-C1F51A45389C:t7, leader=null, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,044 [s1@group-C1F51A45389C-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-C1F51A45389C-LeaderElection83: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:40,044 [s1@group-C1F51A45389C-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t7
2022-11-16 04:24:40,044 [s1@group-C1F51A45389C-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-C1F51A45389C-LeaderElection83 ELECTION round 0: result PASSED
2022-11-16 04:24:40,044 [s1@group-C1F51A45389C-LeaderElection83] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-C1F51A45389C-LeaderElection83
2022-11-16 04:24:40,044 [s1@group-C1F51A45389C-LeaderElection83] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-C1F51A45389C: changes role from CANDIDATE to LEADER at term 7 for changeToLeader
2022-11-16 04:24:40,044 [s1@group-C1F51A45389C-LeaderElection83] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-C1F51A45389C: change Leader from null to s1 at term 7 for becomeLeader, leader elected after 7ms
2022-11-16 04:24:40,044 [s1@group-C1F51A45389C-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:40,045 [s1@group-C1F51A45389C-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:40,045 [s1@group-C1F51A45389C-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:40,045 [s1@group-C1F51A45389C-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:40,045 [s1@group-C1F51A45389C-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:40,045 [s1@group-C1F51A45389C-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:40,045 [s1@group-C1F51A45389C-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:40,045 [s1@group-C1F51A45389C-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:40,045 [s1@group-C1F51A45389C-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:40,045 [s1@group-C1F51A45389C-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:40,045 [s1@group-C1F51A45389C-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:40,045 [s1@group-C1F51A45389C-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:40,045 [s1@group-C1F51A45389C-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:40,046 [s1@group-C1F51A45389C-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:40,046 [s1@group-C1F51A45389C-LeaderElection83] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C1F51A45389C-LeaderStateImpl
2022-11-16 04:24:40,046 [s1@group-C1F51A45389C-LeaderElection83] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2022-11-16 04:24:40,046 [s1@group-C1F51A45389C-LeaderElection83] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2022-11-16 04:24:40,046 [s1@group-C1F51A45389C-LeaderElection83] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2022-11-16 04:24:40,046 [s1@group-C1F51A45389C-LeaderElection83] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:40,047 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_9-10
2022-11-16 04:24:40,047 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_9-10
2022-11-16 04:24:40,047 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 10
2022-11-16 04:24:40,047 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2022-11-16 04:24:40,051 [s1@group-C1F51A45389C-LeaderElection83] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-C1F51A45389C: set configuration 11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,051 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-C1F51A45389C: change Leader from null to s1 at term 7 for appendEntries, leader elected after 9ms
2022-11-16 04:24:40,052 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-C1F51A45389C: change Leader from null to s1 at term 7 for appendEntries, leader elected after 9ms
2022-11-16 04:24:40,052 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-C1F51A45389C: receive appendEntries(s1, 7, (t:6, i:10), 9, true, commits:[s1:c9, s0:c10, s2:c8], cId:2865, entries: [(t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:40,053 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-C1F51A45389C: set configuration 11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,053 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2022-11-16 04:24:40,053 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2022-11-16 04:24:40,053 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2022-11-16 04:24:40,053 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:40,054 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_9-10
2022-11-16 04:24:40,054 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_9-10
2022-11-16 04:24:40,054 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 10
2022-11-16 04:24:40,054 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2022-11-16 04:24:40,058 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: receive appendEntries(s1, 7, (t:6, i:10), 9, true, commits:[s1:c9, s0:c10, s2:c10], cId:2866, entries: [(t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:40,058 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-C1F51A45389C: set configuration 11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,058 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2022-11-16 04:24:40,058 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2022-11-16 04:24:40,058 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2022-11-16 04:24:40,058 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:40,066 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_9-10
2022-11-16 04:24:40,066 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_9-10
2022-11-16 04:24:40,066 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 10
2022-11-16 04:24:40,066 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2022-11-16 04:24:40,066 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_11
2022-11-16 04:24:40,066 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_11)
2022-11-16 04:24:40,067 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2022-11-16 04:24:40,069 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_11
2022-11-16 04:24:40,070 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_11)
2022-11-16 04:24:40,070 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2022-11-16 04:24:40,070 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s1<-s0#2865:OK-t7,SUCCESS,nextIndex=12,followerCommit=10,matchIndex=11
2022-11-16 04:24:40,070 [s1@group-C1F51A45389C-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:7, i:12), METADATAENTRY(c:11)
2022-11-16 04:24:40,071 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_11)
2022-11-16 04:24:40,071 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-C1F51A45389C: receive appendEntries(s1, 7, (t:7, i:11), 11, true, commits:[s1:c11, s0:c10, s2:c10], cId:2867, entries: [(t:7, i:12), METADATAENTRY(c:11)]
2022-11-16 04:24:40,071 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:7, i:12), METADATAENTRY(c:11)
2022-11-16 04:24:40,071 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_11)
2022-11-16 04:24:40,072 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2022-11-16 04:24:40,074 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2022-11-16 04:24:40,074 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s1<-s0#2867:OK-t7,SUCCESS,nextIndex=13,followerCommit=11,matchIndex=12
2022-11-16 04:24:40,076 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:40,076 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:40,076 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:40,076 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s1
2022-11-16 04:24:40,076 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:40,076 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:40,077 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:40,077 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:40,077 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_11
2022-11-16 04:24:40,078 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_11)
2022-11-16 04:24:40,078 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2022-11-16 04:24:40,078 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s1<-s2#2866:OK-t7,SUCCESS,nextIndex=12,followerCommit=10,matchIndex=11
2022-11-16 04:24:40,177 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:40,177 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:40,177 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:40,178 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:40,278 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:40,278 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:40,278 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:40,278 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:40,372 [s2@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-C1F51A45389C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:294706854ns, electionTimeout:175ms
2022-11-16 04:24:40,373 [s2@group-C1F51A45389C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-C1F51A45389C-FollowerState
2022-11-16 04:24:40,373 [s2@group-C1F51A45389C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-C1F51A45389C: changes role from  FOLLOWER to CANDIDATE at term 7 for changeToCandidate
2022-11-16 04:24:40,373 [s2@group-C1F51A45389C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:40,373 [s2@group-C1F51A45389C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C1F51A45389C-LeaderElection84
2022-11-16 04:24:40,373 [s2@group-C1F51A45389C-LeaderElection84] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-C1F51A45389C: change Leader from s1 to null at term 7 for PRE_VOTE
2022-11-16 04:24:40,373 [s2@group-C1F51A45389C-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-C1F51A45389C-LeaderElection84 PRE_VOTE round 0: submit vote requests at term 7 for 11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,374 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-C1F51A45389C: receive requestVote(PRE_VOTE, s2, group-C1F51A45389C, 7, (t:7, i:11))
2022-11-16 04:24:40,374 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-C1F51A45389C-FOLLOWER: reject PRE_VOTE from s2: our last entry (t:7, i:12) > candidate's last entry (t:7, i:11)
2022-11-16 04:24:40,374 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-C1F51A45389C replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t7. Peer's state: s0@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,374 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-C1F51A45389C: receive requestVote(PRE_VOTE, s2, group-C1F51A45389C, 7, (t:7, i:11))
2022-11-16 04:24:40,374 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C1F51A45389C-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-11-16 04:24:40,374 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-C1F51A45389C replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t7. Peer's state: s1@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,374 [s2@group-C1F51A45389C-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-C1F51A45389C-LeaderElection84: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:40,374 [s2@group-C1F51A45389C-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:FAIL-t7
2022-11-16 04:24:40,375 [s2@group-C1F51A45389C-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s1#0:FAIL-t7
2022-11-16 04:24:40,375 [s2@group-C1F51A45389C-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-C1F51A45389C-LeaderElection84 PRE_VOTE round 0: result REJECTED
2022-11-16 04:24:40,375 [s2@group-C1F51A45389C-LeaderElection84] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-C1F51A45389C: changes role from CANDIDATE to FOLLOWER at term 7 for REJECTED
2022-11-16 04:24:40,375 [s2@group-C1F51A45389C-LeaderElection84] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-C1F51A45389C-LeaderElection84
2022-11-16 04:24:40,375 [s2@group-C1F51A45389C-LeaderElection84] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C1F51A45389C-FollowerState
2022-11-16 04:24:40,379 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:40,379 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t7, leader=null, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:40,379 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t7, leader=null, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:40,379 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:40,479 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:40,480 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t7, leader=null, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:40,480 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t7, leader=null, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:40,480 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #5/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:40,494 [s0@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C1F51A45389C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:420245553ns, electionTimeout:250ms
2022-11-16 04:24:40,494 [s0@group-C1F51A45389C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C1F51A45389C-FollowerState
2022-11-16 04:24:40,494 [s0@group-C1F51A45389C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-C1F51A45389C: changes role from  FOLLOWER to CANDIDATE at term 7 for changeToCandidate
2022-11-16 04:24:40,494 [s0@group-C1F51A45389C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:40,494 [s0@group-C1F51A45389C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C1F51A45389C-LeaderElection85
2022-11-16 04:24:40,495 [s0@group-C1F51A45389C-LeaderElection85] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-C1F51A45389C: change Leader from s1 to null at term 7 for PRE_VOTE
2022-11-16 04:24:40,495 [s0@group-C1F51A45389C-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-C1F51A45389C-LeaderElection85 PRE_VOTE round 0: submit vote requests at term 7 for 11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,495 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-C1F51A45389C: receive requestVote(PRE_VOTE, s0, group-C1F51A45389C, 7, (t:7, i:12))
2022-11-16 04:24:40,495 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-C1F51A45389C: receive requestVote(PRE_VOTE, s0, group-C1F51A45389C, 7, (t:7, i:12))
2022-11-16 04:24:40,495 [HandlerDaemon-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1063)) - s1@group-C1F51A45389C-LeaderStateImpl: Lost leadership on term: 7. Election timeout: 300ms. In charge for: 451ms. Conf: 11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,496 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C1F51A45389C-FOLLOWER: accept PRE_VOTE from s0: our last entry (t:7, i:11) < candidate's last entry (t:7, i:12)
2022-11-16 04:24:40,496 [HandlerDaemon-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s1@group-C1F51A45389C->s0(c11,m12,n13, attendVote=true, lastRpcSendTime=345, lastRpcResponseTime=421)
2022-11-16 04:24:40,496 [HandlerDaemon-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s1@group-C1F51A45389C->s2(c10,m11,n12, attendVote=true, lastRpcSendTime=417, lastRpcResponseTime=417)
2022-11-16 04:24:40,496 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-C1F51A45389C: changes role from    LEADER to FOLLOWER at term 7 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-11-16 04:24:40,496 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-C1F51A45389C-LeaderStateImpl
2022-11-16 04:24:40,496 [s1@group-C1F51A45389C->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-C1F51A45389C->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-16 04:24:40,496 [s1@group-C1F51A45389C->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-C1F51A45389C->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-16 04:24:40,496 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-C1F51A45389C replies to PRE_VOTE vote request: s0<-s2#0:OK-t7. Peer's state: s2@group-C1F51A45389C:t7, leader=null, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,496 [HandlerDaemon-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-C1F51A45389C-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:40,497 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C1F51A45389C-FollowerState
2022-11-16 04:24:40,497 [s0@group-C1F51A45389C-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C1F51A45389C-LeaderElection85: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:40,497 [s0@group-C1F51A45389C-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t7
2022-11-16 04:24:40,497 [s0@group-C1F51A45389C-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-C1F51A45389C-LeaderElection85 PRE_VOTE round 0: result PASSED
2022-11-16 04:24:40,497 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C1F51A45389C-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-16 04:24:40,497 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-C1F51A45389C replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t7. Peer's state: s1@group-C1F51A45389C:t7, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,498 [s0@group-C1F51A45389C-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-C1F51A45389C-LeaderElection85 ELECTION round 0: submit vote requests at term 8 for 11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,499 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-C1F51A45389C: receive requestVote(ELECTION, s0, group-C1F51A45389C, 8, (t:7, i:12))
2022-11-16 04:24:40,499 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C1F51A45389C-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:40,499 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-C1F51A45389C: change Leader from s1 to null at term 8 for updateCurrentTerm
2022-11-16 04:24:40,499 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-C1F51A45389C: changes role from  FOLLOWER to FOLLOWER at term 8 for candidate:s0
2022-11-16 04:24:40,499 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C1F51A45389C-FollowerState
2022-11-16 04:24:40,499 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C1F51A45389C-FollowerState
2022-11-16 04:24:40,499 [s1@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-C1F51A45389C-FollowerState was interrupted
2022-11-16 04:24:40,499 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-C1F51A45389C: receive requestVote(ELECTION, s0, group-C1F51A45389C, 8, (t:7, i:12))
2022-11-16 04:24:40,499 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C1F51A45389C-FOLLOWER: accept ELECTION from s0: our last entry (t:7, i:11) < candidate's last entry (t:7, i:12)
2022-11-16 04:24:40,499 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-C1F51A45389C: changes role from  FOLLOWER to FOLLOWER at term 8 for candidate:s0
2022-11-16 04:24:40,499 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-C1F51A45389C-FollowerState
2022-11-16 04:24:40,499 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C1F51A45389C-FollowerState
2022-11-16 04:24:40,499 [s2@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-C1F51A45389C-FollowerState was interrupted
2022-11-16 04:24:40,501 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-C1F51A45389C replies to ELECTION vote request: s0<-s1#0:OK-t8. Peer's state: s1@group-C1F51A45389C:t8, leader=null, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,501 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-C1F51A45389C replies to ELECTION vote request: s0<-s2#0:OK-t8. Peer's state: s2@group-C1F51A45389C:t8, leader=null, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,501 [s0@group-C1F51A45389C-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C1F51A45389C-LeaderElection85: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:40,501 [s0@group-C1F51A45389C-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t8
2022-11-16 04:24:40,501 [s0@group-C1F51A45389C-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-C1F51A45389C-LeaderElection85 ELECTION round 0: result PASSED
2022-11-16 04:24:40,501 [s0@group-C1F51A45389C-LeaderElection85] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C1F51A45389C-LeaderElection85
2022-11-16 04:24:40,501 [s0@group-C1F51A45389C-LeaderElection85] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-C1F51A45389C: changes role from CANDIDATE to LEADER at term 8 for changeToLeader
2022-11-16 04:24:40,501 [s0@group-C1F51A45389C-LeaderElection85] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-C1F51A45389C: change Leader from null to s0 at term 8 for becomeLeader, leader elected after 6ms
2022-11-16 04:24:40,501 [s0@group-C1F51A45389C-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:40,501 [s0@group-C1F51A45389C-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:40,501 [s0@group-C1F51A45389C-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:40,502 [s0@group-C1F51A45389C-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:40,502 [s0@group-C1F51A45389C-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:40,502 [s0@group-C1F51A45389C-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:40,502 [s0@group-C1F51A45389C-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:40,502 [s0@group-C1F51A45389C-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:40,502 [s0@group-C1F51A45389C-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:40,502 [s0@group-C1F51A45389C-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:40,502 [s0@group-C1F51A45389C-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:40,502 [s0@group-C1F51A45389C-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:40,502 [s0@group-C1F51A45389C-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:40,502 [s0@group-C1F51A45389C-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:40,502 [s0@group-C1F51A45389C-LeaderElection85] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C1F51A45389C-LeaderStateImpl
2022-11-16 04:24:40,503 [s0@group-C1F51A45389C-LeaderElection85] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-11_12 to index:12
2022-11-16 04:24:40,503 [s0@group-C1F51A45389C-LeaderElection85] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:12: startIndex=11 endIndex=12
2022-11-16 04:24:40,503 [s0@group-C1F51A45389C-LeaderElection85] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:13
2022-11-16 04:24:40,505 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_11-12
2022-11-16 04:24:40,505 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_11-12
2022-11-16 04:24:40,505 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 12
2022-11-16 04:24:40,505 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=10, new=12, updated? true
2022-11-16 04:24:40,510 [s0@group-C1F51A45389C-LeaderElection85] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:40,511 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-C1F51A45389C: change Leader from null to s0 at term 8 for appendEntries, leader elected after 11ms
2022-11-16 04:24:40,511 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-C1F51A45389C: receive appendEntries(s0, 8, (t:7, i:12), 11, true, commits:[s0:c11, s1:c12, s2:c10], cId:2897, entries: [(t:8, i:13), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:40,511 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-C1F51A45389C: set configuration 13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,511 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-11_12 to index:12
2022-11-16 04:24:40,511 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:12: startIndex=11 endIndex=12
2022-11-16 04:24:40,511 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:13
2022-11-16 04:24:40,512 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:40,512 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_11-12
2022-11-16 04:24:40,512 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_11-12
2022-11-16 04:24:40,512 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 12
2022-11-16 04:24:40,512 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=10, new=12, updated? true
2022-11-16 04:24:40,516 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_13
2022-11-16 04:24:40,517 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_13)
2022-11-16 04:24:40,517 [s0@group-C1F51A45389C-LeaderElection85] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-C1F51A45389C: set configuration 13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,518 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-C1F51A45389C: change Leader from null to s0 at term 8 for appendEntries, leader elected after 144ms
2022-11-16 04:24:40,518 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1602)) - s2@group-C1F51A45389C: Failed appendEntries as previous log entry ((t:7, i:12)) is not found
2022-11-16 04:24:40,518 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1572)) - s2@group-C1F51A45389C: inconsistency entries. Reply:s0<-s2#2899:FAIL-t8,INCONSISTENCY,nextIndex=12,followerCommit=10,matchIndex=-1
2022-11-16 04:24:40,520 [s0@group-C1F51A45389C->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-C1F51A45389C->s2: nextIndex: updateUnconditionally 13 -> 12
2022-11-16 04:24:40,520 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2022-11-16 04:24:40,521 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: receive appendEntries(s0, 8, (t:7, i:11), 11, true, commits:[s0:c11, s1:c12, s2:c10], cId:2900, entries: [(t:7, i:12), METADATAENTRY(c:11), (t:8, i:13), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:40,521 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-C1F51A45389C: set configuration 13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,521 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:7, i:12), METADATAENTRY(c:11)
2022-11-16 04:24:40,521 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-11_12 to index:12
2022-11-16 04:24:40,521 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:12: startIndex=11 endIndex=12
2022-11-16 04:24:40,521 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:13
2022-11-16 04:24:40,521 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:40,524 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_11-12
2022-11-16 04:24:40,524 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_11-12
2022-11-16 04:24:40,524 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2022-11-16 04:24:40,524 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=10, new=12, updated? true
2022-11-16 04:24:40,535 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_13
2022-11-16 04:24:40,536 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_13)
2022-11-16 04:24:40,536 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2022-11-16 04:24:40,536 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_13
2022-11-16 04:24:40,536 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s0<-s1#2897:OK-t8,SUCCESS,nextIndex=14,followerCommit=12,matchIndex=13
2022-11-16 04:24:40,536 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_13)
2022-11-16 04:24:40,537 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2022-11-16 04:24:40,537 [s0@group-C1F51A45389C-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:8, i:14), METADATAENTRY(c:13)
2022-11-16 04:24:40,538 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s0<-s2#2900:OK-t8,SUCCESS,nextIndex=14,followerCommit=11,matchIndex=13
2022-11-16 04:24:40,538 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_13)
2022-11-16 04:24:40,539 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2022-11-16 04:24:40,539 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-C1F51A45389C: receive appendEntries(s0, 8, (t:8, i:13), 13, true, commits:[s0:c13, s1:c12, s2:c10], cId:2903, entries: [(t:8, i:14), METADATAENTRY(c:13)]
2022-11-16 04:24:40,539 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:8, i:14), METADATAENTRY(c:13)
2022-11-16 04:24:40,540 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_13)
2022-11-16 04:24:40,542 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2022-11-16 04:24:40,542 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: receive appendEntries(s0, 8, (t:8, i:13), 13, true, commits:[s0:c13, s1:c12, s2:c11], cId:2904, entries: [(t:8, i:14), METADATAENTRY(c:13)]
2022-11-16 04:24:40,543 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:8, i:14), METADATAENTRY(c:13)
2022-11-16 04:24:40,543 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s0<-s1#2903:OK-t8,SUCCESS,nextIndex=15,followerCommit=13,matchIndex=14
2022-11-16 04:24:40,543 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_13)
2022-11-16 04:24:40,545 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2022-11-16 04:24:40,545 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s0<-s2#2904:OK-t8,SUCCESS,nextIndex=15,followerCommit=13,matchIndex=14
2022-11-16 04:24:40,580 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:40,580 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t8, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t8, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t8, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:40,581 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t8, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t8, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t8, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:40,581 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s0
2022-11-16 04:24:40,581 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:40,581 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t8, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t8, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t8, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:40,581 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t8, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t8, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t8, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:40,581 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:40,681 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:40,682 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t8, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t8, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t8, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:40,682 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t8, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t8, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t8, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:40,682 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:40,783 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:40,783 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t8, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t8, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t8, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:40,783 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t8, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t8, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t8, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:40,783 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:40,871 [s1@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-C1F51A45389C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:327938378ns, electionTimeout:179ms
2022-11-16 04:24:40,871 [s1@group-C1F51A45389C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C1F51A45389C-FollowerState
2022-11-16 04:24:40,871 [s1@group-C1F51A45389C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-C1F51A45389C: changes role from  FOLLOWER to CANDIDATE at term 8 for changeToCandidate
2022-11-16 04:24:40,871 [s1@group-C1F51A45389C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:40,871 [s1@group-C1F51A45389C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C1F51A45389C-LeaderElection86
2022-11-16 04:24:40,872 [s1@group-C1F51A45389C-LeaderElection86] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-C1F51A45389C: change Leader from s0 to null at term 8 for PRE_VOTE
2022-11-16 04:24:40,872 [s1@group-C1F51A45389C-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-C1F51A45389C-LeaderElection86 PRE_VOTE round 0: submit vote requests at term 8 for 13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,872 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-C1F51A45389C: receive requestVote(PRE_VOTE, s1, group-C1F51A45389C, 8, (t:8, i:14))
2022-11-16 04:24:40,873 [HandlerDaemon-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1063)) - s0@group-C1F51A45389C-LeaderStateImpl: Lost leadership on term: 8. Election timeout: 300ms. In charge for: 371ms. Conf: 13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,873 [HandlerDaemon-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s0@group-C1F51A45389C->s1(c13,m14,n15, attendVote=true, lastRpcSendTime=254, lastRpcResponseTime=329)
2022-11-16 04:24:40,873 [HandlerDaemon-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s0@group-C1F51A45389C->s2(c13,m14,n15, attendVote=true, lastRpcSendTime=252, lastRpcResponseTime=327)
2022-11-16 04:24:40,873 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-C1F51A45389C: changes role from    LEADER to FOLLOWER at term 8 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-11-16 04:24:40,873 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-C1F51A45389C-LeaderStateImpl
2022-11-16 04:24:40,873 [s0@group-C1F51A45389C->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-C1F51A45389C->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-16 04:24:40,873 [HandlerDaemon-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-C1F51A45389C-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:40,874 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C1F51A45389C-FollowerState
2022-11-16 04:24:40,874 [s0@group-C1F51A45389C->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-C1F51A45389C->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-16 04:24:40,874 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-C1F51A45389C-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-11-16 04:24:40,874 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-C1F51A45389C replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t8. Peer's state: s0@group-C1F51A45389C:t8, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,874 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-C1F51A45389C: receive requestVote(PRE_VOTE, s1, group-C1F51A45389C, 8, (t:8, i:14))
2022-11-16 04:24:40,874 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C1F51A45389C-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:40,874 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-C1F51A45389C replies to PRE_VOTE vote request: s1<-s2#0:OK-t8. Peer's state: s2@group-C1F51A45389C:t8, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,874 [s1@group-C1F51A45389C-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-C1F51A45389C-LeaderElection86: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:40,875 [s1@group-C1F51A45389C-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:FAIL-t8
2022-11-16 04:24:40,875 [s1@group-C1F51A45389C-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:OK-t8
2022-11-16 04:24:40,875 [s1@group-C1F51A45389C-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-C1F51A45389C-LeaderElection86 PRE_VOTE round 0: result PASSED
2022-11-16 04:24:40,877 [s1@group-C1F51A45389C-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-C1F51A45389C-LeaderElection86 ELECTION round 0: submit vote requests at term 9 for 13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,877 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-C1F51A45389C: receive requestVote(ELECTION, s1, group-C1F51A45389C, 9, (t:8, i:14))
2022-11-16 04:24:40,877 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-C1F51A45389C-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:40,877 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-C1F51A45389C: receive requestVote(ELECTION, s1, group-C1F51A45389C, 9, (t:8, i:14))
2022-11-16 04:24:40,877 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C1F51A45389C-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:40,877 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-C1F51A45389C: change Leader from s0 to null at term 9 for updateCurrentTerm
2022-11-16 04:24:40,877 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-C1F51A45389C: changes role from  FOLLOWER to FOLLOWER at term 9 for candidate:s1
2022-11-16 04:24:40,878 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-C1F51A45389C-FollowerState
2022-11-16 04:24:40,878 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C1F51A45389C-FollowerState
2022-11-16 04:24:40,878 [s2@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-C1F51A45389C-FollowerState was interrupted
2022-11-16 04:24:40,877 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-C1F51A45389C: change Leader from s0 to null at term 9 for updateCurrentTerm
2022-11-16 04:24:40,878 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-C1F51A45389C: changes role from  FOLLOWER to FOLLOWER at term 9 for candidate:s1
2022-11-16 04:24:40,878 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C1F51A45389C-FollowerState
2022-11-16 04:24:40,878 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C1F51A45389C-FollowerState
2022-11-16 04:24:40,878 [s0@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-C1F51A45389C-FollowerState was interrupted
2022-11-16 04:24:40,880 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-C1F51A45389C replies to ELECTION vote request: s1<-s2#0:OK-t9. Peer's state: s2@group-C1F51A45389C:t9, leader=null, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,880 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-C1F51A45389C replies to ELECTION vote request: s1<-s0#0:OK-t9. Peer's state: s0@group-C1F51A45389C:t9, leader=null, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,880 [s1@group-C1F51A45389C-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-C1F51A45389C-LeaderElection86: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:40,880 [s1@group-C1F51A45389C-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t9
2022-11-16 04:24:40,880 [s1@group-C1F51A45389C-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-C1F51A45389C-LeaderElection86 ELECTION round 0: result PASSED
2022-11-16 04:24:40,880 [s1@group-C1F51A45389C-LeaderElection86] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-C1F51A45389C-LeaderElection86
2022-11-16 04:24:40,880 [s1@group-C1F51A45389C-LeaderElection86] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-C1F51A45389C: changes role from CANDIDATE to LEADER at term 9 for changeToLeader
2022-11-16 04:24:40,880 [s1@group-C1F51A45389C-LeaderElection86] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-C1F51A45389C: change Leader from null to s1 at term 9 for becomeLeader, leader elected after 8ms
2022-11-16 04:24:40,880 [s1@group-C1F51A45389C-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:40,880 [s1@group-C1F51A45389C-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:40,881 [s1@group-C1F51A45389C-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:40,881 [s1@group-C1F51A45389C-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:40,881 [s1@group-C1F51A45389C-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:40,881 [s1@group-C1F51A45389C-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:40,881 [s1@group-C1F51A45389C-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:40,881 [s1@group-C1F51A45389C-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:40,881 [s1@group-C1F51A45389C-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:40,881 [s1@group-C1F51A45389C-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:40,881 [s1@group-C1F51A45389C-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:40,882 [s1@group-C1F51A45389C-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:40,882 [s1@group-C1F51A45389C-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:40,882 [s1@group-C1F51A45389C-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:40,882 [s1@group-C1F51A45389C-LeaderElection86] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C1F51A45389C-LeaderStateImpl
2022-11-16 04:24:40,882 [s1@group-C1F51A45389C-LeaderElection86] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-13_14 to index:14
2022-11-16 04:24:40,882 [s1@group-C1F51A45389C-LeaderElection86] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:14: startIndex=13 endIndex=14
2022-11-16 04:24:40,883 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_13-14
2022-11-16 04:24:40,883 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_13-14
2022-11-16 04:24:40,883 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 14
2022-11-16 04:24:40,883 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=12, new=14, updated? true
2022-11-16 04:24:40,883 [s1@group-C1F51A45389C-LeaderElection86] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:15
2022-11-16 04:24:40,883 [s1@group-C1F51A45389C-LeaderElection86] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:40,884 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:40,884 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t9, leader=null, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t9, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t9, leader=null, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:40,884 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s1@group-C1F51A45389C not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s1@group-C1F51A45389C not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:40,888 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-C1F51A45389C: change Leader from null to s1 at term 9 for appendEntries, leader elected after 10ms
2022-11-16 04:24:40,888 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-C1F51A45389C: receive appendEntries(s1, 9, (t:8, i:14), 13, true, commits:[s1:c13, s0:c14, s2:c10], cId:2929, entries: [(t:9, i:15), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:40,888 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-C1F51A45389C: set configuration 15: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,888 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-13_14 to index:14
2022-11-16 04:24:40,888 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:14: startIndex=13 endIndex=14
2022-11-16 04:24:40,888 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:15
2022-11-16 04:24:40,888 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:40,889 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_13-14
2022-11-16 04:24:40,889 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_13-14
2022-11-16 04:24:40,889 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 14
2022-11-16 04:24:40,890 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=12, new=14, updated? true
2022-11-16 04:24:40,893 [s1@group-C1F51A45389C-LeaderElection86] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-C1F51A45389C: set configuration 15: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,894 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-C1F51A45389C: change Leader from null to s1 at term 9 for appendEntries, leader elected after 16ms
2022-11-16 04:24:40,895 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: receive appendEntries(s1, 9, (t:8, i:14), 13, true, commits:[s1:c13, s0:c14, s2:c13], cId:2932, entries: [(t:9, i:15), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:40,895 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-C1F51A45389C: set configuration 15: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:40,895 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-13_14 to index:14
2022-11-16 04:24:40,895 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:14: startIndex=13 endIndex=14
2022-11-16 04:24:40,895 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:15
2022-11-16 04:24:40,895 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:40,900 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_13-14
2022-11-16 04:24:40,900 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_13-14
2022-11-16 04:24:40,900 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 14
2022-11-16 04:24:40,900 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=12, new=14, updated? true
2022-11-16 04:24:40,901 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_15
2022-11-16 04:24:40,901 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_15)
2022-11-16 04:24:40,901 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2022-11-16 04:24:40,902 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_15
2022-11-16 04:24:40,902 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_15)
2022-11-16 04:24:40,902 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2022-11-16 04:24:40,902 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s1<-s0#2929:OK-t9,SUCCESS,nextIndex=16,followerCommit=14,matchIndex=15
2022-11-16 04:24:40,903 [s1@group-C1F51A45389C-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:9, i:16), METADATAENTRY(c:15)
2022-11-16 04:24:40,903 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_15)
2022-11-16 04:24:40,903 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2022-11-16 04:24:40,904 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-C1F51A45389C: receive appendEntries(s1, 9, (t:9, i:15), 15, true, commits:[s1:c15, s0:c14, s2:c13], cId:2935, entries: [(t:9, i:16), METADATAENTRY(c:15)]
2022-11-16 04:24:40,904 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:9, i:16), METADATAENTRY(c:15)
2022-11-16 04:24:40,904 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_15)
2022-11-16 04:24:40,904 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2022-11-16 04:24:40,904 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s1<-s0#2935:OK-t9,SUCCESS,nextIndex=17,followerCommit=15,matchIndex=16
2022-11-16 04:24:40,913 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_15
2022-11-16 04:24:40,914 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_15)
2022-11-16 04:24:40,914 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2022-11-16 04:24:40,914 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s1<-s2#2932:OK-t9,SUCCESS,nextIndex=16,followerCommit=13,matchIndex=15
2022-11-16 04:24:40,915 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: receive appendEntries(s1, 9, (t:9, i:15), 16, true, commits:[s1:c16, s0:c15, s2:c13], cId:2936, entries: [(t:9, i:16), METADATAENTRY(c:15)]
2022-11-16 04:24:40,915 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:9, i:16), METADATAENTRY(c:15)
2022-11-16 04:24:40,915 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_15)
2022-11-16 04:24:40,915 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2022-11-16 04:24:40,916 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s1<-s2#2936:OK-t9,SUCCESS,nextIndex=17,followerCommit=16,matchIndex=16
2022-11-16 04:24:41,335 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t9, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t9, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t9, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:41,335 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s1
2022-11-16 04:24:41,335 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:41,335 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t9, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t9, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t9, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:41,335 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t9, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t9, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t9, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:41,335 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:41,436 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:41,436 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t9, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t9, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t9, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:41,436 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t9, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C1F51A45389C:t9, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t9, leader=s1, voted=s1, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:41,437 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:41,499 [s2@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-C1F51A45389C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:205431316ns, electionTimeout:196ms
2022-11-16 04:24:41,500 [s2@group-C1F51A45389C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-C1F51A45389C-FollowerState
2022-11-16 04:24:41,500 [s2@group-C1F51A45389C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-C1F51A45389C: changes role from  FOLLOWER to CANDIDATE at term 9 for changeToCandidate
2022-11-16 04:24:41,500 [s2@group-C1F51A45389C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:41,500 [s2@group-C1F51A45389C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C1F51A45389C-LeaderElection87
2022-11-16 04:24:41,500 [s2@group-C1F51A45389C-LeaderElection87] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-C1F51A45389C: change Leader from s1 to null at term 9 for PRE_VOTE
2022-11-16 04:24:41,500 [s2@group-C1F51A45389C-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-C1F51A45389C-LeaderElection87 PRE_VOTE round 0: submit vote requests at term 9 for 15: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:41,501 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-C1F51A45389C: receive requestVote(PRE_VOTE, s2, group-C1F51A45389C, 9, (t:9, i:16))
2022-11-16 04:24:41,501 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-C1F51A45389C-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-16 04:24:41,501 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-C1F51A45389C: receive requestVote(PRE_VOTE, s2, group-C1F51A45389C, 9, (t:9, i:16))
2022-11-16 04:24:41,501 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C1F51A45389C-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-11-16 04:24:41,501 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-C1F51A45389C replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t9. Peer's state: s1@group-C1F51A45389C:t9, leader=s1, voted=s1, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:41,503 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-C1F51A45389C replies to PRE_VOTE vote request: s2<-s0#0:OK-t9. Peer's state: s0@group-C1F51A45389C:t9, leader=s1, voted=s1, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:41,503 [s2@group-C1F51A45389C-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-C1F51A45389C-LeaderElection87: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-11-16 04:24:41,503 [s2@group-C1F51A45389C-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t9
2022-11-16 04:24:41,503 [s2@group-C1F51A45389C-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s1#0:FAIL-t9
2022-11-16 04:24:41,503 [s2@group-C1F51A45389C-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-C1F51A45389C-LeaderElection87 PRE_VOTE round 0: result PASSED
2022-11-16 04:24:41,505 [s2@group-C1F51A45389C-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-C1F51A45389C-LeaderElection87 ELECTION round 0: submit vote requests at term 10 for 15: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:41,505 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-C1F51A45389C: receive requestVote(ELECTION, s2, group-C1F51A45389C, 10, (t:9, i:16))
2022-11-16 04:24:41,506 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-C1F51A45389C-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-11-16 04:24:41,506 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-C1F51A45389C: change Leader from s1 to null at term 10 for updateCurrentTerm
2022-11-16 04:24:41,506 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-C1F51A45389C: changes role from  FOLLOWER to FOLLOWER at term 10 for candidate:s2
2022-11-16 04:24:41,506 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C1F51A45389C-FollowerState
2022-11-16 04:24:41,506 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C1F51A45389C-FollowerState
2022-11-16 04:24:41,506 [s0@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-C1F51A45389C-FollowerState was interrupted
2022-11-16 04:24:41,505 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-C1F51A45389C: receive requestVote(ELECTION, s2, group-C1F51A45389C, 10, (t:9, i:16))
2022-11-16 04:24:41,506 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C1F51A45389C-LEADER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-11-16 04:24:41,506 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-C1F51A45389C: change Leader from s1 to null at term 10 for updateCurrentTerm
2022-11-16 04:24:41,506 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-C1F51A45389C: changes role from    LEADER to FOLLOWER at term 10 for candidate:s2
2022-11-16 04:24:41,506 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-C1F51A45389C-LeaderStateImpl
2022-11-16 04:24:41,506 [HandlerDaemon-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-C1F51A45389C-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:41,506 [s1@group-C1F51A45389C->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-C1F51A45389C->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-16 04:24:41,506 [s1@group-C1F51A45389C->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-C1F51A45389C->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-16 04:24:41,506 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C1F51A45389C-FollowerState
2022-11-16 04:24:41,508 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-C1F51A45389C replies to ELECTION vote request: s2<-s0#0:OK-t10. Peer's state: s0@group-C1F51A45389C:t10, leader=null, voted=s2, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:41,508 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-C1F51A45389C replies to ELECTION vote request: s2<-s1#0:OK-t10. Peer's state: s1@group-C1F51A45389C:t10, leader=null, voted=s2, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:41,509 [s2@group-C1F51A45389C-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-C1F51A45389C-LeaderElection87: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:41,511 [s2@group-C1F51A45389C-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t10
2022-11-16 04:24:41,511 [s2@group-C1F51A45389C-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-C1F51A45389C-LeaderElection87 ELECTION round 0: result PASSED
2022-11-16 04:24:41,511 [s2@group-C1F51A45389C-LeaderElection87] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-C1F51A45389C-LeaderElection87
2022-11-16 04:24:41,511 [s2@group-C1F51A45389C-LeaderElection87] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-C1F51A45389C: changes role from CANDIDATE to LEADER at term 10 for changeToLeader
2022-11-16 04:24:41,511 [s2@group-C1F51A45389C-LeaderElection87] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-C1F51A45389C: change Leader from null to s2 at term 10 for becomeLeader, leader elected after 11ms
2022-11-16 04:24:41,511 [s2@group-C1F51A45389C-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:41,512 [s2@group-C1F51A45389C-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:41,512 [s2@group-C1F51A45389C-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:41,512 [s2@group-C1F51A45389C-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:41,512 [s2@group-C1F51A45389C-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:41,512 [s2@group-C1F51A45389C-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:41,512 [s2@group-C1F51A45389C-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:41,512 [s2@group-C1F51A45389C-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:41,512 [s2@group-C1F51A45389C-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:41,512 [s2@group-C1F51A45389C-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:41,512 [s2@group-C1F51A45389C-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:41,512 [s2@group-C1F51A45389C-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:41,512 [s2@group-C1F51A45389C-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:41,512 [s2@group-C1F51A45389C-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:41,513 [s2@group-C1F51A45389C-LeaderElection87] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C1F51A45389C-LeaderStateImpl
2022-11-16 04:24:41,513 [s2@group-C1F51A45389C-LeaderElection87] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-15_16 to index:16
2022-11-16 04:24:41,513 [s2@group-C1F51A45389C-LeaderElection87] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:16: startIndex=15 endIndex=16
2022-11-16 04:24:41,513 [s2@group-C1F51A45389C-LeaderElection87] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:17
2022-11-16 04:24:41,513 [s2@group-C1F51A45389C-LeaderElection87] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:41,514 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_15-16
2022-11-16 04:24:41,514 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_15-16
2022-11-16 04:24:41,514 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 16
2022-11-16 04:24:41,514 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=14, new=16, updated? true
2022-11-16 04:24:41,517 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-C1F51A45389C: change Leader from null to s2 at term 10 for appendEntries, leader elected after 11ms
2022-11-16 04:24:41,518 [s2@group-C1F51A45389C-LeaderElection87] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-C1F51A45389C: set configuration 17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:41,518 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-C1F51A45389C: receive appendEntries(s2, 10, (t:9, i:16), 16, true, commits:[s2:c16, s0:c16, s1:c16], cId:2995, entries: [(t:10, i:17), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:41,522 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-C1F51A45389C: set configuration 17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:41,522 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-15_16 to index:16
2022-11-16 04:24:41,522 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:16: startIndex=15 endIndex=16
2022-11-16 04:24:41,522 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:17
2022-11-16 04:24:41,523 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:41,526 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-C1F51A45389C: change Leader from null to s2 at term 10 for appendEntries, leader elected after 20ms
2022-11-16 04:24:41,526 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_15-16
2022-11-16 04:24:41,527 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_15-16
2022-11-16 04:24:41,527 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 16
2022-11-16 04:24:41,527 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=14, new=16, updated? true
2022-11-16 04:24:41,527 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_17
2022-11-16 04:24:41,527 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_17)
2022-11-16 04:24:41,527 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2022-11-16 04:24:41,530 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-C1F51A45389C: receive appendEntries(s2, 10, (t:9, i:16), 16, true, commits:[s2:c16, s0:c16, s1:c16], cId:2998, entries: [(t:10, i:17), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:41,530 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-C1F51A45389C: set configuration 17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:41,530 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-15_16 to index:16
2022-11-16 04:24:41,530 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:16: startIndex=15 endIndex=16
2022-11-16 04:24:41,530 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:17
2022-11-16 04:24:41,530 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:41,531 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_15-16
2022-11-16 04:24:41,531 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_15-16
2022-11-16 04:24:41,531 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 16
2022-11-16 04:24:41,531 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=14, new=16, updated? true
2022-11-16 04:24:41,537 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:41,537 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t10, leader=s2, voted=s2, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c16, conf=17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c16, conf=17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-C1F51A45389C:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c16, conf=17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:41,537 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s2@group-C1F51A45389C not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s2@group-C1F51A45389C not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:41,544 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_17
2022-11-16 04:24:41,545 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_17)
2022-11-16 04:24:41,545 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_17
2022-11-16 04:24:41,545 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_17)
2022-11-16 04:24:41,545 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2022-11-16 04:24:41,545 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2022-11-16 04:24:41,545 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s2<-s1#2998:OK-t10,SUCCESS,nextIndex=18,followerCommit=16,matchIndex=17
2022-11-16 04:24:41,546 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s2<-s0#2995:OK-t10,SUCCESS,nextIndex=18,followerCommit=16,matchIndex=17
2022-11-16 04:24:41,548 [s2@group-C1F51A45389C-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:10, i:18), METADATAENTRY(c:17)
2022-11-16 04:24:41,548 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_17)
2022-11-16 04:24:41,548 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2022-11-16 04:24:41,549 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-C1F51A45389C: receive appendEntries(s2, 10, (t:10, i:17), 17, true, commits:[s2:c17, s0:c16, s1:c16], cId:2999, entries: [(t:10, i:18), METADATAENTRY(c:17)]
2022-11-16 04:24:41,549 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-C1F51A45389C: receive appendEntries(s2, 10, (t:10, i:17), 17, true, commits:[s2:c17, s0:c16, s1:c16], cId:3000, entries: [(t:10, i:18), METADATAENTRY(c:17)]
2022-11-16 04:24:41,549 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:10, i:18), METADATAENTRY(c:17)
2022-11-16 04:24:41,549 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:10, i:18), METADATAENTRY(c:17)
2022-11-16 04:24:41,549 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_17)
2022-11-16 04:24:41,549 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_17)
2022-11-16 04:24:41,549 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2022-11-16 04:24:41,549 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s2<-s1#2999:OK-t10,SUCCESS,nextIndex=19,followerCommit=17,matchIndex=18
2022-11-16 04:24:41,550 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2022-11-16 04:24:41,550 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s2<-s0#3000:OK-t10,SUCCESS,nextIndex=19,followerCommit=17,matchIndex=18
2022-11-16 04:24:41,988 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t10, leader=s2, voted=s2, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-C1F51A45389C:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:41,988 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s2
2022-11-16 04:24:41,988 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:41,988 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t10, leader=s2, voted=s2, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-C1F51A45389C:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:41,989 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t10, leader=s2, voted=s2, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-C1F51A45389C:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:41,989 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:42,089 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:42,089 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t10, leader=s2, voted=s2, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-C1F51A45389C:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:42,090 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t10, leader=s2, voted=s2, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-C1F51A45389C:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:42,090 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:42,190 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:42,191 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t10, leader=s2, voted=s2, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-C1F51A45389C:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:42,191 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C1F51A45389C:t10, leader=s2, voted=s2, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-C1F51A45389C:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:42,191 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:42,266 [s0@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C1F51A45389C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:338635114ns, electionTimeout:288ms
2022-11-16 04:24:42,266 [s0@group-C1F51A45389C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C1F51A45389C-FollowerState
2022-11-16 04:24:42,266 [s0@group-C1F51A45389C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-C1F51A45389C: changes role from  FOLLOWER to CANDIDATE at term 10 for changeToCandidate
2022-11-16 04:24:42,266 [s0@group-C1F51A45389C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:42,266 [s0@group-C1F51A45389C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C1F51A45389C-LeaderElection88
2022-11-16 04:24:42,267 [s0@group-C1F51A45389C-LeaderElection88] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-C1F51A45389C: change Leader from s2 to null at term 10 for PRE_VOTE
2022-11-16 04:24:42,267 [s0@group-C1F51A45389C-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-C1F51A45389C-LeaderElection88 PRE_VOTE round 0: submit vote requests at term 10 for 17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:42,268 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-C1F51A45389C: receive requestVote(PRE_VOTE, s0, group-C1F51A45389C, 10, (t:10, i:18))
2022-11-16 04:24:42,268 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C1F51A45389C-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:42,268 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-C1F51A45389C replies to PRE_VOTE vote request: s0<-s1#0:OK-t10. Peer's state: s1@group-C1F51A45389C:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:42,268 [s0@group-C1F51A45389C-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C1F51A45389C-LeaderElection88: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:42,268 [s0@group-C1F51A45389C-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t10
2022-11-16 04:24:42,268 [s0@group-C1F51A45389C-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-C1F51A45389C-LeaderElection88 PRE_VOTE round 0: result PASSED
2022-11-16 04:24:42,269 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-C1F51A45389C: receive requestVote(PRE_VOTE, s0, group-C1F51A45389C, 10, (t:10, i:18))
2022-11-16 04:24:42,269 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1063)) - s2@group-C1F51A45389C-LeaderStateImpl: Lost leadership on term: 10. Election timeout: 300ms. In charge for: 757ms. Conf: 17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:42,270 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s2@group-C1F51A45389C->s0(c18,m18,n19, attendVote=true, lastRpcSendTime=266, lastRpcResponseTime=342)
2022-11-16 04:24:42,270 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s2@group-C1F51A45389C->s1(c18,m18,n19, attendVote=true, lastRpcSendTime=267, lastRpcResponseTime=342)
2022-11-16 04:24:42,270 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-C1F51A45389C: changes role from    LEADER to FOLLOWER at term 10 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-11-16 04:24:42,270 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-C1F51A45389C-LeaderStateImpl
2022-11-16 04:24:42,270 [HandlerDaemon-2] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-C1F51A45389C-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:42,270 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C1F51A45389C-FollowerState
2022-11-16 04:24:42,270 [s2@group-C1F51A45389C->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-C1F51A45389C->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-16 04:24:42,271 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C1F51A45389C-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-11-16 04:24:42,271 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-C1F51A45389C replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t10. Peer's state: s2@group-C1F51A45389C:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:42,271 [s2@group-C1F51A45389C->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-C1F51A45389C->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-16 04:24:42,271 [s0@group-C1F51A45389C-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-C1F51A45389C-LeaderElection88 ELECTION round 0: submit vote requests at term 11 for 17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:42,272 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-C1F51A45389C: receive requestVote(ELECTION, s0, group-C1F51A45389C, 11, (t:10, i:18))
2022-11-16 04:24:42,272 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C1F51A45389C-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:42,272 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-C1F51A45389C: change Leader from s2 to null at term 11 for updateCurrentTerm
2022-11-16 04:24:42,272 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-C1F51A45389C: changes role from  FOLLOWER to FOLLOWER at term 11 for candidate:s0
2022-11-16 04:24:42,272 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C1F51A45389C-FollowerState
2022-11-16 04:24:42,272 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C1F51A45389C-FollowerState
2022-11-16 04:24:42,272 [s1@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-C1F51A45389C-FollowerState was interrupted
2022-11-16 04:24:42,273 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-C1F51A45389C: receive requestVote(ELECTION, s0, group-C1F51A45389C, 11, (t:10, i:18))
2022-11-16 04:24:42,273 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C1F51A45389C-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:42,273 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-C1F51A45389C: change Leader from s2 to null at term 11 for updateCurrentTerm
2022-11-16 04:24:42,273 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-C1F51A45389C: changes role from  FOLLOWER to FOLLOWER at term 11 for candidate:s0
2022-11-16 04:24:42,273 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-C1F51A45389C-FollowerState
2022-11-16 04:24:42,273 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C1F51A45389C-FollowerState
2022-11-16 04:24:42,273 [s2@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:shouldRun(117)) - s2@group-C1F51A45389C-FollowerState: Stopping now (isRunning? false, role = FOLLOWER)
2022-11-16 04:24:42,275 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-C1F51A45389C replies to ELECTION vote request: s0<-s1#0:OK-t11. Peer's state: s1@group-C1F51A45389C:t11, leader=null, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:42,275 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-C1F51A45389C replies to ELECTION vote request: s0<-s2#0:OK-t11. Peer's state: s2@group-C1F51A45389C:t11, leader=null, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:42,275 [s0@group-C1F51A45389C-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C1F51A45389C-LeaderElection88: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:42,275 [s0@group-C1F51A45389C-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t11
2022-11-16 04:24:42,275 [s0@group-C1F51A45389C-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-C1F51A45389C-LeaderElection88 ELECTION round 0: result PASSED
2022-11-16 04:24:42,275 [s0@group-C1F51A45389C-LeaderElection88] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C1F51A45389C-LeaderElection88
2022-11-16 04:24:42,276 [s0@group-C1F51A45389C-LeaderElection88] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-C1F51A45389C: changes role from CANDIDATE to LEADER at term 11 for changeToLeader
2022-11-16 04:24:42,276 [s0@group-C1F51A45389C-LeaderElection88] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-C1F51A45389C: change Leader from null to s0 at term 11 for becomeLeader, leader elected after 8ms
2022-11-16 04:24:42,276 [s0@group-C1F51A45389C-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:42,276 [s0@group-C1F51A45389C-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:42,276 [s0@group-C1F51A45389C-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:42,276 [s0@group-C1F51A45389C-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:42,276 [s0@group-C1F51A45389C-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:42,276 [s0@group-C1F51A45389C-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:42,276 [s0@group-C1F51A45389C-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:42,276 [s0@group-C1F51A45389C-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:42,276 [s0@group-C1F51A45389C-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:42,276 [s0@group-C1F51A45389C-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:42,276 [s0@group-C1F51A45389C-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:42,276 [s0@group-C1F51A45389C-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:42,277 [s0@group-C1F51A45389C-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:42,277 [s0@group-C1F51A45389C-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:42,277 [s0@group-C1F51A45389C-LeaderElection88] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C1F51A45389C-LeaderStateImpl
2022-11-16 04:24:42,277 [s0@group-C1F51A45389C-LeaderElection88] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-17_18 to index:18
2022-11-16 04:24:42,277 [s0@group-C1F51A45389C-LeaderElection88] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:18: startIndex=17 endIndex=18
2022-11-16 04:24:42,277 [s0@group-C1F51A45389C-LeaderElection88] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:19
2022-11-16 04:24:42,277 [s0@group-C1F51A45389C-LeaderElection88] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:42,278 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_17-18
2022-11-16 04:24:42,278 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_17-18
2022-11-16 04:24:42,278 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 18
2022-11-16 04:24:42,278 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=16, new=18, updated? true
2022-11-16 04:24:42,285 [s0@group-C1F51A45389C-LeaderElection88] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-C1F51A45389C: set configuration 19: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:42,285 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-C1F51A45389C: change Leader from null to s0 at term 11 for appendEntries, leader elected after 13ms
2022-11-16 04:24:42,285 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-C1F51A45389C: change Leader from null to s0 at term 11 for appendEntries, leader elected after 12ms
2022-11-16 04:24:42,286 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-C1F51A45389C: receive appendEntries(s0, 11, (t:10, i:18), 18, true, commits:[s0:c18, s1:c18, s2:c18], cId:3069, entries: [(t:11, i:19), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:42,286 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-C1F51A45389C: set configuration 19: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:42,286 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-17_18 to index:18
2022-11-16 04:24:42,286 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:18: startIndex=17 endIndex=18
2022-11-16 04:24:42,287 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:19
2022-11-16 04:24:42,287 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:42,287 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: receive appendEntries(s0, 11, (t:10, i:18), 18, true, commits:[s0:c18, s1:c18, s2:c18], cId:3070, entries: [(t:11, i:19), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:42,287 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-C1F51A45389C: set configuration 19: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:42,287 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: Rolling segment log-17_18 to index:18
2022-11-16 04:24:42,287 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:18: startIndex=17 endIndex=18
2022-11-16 04:24:42,287 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task StartLogSegment:19
2022-11-16 04:24:42,287 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43233"
dataStreamAddress: "localhost:36475"
clientAddress: "localhost:35907"
adminAddress: "localhost:34813"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32995"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:46231"
adminAddress: "localhost:34237"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33251"
dataStreamAddress: "localhost:34135"
clientAddress: "localhost:45477"
adminAddress: "localhost:39985"
startupRole: FOLLOWER
, old:)
2022-11-16 04:24:42,290 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_17-18
2022-11-16 04:24:42,290 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_17-18
2022-11-16 04:24:42,290 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 18
2022-11-16 04:24:42,290 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=16, new=18, updated? true
2022-11-16 04:24:42,291 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_17-18
2022-11-16 04:24:42,291 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_17-18
2022-11-16 04:24:42,291 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 18
2022-11-16 04:24:42,291 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=16, new=18, updated? true
2022-11-16 04:24:42,293 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:42,293 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t11, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c18, conf=19: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t11, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c18, conf=19: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t11, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c18, conf=19: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:42,293 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s0@group-C1F51A45389C not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s0@group-C1F51A45389C not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:42,293 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_19
2022-11-16 04:24:42,294 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_19)
2022-11-16 04:24:42,294 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2022-11-16 04:24:42,310 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_19
2022-11-16 04:24:42,310 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_19)
2022-11-16 04:24:42,310 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2022-11-16 04:24:42,310 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_19
2022-11-16 04:24:42,310 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s0<-s1#3069:OK-t11,SUCCESS,nextIndex=20,followerCommit=18,matchIndex=19
2022-11-16 04:24:42,310 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_19)
2022-11-16 04:24:42,311 [s0@group-C1F51A45389C-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:20: (t:11, i:20), METADATAENTRY(c:19)
2022-11-16 04:24:42,311 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2022-11-16 04:24:42,311 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s0/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_19)
2022-11-16 04:24:42,311 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-C1F51A45389C: receive appendEntries(s0, 11, (t:11, i:19), 19, true, commits:[s0:c19, s1:c18, s2:c18], cId:3073, entries: [(t:11, i:20), METADATAENTRY(c:19)]
2022-11-16 04:24:42,311 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 19 -> 20
2022-11-16 04:24:42,311 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:20: (t:11, i:20), METADATAENTRY(c:19)
2022-11-16 04:24:42,311 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s0<-s2#3070:OK-t11,SUCCESS,nextIndex=20,followerCommit=18,matchIndex=19
2022-11-16 04:24:42,311 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s1/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_19)
2022-11-16 04:24:42,312 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: receive appendEntries(s0, 11, (t:11, i:19), 19, true, commits:[s0:c19, s1:c18, s2:c18], cId:3074, entries: [(t:11, i:20), METADATAENTRY(c:19)]
2022-11-16 04:24:42,312 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(271)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker adds IO task WriteLog:20: (t:11, i:20), METADATAENTRY(c:19)
2022-11-16 04:24:42,312 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 19 -> 20
2022-11-16 04:24:42,312 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpcf08f1ca6/s2/b6a933a5-0cfe-477a-8771-c1f51a45389c/current/log_inprogress_19)
2022-11-16 04:24:42,312 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s0<-s1#3073:OK-t11,SUCCESS,nextIndex=21,followerCommit=19,matchIndex=20
2022-11-16 04:24:42,312 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 19 -> 20
2022-11-16 04:24:42,313 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-C1F51A45389C: succeeded to handle AppendEntries. Reply: s0<-s2#3074:OK-t11,SUCCESS,nextIndex=21,followerCommit=19,matchIndex=20
2022-11-16 04:24:42,744 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t11, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c20, conf=19: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t11, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c20, conf=19: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t11, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c20, conf=19: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:42,744 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s0
2022-11-16 04:24:42,744 [Time-limited test] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker log level to INFO
2022-11-16 04:24:42,744 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-16 04:24:42,744 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-16 04:24:42,744 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:42,744 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-16 04:24:42,744 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-16 04:24:42,744 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C1F51A45389C:t11, leader=s0, voted=s0, raftlog=Memoized:s0@group-C1F51A45389C-SegmentedRaftLog:OPENED:c20, conf=19: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C1F51A45389C:t11, leader=s0, voted=s0, raftlog=Memoized:s1@group-C1F51A45389C-SegmentedRaftLog:OPENED:c20, conf=19: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C1F51A45389C:t11, leader=s0, voted=s0, raftlog=Memoized:s2@group-C1F51A45389C-SegmentedRaftLog:OPENED:c20, conf=19: peers:[s0|rpc:localhost:43233|admin:localhost:34813|client:localhost:35907|dataStream:localhost:36475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32995|admin:localhost:34237|client:localhost:46231|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33251|admin:localhost:39985|client:localhost:45477|dataStream:localhost:34135|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:42,745 [MiniRaftCluster-67] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-16 04:24:42,745 [MiniRaftCluster-68] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-16 04:24:42,746 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-C1F51A45389C: shutdown
2022-11-16 04:24:42,746 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C1F51A45389C,id=s1
2022-11-16 04:24:42,746 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C1F51A45389C-FollowerState
2022-11-16 04:24:42,746 [s1@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-C1F51A45389C-FollowerState was interrupted
2022-11-16 04:24:42,746 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:42,746 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-C1F51A45389C: shutdown
2022-11-16 04:24:42,746 [MiniRaftCluster-69] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-16 04:24:42,746 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-C1F51A45389C: shutdown
2022-11-16 04:24:42,746 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:42,746 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:42,746 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:42,746 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:42,746 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:42,746 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:42,747 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:42,746 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C1F51A45389C,id=s2
2022-11-16 04:24:42,747 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-C1F51A45389C-FollowerState
2022-11-16 04:24:42,747 [s2@group-C1F51A45389C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-C1F51A45389C-FollowerState was interrupted
2022-11-16 04:24:42,747 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:42,747 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:42,746 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C1F51A45389C,id=s0
2022-11-16 04:24:42,747 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-C1F51A45389C-LeaderStateImpl
2022-11-16 04:24:42,747 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-C1F51A45389C-StateMachineUpdater: set stopIndex = 20
2022-11-16 04:24:42,746 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:42,747 [s0@group-C1F51A45389C->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-C1F51A45389C->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:42,747 [s0@group-C1F51A45389C->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-C1F51A45389C->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:42,747 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-C1F51A45389C-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:42,747 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:42,748 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:42,748 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:42,747 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:42,748 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:42,747 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-C1F51A45389C-StateMachineUpdater: set stopIndex = 20
2022-11-16 04:24:42,748 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:42,748 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:42,747 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-C1F51A45389C-StateMachineUpdater: set stopIndex = 20
2022-11-16 04:24:42,749 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-C1F51A45389C: applyIndex: 20
2022-11-16 04:24:42,749 [s0@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:42,750 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-C1F51A45389C-SegmentedRaftLogWorker close()
2022-11-16 04:24:42,751 [JvmPauseMonitor49] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-16 04:24:42,752 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-C1F51A45389C: applyIndex: 20
2022-11-16 04:24:42,752 [s2@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:42,752 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-C1F51A45389C-SegmentedRaftLogWorker close()
2022-11-16 04:24:42,753 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-C1F51A45389C: applyIndex: 20
2022-11-16 04:24:42,753 [s1@group-C1F51A45389C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:42,753 [JvmPauseMonitor51] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-16 04:24:42,754 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-C1F51A45389C-SegmentedRaftLogWorker close()
2022-11-16 04:24:42,754 [JvmPauseMonitor50] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-16 04:24:42,754 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-16 04:24:42,755 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-16 04:24:42,755 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-16 04:24:42,755 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-16 04:24:42,755 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-16 04:24:42,755 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-16 04:24:42,756 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-4F7F80957084:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER]
2022-11-16 04:24:42,756 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-16 04:24:42,756 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-16 04:24:42,756 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:42,756 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-16 04:24:42,756 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-16 04:24:42,756 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-16 04:24:42,756 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-4F7F80957084:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER], format? true
2022-11-16 04:24:42,757 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s0
2022-11-16 04:24:42,757 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s0 does not exist.
2022-11-16 04:24:42,757 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s0
2022-11-16 04:24:42,757 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:42,757 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:42,757 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:42,757 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:42,757 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:42,757 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:42,758 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s0] (custom)
2022-11-16 04:24:42,758 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-4F7F80957084:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER] returns group-4F7F80957084:java.util.concurrent.CompletableFuture@81119ae[Not completed]
2022-11-16 04:24:42,758 [pool-53-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-4F7F80957084:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER] with BaseStateMachine:uninitialized
2022-11-16 04:24:42,758 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-4F7F80957084:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER], format? true
2022-11-16 04:24:42,758 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s1
2022-11-16 04:24:42,758 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s1 does not exist.
2022-11-16 04:24:42,758 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s1
2022-11-16 04:24:42,758 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:42,758 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:42,758 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:42,758 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:42,759 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:42,759 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:42,759 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:42,759 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:42,759 [pool-53-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-4F7F80957084: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:42,759 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:42,759 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:42,759 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:42,759 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:42,759 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:42,759 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:42,759 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:42,759 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:42,759 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:42,759 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s1] (custom)
2022-11-16 04:24:42,760 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:42,760 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:42,760 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:42,760 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:42,760 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:42,760 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-4F7F80957084:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER] returns group-4F7F80957084:java.util.concurrent.CompletableFuture@7c14bf55[Not completed]
2022-11-16 04:24:42,760 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-4F7F80957084:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER], format? true
2022-11-16 04:24:42,760 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s2
2022-11-16 04:24:42,760 [pool-54-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-4F7F80957084:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER] with BaseStateMachine:uninitialized
2022-11-16 04:24:42,760 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s2 does not exist.
2022-11-16 04:24:42,760 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s2
2022-11-16 04:24:42,761 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:42,761 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:42,761 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:42,761 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:42,761 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:42,761 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:42,761 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s2] (custom)
2022-11-16 04:24:42,761 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:42,761 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:42,761 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:42,761 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:42,761 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:42,761 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:42,761 [pool-54-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-4F7F80957084: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:42,762 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:42,762 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:42,762 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:42,762 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-4F7F80957084:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER] returns group-4F7F80957084:java.util.concurrent.CompletableFuture@2271ac4[Not completed]
2022-11-16 04:24:42,762 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-4F7F80957084:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER] with BaseStateMachine:uninitialized
2022-11-16 04:24:42,762 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:42,762 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:42,762 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s0] (custom)
2022-11-16 04:24:42,762 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s0/6c28eba1-d7a2-4c05-9195-4f7f80957084 does not exist. Creating ...
2022-11-16 04:24:42,763 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s0/6c28eba1-d7a2-4c05-9195-4f7f80957084
2022-11-16 04:24:42,763 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:42,763 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:42,763 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:42,763 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:42,763 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:42,763 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:42,763 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:42,763 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:42,763 [pool-55-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-4F7F80957084: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:42,763 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:42,764 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:42,764 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:42,764 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:42,764 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:42,764 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:42,764 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:42,764 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:42,764 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:42,764 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:42,764 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s0/6c28eba1-d7a2-4c05-9195-4f7f80957084/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:42,765 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s0/6c28eba1-d7a2-4c05-9195-4f7f80957084/current
2022-11-16 04:24:42,765 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s0/6c28eba1-d7a2-4c05-9195-4f7f80957084/sm
2022-11-16 04:24:42,765 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:42,765 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:42,766 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:42,766 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:42,766 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s0/6c28eba1-d7a2-4c05-9195-4f7f80957084 has been successfully formatted.
2022-11-16 04:24:42,766 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:42,766 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:42,766 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:42,766 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:42,766 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:42,767 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:42,767 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:42,767 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:42,767 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-4F7F80957084-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s0/6c28eba1-d7a2-4c05-9195-4f7f80957084
2022-11-16 04:24:42,767 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:42,767 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:42,767 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:42,767 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:42,767 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:42,767 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:42,767 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:42,767 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:42,767 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:42,767 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:42,768 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:42,768 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:42,768 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:42,768 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-4F7F80957084-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:42,768 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-4F7F80957084-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:42,768 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:42,768 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-4F7F80957084: start as a follower, conf=-1: peers:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:42,768 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-4F7F80957084: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:42,768 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-4F7F80957084-FollowerState
2022-11-16 04:24:42,769 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4F7F80957084,id=s0
2022-11-16 04:24:42,769 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:42,769 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:42,769 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:42,769 [s0@group-4F7F80957084-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:42,769 [s0@group-4F7F80957084-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:42,769 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-16 04:24:42,770 [JvmPauseMonitor52] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-16 04:24:42,770 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:42,770 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:42,770 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s1] (custom)
2022-11-16 04:24:42,771 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s1/6c28eba1-d7a2-4c05-9195-4f7f80957084 does not exist. Creating ...
2022-11-16 04:24:42,771 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s1/6c28eba1-d7a2-4c05-9195-4f7f80957084
2022-11-16 04:24:42,772 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s1/6c28eba1-d7a2-4c05-9195-4f7f80957084/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:42,772 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s1/6c28eba1-d7a2-4c05-9195-4f7f80957084/current
2022-11-16 04:24:42,772 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s1/6c28eba1-d7a2-4c05-9195-4f7f80957084/sm
2022-11-16 04:24:42,773 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s1/6c28eba1-d7a2-4c05-9195-4f7f80957084 has been successfully formatted.
2022-11-16 04:24:42,773 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:42,773 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:42,773 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:42,773 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:42,773 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:42,774 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:42,774 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:42,774 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:42,774 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-4F7F80957084-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s1/6c28eba1-d7a2-4c05-9195-4f7f80957084
2022-11-16 04:24:42,774 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:42,774 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:42,774 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:42,774 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:42,774 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:42,774 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:42,774 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:42,774 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:42,774 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:42,774 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:42,775 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:42,775 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:42,775 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:42,775 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-4F7F80957084-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:42,775 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-4F7F80957084-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:42,781 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-4F7F80957084: start as a follower, conf=-1: peers:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:42,781 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-4F7F80957084: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:42,782 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-4F7F80957084-FollowerState
2022-11-16 04:24:42,782 [s1@group-4F7F80957084-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:42,782 [s1@group-4F7F80957084-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:42,782 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4F7F80957084,id=s1
2022-11-16 04:24:42,782 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:42,782 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:42,782 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:42,783 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-16 04:24:42,783 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:42,783 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:42,783 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s2] (custom)
2022-11-16 04:24:42,784 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s2/6c28eba1-d7a2-4c05-9195-4f7f80957084 does not exist. Creating ...
2022-11-16 04:24:42,784 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s2/6c28eba1-d7a2-4c05-9195-4f7f80957084
2022-11-16 04:24:42,784 [JvmPauseMonitor53] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-16 04:24:42,785 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s2/6c28eba1-d7a2-4c05-9195-4f7f80957084/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:42,785 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s2/6c28eba1-d7a2-4c05-9195-4f7f80957084/current
2022-11-16 04:24:42,785 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s2/6c28eba1-d7a2-4c05-9195-4f7f80957084/sm
2022-11-16 04:24:42,786 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s2/6c28eba1-d7a2-4c05-9195-4f7f80957084 has been successfully formatted.
2022-11-16 04:24:42,786 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:42,786 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:42,786 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:42,786 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:42,786 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:42,786 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:42,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:42,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:42,787 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-4F7F80957084-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s2/6c28eba1-d7a2-4c05-9195-4f7f80957084
2022-11-16 04:24:42,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:42,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:42,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:42,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:42,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:42,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:42,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:42,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:42,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:42,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:42,788 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:42,788 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:42,788 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:42,788 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-4F7F80957084-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:42,788 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-4F7F80957084-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:42,793 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(341)) - s2@group-4F7F80957084: start as a listener, conf=-1: peers:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:42,794 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-4F7F80957084: changes role from      null to LISTENER at term 0 for startAsListener
2022-11-16 04:24:42,794 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-4F7F80957084-FollowerState
2022-11-16 04:24:42,797 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4F7F80957084,id=s2
2022-11-16 04:24:42,798 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:42,798 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:42,798 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:42,798 [s2@group-4F7F80957084-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:42,798 [s2@group-4F7F80957084-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:42,798 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-16 04:24:42,799 [JvmPauseMonitor54] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-16 04:24:42,799 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:42,799 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-4F7F80957084:t0, leader=null, voted=, raftlog=Memoized:s0@group-4F7F80957084-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4F7F80957084:t0, leader=null, voted=, raftlog=Memoized:s1@group-4F7F80957084-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  LISTENER s2@group-4F7F80957084:t0, leader=null, voted=, raftlog=Memoized:s2@group-4F7F80957084-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER], old=null RUNNING
2022-11-16 04:24:42,800 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-4F7F80957084:t0, leader=null, voted=, raftlog=Memoized:s0@group-4F7F80957084-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4F7F80957084:t0, leader=null, voted=, raftlog=Memoized:s1@group-4F7F80957084-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  LISTENER s2@group-4F7F80957084:t0, leader=null, voted=, raftlog=Memoized:s2@group-4F7F80957084-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-4F7F80957084:t0, leader=null, voted=, raftlog=Memoized:s0@group-4F7F80957084-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4F7F80957084:t0, leader=null, voted=, raftlog=Memoized:s1@group-4F7F80957084-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  LISTENER s2@group-4F7F80957084:t0, leader=null, voted=, raftlog=Memoized:s2@group-4F7F80957084-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeListenerToFollower(LeaderElectionTests.java:432)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:42,958 [s0@group-4F7F80957084-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-4F7F80957084-FollowerState: change to CANDIDATE, lastRpcElapsedTime:190080522ns, electionTimeout:189ms
2022-11-16 04:24:42,958 [s0@group-4F7F80957084-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-4F7F80957084-FollowerState
2022-11-16 04:24:42,959 [s0@group-4F7F80957084-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-4F7F80957084: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-16 04:24:42,959 [s0@group-4F7F80957084-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:42,959 [s0@group-4F7F80957084-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-4F7F80957084-LeaderElection89
2022-11-16 04:24:42,959 [s0@group-4F7F80957084-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-4F7F80957084-LeaderElection89 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:42,960 [s0@group-4F7F80957084-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:42,960 [s0@group-4F7F80957084-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:42,960 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-4F7F80957084: receive requestVote(PRE_VOTE, s0, group-4F7F80957084, 0, (t:0, i:0))
2022-11-16 04:24:42,960 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-4F7F80957084-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:42,960 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-4F7F80957084 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-4F7F80957084:t0, leader=null, voted=, raftlog=Memoized:s1@group-4F7F80957084-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:42,960 [s0@group-4F7F80957084-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-4F7F80957084-LeaderElection89: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:42,960 [s0@group-4F7F80957084-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2022-11-16 04:24:42,961 [s0@group-4F7F80957084-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-4F7F80957084-LeaderElection89 PRE_VOTE round 0: result PASSED
2022-11-16 04:24:42,962 [s0@group-4F7F80957084-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-4F7F80957084-LeaderElection89 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:42,963 [s0@group-4F7F80957084-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:42,963 [s0@group-4F7F80957084-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:42,963 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-4F7F80957084: receive requestVote(ELECTION, s0, group-4F7F80957084, 1, (t:0, i:0))
2022-11-16 04:24:42,963 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-4F7F80957084-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-16 04:24:42,963 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-4F7F80957084: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-11-16 04:24:42,963 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-4F7F80957084-FollowerState
2022-11-16 04:24:42,963 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-4F7F80957084-FollowerState
2022-11-16 04:24:42,963 [s1@group-4F7F80957084-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-4F7F80957084-FollowerState was interrupted
2022-11-16 04:24:42,964 [s1@group-4F7F80957084-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:42,964 [s1@group-4F7F80957084-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:42,965 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-4F7F80957084 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-4F7F80957084:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-4F7F80957084-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:42,965 [s0@group-4F7F80957084-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-4F7F80957084-LeaderElection89: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:42,965 [s0@group-4F7F80957084-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2022-11-16 04:24:42,965 [s0@group-4F7F80957084-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-4F7F80957084-LeaderElection89 ELECTION round 0: result PASSED
2022-11-16 04:24:42,965 [s0@group-4F7F80957084-LeaderElection89] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-4F7F80957084-LeaderElection89
2022-11-16 04:24:42,965 [s0@group-4F7F80957084-LeaderElection89] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-4F7F80957084: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-16 04:24:42,965 [s0@group-4F7F80957084-LeaderElection89] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-4F7F80957084: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 206ms
2022-11-16 04:24:42,965 [s0@group-4F7F80957084-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:42,965 [s0@group-4F7F80957084-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:42,965 [s0@group-4F7F80957084-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:42,966 [s0@group-4F7F80957084-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:42,966 [s0@group-4F7F80957084-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:42,966 [s0@group-4F7F80957084-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:42,966 [s0@group-4F7F80957084-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:42,966 [s0@group-4F7F80957084-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:42,966 [s0@group-4F7F80957084-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:42,966 [s0@group-4F7F80957084-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:42,966 [s0@group-4F7F80957084-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:42,966 [s0@group-4F7F80957084-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:42,966 [s0@group-4F7F80957084-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:42,966 [s0@group-4F7F80957084-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:42,966 [s0@group-4F7F80957084-LeaderElection89] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-4F7F80957084-LeaderStateImpl
2022-11-16 04:24:42,967 [s0@group-4F7F80957084-LeaderElection89] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-4F7F80957084-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:42,969 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-4F7F80957084: change Leader from null to s0 at term 1 for appendEntries, leader elected after 207ms
2022-11-16 04:24:42,970 [s0@group-4F7F80957084-LeaderElection89] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-4F7F80957084: set configuration 0: peers:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:42,972 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-4F7F80957084: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:3133, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:44795"
dataStreamAddress: "localhost:41249"
clientAddress: "localhost:39183"
adminAddress: "localhost:46713"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:38965"
dataStreamAddress: "localhost:33967"
clientAddress: "localhost:39137"
adminAddress: "localhost:38507"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:42,972 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-4F7F80957084: set configuration 0: peers:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:42,972 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-4F7F80957084-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:42,984 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-4F7F80957084: change Leader from null to s0 at term 1 for appendEntries, leader elected after 220ms
2022-11-16 04:24:42,984 [s0@group-4F7F80957084-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-4F7F80957084-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s0/6c28eba1-d7a2-4c05-9195-4f7f80957084/current/log_inprogress_0
2022-11-16 04:24:42,984 [s1@group-4F7F80957084-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-4F7F80957084-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s1/6c28eba1-d7a2-4c05-9195-4f7f80957084/current/log_inprogress_0
2022-11-16 04:24:42,985 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-4F7F80957084: succeeded to handle AppendEntries. Reply: s0<-s1#3133:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-16 04:24:42,989 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4F7F80957084: receive appendEntries(s0, 1, null, 0, false, commits:[s0:c0, s1:c-1, s2:c-1], cId:3134, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:44795"
dataStreamAddress: "localhost:41249"
clientAddress: "localhost:39183"
adminAddress: "localhost:46713"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:38965"
dataStreamAddress: "localhost:33967"
clientAddress: "localhost:39137"
adminAddress: "localhost:38507"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:42,989 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-4F7F80957084: set configuration 0: peers:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:42,989 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-4F7F80957084-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:43,000 [s2@group-4F7F80957084-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-4F7F80957084-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc96399d9a/s2/6c28eba1-d7a2-4c05-9195-4f7f80957084/current/log_inprogress_0
2022-11-16 04:24:43,001 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4F7F80957084: succeeded to handle AppendEntries. Reply: s0<-s2#3134:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-16 04:24:43,250 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-4F7F80957084:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-4F7F80957084-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4F7F80957084:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-4F7F80957084-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  LISTENER s2@group-4F7F80957084:t1, leader=s0, voted=null, raftlog=Memoized:s2@group-4F7F80957084-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER], old=null RUNNING
2022-11-16 04:24:43,251 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:43,251 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s0@group-4F7F80957084: receive client request(RaftClientRequest:client-F32BF2964C56->s0@group-4F7F80957084, cid=3163, seq=0, RW, message)
2022-11-16 04:24:43,252 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(410)) - s0@group-4F7F80957084-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-F32BF2964C56->s0@group-4F7F80957084, cid=3163, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 3163@client-F32BF2964C56
2022-11-16 04:24:43,253 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4F7F80957084: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits:[s0:c0, s1:c0, s2:c0], cId:3164, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 3163@client-F32BF2964C56]
2022-11-16 04:24:43,253 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-4F7F80957084: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:3165, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 3163@client-F32BF2964C56]
2022-11-16 04:24:43,254 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-4F7F80957084: succeeded to handle AppendEntries. Reply: s0<-s1#3165:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-16 04:24:43,254 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-4F7F80957084: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:3166, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-16 04:24:43,255 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4F7F80957084: succeeded to handle AppendEntries. Reply: s0<-s2#3164:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-16 04:24:43,256 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4F7F80957084: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits:[s0:c1, s1:c0, s2:c0], cId:3167, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-16 04:24:43,256 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-4F7F80957084: succeeded to handle AppendEntries. Reply: s0<-s1#3166:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-16 04:24:43,256 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1188)) - s0@group-4F7F80957084: receive setConfiguration SetConfigurationRequest:client-F32BF2964C56->s0@group-4F7F80957084, cid=3168, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER], listeners:[]
2022-11-16 04:24:43,257 [s0-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(377)) - s0@group-4F7F80957084-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-F32BF2964C56->s0@group-4F7F80957084, cid=3168, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER], listeners:[]
2022-11-16 04:24:43,257 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4F7F80957084: succeeded to handle AppendEntries. Reply: s0<-s2#3167:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-16 04:24:43,257 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-4F7F80957084: set configuration 3: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER]
2022-11-16 04:24:43,258 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-4F7F80957084: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits:[s0:c2, s1:c1, s2:c1], cId:3169, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:44795"
dataStreamAddress: "localhost:41249"
clientAddress: "localhost:39183"
adminAddress: "localhost:46713"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:38965"
dataStreamAddress: "localhost:33967"
clientAddress: "localhost:39137"
adminAddress: "localhost:38507"
startupRole: FOLLOWER
)]
2022-11-16 04:24:43,258 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4F7F80957084: receive appendEntries(s0, 1, (t:1, i:2), 2, false, commits:[s0:c2, s1:c1, s2:c1], cId:3170, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:44795"
dataStreamAddress: "localhost:41249"
clientAddress: "localhost:39183"
adminAddress: "localhost:46713"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:38965"
dataStreamAddress: "localhost:33967"
clientAddress: "localhost:39137"
adminAddress: "localhost:38507"
startupRole: FOLLOWER
)]
2022-11-16 04:24:43,258 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-4F7F80957084: set configuration 3: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER]
2022-11-16 04:24:43,258 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-4F7F80957084: set configuration 3: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:44795|admin:localhost:46713|client:localhost:39183|dataStream:localhost:41249|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38965|admin:localhost:38507|client:localhost:39137|dataStream:localhost:33967|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:46199|admin:localhost:41527|client:localhost:42203|dataStream:localhost:45645|priority:0|startupRole:LISTENER]
2022-11-16 04:24:43,259 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-4F7F80957084: succeeded to handle AppendEntries. Reply: s0<-s1#3169:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-16 04:24:43,259 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4F7F80957084: succeeded to handle AppendEntries. Reply: s0<-s2#3170:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-16 04:24:43,259 [s0@group-4F7F80957084-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-4F7F80957084: set configuration 5: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:43,260 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4F7F80957084: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits:[s0:c3, s1:c2, s2:c2], cId:3172, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:43,260 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-4F7F80957084: set configuration 5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:43,260 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-4F7F80957084: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits:[s0:c3, s1:c2, s2:c2], cId:3171, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:43,260 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-4F7F80957084: set configuration 5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:43,261 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-4F7F80957084: succeeded to handle AppendEntries. Reply: s0<-s1#3171:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-16 04:24:43,262 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-4F7F80957084: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits:[s0:c5, s1:c3, s2:c2], cId:3173, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-16 04:24:43,262 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4F7F80957084: succeeded to handle AppendEntries. Reply: s0<-s2#3172:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-16 04:24:43,262 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4F7F80957084: receive appendEntries(s0, 1, (t:1, i:5), 5, false, commits:[s0:c5, s1:c3, s2:c3], cId:3174, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-16 04:24:43,262 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-4F7F80957084: succeeded to handle AppendEntries. Reply: s0<-s1#3173:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-16 04:24:43,263 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4F7F80957084: succeeded to handle AppendEntries. Reply: s0<-s2#3174:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-16 04:24:43,263 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-16 04:24:43,263 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-16 04:24:43,263 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:43,263 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-16 04:24:43,263 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-16 04:24:43,264 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-4F7F80957084:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-4F7F80957084-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4F7F80957084:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-4F7F80957084-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  LISTENER s2@group-4F7F80957084:t1, leader=s0, voted=null, raftlog=Memoized:s2@group-4F7F80957084-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:43,264 [MiniRaftCluster-70] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-16 04:24:43,264 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-4F7F80957084: shutdown
2022-11-16 04:24:43,264 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4F7F80957084,id=s0
2022-11-16 04:24:43,264 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-4F7F80957084-LeaderStateImpl
2022-11-16 04:24:43,264 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-4F7F80957084-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:43,265 [s0@group-4F7F80957084->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-4F7F80957084->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:43,265 [s0@group-4F7F80957084->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-4F7F80957084->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:43,265 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:43,265 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:43,265 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:43,265 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:43,265 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:43,265 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:43,266 [MiniRaftCluster-71] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-16 04:24:43,266 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-4F7F80957084: shutdown
2022-11-16 04:24:43,266 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4F7F80957084,id=s1
2022-11-16 04:24:43,266 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-4F7F80957084-FollowerState
2022-11-16 04:24:43,266 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-4F7F80957084-StateMachineUpdater: set stopIndex = 5
2022-11-16 04:24:43,266 [s1@group-4F7F80957084-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-4F7F80957084-FollowerState was interrupted
2022-11-16 04:24:43,266 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-4F7F80957084: applyIndex: 5
2022-11-16 04:24:43,266 [s1@group-4F7F80957084-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-4F7F80957084-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:43,267 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-4F7F80957084-SegmentedRaftLogWorker close()
2022-11-16 04:24:43,268 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:43,268 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:43,268 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:43,268 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:43,269 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:43,269 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-4F7F80957084-StateMachineUpdater: set stopIndex = 6
2022-11-16 04:24:43,269 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:43,270 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-4F7F80957084: applyIndex: 6
2022-11-16 04:24:43,270 [s0@group-4F7F80957084-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-4F7F80957084-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:43,271 [MiniRaftCluster-72] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-16 04:24:43,271 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-4F7F80957084-SegmentedRaftLogWorker close()
2022-11-16 04:24:43,271 [JvmPauseMonitor53] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-16 04:24:43,271 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:43,271 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:43,271 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-4F7F80957084: shutdown
2022-11-16 04:24:43,271 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4F7F80957084,id=s2
2022-11-16 04:24:43,271 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-4F7F80957084-FollowerState
2022-11-16 04:24:43,271 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-4F7F80957084-StateMachineUpdater: set stopIndex = 5
2022-11-16 04:24:43,271 [s2@group-4F7F80957084-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-4F7F80957084-FollowerState was interrupted
2022-11-16 04:24:43,272 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:43,272 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:43,272 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:43,272 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:43,272 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-4F7F80957084: applyIndex: 5
2022-11-16 04:24:43,272 [s2@group-4F7F80957084-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-4F7F80957084-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:43,273 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-4F7F80957084-SegmentedRaftLogWorker close()
2022-11-16 04:24:43,273 [JvmPauseMonitor54] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-16 04:24:43,273 [JvmPauseMonitor52] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-16 04:24:43,274 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-16 04:24:43,274 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-16 04:24:43,274 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-16 04:24:43,274 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:43,274 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-16 04:24:43,274 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-16 04:24:43,274 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED    LEADER s0@group-4F7F80957084:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-4F7F80957084-SegmentedRaftLog:CLOSED:c6, conf=5: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-4F7F80957084:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-4F7F80957084-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED  LISTENER s2@group-4F7F80957084:t1, leader=s0, voted=null, raftlog=Memoized:s2@group-4F7F80957084-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2022-11-16 04:24:43,275 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-16 04:24:43,276 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-16 04:24:43,276 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-16 04:24:43,276 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-16 04:24:43,276 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-16 04:24:44,983 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:44,983 [Time-limited test] INFO  impl.LeaderElection (LeaderElection.java:startIfNew(215)) - any@group-DBECD3990EAA-LeaderElection90: skip starting since this is already CLOSED
2022-11-16 04:24:44,984 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-16 04:24:44,985 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-16 04:24:44,985 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-16 04:24:44,985 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-16 04:24:44,994 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-11-16 04:24:44,994 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-16 04:24:44,995 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-4B73E7095C76:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER, s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]
2022-11-16 04:24:44,996 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-16 04:24:44,996 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-16 04:24:44,996 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:44,996 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-16 04:24:44,996 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-16 04:24:44,996 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-16 04:24:44,996 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-4B73E7095C76:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER, s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:44,997 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s3
2022-11-16 04:24:44,997 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s3 does not exist.
2022-11-16 04:24:44,997 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s3
2022-11-16 04:24:44,998 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:45,003 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:45,003 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:45,004 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:45,004 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:45,004 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:45,006 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s3] (custom)
2022-11-16 04:24:45,024 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-4B73E7095C76:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER, s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER] returns group-4B73E7095C76:java.util.concurrent.CompletableFuture@6f0fa5df[Not completed]
2022-11-16 04:24:45,024 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s4, group-4B73E7095C76:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER, s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:45,024 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s4
2022-11-16 04:24:45,024 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s4 does not exist.
2022-11-16 04:24:45,024 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s4
2022-11-16 04:24:45,029 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:45,029 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:45,029 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:45,029 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:45,030 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:45,031 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:45,031 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s4] (custom)
2022-11-16 04:24:45,032 [pool-56-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-4B73E7095C76:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER, s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:45,032 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:45,032 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:45,032 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:45,032 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:45,034 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:45,035 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:45,035 [pool-56-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-4B73E7095C76: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:45,035 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:45,035 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:45,035 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:45,036 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:45,036 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:45,040 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:45,045 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s4: addNew group-4B73E7095C76:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER, s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER] returns group-4B73E7095C76:java.util.concurrent.CompletableFuture@3d4925ac[Not completed]
2022-11-16 04:24:45,046 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-4B73E7095C76:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER, s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:45,046 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s0
2022-11-16 04:24:45,046 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s0 does not exist.
2022-11-16 04:24:45,046 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s0
2022-11-16 04:24:45,046 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:45,047 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:45,047 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:45,047 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:45,047 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:45,047 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:45,048 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s0] (custom)
2022-11-16 04:24:45,048 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:45,048 [pool-57-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s4: new RaftServerImpl for group-4B73E7095C76:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER, s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:45,053 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:45,054 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:45,054 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:45,054 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:45,054 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:45,054 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:45,054 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:45,055 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:45,055 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:45,055 [pool-57-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-4B73E7095C76: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:45,055 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:45,055 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:45,055 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:45,055 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:45,056 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:45,058 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:45,058 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:45,058 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:45,058 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:45,058 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:45,061 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-4B73E7095C76:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER, s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER] returns group-4B73E7095C76:java.util.concurrent.CompletableFuture@239f820f[Not completed]
2022-11-16 04:24:45,062 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-4B73E7095C76:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER, s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:45,062 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s1
2022-11-16 04:24:45,062 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s1 does not exist.
2022-11-16 04:24:45,062 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s1
2022-11-16 04:24:45,062 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:45,063 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:45,063 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:45,063 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:45,063 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:45,063 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:45,063 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s1] (custom)
2022-11-16 04:24:45,069 [pool-58-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-4B73E7095C76:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER, s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:45,070 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:45,070 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:45,070 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:45,070 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:45,070 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:45,070 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:45,070 [pool-58-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-4B73E7095C76: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:45,071 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:45,071 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:45,071 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:45,071 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:45,071 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:45,071 [pool-59-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-4B73E7095C76:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER, s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:45,071 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-4B73E7095C76:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER, s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER] returns group-4B73E7095C76:java.util.concurrent.CompletableFuture@6232117b[Not completed]
2022-11-16 04:24:45,074 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-4B73E7095C76:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER, s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:45,074 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s2
2022-11-16 04:24:45,073 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:45,074 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s2 does not exist.
2022-11-16 04:24:45,074 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:45,074 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s2
2022-11-16 04:24:45,075 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:45,075 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:45,075 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:45,075 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:45,075 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:45,075 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:45,075 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:45,076 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:45,076 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:45,076 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s2] (custom)
2022-11-16 04:24:45,076 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:45,076 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:45,076 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:45,077 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:45,077 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:45,077 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:45,077 [pool-59-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-4B73E7095C76: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:45,077 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:45,077 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:45,077 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:45,078 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:45,078 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:45,079 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:45,082 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:45,082 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:45,082 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:45,082 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:45,092 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-4B73E7095C76:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER, s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER] returns group-4B73E7095C76:java.util.concurrent.CompletableFuture@49a6cf35[Not completed]
2022-11-16 04:24:45,093 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:45,093 [pool-60-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-4B73E7095C76:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER, s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:45,093 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:45,093 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:45,094 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s3] (custom)
2022-11-16 04:24:45,094 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:45,094 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:45,094 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s3/de865891-bcf9-42be-8d8a-4b73e7095c76 does not exist. Creating ...
2022-11-16 04:24:45,094 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:45,094 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:45,094 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:45,094 [pool-60-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-4B73E7095C76: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:45,094 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s3/de865891-bcf9-42be-8d8a-4b73e7095c76
2022-11-16 04:24:45,094 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:45,095 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:45,095 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:45,095 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:45,095 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:45,096 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s3/de865891-bcf9-42be-8d8a-4b73e7095c76/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:45,096 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s3/de865891-bcf9-42be-8d8a-4b73e7095c76/current
2022-11-16 04:24:45,097 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s3/de865891-bcf9-42be-8d8a-4b73e7095c76/sm
2022-11-16 04:24:45,098 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s3/de865891-bcf9-42be-8d8a-4b73e7095c76 has been successfully formatted.
2022-11-16 04:24:45,098 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:45,098 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:45,098 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:45,098 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:45,098 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:45,099 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:45,100 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:45,100 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:45,100 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s3@group-4B73E7095C76-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s3/de865891-bcf9-42be-8d8a-4b73e7095c76
2022-11-16 04:24:45,100 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:45,100 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:45,100 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:45,100 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:45,100 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:45,100 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:45,100 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:45,100 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:45,104 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:45,101 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:45,104 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:45,104 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:45,105 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:45,105 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:45,105 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:45,106 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:45,106 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:45,106 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:45,107 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-4B73E7095C76-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:45,107 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-4B73E7095C76-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:45,110 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(341)) - s3@group-4B73E7095C76: start as a listener, conf=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:45,111 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-4B73E7095C76: changes role from      null to LISTENER at term 0 for startAsListener
2022-11-16 04:24:45,111 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-4B73E7095C76-FollowerState
2022-11-16 04:24:45,122 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4B73E7095C76,id=s3
2022-11-16 04:24:45,122 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:45,123 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:45,123 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:45,123 [s3@group-4B73E7095C76-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:45,123 [s3@group-4B73E7095C76-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:45,129 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s3: start RPC server
2022-11-16 04:24:45,131 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:45,131 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:45,131 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s4] (custom)
2022-11-16 04:24:45,131 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s4/de865891-bcf9-42be-8d8a-4b73e7095c76 does not exist. Creating ...
2022-11-16 04:24:45,132 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s4/de865891-bcf9-42be-8d8a-4b73e7095c76
2022-11-16 04:24:45,133 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s4/de865891-bcf9-42be-8d8a-4b73e7095c76/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:45,133 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s4/de865891-bcf9-42be-8d8a-4b73e7095c76/current
2022-11-16 04:24:45,133 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s4/de865891-bcf9-42be-8d8a-4b73e7095c76/sm
2022-11-16 04:24:45,134 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s4/de865891-bcf9-42be-8d8a-4b73e7095c76 has been successfully formatted.
2022-11-16 04:24:45,135 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:45,135 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:45,135 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:45,135 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:45,135 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:45,136 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:45,136 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:45,136 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:45,136 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s4@group-4B73E7095C76-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s4/de865891-bcf9-42be-8d8a-4b73e7095c76
2022-11-16 04:24:45,136 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:45,136 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:45,136 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:45,136 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:45,136 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:45,136 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:45,137 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:45,137 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:45,137 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:45,137 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:45,138 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:45,138 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:45,138 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:45,138 [JvmPauseMonitor55] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s3: Started
2022-11-16 04:24:45,138 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-4B73E7095C76-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:45,141 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-4B73E7095C76-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:45,146 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(341)) - s4@group-4B73E7095C76: start as a listener, conf=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:45,146 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-4B73E7095C76: changes role from      null to LISTENER at term 0 for startAsListener
2022-11-16 04:24:45,146 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-4B73E7095C76-FollowerState
2022-11-16 04:24:45,149 [s4@group-4B73E7095C76-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:45,149 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4B73E7095C76,id=s4
2022-11-16 04:24:45,151 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:45,151 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:45,151 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:45,151 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s4: start RPC server
2022-11-16 04:24:45,150 [s4@group-4B73E7095C76-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:45,156 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:45,156 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:45,157 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s0] (custom)
2022-11-16 04:24:45,157 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s0/de865891-bcf9-42be-8d8a-4b73e7095c76 does not exist. Creating ...
2022-11-16 04:24:45,157 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s0/de865891-bcf9-42be-8d8a-4b73e7095c76
2022-11-16 04:24:45,159 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s0/de865891-bcf9-42be-8d8a-4b73e7095c76/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:45,159 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s0/de865891-bcf9-42be-8d8a-4b73e7095c76/current
2022-11-16 04:24:45,159 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s0/de865891-bcf9-42be-8d8a-4b73e7095c76/sm
2022-11-16 04:24:45,160 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s0/de865891-bcf9-42be-8d8a-4b73e7095c76 has been successfully formatted.
2022-11-16 04:24:45,160 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:45,161 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:45,161 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:45,161 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:45,161 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:45,161 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:45,162 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:45,162 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:45,162 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-4B73E7095C76-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s0/de865891-bcf9-42be-8d8a-4b73e7095c76
2022-11-16 04:24:45,162 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:45,162 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:45,162 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:45,162 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:45,162 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:45,162 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:45,162 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:45,162 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:45,162 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:45,162 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:45,163 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:45,163 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:45,163 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:45,160 [JvmPauseMonitor56] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s4: Started
2022-11-16 04:24:45,166 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-4B73E7095C76-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:45,166 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-4B73E7095C76-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:45,167 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-4B73E7095C76: start as a follower, conf=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:45,167 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-4B73E7095C76: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:45,167 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-4B73E7095C76-FollowerState
2022-11-16 04:24:45,173 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4B73E7095C76,id=s0
2022-11-16 04:24:45,174 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:45,174 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:45,174 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:45,176 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-16 04:24:45,181 [s0@group-4B73E7095C76-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:45,181 [s0@group-4B73E7095C76-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:45,181 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:45,181 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:45,182 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s1] (custom)
2022-11-16 04:24:45,182 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s1/de865891-bcf9-42be-8d8a-4b73e7095c76 does not exist. Creating ...
2022-11-16 04:24:45,182 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s1/de865891-bcf9-42be-8d8a-4b73e7095c76
2022-11-16 04:24:45,183 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s1/de865891-bcf9-42be-8d8a-4b73e7095c76/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:45,184 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s1/de865891-bcf9-42be-8d8a-4b73e7095c76/current
2022-11-16 04:24:45,184 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s1/de865891-bcf9-42be-8d8a-4b73e7095c76/sm
2022-11-16 04:24:45,185 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s1/de865891-bcf9-42be-8d8a-4b73e7095c76 has been successfully formatted.
2022-11-16 04:24:45,185 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:45,185 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:45,185 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:45,186 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:45,186 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:45,186 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:45,186 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:45,186 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:45,186 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-4B73E7095C76-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s1/de865891-bcf9-42be-8d8a-4b73e7095c76
2022-11-16 04:24:45,186 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:45,186 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:45,186 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:45,186 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:45,187 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:45,187 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:45,187 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:45,187 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:45,187 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:45,187 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:45,188 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:45,188 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:45,188 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:45,188 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-4B73E7095C76-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:45,188 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-4B73E7095C76-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:45,193 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-4B73E7095C76: start as a follower, conf=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:45,193 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-4B73E7095C76: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:45,194 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-4B73E7095C76-FollowerState
2022-11-16 04:24:45,194 [JvmPauseMonitor57] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-16 04:24:45,197 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4B73E7095C76,id=s1
2022-11-16 04:24:45,198 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:45,198 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:45,198 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:45,198 [s1@group-4B73E7095C76-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:45,198 [s1@group-4B73E7095C76-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:45,199 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-16 04:24:45,201 [JvmPauseMonitor58] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-16 04:24:45,201 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:45,201 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:45,201 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s2] (custom)
2022-11-16 04:24:45,201 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s2/de865891-bcf9-42be-8d8a-4b73e7095c76 does not exist. Creating ...
2022-11-16 04:24:45,202 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s2/de865891-bcf9-42be-8d8a-4b73e7095c76
2022-11-16 04:24:45,203 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s2/de865891-bcf9-42be-8d8a-4b73e7095c76/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:45,203 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s2/de865891-bcf9-42be-8d8a-4b73e7095c76/current
2022-11-16 04:24:45,203 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s2/de865891-bcf9-42be-8d8a-4b73e7095c76/sm
2022-11-16 04:24:45,204 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s2/de865891-bcf9-42be-8d8a-4b73e7095c76 has been successfully formatted.
2022-11-16 04:24:45,204 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:45,204 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:45,205 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:45,205 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:45,205 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:45,205 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:45,205 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:45,205 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:45,206 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-4B73E7095C76-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s2/de865891-bcf9-42be-8d8a-4b73e7095c76
2022-11-16 04:24:45,206 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:45,206 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:45,206 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:45,206 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:45,206 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:45,206 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:45,206 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:45,206 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:45,206 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:45,206 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:45,207 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:45,207 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:45,207 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:45,207 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-4B73E7095C76-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:45,207 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-4B73E7095C76-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:45,213 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-4B73E7095C76: start as a follower, conf=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:45,213 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-4B73E7095C76: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:45,213 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-4B73E7095C76-FollowerState
2022-11-16 04:24:45,213 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4B73E7095C76,id=s2
2022-11-16 04:24:45,213 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:45,213 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:45,213 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:45,214 [s2@group-4B73E7095C76-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:45,214 [s2@group-4B73E7095C76-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:45,214 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-16 04:24:45,215 [JvmPauseMonitor59] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-16 04:24:45,216 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:45,216 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-4B73E7095C76:t0, leader=null, voted=, raftlog=Memoized:s3@group-4B73E7095C76-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-4B73E7095C76:t0, leader=null, voted=, raftlog=Memoized:s4@group-4B73E7095C76-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-4B73E7095C76:t0, leader=null, voted=, raftlog=Memoized:s0@group-4B73E7095C76-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4B73E7095C76:t0, leader=null, voted=, raftlog=Memoized:s1@group-4B73E7095C76-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-4B73E7095C76:t0, leader=null, voted=, raftlog=Memoized:s2@group-4B73E7095C76-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null RUNNING
2022-11-16 04:24:45,217 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-4B73E7095C76:t0, leader=null, voted=, raftlog=Memoized:s3@group-4B73E7095C76-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-4B73E7095C76:t0, leader=null, voted=, raftlog=Memoized:s4@group-4B73E7095C76-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-4B73E7095C76:t0, leader=null, voted=, raftlog=Memoized:s0@group-4B73E7095C76-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4B73E7095C76:t0, leader=null, voted=, raftlog=Memoized:s1@group-4B73E7095C76-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-4B73E7095C76:t0, leader=null, voted=, raftlog=Memoized:s2@group-4B73E7095C76-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-4B73E7095C76:t0, leader=null, voted=, raftlog=Memoized:s3@group-4B73E7095C76-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-4B73E7095C76:t0, leader=null, voted=, raftlog=Memoized:s4@group-4B73E7095C76-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-4B73E7095C76:t0, leader=null, voted=, raftlog=Memoized:s0@group-4B73E7095C76-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4B73E7095C76:t0, leader=null, voted=, raftlog=Memoized:s1@group-4B73E7095C76-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-4B73E7095C76:t0, leader=null, voted=, raftlog=Memoized:s2@group-4B73E7095C76-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestLeaderNotCountListenerForMajority(LeaderElectionTests.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:129)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLeaderNotCountListenerForMajority(LeaderElectionTests.java:135)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:45,344 [s4@group-4B73E7095C76-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:45,344 [s4@group-4B73E7095C76-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:45,369 [s3@group-4B73E7095C76-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:45,370 [s3@group-4B73E7095C76-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:45,374 [s1@group-4B73E7095C76-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-4B73E7095C76-FollowerState: change to CANDIDATE, lastRpcElapsedTime:180846404ns, electionTimeout:176ms
2022-11-16 04:24:45,375 [s1@group-4B73E7095C76-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-4B73E7095C76-FollowerState
2022-11-16 04:24:45,375 [s1@group-4B73E7095C76-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-4B73E7095C76: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-16 04:24:45,375 [s1@group-4B73E7095C76-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:45,375 [s1@group-4B73E7095C76-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-4B73E7095C76-LeaderElection91
2022-11-16 04:24:45,376 [s1@group-4B73E7095C76-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-4B73E7095C76-LeaderElection91 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:45,379 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-4B73E7095C76: receive requestVote(PRE_VOTE, s1, group-4B73E7095C76, 0, (t:0, i:0))
2022-11-16 04:24:45,379 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-4B73E7095C76-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:45,379 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-4B73E7095C76 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-4B73E7095C76:t0, leader=null, voted=, raftlog=Memoized:s0@group-4B73E7095C76-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:45,381 [s1@group-4B73E7095C76-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:45,381 [s1@group-4B73E7095C76-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:45,382 [s1@group-4B73E7095C76-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-4B73E7095C76-LeaderElection91: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:45,382 [s1@group-4B73E7095C76-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2022-11-16 04:24:45,382 [s1@group-4B73E7095C76-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-4B73E7095C76-LeaderElection91 PRE_VOTE round 0: result PASSED
2022-11-16 04:24:45,383 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-4B73E7095C76: receive requestVote(PRE_VOTE, s1, group-4B73E7095C76, 0, (t:0, i:0))
2022-11-16 04:24:45,383 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-4B73E7095C76-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:45,384 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-4B73E7095C76 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-4B73E7095C76:t0, leader=null, voted=, raftlog=Memoized:s2@group-4B73E7095C76-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:45,384 [s1@group-4B73E7095C76-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-4B73E7095C76-LeaderElection91 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:45,389 [s1@group-4B73E7095C76-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:45,389 [s1@group-4B73E7095C76-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:45,390 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-4B73E7095C76: receive requestVote(ELECTION, s1, group-4B73E7095C76, 1, (t:0, i:0))
2022-11-16 04:24:45,390 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-4B73E7095C76-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:45,390 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-4B73E7095C76: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-11-16 04:24:45,390 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-4B73E7095C76-FollowerState
2022-11-16 04:24:45,390 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-4B73E7095C76-FollowerState
2022-11-16 04:24:45,390 [s0@group-4B73E7095C76-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-4B73E7095C76-FollowerState was interrupted
2022-11-16 04:24:45,391 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-4B73E7095C76: receive requestVote(ELECTION, s1, group-4B73E7095C76, 1, (t:0, i:0))
2022-11-16 04:24:45,391 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-4B73E7095C76-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-16 04:24:45,391 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-4B73E7095C76: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-11-16 04:24:45,391 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-4B73E7095C76-FollowerState
2022-11-16 04:24:45,391 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-4B73E7095C76-FollowerState
2022-11-16 04:24:45,391 [s2@group-4B73E7095C76-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-4B73E7095C76-FollowerState was interrupted
2022-11-16 04:24:45,392 [s0@group-4B73E7095C76-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:45,393 [s0@group-4B73E7095C76-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:45,393 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-4B73E7095C76 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-4B73E7095C76:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-4B73E7095C76-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:45,394 [s2@group-4B73E7095C76-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:45,394 [s1@group-4B73E7095C76-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-4B73E7095C76-LeaderElection91: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:45,394 [s1@group-4B73E7095C76-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2022-11-16 04:24:45,394 [s1@group-4B73E7095C76-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-4B73E7095C76-LeaderElection91 ELECTION round 0: result PASSED
2022-11-16 04:24:45,394 [s2@group-4B73E7095C76-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:45,394 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-4B73E7095C76 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-4B73E7095C76:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-4B73E7095C76-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:45,396 [s1@group-4B73E7095C76-LeaderElection91] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-4B73E7095C76-LeaderElection91
2022-11-16 04:24:45,396 [s1@group-4B73E7095C76-LeaderElection91] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-4B73E7095C76: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-16 04:24:45,396 [s1@group-4B73E7095C76-LeaderElection91] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-4B73E7095C76: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 319ms
2022-11-16 04:24:45,396 [s1@group-4B73E7095C76-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:45,397 [s1@group-4B73E7095C76-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:45,397 [s1@group-4B73E7095C76-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:45,397 [s1@group-4B73E7095C76-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:45,397 [s1@group-4B73E7095C76-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:45,397 [s1@group-4B73E7095C76-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:45,397 [s1@group-4B73E7095C76-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:45,397 [s1@group-4B73E7095C76-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:45,397 [s1@group-4B73E7095C76-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:45,397 [s1@group-4B73E7095C76-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:45,397 [s1@group-4B73E7095C76-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:45,398 [s1@group-4B73E7095C76-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:45,398 [s1@group-4B73E7095C76-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:45,398 [s1@group-4B73E7095C76-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:45,398 [s1@group-4B73E7095C76-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:45,398 [s1@group-4B73E7095C76-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:45,398 [s1@group-4B73E7095C76-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:45,398 [s1@group-4B73E7095C76-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:45,398 [s1@group-4B73E7095C76-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:45,398 [s1@group-4B73E7095C76-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:45,398 [s1@group-4B73E7095C76-LeaderElection91] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-4B73E7095C76-LeaderStateImpl
2022-11-16 04:24:45,398 [s1@group-4B73E7095C76-LeaderElection91] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-4B73E7095C76-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:45,410 [s1@group-4B73E7095C76-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-4B73E7095C76-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s1/de865891-bcf9-42be-8d8a-4b73e7095c76/current/log_inprogress_0
2022-11-16 04:24:45,417 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-4B73E7095C76: change Leader from null to s1 at term 1 for appendEntries, leader elected after 346ms
2022-11-16 04:24:45,418 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-4B73E7095C76: change Leader from null to s1 at term 1 for appendEntries, leader elected after 323ms
2022-11-16 04:24:45,424 [s1@group-4B73E7095C76-LeaderElection91] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-4B73E7095C76: set configuration 0: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:45,426 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-4B73E7095C76: receive appendEntries(s1, 1, null, 0, true, commits:[s1:c0, s0:c-1, s2:c-1, s3:c-1, s4:c-1], cId:3293, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:35415"
dataStreamAddress: "localhost:36995"
clientAddress: "localhost:38395"
adminAddress: "localhost:37373"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43759"
dataStreamAddress: "localhost:45677"
clientAddress: "localhost:45463"
adminAddress: "localhost:35915"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42145"
dataStreamAddress: "localhost:46037"
clientAddress: "localhost:33733"
adminAddress: "localhost:33027"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:45,426 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-4B73E7095C76: set configuration 0: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:45,426 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-4B73E7095C76-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:45,427 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-4B73E7095C76: change Leader from null to s1 at term 1 for appendEntries, leader elected after 391ms
2022-11-16 04:24:45,435 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4B73E7095C76: receive appendEntries(s1, 1, null, 0, true, commits:[s1:c0, s0:c-1, s2:c-1, s3:c-1, s4:c-1], cId:3296, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:35415"
dataStreamAddress: "localhost:36995"
clientAddress: "localhost:38395"
adminAddress: "localhost:37373"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43759"
dataStreamAddress: "localhost:45677"
clientAddress: "localhost:45463"
adminAddress: "localhost:35915"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42145"
dataStreamAddress: "localhost:46037"
clientAddress: "localhost:33733"
adminAddress: "localhost:33027"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:45,435 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-4B73E7095C76: set configuration 0: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:45,435 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-4B73E7095C76-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:45,437 [s0@group-4B73E7095C76-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-4B73E7095C76-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s0/de865891-bcf9-42be-8d8a-4b73e7095c76/current/log_inprogress_0
2022-11-16 04:24:45,438 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-4B73E7095C76: receive appendEntries(s1, 1, null, 0, false, commits:[s1:c0, s0:c-1, s2:c-1, s3:c-1, s4:c-1], cId:3297, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:35415"
dataStreamAddress: "localhost:36995"
clientAddress: "localhost:38395"
adminAddress: "localhost:37373"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43759"
dataStreamAddress: "localhost:45677"
clientAddress: "localhost:45463"
adminAddress: "localhost:35915"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42145"
dataStreamAddress: "localhost:46037"
clientAddress: "localhost:33733"
adminAddress: "localhost:33027"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:45,439 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s3@group-4B73E7095C76: set configuration 0: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:45,439 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s3@group-4B73E7095C76-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:45,441 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s4@group-4B73E7095C76: change Leader from null to s1 at term 1 for appendEntries, leader elected after 386ms
2022-11-16 04:24:45,442 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-4B73E7095C76: succeeded to handle AppendEntries. Reply: s1<-s0#3293:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-16 04:24:45,448 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-4B73E7095C76: receive appendEntries(s1, 1, null, 0, false, commits:[s1:c0, s0:c0, s2:c-1, s3:c-1, s4:c-1], cId:3298, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:35415"
dataStreamAddress: "localhost:36995"
clientAddress: "localhost:38395"
adminAddress: "localhost:37373"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43759"
dataStreamAddress: "localhost:45677"
clientAddress: "localhost:45463"
adminAddress: "localhost:35915"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42145"
dataStreamAddress: "localhost:46037"
clientAddress: "localhost:33733"
adminAddress: "localhost:33027"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:45,448 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s4@group-4B73E7095C76: set configuration 0: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null
2022-11-16 04:24:45,449 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s4@group-4B73E7095C76-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:45,456 [s2@group-4B73E7095C76-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-4B73E7095C76-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s2/de865891-bcf9-42be-8d8a-4b73e7095c76/current/log_inprogress_0
2022-11-16 04:24:45,457 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4B73E7095C76: succeeded to handle AppendEntries. Reply: s1<-s2#3296:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-16 04:24:45,457 [s3@group-4B73E7095C76-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s3@group-4B73E7095C76-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s3/de865891-bcf9-42be-8d8a-4b73e7095c76/current/log_inprogress_0
2022-11-16 04:24:45,469 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-4B73E7095C76: succeeded to handle AppendEntries. Reply: s1<-s3#3297:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-16 04:24:45,470 [s4@group-4B73E7095C76-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s4@group-4B73E7095C76-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpc9f45eeed/s4/de865891-bcf9-42be-8d8a-4b73e7095c76/current/log_inprogress_0
2022-11-16 04:24:45,470 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-4B73E7095C76: succeeded to handle AppendEntries. Reply: s1<-s4#3298:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-16 04:24:45,668 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-4B73E7095C76:t1, leader=s1, voted=null, raftlog=Memoized:s3@group-4B73E7095C76-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-4B73E7095C76:t1, leader=s1, voted=null, raftlog=Memoized:s4@group-4B73E7095C76-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-4B73E7095C76:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-4B73E7095C76-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-4B73E7095C76:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-4B73E7095C76-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-4B73E7095C76:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-4B73E7095C76-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER], old=null RUNNING
2022-11-16 04:24:45,668 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:45,678 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s1@group-4B73E7095C76: receive client request(RaftClientRequest:client-6AB4D82EC213->s1@group-4B73E7095C76, cid=3327, seq=0, RW, message)
2022-11-16 04:24:45,679 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(410)) - s1@group-4B73E7095C76-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-6AB4D82EC213->s1@group-4B73E7095C76, cid=3327, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 3327@client-6AB4D82EC213
2022-11-16 04:24:45,680 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-4B73E7095C76: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0, s3:c0, s4:c0], cId:3330, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 3327@client-6AB4D82EC213]
2022-11-16 04:24:45,680 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-4B73E7095C76: succeeded to handle AppendEntries. Reply: s1<-s0#3330:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-16 04:24:45,681 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4B73E7095C76: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0, s3:c0, s4:c0], cId:3331, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 3327@client-6AB4D82EC213]
2022-11-16 04:24:45,681 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-4B73E7095C76: receive appendEntries(s1, 1, (t:1, i:0), 0, false, commits:[s1:c0, s0:c0, s2:c0, s3:c0, s4:c0], cId:3332, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 3327@client-6AB4D82EC213]
2022-11-16 04:24:45,682 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-4B73E7095C76: receive appendEntries(s1, 1, (t:1, i:0), 0, false, commits:[s1:c0, s0:c0, s2:c0, s3:c0, s4:c0], cId:3333, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 3327@client-6AB4D82EC213]
2022-11-16 04:24:45,682 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-4B73E7095C76: succeeded to handle AppendEntries. Reply: s1<-s3#3332:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-16 04:24:45,683 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-4B73E7095C76: succeeded to handle AppendEntries. Reply: s1<-s4#3333:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-16 04:24:45,684 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4B73E7095C76: succeeded to handle AppendEntries. Reply: s1<-s2#3331:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-16 04:24:45,684 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-4B73E7095C76: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0, s3:c0, s4:c0], cId:3334, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-16 04:24:45,685 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-4B73E7095C76: receive appendEntries(s1, 1, (t:1, i:1), 1, false, commits:[s1:c1, s0:c0, s2:c0, s3:c0, s4:c0], cId:3335, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-16 04:24:45,686 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-4B73E7095C76: succeeded to handle AppendEntries. Reply: s1<-s0#3334:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-16 04:24:45,686 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-4B73E7095C76: succeeded to handle AppendEntries. Reply: s1<-s3#3335:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-16 04:24:45,688 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-4B73E7095C76: receive appendEntries(s1, 1, (t:1, i:1), 1, false, commits:[s1:c1, s0:c0, s2:c0, s3:c0, s4:c0], cId:3336, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-16 04:24:45,689 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4B73E7095C76: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0, s3:c0, s4:c0], cId:3337, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-16 04:24:45,689 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-4B73E7095C76: succeeded to handle AppendEntries. Reply: s1<-s4#3336:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-16 04:24:45,690 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4B73E7095C76: succeeded to handle AppendEntries. Reply: s1<-s2#3337:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-16 04:24:45,698 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1188)) - s1@group-4B73E7095C76: receive setConfiguration SetConfigurationRequest:client-6AB4D82EC213->s1@group-4B73E7095C76, cid=3338, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s3|priority:0|startupRole:FOLLOWER, s4|priority:0|startupRole:FOLLOWER, s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER], listeners:[]
2022-11-16 04:24:45,698 [s1-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(377)) - s1@group-4B73E7095C76-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-6AB4D82EC213->s1@group-4B73E7095C76, cid=3338, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s3|priority:0|startupRole:FOLLOWER, s4|priority:0|startupRole:FOLLOWER, s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER], listeners:[]
2022-11-16 04:24:45,699 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-4B73E7095C76: set configuration 3: peers:[s3|priority:0|startupRole:FOLLOWER, s4|priority:0|startupRole:FOLLOWER, s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER]
2022-11-16 04:24:45,700 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-4B73E7095C76: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits:[s1:c2, s0:c1, s2:c1, s3:c1, s4:c1], cId:3339, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:35415"
dataStreamAddress: "localhost:36995"
clientAddress: "localhost:38395"
adminAddress: "localhost:37373"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43759"
dataStreamAddress: "localhost:45677"
clientAddress: "localhost:45463"
adminAddress: "localhost:35915"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42145"
dataStreamAddress: "localhost:46037"
clientAddress: "localhost:33733"
adminAddress: "localhost:33027"
startupRole: FOLLOWER
)]
2022-11-16 04:24:45,700 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-4B73E7095C76: set configuration 3: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER]
2022-11-16 04:24:45,701 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-4B73E7095C76: succeeded to handle AppendEntries. Reply: s1<-s0#3339:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-16 04:24:45,702 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4B73E7095C76: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits:[s1:c2, s0:c1, s2:c1, s3:c1, s4:c1], cId:3340, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:35415"
dataStreamAddress: "localhost:36995"
clientAddress: "localhost:38395"
adminAddress: "localhost:37373"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43759"
dataStreamAddress: "localhost:45677"
clientAddress: "localhost:45463"
adminAddress: "localhost:35915"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42145"
dataStreamAddress: "localhost:46037"
clientAddress: "localhost:33733"
adminAddress: "localhost:33027"
startupRole: FOLLOWER
)]
2022-11-16 04:24:45,702 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-4B73E7095C76: set configuration 3: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER]
2022-11-16 04:24:45,702 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-4B73E7095C76: receive appendEntries(s1, 1, (t:1, i:2), 2, false, commits:[s1:c2, s0:c2, s2:c1, s3:c1, s4:c1], cId:3341, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:35415"
dataStreamAddress: "localhost:36995"
clientAddress: "localhost:38395"
adminAddress: "localhost:37373"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43759"
dataStreamAddress: "localhost:45677"
clientAddress: "localhost:45463"
adminAddress: "localhost:35915"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42145"
dataStreamAddress: "localhost:46037"
clientAddress: "localhost:33733"
adminAddress: "localhost:33027"
startupRole: FOLLOWER
)]
2022-11-16 04:24:45,703 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s3@group-4B73E7095C76: set configuration 3: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER]
2022-11-16 04:24:45,703 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-4B73E7095C76: receive appendEntries(s1, 1, (t:1, i:2), 2, false, commits:[s1:c2, s0:c2, s2:c1, s3:c1, s4:c1], cId:3342, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:35415"
dataStreamAddress: "localhost:36995"
clientAddress: "localhost:38395"
adminAddress: "localhost:37373"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43759"
dataStreamAddress: "localhost:45677"
clientAddress: "localhost:45463"
adminAddress: "localhost:35915"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42145"
dataStreamAddress: "localhost:46037"
clientAddress: "localhost:33733"
adminAddress: "localhost:33027"
startupRole: FOLLOWER
)]
2022-11-16 04:24:45,703 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s4@group-4B73E7095C76: set configuration 3: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:35415|admin:localhost:37373|client:localhost:38395|dataStream:localhost:36995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43759|admin:localhost:35915|client:localhost:45463|dataStream:localhost:45677|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42145|admin:localhost:33027|client:localhost:33733|dataStream:localhost:46037|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:38515|admin:localhost:39877|client:localhost:34297|dataStream:localhost:37805|priority:0|startupRole:LISTENER, s4|rpc:localhost:38255|admin:localhost:33573|client:localhost:39251|dataStream:localhost:45741|priority:0|startupRole:LISTENER]
2022-11-16 04:24:45,704 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4B73E7095C76: succeeded to handle AppendEntries. Reply: s1<-s2#3340:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-16 04:24:45,704 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-4B73E7095C76: succeeded to handle AppendEntries. Reply: s1<-s3#3341:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-16 04:24:45,704 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-4B73E7095C76: succeeded to handle AppendEntries. Reply: s1<-s4#3342:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-16 04:24:45,705 [s1@group-4B73E7095C76-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-4B73E7095C76: set configuration 5: peers:[s3|priority:0|startupRole:FOLLOWER, s4|priority:0|startupRole:FOLLOWER, s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:45,706 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-4B73E7095C76: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c2, s2:c2, s3:c2, s4:c2], cId:3343, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:45,706 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-4B73E7095C76: set configuration 5: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:45,707 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-4B73E7095C76: receive appendEntries(s1, 1, (t:1, i:3), 3, false, commits:[s1:c3, s0:c2, s2:c2, s3:c2, s4:c2], cId:3344, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:45,707 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s3@group-4B73E7095C76: set configuration 5: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:45,707 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-4B73E7095C76: succeeded to handle AppendEntries. Reply: s1<-s0#3343:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-16 04:24:45,708 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-4B73E7095C76: succeeded to handle AppendEntries. Reply: s1<-s3#3344:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-16 04:24:45,708 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4B73E7095C76: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c3, s2:c2, s3:c2, s4:c2], cId:3345, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:45,708 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-4B73E7095C76: receive appendEntries(s1, 1, (t:1, i:3), 3, false, commits:[s1:c3, s0:c3, s2:c2, s3:c2, s4:c2], cId:3346, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:45,708 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-4B73E7095C76: set configuration 5: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:45,709 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4B73E7095C76: succeeded to handle AppendEntries. Reply: s1<-s2#3345:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-16 04:24:45,709 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s4@group-4B73E7095C76: set configuration 5: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:45,711 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-4B73E7095C76: succeeded to handle AppendEntries. Reply: s1<-s4#3346:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-16 04:24:45,711 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-4B73E7095C76: receive appendEntries(s1, 1, (t:1, i:5), 5, false, commits:[s1:c5, s0:c3, s2:c3, s3:c3, s4:c2], cId:3348, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-16 04:24:45,711 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-4B73E7095C76: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits:[s1:c5, s0:c3, s2:c3, s3:c3, s4:c2], cId:3347, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-16 04:24:45,711 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4B73E7095C76: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits:[s1:c5, s0:c3, s2:c3, s3:c3, s4:c2], cId:3349, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-16 04:24:45,712 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-4B73E7095C76: receive appendEntries(s1, 1, (t:1, i:5), 5, false, commits:[s1:c5, s0:c3, s2:c3, s3:c3, s4:c3], cId:3350, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-16 04:24:45,712 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-4B73E7095C76: succeeded to handle AppendEntries. Reply: s1<-s3#3348:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-16 04:24:45,712 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-4B73E7095C76: succeeded to handle AppendEntries. Reply: s1<-s0#3347:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-16 04:24:45,712 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-4B73E7095C76: succeeded to handle AppendEntries. Reply: s1<-s2#3349:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-16 04:24:45,713 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-4B73E7095C76: succeeded to handle AppendEntries. Reply: s1<-s4#3350:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-16 04:24:45,718 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-16 04:24:45,718 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-16 04:24:45,718 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:45,718 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-16 04:24:45,718 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-16 04:24:45,718 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-4B73E7095C76:t1, leader=s1, voted=null, raftlog=Memoized:s3@group-4B73E7095C76-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-4B73E7095C76:t1, leader=s1, voted=null, raftlog=Memoized:s4@group-4B73E7095C76-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-4B73E7095C76:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-4B73E7095C76-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-4B73E7095C76:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-4B73E7095C76-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s3|priority:0|startupRole:FOLLOWER, s4|priority:0|startupRole:FOLLOWER, s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-4B73E7095C76:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-4B73E7095C76-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:45,726 [MiniRaftCluster-76] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s3: close
2022-11-16 04:24:45,726 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s3@group-4B73E7095C76: shutdown
2022-11-16 04:24:45,727 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4B73E7095C76,id=s3
2022-11-16 04:24:45,727 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-4B73E7095C76-FollowerState
2022-11-16 04:24:45,727 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-4B73E7095C76-StateMachineUpdater: set stopIndex = 5
2022-11-16 04:24:45,727 [s3@group-4B73E7095C76-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-4B73E7095C76-FollowerState was interrupted
2022-11-16 04:24:45,727 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s3@group-4B73E7095C76: applyIndex: 5
2022-11-16 04:24:45,727 [s3@group-4B73E7095C76-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s3@group-4B73E7095C76-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:45,728 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s3@group-4B73E7095C76-SegmentedRaftLogWorker close()
2022-11-16 04:24:45,728 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,729 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,729 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,729 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,729 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,729 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,729 [JvmPauseMonitor55] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s3: Stopped
2022-11-16 04:24:45,731 [MiniRaftCluster-77] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s4: close
2022-11-16 04:24:45,731 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s4@group-4B73E7095C76: shutdown
2022-11-16 04:24:45,731 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4B73E7095C76,id=s4
2022-11-16 04:24:45,731 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-4B73E7095C76-FollowerState
2022-11-16 04:24:45,731 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s4@group-4B73E7095C76-StateMachineUpdater: set stopIndex = 5
2022-11-16 04:24:45,731 [s4@group-4B73E7095C76-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-4B73E7095C76-FollowerState was interrupted
2022-11-16 04:24:45,731 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s4@group-4B73E7095C76: applyIndex: 5
2022-11-16 04:24:45,731 [s4@group-4B73E7095C76-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s4@group-4B73E7095C76-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:45,732 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s4@group-4B73E7095C76-SegmentedRaftLogWorker close()
2022-11-16 04:24:45,733 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,733 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,733 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,735 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,735 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,735 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,735 [JvmPauseMonitor56] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s4: Stopped
2022-11-16 04:24:45,738 [MiniRaftCluster-78] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-16 04:24:45,738 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-4B73E7095C76: shutdown
2022-11-16 04:24:45,738 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,738 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4B73E7095C76,id=s0
2022-11-16 04:24:45,738 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-4B73E7095C76-FollowerState
2022-11-16 04:24:45,738 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-4B73E7095C76-StateMachineUpdater: set stopIndex = 5
2022-11-16 04:24:45,738 [s0@group-4B73E7095C76-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-4B73E7095C76-FollowerState was interrupted
2022-11-16 04:24:45,738 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,738 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,738 [MiniRaftCluster-79] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-16 04:24:45,738 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-4B73E7095C76: shutdown
2022-11-16 04:24:45,738 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-4B73E7095C76: applyIndex: 5
2022-11-16 04:24:45,738 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4B73E7095C76,id=s1
2022-11-16 04:24:45,738 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-4B73E7095C76-LeaderStateImpl
2022-11-16 04:24:45,738 [s0@group-4B73E7095C76-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-4B73E7095C76-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:45,738 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-4B73E7095C76-PendingRequests: sendNotLeaderResponses
2022-11-16 04:24:45,738 [s1@group-4B73E7095C76->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-4B73E7095C76->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:45,738 [s1@group-4B73E7095C76->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-4B73E7095C76->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:45,739 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,739 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,739 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,738 [s1@group-4B73E7095C76->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-4B73E7095C76->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:45,738 [s1@group-4B73E7095C76->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-4B73E7095C76->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-16 04:24:45,739 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-4B73E7095C76-SegmentedRaftLogWorker close()
2022-11-16 04:24:45,740 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,740 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,740 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,740 [JvmPauseMonitor57] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-16 04:24:45,745 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,745 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,745 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,752 [MiniRaftCluster-80] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-16 04:24:45,752 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-4B73E7095C76: shutdown
2022-11-16 04:24:45,752 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,752 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4B73E7095C76,id=s2
2022-11-16 04:24:45,752 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-4B73E7095C76-FollowerState
2022-11-16 04:24:45,752 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-4B73E7095C76-StateMachineUpdater: set stopIndex = 5
2022-11-16 04:24:45,753 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,753 [s2@group-4B73E7095C76-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-4B73E7095C76-FollowerState was interrupted
2022-11-16 04:24:45,752 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,755 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-4B73E7095C76-StateMachineUpdater: set stopIndex = 6
2022-11-16 04:24:45,756 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-4B73E7095C76: applyIndex: 6
2022-11-16 04:24:45,756 [s1@group-4B73E7095C76-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-4B73E7095C76-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:45,756 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-4B73E7095C76: applyIndex: 5
2022-11-16 04:24:45,756 [s2@group-4B73E7095C76-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-4B73E7095C76-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-16 04:24:45,757 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-4B73E7095C76-SegmentedRaftLogWorker close()
2022-11-16 04:24:45,758 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-4B73E7095C76-SegmentedRaftLogWorker close()
2022-11-16 04:24:45,759 [JvmPauseMonitor58] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-16 04:24:45,759 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,760 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,760 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-16 04:24:45,761 [JvmPauseMonitor59] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-16 04:24:45,761 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-16 04:24:45,762 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-16 04:24:45,762 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-16 04:24:45,762 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-16 04:24:45,762 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-16 04:24:45,771 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:45,773 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-16 04:24:45,773 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-16 04:24:45,774 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-16 04:24:45,774 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-16 04:24:45,775 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-16 04:24:45,776 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-EBCF46EAD942:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER]
2022-11-16 04:24:45,776 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-16 04:24:45,776 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-16 04:24:45,776 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-16 04:24:45,776 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-16 04:24:45,776 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-16 04:24:45,776 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-16 04:24:45,776 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-EBCF46EAD942:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:45,777 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s0
2022-11-16 04:24:45,777 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s0 does not exist.
2022-11-16 04:24:45,777 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s0
2022-11-16 04:24:45,777 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:45,779 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:45,780 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:45,780 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:45,780 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:45,780 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:45,780 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s0] (custom)
2022-11-16 04:24:45,781 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-EBCF46EAD942:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER] returns group-EBCF46EAD942:java.util.concurrent.CompletableFuture@483a831e[Not completed]
2022-11-16 04:24:45,781 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-EBCF46EAD942:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:45,781 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s1
2022-11-16 04:24:45,781 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s1 does not exist.
2022-11-16 04:24:45,781 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s1
2022-11-16 04:24:45,781 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:45,781 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:45,782 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:45,782 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:45,782 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:45,782 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:45,782 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s1] (custom)
2022-11-16 04:24:45,782 [pool-61-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-EBCF46EAD942:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:45,782 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:45,782 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:45,783 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:45,783 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:45,783 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:45,783 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:45,783 [pool-61-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-EBCF46EAD942: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:45,783 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:45,783 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:45,783 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:45,783 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:45,783 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:45,784 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:45,784 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:45,784 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:45,784 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:45,784 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:45,785 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-EBCF46EAD942:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER] returns group-EBCF46EAD942:java.util.concurrent.CompletableFuture@625bbd5a[Not completed]
2022-11-16 04:24:45,785 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-EBCF46EAD942:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER], format? true
2022-11-16 04:24:45,785 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s2
2022-11-16 04:24:45,785 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s2 does not exist.
2022-11-16 04:24:45,785 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s2
2022-11-16 04:24:45,785 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-16 04:24:45,785 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-16 04:24:45,786 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-16 04:24:45,786 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-16 04:24:45,786 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:45,786 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:45,786 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s2] (custom)
2022-11-16 04:24:45,786 [pool-62-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-EBCF46EAD942:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:45,786 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:45,786 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:45,786 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:45,786 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:45,787 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:45,787 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:45,787 [pool-62-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-EBCF46EAD942: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:45,787 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:45,787 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:45,787 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:45,787 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:45,787 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:45,789 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:45,789 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:45,789 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:45,789 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:45,789 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:45,797 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-EBCF46EAD942:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER] returns group-EBCF46EAD942:java.util.concurrent.CompletableFuture@45253ad5[Not completed]
2022-11-16 04:24:45,798 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:45,798 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:45,798 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s0] (custom)
2022-11-16 04:24:45,798 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s0/f0a1ccf2-c9b7-49f3-bf13-ebcf46ead942 does not exist. Creating ...
2022-11-16 04:24:45,798 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s0/f0a1ccf2-c9b7-49f3-bf13-ebcf46ead942
2022-11-16 04:24:45,799 [pool-63-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-EBCF46EAD942:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-16 04:24:45,799 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-16 04:24:45,799 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:45,799 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-16 04:24:45,799 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-16 04:24:45,799 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-16 04:24:45,799 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-16 04:24:45,799 [pool-63-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-EBCF46EAD942: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-16 04:24:45,799 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-16 04:24:45,799 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-16 04:24:45,799 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-16 04:24:45,799 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-16 04:24:45,800 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-16 04:24:45,800 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s0/f0a1ccf2-c9b7-49f3-bf13-ebcf46ead942/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:45,800 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s0/f0a1ccf2-c9b7-49f3-bf13-ebcf46ead942/current
2022-11-16 04:24:45,800 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s0/f0a1ccf2-c9b7-49f3-bf13-ebcf46ead942/sm
2022-11-16 04:24:45,801 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-16 04:24:45,801 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-16 04:24:45,801 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-16 04:24:45,801 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-16 04:24:45,801 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-16 04:24:45,802 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s0/f0a1ccf2-c9b7-49f3-bf13-ebcf46ead942 has been successfully formatted.
2022-11-16 04:24:45,802 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:45,802 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:45,802 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:45,802 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:45,802 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:45,802 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:45,802 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:45,802 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:45,803 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-EBCF46EAD942-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s0/f0a1ccf2-c9b7-49f3-bf13-ebcf46ead942
2022-11-16 04:24:45,803 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:45,803 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:45,803 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:45,803 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:45,803 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:45,803 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:45,803 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:45,803 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:45,803 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:45,803 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:45,804 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:45,804 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:45,804 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:45,804 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-EBCF46EAD942-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:45,804 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-EBCF46EAD942-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:45,808 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-EBCF46EAD942: start as a follower, conf=-1: peers:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:45,808 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-EBCF46EAD942: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:45,808 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-EBCF46EAD942-FollowerState
2022-11-16 04:24:45,809 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-EBCF46EAD942,id=s0
2022-11-16 04:24:45,809 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:45,809 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:45,809 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:45,810 [s0@group-EBCF46EAD942-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:45,810 [s0@group-EBCF46EAD942-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:45,810 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-16 04:24:45,812 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:45,812 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:45,812 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s1] (custom)
2022-11-16 04:24:45,812 [JvmPauseMonitor60] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-16 04:24:45,812 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s1/f0a1ccf2-c9b7-49f3-bf13-ebcf46ead942 does not exist. Creating ...
2022-11-16 04:24:45,812 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s1/f0a1ccf2-c9b7-49f3-bf13-ebcf46ead942
2022-11-16 04:24:45,813 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s1/f0a1ccf2-c9b7-49f3-bf13-ebcf46ead942/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:45,814 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s1/f0a1ccf2-c9b7-49f3-bf13-ebcf46ead942/current
2022-11-16 04:24:45,814 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s1/f0a1ccf2-c9b7-49f3-bf13-ebcf46ead942/sm
2022-11-16 04:24:45,815 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s1/f0a1ccf2-c9b7-49f3-bf13-ebcf46ead942 has been successfully formatted.
2022-11-16 04:24:45,815 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:45,815 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:45,815 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:45,815 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:45,815 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:45,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:45,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:45,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:45,816 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-EBCF46EAD942-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s1/f0a1ccf2-c9b7-49f3-bf13-ebcf46ead942
2022-11-16 04:24:45,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:45,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:45,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:45,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:45,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:45,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:45,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:45,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:45,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:45,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:45,817 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:45,817 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:45,817 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:45,817 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-EBCF46EAD942-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:45,817 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-EBCF46EAD942-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:45,819 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-EBCF46EAD942: start as a follower, conf=-1: peers:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:45,819 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-EBCF46EAD942: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:45,819 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-EBCF46EAD942-FollowerState
2022-11-16 04:24:45,819 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-EBCF46EAD942,id=s1
2022-11-16 04:24:45,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:45,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:45,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:45,833 [s1@group-EBCF46EAD942-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:45,833 [s1@group-EBCF46EAD942-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:45,833 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-16 04:24:45,835 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-16 04:24:45,835 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-16 04:24:45,835 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s2] (custom)
2022-11-16 04:24:45,835 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s2/f0a1ccf2-c9b7-49f3-bf13-ebcf46ead942 does not exist. Creating ...
2022-11-16 04:24:45,835 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s2/f0a1ccf2-c9b7-49f3-bf13-ebcf46ead942
2022-11-16 04:24:45,836 [JvmPauseMonitor61] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-16 04:24:45,836 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s2/f0a1ccf2-c9b7-49f3-bf13-ebcf46ead942/in_use.lock acquired by nodename 5511@fv-az570-467
2022-11-16 04:24:45,836 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s2/f0a1ccf2-c9b7-49f3-bf13-ebcf46ead942/current
2022-11-16 04:24:45,836 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s2/f0a1ccf2-c9b7-49f3-bf13-ebcf46ead942/sm
2022-11-16 04:24:45,837 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s2/f0a1ccf2-c9b7-49f3-bf13-ebcf46ead942 has been successfully formatted.
2022-11-16 04:24:45,838 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-16 04:24:45,838 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-16 04:24:45,838 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:45,838 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-16 04:24:45,838 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-16 04:24:45,838 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:45,838 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-16 04:24:45,838 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-16 04:24:45,838 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-EBCF46EAD942-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s2/f0a1ccf2-c9b7-49f3-bf13-ebcf46ead942
2022-11-16 04:24:45,838 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:45,838 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-16 04:24:45,838 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-16 04:24:45,838 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-16 04:24:45,838 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-16 04:24:45,838 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-16 04:24:45,839 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-16 04:24:45,839 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-16 04:24:45,839 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-16 04:24:45,839 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:45,839 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-16 04:24:45,839 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-16 04:24:45,839 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-16 04:24:45,840 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-EBCF46EAD942-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:45,840 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-EBCF46EAD942-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-16 04:24:45,841 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-EBCF46EAD942: start as a follower, conf=-1: peers:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:45,841 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-EBCF46EAD942: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-16 04:24:45,841 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-EBCF46EAD942-FollowerState
2022-11-16 04:24:45,844 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-EBCF46EAD942,id=s2
2022-11-16 04:24:45,844 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-16 04:24:45,844 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-16 04:24:45,844 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-16 04:24:45,845 [s2@group-EBCF46EAD942-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:45,845 [s2@group-EBCF46EAD942-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:45,847 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-16 04:24:45,850 [JvmPauseMonitor62] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-16 04:24:45,850 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-16 04:24:45,850 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EBCF46EAD942:t0, leader=null, voted=, raftlog=Memoized:s0@group-EBCF46EAD942-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-EBCF46EAD942:t0, leader=null, voted=, raftlog=Memoized:s1@group-EBCF46EAD942-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-EBCF46EAD942:t0, leader=null, voted=, raftlog=Memoized:s2@group-EBCF46EAD942-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-16 04:24:45,851 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EBCF46EAD942:t0, leader=null, voted=, raftlog=Memoized:s0@group-EBCF46EAD942-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-EBCF46EAD942:t0, leader=null, voted=, raftlog=Memoized:s1@group-EBCF46EAD942-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-EBCF46EAD942:t0, leader=null, voted=, raftlog=Memoized:s2@group-EBCF46EAD942-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EBCF46EAD942:t0, leader=null, voted=, raftlog=Memoized:s0@group-EBCF46EAD942-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-EBCF46EAD942:t0, leader=null, voted=, raftlog=Memoized:s1@group-EBCF46EAD942-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-EBCF46EAD942:t0, leader=null, voted=, raftlog=Memoized:s2@group-EBCF46EAD942-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLeaderElectionMetrics(LeaderElectionTests.java:452)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-16 04:24:45,998 [s2@group-EBCF46EAD942-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-EBCF46EAD942-FollowerState: change to CANDIDATE, lastRpcElapsedTime:156291691ns, electionTimeout:153ms
2022-11-16 04:24:45,998 [s2@group-EBCF46EAD942-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-EBCF46EAD942-FollowerState
2022-11-16 04:24:45,998 [s2@group-EBCF46EAD942-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-EBCF46EAD942: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-16 04:24:45,998 [s2@group-EBCF46EAD942-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-16 04:24:45,998 [s2@group-EBCF46EAD942-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-EBCF46EAD942-LeaderElection93
2022-11-16 04:24:45,999 [s2@group-EBCF46EAD942-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-EBCF46EAD942-LeaderElection93 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:46,000 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-EBCF46EAD942: receive requestVote(PRE_VOTE, s2, group-EBCF46EAD942, 0, (t:0, i:0))
2022-11-16 04:24:46,001 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-EBCF46EAD942-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-16 04:24:46,001 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-EBCF46EAD942 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-EBCF46EAD942:t0, leader=null, voted=, raftlog=Memoized:s0@group-EBCF46EAD942-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:46,001 [s2@group-EBCF46EAD942-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:46,001 [s2@group-EBCF46EAD942-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:46,002 [s2@group-EBCF46EAD942-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-EBCF46EAD942-LeaderElection93: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:46,002 [s2@group-EBCF46EAD942-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t0
2022-11-16 04:24:46,002 [s2@group-EBCF46EAD942-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-EBCF46EAD942-LeaderElection93 PRE_VOTE round 0: result PASSED
2022-11-16 04:24:46,003 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-EBCF46EAD942: receive requestVote(PRE_VOTE, s2, group-EBCF46EAD942, 0, (t:0, i:0))
2022-11-16 04:24:46,003 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-EBCF46EAD942-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-16 04:24:46,003 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-EBCF46EAD942 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-EBCF46EAD942:t0, leader=null, voted=, raftlog=Memoized:s1@group-EBCF46EAD942-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:46,003 [s2@group-EBCF46EAD942-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-EBCF46EAD942-LeaderElection93 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:46,004 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-EBCF46EAD942: receive requestVote(ELECTION, s2, group-EBCF46EAD942, 1, (t:0, i:0))
2022-11-16 04:24:46,005 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-EBCF46EAD942-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-11-16 04:24:46,005 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-EBCF46EAD942: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-11-16 04:24:46,005 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-EBCF46EAD942-FollowerState
2022-11-16 04:24:46,005 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-EBCF46EAD942-FollowerState
2022-11-16 04:24:46,005 [s0@group-EBCF46EAD942-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-EBCF46EAD942-FollowerState was interrupted
2022-11-16 04:24:46,005 [s2@group-EBCF46EAD942-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:46,005 [s2@group-EBCF46EAD942-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:46,006 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-EBCF46EAD942: receive requestVote(ELECTION, s2, group-EBCF46EAD942, 1, (t:0, i:0))
2022-11-16 04:24:46,006 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-EBCF46EAD942-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-11-16 04:24:46,006 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-EBCF46EAD942: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-11-16 04:24:46,006 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-EBCF46EAD942-FollowerState
2022-11-16 04:24:46,006 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-EBCF46EAD942-FollowerState
2022-11-16 04:24:46,007 [s1@group-EBCF46EAD942-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-EBCF46EAD942-FollowerState was interrupted
2022-11-16 04:24:46,008 [s0@group-EBCF46EAD942-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:46,008 [s0@group-EBCF46EAD942-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:46,008 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-EBCF46EAD942 replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-EBCF46EAD942:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-EBCF46EAD942-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:46,009 [s2@group-EBCF46EAD942-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-EBCF46EAD942-LeaderElection93: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-16 04:24:46,009 [s2@group-EBCF46EAD942-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2022-11-16 04:24:46,009 [s2@group-EBCF46EAD942-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-EBCF46EAD942-LeaderElection93 ELECTION round 0: result PASSED
2022-11-16 04:24:46,009 [s2@group-EBCF46EAD942-LeaderElection93] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-EBCF46EAD942-LeaderElection93
2022-11-16 04:24:46,009 [s2@group-EBCF46EAD942-LeaderElection93] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-EBCF46EAD942: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-16 04:24:46,009 [s2@group-EBCF46EAD942-LeaderElection93] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-EBCF46EAD942: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 209ms
2022-11-16 04:24:46,009 [s2@group-EBCF46EAD942-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-16 04:24:46,009 [s2@group-EBCF46EAD942-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:46,009 [s2@group-EBCF46EAD942-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-16 04:24:46,009 [s2@group-EBCF46EAD942-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-16 04:24:46,009 [s2@group-EBCF46EAD942-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-16 04:24:46,009 [s2@group-EBCF46EAD942-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-16 04:24:46,010 [s2@group-EBCF46EAD942-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-16 04:24:46,010 [s2@group-EBCF46EAD942-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-16 04:24:46,010 [s2@group-EBCF46EAD942-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:46,010 [s2@group-EBCF46EAD942-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:46,010 [s2@group-EBCF46EAD942-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:46,010 [s2@group-EBCF46EAD942-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-16 04:24:46,010 [s2@group-EBCF46EAD942-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-16 04:24:46,010 [s2@group-EBCF46EAD942-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-16 04:24:46,010 [s2@group-EBCF46EAD942-LeaderElection93] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-EBCF46EAD942-LeaderStateImpl
2022-11-16 04:24:46,011 [s2@group-EBCF46EAD942-LeaderElection93] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-EBCF46EAD942-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:46,009 [s1@group-EBCF46EAD942-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-16 04:24:46,014 [s1@group-EBCF46EAD942-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-16 04:24:46,014 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-EBCF46EAD942 replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-EBCF46EAD942:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-EBCF46EAD942-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:46,016 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-EBCF46EAD942: change Leader from null to s2 at term 1 for appendEntries, leader elected after 233ms
2022-11-16 04:24:46,016 [s2@group-EBCF46EAD942-LeaderElection93] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-EBCF46EAD942: set configuration 0: peers:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:46,017 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-EBCF46EAD942: change Leader from null to s2 at term 1 for appendEntries, leader elected after 230ms
2022-11-16 04:24:46,027 [s2@group-EBCF46EAD942-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-EBCF46EAD942-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s2/f0a1ccf2-c9b7-49f3-bf13-ebcf46ead942/current/log_inprogress_0
2022-11-16 04:24:46,029 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-EBCF46EAD942: receive appendEntries(s2, 1, null, 0, true, commits:[s2:c0, s0:c-1, s1:c-1], cId:3375, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37107"
dataStreamAddress: "localhost:39113"
clientAddress: "localhost:33767"
adminAddress: "localhost:40403"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39517"
dataStreamAddress: "localhost:43069"
clientAddress: "localhost:41003"
adminAddress: "localhost:42075"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37729"
dataStreamAddress: "localhost:37227"
clientAddress: "localhost:36621"
adminAddress: "localhost:37923"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:46,030 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-EBCF46EAD942: set configuration 0: peers:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:46,030 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-EBCF46EAD942-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:46,030 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-EBCF46EAD942: receive appendEntries(s2, 1, null, 0, true, commits:[s2:c0, s0:c-1, s1:c-1], cId:3376, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37107"
dataStreamAddress: "localhost:39113"
clientAddress: "localhost:33767"
adminAddress: "localhost:40403"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39517"
dataStreamAddress: "localhost:43069"
clientAddress: "localhost:41003"
adminAddress: "localhost:42075"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37729"
dataStreamAddress: "localhost:37227"
clientAddress: "localhost:36621"
adminAddress: "localhost:37923"
startupRole: FOLLOWER
, old:)]
2022-11-16 04:24:46,031 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-EBCF46EAD942: set configuration 0: peers:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-16 04:24:46,031 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-EBCF46EAD942-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-16 04:24:46,049 [s1@group-EBCF46EAD942-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-EBCF46EAD942-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s1/f0a1ccf2-c9b7-49f3-bf13-ebcf46ead942/current/log_inprogress_0
2022-11-16 04:24:46,050 [s0@group-EBCF46EAD942-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-EBCF46EAD942-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/959ca2e3/MiniRaftClusterWithSimulatedRpca8fe65a8/s0/f0a1ccf2-c9b7-49f3-bf13-ebcf46ead942/current/log_inprogress_0
2022-11-16 04:24:46,050 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-EBCF46EAD942: succeeded to handle AppendEntries. Reply: s2<-s1#3376:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-16 04:24:46,051 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-EBCF46EAD942: succeeded to handle AppendEntries. Reply: s2<-s0#3375:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-16 04:24:46,302 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EBCF46EAD942:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-EBCF46EAD942-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-EBCF46EAD942:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-EBCF46EAD942-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-EBCF46EAD942:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-EBCF46EAD942-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37107|admin:localhost:40403|client:localhost:33767|dataStream:localhost:39113|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39517|admin:localhost:42075|client:localhost:41003|dataStream:localhost:43069|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37729|admin:localhost:37923|client:localhost:36621|dataStream:localhost:37227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
