SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/runner/.m2/repository/org/slf4j/slf4j-log4j12/1.7.29/slf4j-log4j12-1.7.29.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/runner/.m2/repository/org/slf4j/slf4j-simple/1.7.29/slf4j-simple-1.7.29.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
SLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]
2022-11-08 19:11:16,555 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-08 19:11:16,558 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-08 19:11:16,560 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-08 19:11:16,560 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-08 19:11:16,584 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 150 (default)
2022-11-08 19:11:16,627 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-8862317B298D:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER, s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]
2022-11-08 19:11:16,628 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-08 19:11:16,628 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-08 19:11:16,628 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:16,628 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-08 19:11:16,628 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-08 19:11:16,628 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-08 19:11:16,630 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-8862317B298D:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER, s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:16,631 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s3
2022-11-08 19:11:16,632 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s3 does not exist.
2022-11-08 19:11:16,632 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s3
2022-11-08 19:11:16,647 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:16,670 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:16,689 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:16,690 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:16,696 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:16,698 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:16,703 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s3] (custom)
2022-11-08 19:11:16,713 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-8862317B298D:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER, s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER] returns group-8862317B298D:java.util.concurrent.CompletableFuture@cad1e0b[Not completed]
2022-11-08 19:11:16,714 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-8862317B298D:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER, s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:16,714 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s0
2022-11-08 19:11:16,714 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s0 does not exist.
2022-11-08 19:11:16,714 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s0
2022-11-08 19:11:16,714 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:16,715 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:16,715 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:16,715 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:16,715 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:16,715 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:16,716 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s0] (custom)
2022-11-08 19:11:16,724 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-8862317B298D:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER, s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER] returns group-8862317B298D:java.util.concurrent.CompletableFuture@1c20e08[Not completed]
2022-11-08 19:11:16,724 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-8862317B298D:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER, s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:16,724 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s1
2022-11-08 19:11:16,724 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s1 does not exist.
2022-11-08 19:11:16,724 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s1
2022-11-08 19:11:16,725 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:16,725 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:16,725 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:16,725 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:16,725 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:16,726 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:16,726 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s1] (custom)
2022-11-08 19:11:16,728 [pool-2-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-8862317B298D:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER, s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:16,728 [pool-1-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-8862317B298D:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER, s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:16,732 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:16,732 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:16,733 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:16,733 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:16,734 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:16,734 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:16,735 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:16,735 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:16,735 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:16,736 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:16,736 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:16,734 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:16,742 [pool-2-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-8862317B298D: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:16,753 [pool-1-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-8862317B298D: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:16,753 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-8862317B298D:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER, s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER] returns group-8862317B298D:java.util.concurrent.CompletableFuture@26e57cd8[Not completed]
2022-11-08 19:11:16,754 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-8862317B298D:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER, s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:16,754 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s2
2022-11-08 19:11:16,755 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s2 does not exist.
2022-11-08 19:11:16,755 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s2
2022-11-08 19:11:16,755 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:16,755 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:16,755 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:16,756 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:16,756 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:16,756 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:16,756 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s2] (custom)
2022-11-08 19:11:16,756 [pool-3-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-8862317B298D:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER, s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:16,763 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:16,763 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:16,763 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:16,763 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:16,763 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:16,764 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:16,764 [pool-3-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-8862317B298D: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:16,764 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:16,763 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:16,771 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:16,771 [pool-4-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-8862317B298D:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER, s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:16,768 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-8862317B298D:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER, s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER] returns group-8862317B298D:java.util.concurrent.CompletableFuture@220e1e0e[Not completed]
2022-11-08 19:11:16,768 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:16,762 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:16,776 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:16,775 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:16,777 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:16,777 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:16,777 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:16,778 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:16,778 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:16,778 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:16,778 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:16,779 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:16,779 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:16,779 [pool-4-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-8862317B298D: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:16,779 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:16,779 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:16,779 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:16,779 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:16,778 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:16,789 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:16,816 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:16,820 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:16,821 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:16,821 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:16,821 [pool-4-thread-1] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2022-11-08 19:11:16,997 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:16,997 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:16,998 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:16,998 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:16,998 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:16,998 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:16,999 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:16,999 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:16,998 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:16,998 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:16,999 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:17,000 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:17,000 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:17,000 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:16,998 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:17,000 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:17,000 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:16,999 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:17,000 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:17,001 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:17,000 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:17,003 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:17,003 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s3] (custom)
2022-11-08 19:11:17,011 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s3/b93f4128-66b8-41a1-91b3-8862317b298d does not exist. Creating ...
2022-11-08 19:11:17,014 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s3/b93f4128-66b8-41a1-91b3-8862317b298d
2022-11-08 19:11:17,018 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s3/b93f4128-66b8-41a1-91b3-8862317b298d/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:17,018 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s3/b93f4128-66b8-41a1-91b3-8862317b298d/current
2022-11-08 19:11:17,018 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s3/b93f4128-66b8-41a1-91b3-8862317b298d/sm
2022-11-08 19:11:17,038 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s3/b93f4128-66b8-41a1-91b3-8862317b298d has been successfully formatted.
2022-11-08 19:11:17,040 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:17,052 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:17,052 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:17,053 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:17,054 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:17,057 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:17,065 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:17,065 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:17,068 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s3@group-8862317B298D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s3/b93f4128-66b8-41a1-91b3-8862317b298d
2022-11-08 19:11:17,068 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:17,069 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:17,073 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:17,073 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:17,074 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:17,074 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:17,074 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:17,075 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:17,079 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:17,080 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:17,080 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:17,080 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:17,081 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:17,085 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-8862317B298D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:17,086 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-8862317B298D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:17,087 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(341)) - s3@group-8862317B298D: start as a listener, conf=-1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:17,087 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-8862317B298D: changes role from      null to LISTENER at term 0 for startAsListener
2022-11-08 19:11:17,088 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-8862317B298D-FollowerState
2022-11-08 19:11:17,090 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8862317B298D,id=s3
2022-11-08 19:11:17,091 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:17,092 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:17,092 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:17,096 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s3: start RPC server
2022-11-08 19:11:17,099 [s3@group-8862317B298D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:17,099 [s3@group-8862317B298D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:17,101 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:17,101 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:17,102 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s0] (custom)
2022-11-08 19:11:17,102 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s3: Started
2022-11-08 19:11:17,102 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s0/b93f4128-66b8-41a1-91b3-8862317b298d does not exist. Creating ...
2022-11-08 19:11:17,104 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s0/b93f4128-66b8-41a1-91b3-8862317b298d
2022-11-08 19:11:17,108 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s0/b93f4128-66b8-41a1-91b3-8862317b298d/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:17,108 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s0/b93f4128-66b8-41a1-91b3-8862317b298d/current
2022-11-08 19:11:17,109 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s0/b93f4128-66b8-41a1-91b3-8862317b298d/sm
2022-11-08 19:11:17,110 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s0/b93f4128-66b8-41a1-91b3-8862317b298d has been successfully formatted.
2022-11-08 19:11:17,110 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:17,110 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:17,110 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:17,110 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:17,110 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:17,113 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:17,113 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:17,113 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:17,113 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-8862317B298D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s0/b93f4128-66b8-41a1-91b3-8862317b298d
2022-11-08 19:11:17,113 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:17,114 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:17,114 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:17,114 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:17,114 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:17,114 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:17,114 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:17,114 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:17,114 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:17,115 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:17,115 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:17,115 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:17,115 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:17,115 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-8862317B298D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:17,115 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-8862317B298D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:17,115 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-8862317B298D: start as a follower, conf=-1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:17,115 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-8862317B298D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:17,116 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-8862317B298D-FollowerState
2022-11-08 19:11:17,116 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8862317B298D,id=s0
2022-11-08 19:11:17,119 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:17,119 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:17,119 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:17,120 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-08 19:11:17,129 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:17,129 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:17,129 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s1] (custom)
2022-11-08 19:11:17,129 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s1/b93f4128-66b8-41a1-91b3-8862317b298d does not exist. Creating ...
2022-11-08 19:11:17,129 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s1/b93f4128-66b8-41a1-91b3-8862317b298d
2022-11-08 19:11:17,129 [s0@group-8862317B298D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:17,130 [s0@group-8862317B298D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:17,130 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-08 19:11:17,135 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s1/b93f4128-66b8-41a1-91b3-8862317b298d/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:17,135 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s1/b93f4128-66b8-41a1-91b3-8862317b298d/current
2022-11-08 19:11:17,135 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s1/b93f4128-66b8-41a1-91b3-8862317b298d/sm
2022-11-08 19:11:17,136 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s1/b93f4128-66b8-41a1-91b3-8862317b298d has been successfully formatted.
2022-11-08 19:11:17,136 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:17,137 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:17,137 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:17,137 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:17,137 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:17,139 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:17,139 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:17,139 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:17,139 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-8862317B298D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s1/b93f4128-66b8-41a1-91b3-8862317b298d
2022-11-08 19:11:17,139 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:17,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:17,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:17,141 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:17,141 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:17,141 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:17,142 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:17,142 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:17,142 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:17,142 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:17,142 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:17,142 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:17,143 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:17,143 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-8862317B298D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:17,143 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-8862317B298D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:17,143 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-8862317B298D: start as a follower, conf=-1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:17,143 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-8862317B298D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:17,143 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-8862317B298D-FollowerState
2022-11-08 19:11:17,144 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8862317B298D,id=s1
2022-11-08 19:11:17,144 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:17,144 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:17,144 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:17,145 [s1@group-8862317B298D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:17,145 [s1@group-8862317B298D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:17,151 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-08 19:11:17,153 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-08 19:11:17,154 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:17,154 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:17,154 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s2] (custom)
2022-11-08 19:11:17,154 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s2/b93f4128-66b8-41a1-91b3-8862317b298d does not exist. Creating ...
2022-11-08 19:11:17,155 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s2/b93f4128-66b8-41a1-91b3-8862317b298d
2022-11-08 19:11:17,155 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s2/b93f4128-66b8-41a1-91b3-8862317b298d/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:17,155 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s2/b93f4128-66b8-41a1-91b3-8862317b298d/current
2022-11-08 19:11:17,156 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s2/b93f4128-66b8-41a1-91b3-8862317b298d/sm
2022-11-08 19:11:17,156 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s2/b93f4128-66b8-41a1-91b3-8862317b298d has been successfully formatted.
2022-11-08 19:11:17,157 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:17,157 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:17,157 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:17,157 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:17,157 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:17,159 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:17,159 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:17,159 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:17,159 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-8862317B298D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s2/b93f4128-66b8-41a1-91b3-8862317b298d
2022-11-08 19:11:17,159 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:17,159 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:17,159 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:17,159 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:17,159 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:17,159 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:17,160 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:17,160 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:17,160 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:17,160 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:17,160 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:17,160 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:17,160 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:17,160 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-8862317B298D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:17,161 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-8862317B298D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:17,167 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-8862317B298D: start as a follower, conf=-1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:17,167 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-8862317B298D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:17,167 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-8862317B298D-FollowerState
2022-11-08 19:11:17,167 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8862317B298D,id=s2
2022-11-08 19:11:17,167 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:17,167 [s2@group-8862317B298D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:17,168 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:17,169 [s2@group-8862317B298D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:17,169 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:17,170 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-08 19:11:17,171 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-08 19:11:17,177 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:17,178 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-8862317B298D:t0, leader=null, voted=, raftlog=Memoized:s3@group-8862317B298D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-8862317B298D:t0, leader=null, voted=, raftlog=Memoized:s0@group-8862317B298D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8862317B298D:t0, leader=null, voted=, raftlog=Memoized:s1@group-8862317B298D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8862317B298D:t0, leader=null, voted=, raftlog=Memoized:s2@group-8862317B298D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null RUNNING
2022-11-08 19:11:17,186 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-8862317B298D:t0, leader=null, voted=, raftlog=Memoized:s3@group-8862317B298D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-8862317B298D:t0, leader=null, voted=, raftlog=Memoized:s0@group-8862317B298D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8862317B298D:t0, leader=null, voted=, raftlog=Memoized:s1@group-8862317B298D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8862317B298D:t0, leader=null, voted=, raftlog=Memoized:s2@group-8862317B298D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-8862317B298D:t0, leader=null, voted=, raftlog=Memoized:s3@group-8862317B298D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-8862317B298D:t0, leader=null, voted=, raftlog=Memoized:s0@group-8862317B298D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8862317B298D:t0, leader=null, voted=, raftlog=Memoized:s1@group-8862317B298D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8862317B298D:t0, leader=null, voted=, raftlog=Memoized:s2@group-8862317B298D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testRemoveListener(LeaderElectionTests.java:390)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:17,353 [s1@group-8862317B298D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-8862317B298D-FollowerState: change to CANDIDATE, lastRpcElapsedTime:209609063ns, electionTimeout:207ms
2022-11-08 19:11:17,353 [s1@group-8862317B298D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-8862317B298D-FollowerState
2022-11-08 19:11:17,353 [s1@group-8862317B298D-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-8862317B298D: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-08 19:11:17,355 [s1@group-8862317B298D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:17,355 [s1@group-8862317B298D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-8862317B298D-LeaderElection1
2022-11-08 19:11:17,361 [s1@group-8862317B298D-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-8862317B298D-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:17,378 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-8862317B298D: receive requestVote(PRE_VOTE, s1, group-8862317B298D, 0, (t:0, i:0))
2022-11-08 19:11:17,378 [s1@group-8862317B298D-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:17,381 [s1@group-8862317B298D-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:17,381 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8862317B298D-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:17,384 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-8862317B298D: receive requestVote(PRE_VOTE, s1, group-8862317B298D, 0, (t:0, i:0))
2022-11-08 19:11:17,384 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8862317B298D-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:17,385 [s3@group-8862317B298D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:17,385 [s3@group-8862317B298D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:17,387 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-8862317B298D replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-8862317B298D:t0, leader=null, voted=, raftlog=Memoized:s2@group-8862317B298D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:17,387 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-8862317B298D replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-8862317B298D:t0, leader=null, voted=, raftlog=Memoized:s0@group-8862317B298D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:17,390 [s2@group-8862317B298D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:17,390 [s2@group-8862317B298D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:17,401 [s1@group-8862317B298D-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-8862317B298D-LeaderElection1: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:17,402 [s1@group-8862317B298D-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2022-11-08 19:11:17,402 [s1@group-8862317B298D-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-8862317B298D-LeaderElection1 PRE_VOTE round 0: result PASSED
2022-11-08 19:11:17,403 [s1@group-8862317B298D-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-8862317B298D-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:17,404 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-8862317B298D: receive requestVote(ELECTION, s1, group-8862317B298D, 1, (t:0, i:0))
2022-11-08 19:11:17,407 [s1@group-8862317B298D-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:17,411 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-8862317B298D: receive requestVote(ELECTION, s1, group-8862317B298D, 1, (t:0, i:0))
2022-11-08 19:11:17,411 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8862317B298D-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:17,411 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8862317B298D-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:17,412 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-8862317B298D: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-11-08 19:11:17,412 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-8862317B298D-FollowerState
2022-11-08 19:11:17,411 [s1@group-8862317B298D-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:17,412 [s0@group-8862317B298D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-8862317B298D-FollowerState was interrupted
2022-11-08 19:11:17,412 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-8862317B298D-FollowerState
2022-11-08 19:11:17,413 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-8862317B298D: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-11-08 19:11:17,413 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-8862317B298D-FollowerState
2022-11-08 19:11:17,413 [s2@group-8862317B298D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-8862317B298D-FollowerState was interrupted
2022-11-08 19:11:17,418 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-8862317B298D-FollowerState
2022-11-08 19:11:17,422 [s0@group-8862317B298D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:17,422 [s0@group-8862317B298D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:17,423 [s2@group-8862317B298D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:17,423 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-8862317B298D replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-8862317B298D:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-8862317B298D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:17,423 [s2@group-8862317B298D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:17,423 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-8862317B298D replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-8862317B298D:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-8862317B298D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:17,433 [s1@group-8862317B298D-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-8862317B298D-LeaderElection1: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:17,433 [s1@group-8862317B298D-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2022-11-08 19:11:17,433 [s1@group-8862317B298D-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-8862317B298D-LeaderElection1 ELECTION round 0: result PASSED
2022-11-08 19:11:17,433 [s1@group-8862317B298D-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-8862317B298D-LeaderElection1
2022-11-08 19:11:17,434 [s1@group-8862317B298D-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-8862317B298D: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-08 19:11:17,434 [s1@group-8862317B298D-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-8862317B298D: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 669ms
2022-11-08 19:11:17,459 [s1@group-8862317B298D-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:11:17,462 [s1@group-8862317B298D-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:17,462 [s1@group-8862317B298D-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:17,464 [s1@group-8862317B298D-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:11:17,464 [s1@group-8862317B298D-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:11:17,465 [s1@group-8862317B298D-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:11:17,471 [s1@group-8862317B298D-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:17,472 [s1@group-8862317B298D-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:11:17,484 [s1@group-8862317B298D-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:17,484 [s1@group-8862317B298D-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:17,484 [s1@group-8862317B298D-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:17,486 [s1@group-8862317B298D-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:17,486 [s1@group-8862317B298D-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:17,486 [s1@group-8862317B298D-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:17,486 [s1@group-8862317B298D-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:17,486 [s1@group-8862317B298D-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:17,487 [s1@group-8862317B298D-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:17,487 [s1@group-8862317B298D-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-8862317B298D-LeaderStateImpl
2022-11-08 19:11:17,504 [s1@group-8862317B298D-LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-8862317B298D-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:17,544 [s1@group-8862317B298D-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-8862317B298D: set configuration 0: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:17,560 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-8862317B298D: change Leader from null to s1 at term 1 for appendEntries, leader elected after 812ms
2022-11-08 19:11:17,564 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-8862317B298D: change Leader from null to s1 at term 1 for appendEntries, leader elected after 784ms
2022-11-08 19:11:17,573 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s3@group-8862317B298D: change Leader from null to s1 at term 1 for appendEntries, leader elected after 814ms
2022-11-08 19:11:17,579 [s1@group-8862317B298D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-8862317B298D-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s1/b93f4128-66b8-41a1-91b3-8862317b298d/current/log_inprogress_0
2022-11-08 19:11:17,638 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-8862317B298D:t1, leader=s1, voted=null, raftlog=Memoized:s3@group-8862317B298D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-8862317B298D:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-8862317B298D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-8862317B298D:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-8862317B298D-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8862317B298D:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-8862317B298D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null RUNNING
2022-11-08 19:11:17,640 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:17,666 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-8862317B298D: receive appendEntries(s1, 1, null, 0, false, commits:[s1:c0, s0:c-1, s2:c-1, s3:c-1], cId:6, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34399"
dataStreamAddress: "localhost:42637"
clientAddress: "localhost:45045"
adminAddress: "localhost:45727"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39547"
dataStreamAddress: "localhost:41511"
clientAddress: "localhost:39745"
adminAddress: "localhost:34371"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43937"
dataStreamAddress: "localhost:37825"
clientAddress: "localhost:35873"
adminAddress: "localhost:36965"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:17,666 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-8862317B298D: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1, s3:c-1], cId:7, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34399"
dataStreamAddress: "localhost:42637"
clientAddress: "localhost:45045"
adminAddress: "localhost:45727"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39547"
dataStreamAddress: "localhost:41511"
clientAddress: "localhost:39745"
adminAddress: "localhost:34371"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43937"
dataStreamAddress: "localhost:37825"
clientAddress: "localhost:35873"
adminAddress: "localhost:36965"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:17,668 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-8862317B298D: set configuration 0: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:17,668 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-8862317B298D-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:17,670 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-8862317B298D: receive appendEntries(s1, 1, null, 0, true, commits:[s1:c0, s0:c-1, s2:c-1, s3:c-1], cId:8, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34399"
dataStreamAddress: "localhost:42637"
clientAddress: "localhost:45045"
adminAddress: "localhost:45727"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39547"
dataStreamAddress: "localhost:41511"
clientAddress: "localhost:39745"
adminAddress: "localhost:34371"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43937"
dataStreamAddress: "localhost:37825"
clientAddress: "localhost:35873"
adminAddress: "localhost:36965"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:17,676 [s2@group-8862317B298D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-8862317B298D-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s2/b93f4128-66b8-41a1-91b3-8862317b298d/current/log_inprogress_0
2022-11-08 19:11:17,676 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s3@group-8862317B298D: set configuration 0: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:17,678 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-8862317B298D: succeeded to handle AppendEntries. Reply: s1<-s2#7:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:11:17,679 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s3@group-8862317B298D-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:17,679 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-8862317B298D: set configuration 0: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:17,683 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-8862317B298D-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:17,689 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s1@group-8862317B298D: receive client request(RaftClientRequest:client-0E851A37CFC3->s1@group-8862317B298D, cid=9, seq=0, RW, message)
2022-11-08 19:11:17,691 [s3@group-8862317B298D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s3@group-8862317B298D-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s3/b93f4128-66b8-41a1-91b3-8862317b298d/current/log_inprogress_0
2022-11-08 19:11:17,692 [s0@group-8862317B298D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-8862317B298D-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpca4b261ea/s0/b93f4128-66b8-41a1-91b3-8862317b298d/current/log_inprogress_0
2022-11-08 19:11:17,695 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-8862317B298D: succeeded to handle AppendEntries. Reply: s1<-s0#8:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-08 19:11:17,696 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-8862317B298D: succeeded to handle AppendEntries. Reply: s1<-s3#6:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-08 19:11:17,708 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(410)) - s1@group-8862317B298D-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-0E851A37CFC3->s1@group-8862317B298D, cid=9, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 9@client-0E851A37CFC3
2022-11-08 19:11:17,710 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-8862317B298D: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c-1, s2:c-1, s3:c-1], cId:10, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 9@client-0E851A37CFC3]
2022-11-08 19:11:17,713 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-8862317B298D: receive appendEntries(s1, 1, (t:1, i:0), 0, false, commits:[s1:c0, s0:c-1, s2:c-1, s3:c0], cId:11, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 9@client-0E851A37CFC3]
2022-11-08 19:11:17,713 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-8862317B298D: succeeded to handle AppendEntries. Reply: s1<-s2#10:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-08 19:11:17,714 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-8862317B298D: succeeded to handle AppendEntries. Reply: s1<-s3#11:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-08 19:11:17,714 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-8862317B298D: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c-1, s3:c0], cId:12, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 9@client-0E851A37CFC3]
2022-11-08 19:11:17,714 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-8862317B298D: succeeded to handle AppendEntries. Reply: s1<-s0#12:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-08 19:11:17,735 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-8862317B298D: receive appendEntries(s1, 1, (t:1, i:1), 1, false, commits:[s1:c1, s0:c0, s2:c0, s3:c0], cId:14, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-08 19:11:17,736 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-8862317B298D: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0, s3:c0], cId:15, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-08 19:11:17,736 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-8862317B298D: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0, s3:c0], cId:13, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-08 19:11:17,736 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-8862317B298D: succeeded to handle AppendEntries. Reply: s1<-s3#14:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-08 19:11:17,737 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-8862317B298D: succeeded to handle AppendEntries. Reply: s1<-s2#15:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-08 19:11:17,737 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-8862317B298D: succeeded to handle AppendEntries. Reply: s1<-s0#13:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-08 19:11:17,755 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1188)) - s1@group-8862317B298D: receive setConfiguration SetConfigurationRequest:client-0E851A37CFC3->s1@group-8862317B298D, cid=16, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER], listeners:[]
2022-11-08 19:11:17,756 [s1-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(377)) - s1@group-8862317B298D-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-0E851A37CFC3->s1@group-8862317B298D, cid=16, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER], listeners:[]
2022-11-08 19:11:17,760 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-8862317B298D: set configuration 3: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER]
2022-11-08 19:11:17,762 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-8862317B298D: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits:[s1:c2, s0:c1, s2:c1, s3:c1], cId:17, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34399"
dataStreamAddress: "localhost:42637"
clientAddress: "localhost:45045"
adminAddress: "localhost:45727"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39547"
dataStreamAddress: "localhost:41511"
clientAddress: "localhost:39745"
adminAddress: "localhost:34371"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43937"
dataStreamAddress: "localhost:37825"
clientAddress: "localhost:35873"
adminAddress: "localhost:36965"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:34399"
dataStreamAddress: "localhost:42637"
clientAddress: "localhost:45045"
adminAddress: "localhost:45727"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39547"
dataStreamAddress: "localhost:41511"
clientAddress: "localhost:39745"
adminAddress: "localhost:34371"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43937"
dataStreamAddress: "localhost:37825"
clientAddress: "localhost:35873"
adminAddress: "localhost:36965"
startupRole: FOLLOWER
)]
2022-11-08 19:11:17,763 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-8862317B298D: set configuration 3: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER]
2022-11-08 19:11:17,763 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-8862317B298D: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits:[s1:c2, s0:c1, s2:c1, s3:c1], cId:19, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34399"
dataStreamAddress: "localhost:42637"
clientAddress: "localhost:45045"
adminAddress: "localhost:45727"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39547"
dataStreamAddress: "localhost:41511"
clientAddress: "localhost:39745"
adminAddress: "localhost:34371"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43937"
dataStreamAddress: "localhost:37825"
clientAddress: "localhost:35873"
adminAddress: "localhost:36965"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:34399"
dataStreamAddress: "localhost:42637"
clientAddress: "localhost:45045"
adminAddress: "localhost:45727"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39547"
dataStreamAddress: "localhost:41511"
clientAddress: "localhost:39745"
adminAddress: "localhost:34371"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43937"
dataStreamAddress: "localhost:37825"
clientAddress: "localhost:35873"
adminAddress: "localhost:36965"
startupRole: FOLLOWER
)]
2022-11-08 19:11:17,762 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-8862317B298D: receive appendEntries(s1, 1, (t:1, i:2), 2, false, commits:[s1:c2, s0:c1, s2:c1, s3:c1], cId:18, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34399"
dataStreamAddress: "localhost:42637"
clientAddress: "localhost:45045"
adminAddress: "localhost:45727"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39547"
dataStreamAddress: "localhost:41511"
clientAddress: "localhost:39745"
adminAddress: "localhost:34371"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43937"
dataStreamAddress: "localhost:37825"
clientAddress: "localhost:35873"
adminAddress: "localhost:36965"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:34399"
dataStreamAddress: "localhost:42637"
clientAddress: "localhost:45045"
adminAddress: "localhost:45727"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39547"
dataStreamAddress: "localhost:41511"
clientAddress: "localhost:39745"
adminAddress: "localhost:34371"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43937"
dataStreamAddress: "localhost:37825"
clientAddress: "localhost:35873"
adminAddress: "localhost:36965"
startupRole: FOLLOWER
)]
2022-11-08 19:11:17,764 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-8862317B298D: set configuration 3: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER]
2022-11-08 19:11:17,764 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-8862317B298D: succeeded to handle AppendEntries. Reply: s1<-s0#17:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-08 19:11:17,764 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s3@group-8862317B298D: set configuration 3: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER]
2022-11-08 19:11:17,765 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-8862317B298D: succeeded to handle AppendEntries. Reply: s1<-s2#19:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-08 19:11:17,766 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-8862317B298D: succeeded to handle AppendEntries. Reply: s1<-s3#18:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-08 19:11:17,780 [s1@group-8862317B298D->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-8862317B298D->s3-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-08 19:11:17,780 [s1@group-8862317B298D-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-8862317B298D: set configuration 5: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:17,781 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-8862317B298D: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c1, s2:c2], cId:20, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34399"
dataStreamAddress: "localhost:42637"
clientAddress: "localhost:45045"
adminAddress: "localhost:45727"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39547"
dataStreamAddress: "localhost:41511"
clientAddress: "localhost:39745"
adminAddress: "localhost:34371"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43937"
dataStreamAddress: "localhost:37825"
clientAddress: "localhost:35873"
adminAddress: "localhost:36965"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:17,781 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-8862317B298D: set configuration 5: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:17,783 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-8862317B298D: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c2, s2:c2], cId:21, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34399"
dataStreamAddress: "localhost:42637"
clientAddress: "localhost:45045"
adminAddress: "localhost:45727"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39547"
dataStreamAddress: "localhost:41511"
clientAddress: "localhost:39745"
adminAddress: "localhost:34371"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43937"
dataStreamAddress: "localhost:37825"
clientAddress: "localhost:35873"
adminAddress: "localhost:36965"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:17,783 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-8862317B298D: succeeded to handle AppendEntries. Reply: s1<-s2#20:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-08 19:11:17,784 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-8862317B298D: set configuration 5: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:17,785 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-8862317B298D: succeeded to handle AppendEntries. Reply: s1<-s0#21:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-08 19:11:17,804 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-8862317B298D: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits:[s1:c5, s0:c3, s2:c3], cId:22, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-08 19:11:17,804 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-8862317B298D: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits:[s1:c5, s0:c3, s2:c3], cId:23, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-08 19:11:17,808 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-8862317B298D: succeeded to handle AppendEntries. Reply: s1<-s0#22:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-08 19:11:17,809 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-8862317B298D: succeeded to handle AppendEntries. Reply: s1<-s2#23:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-08 19:11:17,820 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-08 19:11:17,820 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-08 19:11:17,820 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:17,820 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-08 19:11:17,820 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-08 19:11:17,820 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-8862317B298D:t1, leader=s1, voted=null, raftlog=Memoized:s3@group-8862317B298D-SegmentedRaftLog:OPENED:c2, conf=3: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER] RUNNING
  s0:  RUNNING  FOLLOWER s0@group-8862317B298D:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-8862317B298D-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-8862317B298D:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-8862317B298D-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8862317B298D:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-8862317B298D-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:17,824 [MiniRaftCluster-1] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s3: close
2022-11-08 19:11:17,825 [MiniRaftCluster-2] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-08 19:11:17,827 [MiniRaftCluster-4] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-08 19:11:17,825 [MiniRaftCluster-3] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-08 19:11:17,829 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s3@group-8862317B298D: shutdown
2022-11-08 19:11:17,829 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8862317B298D,id=s3
2022-11-08 19:11:17,829 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-8862317B298D-FollowerState
2022-11-08 19:11:17,829 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-8862317B298D-StateMachineUpdater: set stopIndex = 2
2022-11-08 19:11:17,829 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:17,829 [s3@group-8862317B298D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-8862317B298D-FollowerState was interrupted
2022-11-08 19:11:17,829 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-8862317B298D: shutdown
2022-11-08 19:11:17,829 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8862317B298D,id=s0
2022-11-08 19:11:17,830 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-8862317B298D-FollowerState
2022-11-08 19:11:17,830 [s0@group-8862317B298D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-8862317B298D-FollowerState was interrupted
2022-11-08 19:11:17,830 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-8862317B298D-StateMachineUpdater: set stopIndex = 5
2022-11-08 19:11:17,831 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:17,830 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:17,830 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:17,830 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:17,831 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:17,831 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-8862317B298D: shutdown
2022-11-08 19:11:17,831 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8862317B298D,id=s1
2022-11-08 19:11:17,831 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-8862317B298D-LeaderStateImpl
2022-11-08 19:11:17,831 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s3@group-8862317B298D: applyIndex: 2
2022-11-08 19:11:17,832 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-8862317B298D-PendingRequests: sendNotLeaderResponses
2022-11-08 19:11:17,832 [s1@group-8862317B298D->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-8862317B298D->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:17,830 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:17,831 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-8862317B298D: applyIndex: 5
2022-11-08 19:11:17,832 [s3@group-8862317B298D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s3@group-8862317B298D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:17,832 [s0@group-8862317B298D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s0@group-8862317B298D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:17,829 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:17,833 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:17,834 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:17,834 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:17,834 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:17,834 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:17,834 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:17,832 [s1@group-8862317B298D->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-8862317B298D->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:17,834 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:17,833 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-8862317B298D: shutdown
2022-11-08 19:11:17,834 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8862317B298D,id=s2
2022-11-08 19:11:17,834 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-8862317B298D-FollowerState
2022-11-08 19:11:17,834 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-8862317B298D-StateMachineUpdater: set stopIndex = 5
2022-11-08 19:11:17,834 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:17,835 [s2@group-8862317B298D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-8862317B298D-FollowerState was interrupted
2022-11-08 19:11:17,835 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-8862317B298D: applyIndex: 5
2022-11-08 19:11:17,835 [s2@group-8862317B298D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s2@group-8862317B298D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:17,837 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-8862317B298D-StateMachineUpdater: set stopIndex = 6
2022-11-08 19:11:17,838 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:17,838 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:17,838 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:17,839 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-8862317B298D: applyIndex: 6
2022-11-08 19:11:17,840 [s1@group-8862317B298D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s1@group-8862317B298D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:17,840 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-8862317B298D-SegmentedRaftLogWorker close()
2022-11-08 19:11:17,840 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s3@group-8862317B298D-SegmentedRaftLogWorker close()
2022-11-08 19:11:17,840 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-8862317B298D-SegmentedRaftLogWorker close()
2022-11-08 19:11:17,841 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s3: Stopped
2022-11-08 19:11:17,841 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-08 19:11:17,842 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-8862317B298D-SegmentedRaftLogWorker close()
2022-11-08 19:11:17,844 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-08 19:11:17,845 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:17,845 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:17,845 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:17,845 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:17,846 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-08 19:11:17,847 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-08 19:11:17,847 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-08 19:11:17,847 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-08 19:11:17,847 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:17,847 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-08 19:11:17,847 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-08 19:11:17,847 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:   CLOSED  LISTENER s3@group-8862317B298D:t1, leader=s1, voted=null, raftlog=Memoized:s3@group-8862317B298D-SegmentedRaftLog:CLOSED:c2, conf=3: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44475|admin:localhost:34921|client:localhost:33479|dataStream:localhost:42655|priority:0|startupRole:LISTENER] CLOSED
  s0:   CLOSED  FOLLOWER s0@group-8862317B298D:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-8862317B298D-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-8862317B298D:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-8862317B298D-SegmentedRaftLog:CLOSED:c6, conf=5: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-8862317B298D:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-8862317B298D-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:localhost:34399|admin:localhost:45727|client:localhost:45045|dataStream:localhost:42637|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39547|admin:localhost:34371|client:localhost:39745|dataStream:localhost:41511|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43937|admin:localhost:36965|client:localhost:35873|dataStream:localhost:37825|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2022-11-08 19:11:17,855 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-08 19:11:17,856 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-08 19:11:17,856 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-08 19:11:17,856 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-08 19:11:17,856 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-08 19:11:17,857 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testEnforceLeader(272)) - Running testEnforceLeader
2022-11-08 19:11:17,857 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-08 19:11:17,858 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-5D589E31C35B:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]
2022-11-08 19:11:17,858 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-08 19:11:17,858 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-08 19:11:17,858 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:17,858 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-08 19:11:17,858 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-08 19:11:17,858 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-08 19:11:17,858 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-5D589E31C35B:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:17,859 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s3
2022-11-08 19:11:17,859 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s3 does not exist.
2022-11-08 19:11:17,859 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s3
2022-11-08 19:11:17,859 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:17,859 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:17,860 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:17,860 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:17,860 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:17,860 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:17,860 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s3] (custom)
2022-11-08 19:11:17,863 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-5D589E31C35B:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER] returns group-5D589E31C35B:java.util.concurrent.CompletableFuture@7145c315[Not completed]
2022-11-08 19:11:17,864 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s4, group-5D589E31C35B:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:17,864 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s4
2022-11-08 19:11:17,864 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s4 does not exist.
2022-11-08 19:11:17,864 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s4
2022-11-08 19:11:17,864 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:17,864 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:17,864 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:17,864 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:17,864 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:17,864 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:17,864 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s4] (custom)
2022-11-08 19:11:17,866 [pool-5-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-5D589E31C35B:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:17,867 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:17,867 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:17,867 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:17,867 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:17,867 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:17,867 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:17,867 [pool-5-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-5D589E31C35B: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:17,867 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:17,867 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:17,867 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:17,867 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:17,868 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:17,870 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:17,870 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:17,870 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:17,870 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:17,870 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:17,873 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s4: addNew group-5D589E31C35B:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER] returns group-5D589E31C35B:java.util.concurrent.CompletableFuture@5b9c75a[Not completed]
2022-11-08 19:11:17,873 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-5D589E31C35B:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:17,873 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s0
2022-11-08 19:11:17,873 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s0 does not exist.
2022-11-08 19:11:17,873 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s0
2022-11-08 19:11:17,873 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:17,873 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:17,873 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:17,873 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:17,873 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:17,873 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:17,874 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s0] (custom)
2022-11-08 19:11:17,875 [pool-6-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s4: new RaftServerImpl for group-5D589E31C35B:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:17,875 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:17,875 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:17,875 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:17,875 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:17,875 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:17,875 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:17,875 [pool-6-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-5D589E31C35B: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:17,875 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:17,875 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:17,875 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:17,875 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:17,875 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:17,879 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:17,879 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:17,880 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:17,880 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:17,880 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:17,883 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-5D589E31C35B:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER] returns group-5D589E31C35B:java.util.concurrent.CompletableFuture@fc5cb34[Not completed]
2022-11-08 19:11:17,883 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-5D589E31C35B:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:17,883 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s1
2022-11-08 19:11:17,883 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s1 does not exist.
2022-11-08 19:11:17,883 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s1
2022-11-08 19:11:17,883 [pool-7-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-5D589E31C35B:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:17,883 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:17,883 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:17,883 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:17,884 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:17,884 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:17,884 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:17,884 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s1] (custom)
2022-11-08 19:11:17,883 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:17,884 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:17,884 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:17,884 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:17,884 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:17,884 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:17,884 [pool-7-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-5D589E31C35B: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:17,884 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:17,884 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:17,884 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:17,884 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:17,885 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:17,886 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:17,886 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:17,886 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:17,886 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:17,886 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:17,887 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-5D589E31C35B:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER] returns group-5D589E31C35B:java.util.concurrent.CompletableFuture@502694c7[Not completed]
2022-11-08 19:11:17,887 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-5D589E31C35B:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:17,887 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s2
2022-11-08 19:11:17,887 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s2 does not exist.
2022-11-08 19:11:17,887 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s2
2022-11-08 19:11:17,887 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:17,887 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:17,888 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:17,888 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:17,888 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:17,888 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:17,888 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s2] (custom)
2022-11-08 19:11:17,889 [pool-8-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-5D589E31C35B:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:17,889 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:17,889 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:17,889 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:17,889 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:17,889 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:17,889 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:17,889 [pool-8-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-5D589E31C35B: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:17,889 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:17,889 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:17,889 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:17,889 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:17,890 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:17,892 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-5D589E31C35B:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER] returns group-5D589E31C35B:java.util.concurrent.CompletableFuture@628973b3[Not completed]
2022-11-08 19:11:17,892 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:17,892 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:17,892 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s3] (custom)
2022-11-08 19:11:17,892 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s3/e116aa7c-2c7b-4931-a82a-5d589e31c35b does not exist. Creating ...
2022-11-08 19:11:17,893 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s3/e116aa7c-2c7b-4931-a82a-5d589e31c35b
2022-11-08 19:11:17,894 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s3/e116aa7c-2c7b-4931-a82a-5d589e31c35b/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:17,894 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s3/e116aa7c-2c7b-4931-a82a-5d589e31c35b/current
2022-11-08 19:11:17,894 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s3/e116aa7c-2c7b-4931-a82a-5d589e31c35b/sm
2022-11-08 19:11:17,895 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s3/e116aa7c-2c7b-4931-a82a-5d589e31c35b has been successfully formatted.
2022-11-08 19:11:17,895 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:17,895 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:17,895 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:17,895 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:17,895 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:17,896 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:17,897 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:17,897 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:17,897 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s3@group-5D589E31C35B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s3/e116aa7c-2c7b-4931-a82a-5d589e31c35b
2022-11-08 19:11:17,897 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:17,897 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:17,897 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:17,897 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:17,897 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:17,897 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:17,897 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:17,897 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:17,897 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:17,898 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:17,898 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:17,898 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:17,898 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:17,898 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-5D589E31C35B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:17,898 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-5D589E31C35B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:17,898 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:17,901 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:17,901 [pool-9-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-5D589E31C35B:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:17,901 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:17,901 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:17,901 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:17,901 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:17,901 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:17,901 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:17,902 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:17,902 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:17,902 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:17,902 [pool-9-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-5D589E31C35B: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:17,902 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:17,902 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:17,902 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:17,902 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:17,902 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s3@group-5D589E31C35B: start as a follower, conf=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:17,902 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:17,902 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-5D589E31C35B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:17,902 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-5D589E31C35B-FollowerState
2022-11-08 19:11:17,904 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:17,904 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:17,908 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:17,908 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:17,908 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:17,906 [s3@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:17,905 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5D589E31C35B,id=s3
2022-11-08 19:11:17,908 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:17,908 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:17,908 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:17,908 [s3@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:17,909 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s3: start RPC server
2022-11-08 19:11:17,911 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s3: Started
2022-11-08 19:11:17,911 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:17,911 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:17,911 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s4] (custom)
2022-11-08 19:11:17,912 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s4/e116aa7c-2c7b-4931-a82a-5d589e31c35b does not exist. Creating ...
2022-11-08 19:11:17,912 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s4/e116aa7c-2c7b-4931-a82a-5d589e31c35b
2022-11-08 19:11:17,913 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s4/e116aa7c-2c7b-4931-a82a-5d589e31c35b/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:17,913 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s4/e116aa7c-2c7b-4931-a82a-5d589e31c35b/current
2022-11-08 19:11:17,913 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s4/e116aa7c-2c7b-4931-a82a-5d589e31c35b/sm
2022-11-08 19:11:17,914 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s4/e116aa7c-2c7b-4931-a82a-5d589e31c35b has been successfully formatted.
2022-11-08 19:11:17,914 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:17,914 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:17,914 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:17,914 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:17,915 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:17,915 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:17,916 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:17,916 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:17,916 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s4@group-5D589E31C35B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s4/e116aa7c-2c7b-4931-a82a-5d589e31c35b
2022-11-08 19:11:17,916 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:17,916 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:17,916 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:17,916 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:17,916 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:17,916 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:17,916 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:17,917 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:17,917 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:17,917 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:17,917 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:17,917 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:17,917 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:17,917 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-5D589E31C35B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:17,917 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-5D589E31C35B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:17,917 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s4@group-5D589E31C35B: start as a follower, conf=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:17,917 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-5D589E31C35B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:17,918 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-5D589E31C35B-FollowerState
2022-11-08 19:11:17,918 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5D589E31C35B,id=s4
2022-11-08 19:11:17,918 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:17,919 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:17,919 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:17,918 [s4@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:17,919 [s4@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:17,924 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s4: start RPC server
2022-11-08 19:11:17,924 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:17,924 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:17,924 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s0] (custom)
2022-11-08 19:11:17,925 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s0/e116aa7c-2c7b-4931-a82a-5d589e31c35b does not exist. Creating ...
2022-11-08 19:11:17,925 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s0/e116aa7c-2c7b-4931-a82a-5d589e31c35b
2022-11-08 19:11:17,925 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s4: Started
2022-11-08 19:11:17,926 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s0/e116aa7c-2c7b-4931-a82a-5d589e31c35b/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:17,926 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s0/e116aa7c-2c7b-4931-a82a-5d589e31c35b/current
2022-11-08 19:11:17,926 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s0/e116aa7c-2c7b-4931-a82a-5d589e31c35b/sm
2022-11-08 19:11:17,927 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s0/e116aa7c-2c7b-4931-a82a-5d589e31c35b has been successfully formatted.
2022-11-08 19:11:17,927 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:17,927 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:17,927 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:17,927 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:17,927 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:17,928 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:17,929 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:17,929 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:17,929 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-5D589E31C35B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s0/e116aa7c-2c7b-4931-a82a-5d589e31c35b
2022-11-08 19:11:17,929 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:17,929 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:17,929 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:17,929 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:17,929 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:17,929 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:17,929 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:17,929 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:17,929 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:17,929 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:17,929 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:17,929 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:17,930 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:17,930 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-5D589E31C35B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:17,930 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-5D589E31C35B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:17,930 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-5D589E31C35B: start as a follower, conf=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:17,930 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-5D589E31C35B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:17,930 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5D589E31C35B-FollowerState
2022-11-08 19:11:17,932 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5D589E31C35B,id=s0
2022-11-08 19:11:17,932 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:17,932 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:17,932 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:17,932 [s0@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:17,933 [s0@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:17,933 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-08 19:11:17,934 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:17,934 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:17,934 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s1] (custom)
2022-11-08 19:11:17,934 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s1/e116aa7c-2c7b-4931-a82a-5d589e31c35b does not exist. Creating ...
2022-11-08 19:11:17,934 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-08 19:11:17,934 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s1/e116aa7c-2c7b-4931-a82a-5d589e31c35b
2022-11-08 19:11:17,935 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s1/e116aa7c-2c7b-4931-a82a-5d589e31c35b/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:17,935 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s1/e116aa7c-2c7b-4931-a82a-5d589e31c35b/current
2022-11-08 19:11:17,935 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s1/e116aa7c-2c7b-4931-a82a-5d589e31c35b/sm
2022-11-08 19:11:17,936 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s1/e116aa7c-2c7b-4931-a82a-5d589e31c35b has been successfully formatted.
2022-11-08 19:11:17,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:17,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:17,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:17,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:17,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:17,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:17,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:17,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:17,937 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-5D589E31C35B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s1/e116aa7c-2c7b-4931-a82a-5d589e31c35b
2022-11-08 19:11:17,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:17,938 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:17,938 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:17,938 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:17,938 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:17,938 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:17,938 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:17,938 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:17,938 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:17,938 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:17,938 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:17,938 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:17,938 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:17,938 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-5D589E31C35B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:17,938 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-5D589E31C35B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:17,938 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-5D589E31C35B: start as a follower, conf=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:17,939 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-5D589E31C35B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:17,939 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5D589E31C35B-FollowerState
2022-11-08 19:11:17,939 [s1@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:17,939 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5D589E31C35B,id=s1
2022-11-08 19:11:17,939 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:17,939 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:17,939 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:17,939 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-08 19:11:17,939 [s1@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:17,941 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-08 19:11:17,941 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:17,941 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:17,941 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s2] (custom)
2022-11-08 19:11:17,941 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s2/e116aa7c-2c7b-4931-a82a-5d589e31c35b does not exist. Creating ...
2022-11-08 19:11:17,941 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s2/e116aa7c-2c7b-4931-a82a-5d589e31c35b
2022-11-08 19:11:17,942 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s2/e116aa7c-2c7b-4931-a82a-5d589e31c35b/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:17,942 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s2/e116aa7c-2c7b-4931-a82a-5d589e31c35b/current
2022-11-08 19:11:17,942 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s2/e116aa7c-2c7b-4931-a82a-5d589e31c35b/sm
2022-11-08 19:11:17,943 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s2/e116aa7c-2c7b-4931-a82a-5d589e31c35b has been successfully formatted.
2022-11-08 19:11:17,943 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:17,943 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:17,944 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:17,944 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:17,944 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:17,944 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:17,945 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:17,945 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:17,945 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-5D589E31C35B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s2/e116aa7c-2c7b-4931-a82a-5d589e31c35b
2022-11-08 19:11:17,945 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:17,945 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:17,945 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:17,945 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:17,945 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:17,945 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:17,945 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:17,945 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:17,945 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:17,945 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:17,945 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:17,945 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:17,945 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:17,946 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-5D589E31C35B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:17,946 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-5D589E31C35B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:17,946 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-5D589E31C35B: start as a follower, conf=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:17,946 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D589E31C35B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:17,946 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:17,949 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5D589E31C35B,id=s2
2022-11-08 19:11:17,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:17,950 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:17,950 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:17,950 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:17,950 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:17,951 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-08 19:11:17,957 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-08 19:11:17,957 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:17,958 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-5D589E31C35B:t0, leader=null, voted=, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-5D589E31C35B:t0, leader=null, voted=, raftlog=Memoized:s4@group-5D589E31C35B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-5D589E31C35B:t0, leader=null, voted=, raftlog=Memoized:s0@group-5D589E31C35B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5D589E31C35B:t0, leader=null, voted=, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5D589E31C35B:t0, leader=null, voted=, raftlog=Memoized:s2@group-5D589E31C35B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:17,958 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-5D589E31C35B:t0, leader=null, voted=, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-5D589E31C35B:t0, leader=null, voted=, raftlog=Memoized:s4@group-5D589E31C35B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-5D589E31C35B:t0, leader=null, voted=, raftlog=Memoized:s0@group-5D589E31C35B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5D589E31C35B:t0, leader=null, voted=, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5D589E31C35B:t0, leader=null, voted=, raftlog=Memoized:s2@group-5D589E31C35B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-5D589E31C35B:t0, leader=null, voted=, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-5D589E31C35B:t0, leader=null, voted=, raftlog=Memoized:s4@group-5D589E31C35B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-5D589E31C35B:t0, leader=null, voted=, raftlog=Memoized:s0@group-5D589E31C35B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5D589E31C35B:t0, leader=null, voted=, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5D589E31C35B:t0, leader=null, voted=, raftlog=Memoized:s2@group-5D589E31C35B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testEnforceLeader(LeaderElectionTests.java:277)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:18,092 [s3@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-5D589E31C35B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:190226066ns, electionTimeout:184ms
2022-11-08 19:11:18,093 [s3@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-5D589E31C35B-FollowerState
2022-11-08 19:11:18,093 [s3@group-5D589E31C35B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-5D589E31C35B: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-08 19:11:18,093 [s3@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:18,093 [s3@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-5D589E31C35B-LeaderElection2
2022-11-08 19:11:18,094 [s3@group-5D589E31C35B-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-5D589E31C35B-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:18,094 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-5D589E31C35B: receive requestVote(PRE_VOTE, s3, group-5D589E31C35B, 0, (t:0, i:0))
2022-11-08 19:11:18,094 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-5D589E31C35B-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-11-08 19:11:18,095 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-5D589E31C35B replies to PRE_VOTE vote request: s3<-s4#0:OK-t0. Peer's state: s4@group-5D589E31C35B:t0, leader=null, voted=, raftlog=Memoized:s4@group-5D589E31C35B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:18,096 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-5D589E31C35B: receive requestVote(PRE_VOTE, s3, group-5D589E31C35B, 0, (t:0, i:0))
2022-11-08 19:11:18,096 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5D589E31C35B-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-11-08 19:11:18,096 [s3@group-5D589E31C35B-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:18,096 [s3@group-5D589E31C35B-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:18,096 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-5D589E31C35B: receive requestVote(PRE_VOTE, s3, group-5D589E31C35B, 0, (t:0, i:0))
2022-11-08 19:11:18,096 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5D589E31C35B-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-11-08 19:11:18,096 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-5D589E31C35B replies to PRE_VOTE vote request: s3<-s1#0:OK-t0. Peer's state: s1@group-5D589E31C35B:t0, leader=null, voted=, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:18,096 [s3@group-5D589E31C35B-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-5D589E31C35B-LeaderElection2: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:18,096 [s3@group-5D589E31C35B-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s4#0:OK-t0
2022-11-08 19:11:18,096 [s3@group-5D589E31C35B-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s3<-s1#0:OK-t0
2022-11-08 19:11:18,096 [s3@group-5D589E31C35B-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-5D589E31C35B-LeaderElection2 PRE_VOTE round 0: result PASSED
2022-11-08 19:11:18,096 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-5D589E31C35B replies to PRE_VOTE vote request: s3<-s0#0:OK-t0. Peer's state: s0@group-5D589E31C35B:t0, leader=null, voted=, raftlog=Memoized:s0@group-5D589E31C35B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:18,100 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-5D589E31C35B: receive requestVote(PRE_VOTE, s3, group-5D589E31C35B, 0, (t:0, i:0))
2022-11-08 19:11:18,100 [s3@group-5D589E31C35B-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-5D589E31C35B-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:18,101 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5D589E31C35B-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-11-08 19:11:18,101 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-5D589E31C35B replies to PRE_VOTE vote request: s3<-s2#0:OK-t0. Peer's state: s2@group-5D589E31C35B:t0, leader=null, voted=, raftlog=Memoized:s2@group-5D589E31C35B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:18,102 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-5D589E31C35B: receive requestVote(ELECTION, s3, group-5D589E31C35B, 1, (t:0, i:0))
2022-11-08 19:11:18,106 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-5D589E31C35B-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2022-11-08 19:11:18,106 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-5D589E31C35B: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s3
2022-11-08 19:11:18,106 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-5D589E31C35B-FollowerState
2022-11-08 19:11:18,109 [s4@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-5D589E31C35B-FollowerState was interrupted
2022-11-08 19:11:18,109 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-5D589E31C35B: receive requestVote(ELECTION, s3, group-5D589E31C35B, 1, (t:0, i:0))
2022-11-08 19:11:18,109 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-5D589E31C35B: receive requestVote(ELECTION, s3, group-5D589E31C35B, 1, (t:0, i:0))
2022-11-08 19:11:18,110 [s3@group-5D589E31C35B-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:18,110 [s3@group-5D589E31C35B-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:18,112 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-5D589E31C35B-FollowerState
2022-11-08 19:11:18,112 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5D589E31C35B-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2022-11-08 19:11:18,112 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-5D589E31C35B: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s3
2022-11-08 19:11:18,112 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-5D589E31C35B-FollowerState
2022-11-08 19:11:18,112 [s1@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-5D589E31C35B-FollowerState was interrupted
2022-11-08 19:11:18,112 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5D589E31C35B-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2022-11-08 19:11:18,112 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-5D589E31C35B: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s3
2022-11-08 19:11:18,112 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5D589E31C35B-FollowerState
2022-11-08 19:11:18,112 [s0@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-5D589E31C35B-FollowerState was interrupted
2022-11-08 19:11:18,113 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5D589E31C35B-FollowerState
2022-11-08 19:11:18,113 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5D589E31C35B-FollowerState
2022-11-08 19:11:18,113 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-5D589E31C35B replies to ELECTION vote request: s3<-s4#0:OK-t1. Peer's state: s4@group-5D589E31C35B:t1, leader=null, voted=s3, raftlog=Memoized:s4@group-5D589E31C35B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:18,114 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-5D589E31C35B: receive requestVote(ELECTION, s3, group-5D589E31C35B, 1, (t:0, i:0))
2022-11-08 19:11:18,118 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5D589E31C35B-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2022-11-08 19:11:18,118 [s0@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:18,118 [s0@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:18,118 [s4@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:18,119 [s4@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:18,118 [s1@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:18,119 [s1@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:18,119 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-5D589E31C35B replies to ELECTION vote request: s3<-s1#0:OK-t1. Peer's state: s1@group-5D589E31C35B:t1, leader=null, voted=s3, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:18,119 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D589E31C35B: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s3
2022-11-08 19:11:18,119 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:18,119 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:18,119 [s3@group-5D589E31C35B-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-5D589E31C35B-LeaderElection2: ELECTION PASSED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:18,119 [s3@group-5D589E31C35B-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s4#0:OK-t1
2022-11-08 19:11:18,119 [s3@group-5D589E31C35B-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s3<-s1#0:OK-t1
2022-11-08 19:11:18,119 [s3@group-5D589E31C35B-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-5D589E31C35B-LeaderElection2 ELECTION round 0: result PASSED
2022-11-08 19:11:18,119 [s3@group-5D589E31C35B-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-5D589E31C35B-LeaderElection2
2022-11-08 19:11:18,119 [s3@group-5D589E31C35B-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-5D589E31C35B: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-08 19:11:18,119 [s3@group-5D589E31C35B-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s3@group-5D589E31C35B: change Leader from null to s3 at term 1 for becomeLeader, leader elected after 252ms
2022-11-08 19:11:18,119 [s3@group-5D589E31C35B-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:11:18,120 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:18,120 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:18,125 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-5D589E31C35B replies to ELECTION vote request: s3<-s2#0:OK-t1. Peer's state: s2@group-5D589E31C35B:t1, leader=null, voted=s3, raftlog=Memoized:s2@group-5D589E31C35B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:18,125 [s3@group-5D589E31C35B-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:18,123 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-5D589E31C35B replies to ELECTION vote request: s3<-s0#0:OK-t1. Peer's state: s0@group-5D589E31C35B:t1, leader=null, voted=s3, raftlog=Memoized:s0@group-5D589E31C35B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:18,123 [s2@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-5D589E31C35B-FollowerState was interrupted
2022-11-08 19:11:18,126 [s3@group-5D589E31C35B-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:18,126 [s3@group-5D589E31C35B-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:11:18,126 [s3@group-5D589E31C35B-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:11:18,126 [s3@group-5D589E31C35B-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:11:18,126 [s3@group-5D589E31C35B-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:18,126 [s3@group-5D589E31C35B-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:11:18,127 [s3@group-5D589E31C35B-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:18,127 [s3@group-5D589E31C35B-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:18,127 [s3@group-5D589E31C35B-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:18,127 [s3@group-5D589E31C35B-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:18,127 [s3@group-5D589E31C35B-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:18,127 [s3@group-5D589E31C35B-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:18,127 [s3@group-5D589E31C35B-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:18,128 [s3@group-5D589E31C35B-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:18,128 [s3@group-5D589E31C35B-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:18,128 [s3@group-5D589E31C35B-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:18,128 [s3@group-5D589E31C35B-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:18,128 [s3@group-5D589E31C35B-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:18,128 [s3@group-5D589E31C35B-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-5D589E31C35B-LeaderStateImpl
2022-11-08 19:11:18,129 [s3@group-5D589E31C35B-LeaderElection2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s3@group-5D589E31C35B-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:18,133 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s4@group-5D589E31C35B: change Leader from null to s3 at term 1 for appendEntries, leader elected after 257ms
2022-11-08 19:11:18,134 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-5D589E31C35B: receive appendEntries(s3, 1, null, -1, true, commits:[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], cId:28, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:37653"
dataStreamAddress: "localhost:39669"
clientAddress: "localhost:42101"
adminAddress: "localhost:36015"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:43189"
dataStreamAddress: "localhost:42297"
clientAddress: "localhost:33007"
adminAddress: "localhost:35299"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:41893"
dataStreamAddress: "localhost:45101"
clientAddress: "localhost:41993"
adminAddress: "localhost:37625"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:34273"
dataStreamAddress: "localhost:45605"
clientAddress: "localhost:35527"
adminAddress: "localhost:36031"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37305"
dataStreamAddress: "localhost:38773"
clientAddress: "localhost:45787"
adminAddress: "localhost:39781"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:18,136 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-5D589E31C35B: change Leader from null to s3 at term 1 for appendEntries, leader elected after 251ms
2022-11-08 19:11:18,136 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-5D589E31C35B: change Leader from null to s3 at term 1 for appendEntries, leader elected after 247ms
2022-11-08 19:11:18,136 [s3@group-5D589E31C35B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s3@group-5D589E31C35B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s3/e116aa7c-2c7b-4931-a82a-5d589e31c35b/current/log_inprogress_0
2022-11-08 19:11:18,142 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s4@group-5D589E31C35B: set configuration 0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:18,143 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s4@group-5D589E31C35B-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:18,151 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-5D589E31C35B: receive appendEntries(s3, 1, null, -1, true, commits:[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], cId:31, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:37653"
dataStreamAddress: "localhost:39669"
clientAddress: "localhost:42101"
adminAddress: "localhost:36015"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:43189"
dataStreamAddress: "localhost:42297"
clientAddress: "localhost:33007"
adminAddress: "localhost:35299"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:41893"
dataStreamAddress: "localhost:45101"
clientAddress: "localhost:41993"
adminAddress: "localhost:37625"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:34273"
dataStreamAddress: "localhost:45605"
clientAddress: "localhost:35527"
adminAddress: "localhost:36031"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37305"
dataStreamAddress: "localhost:38773"
clientAddress: "localhost:45787"
adminAddress: "localhost:39781"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:18,151 [s3@group-5D589E31C35B-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s3@group-5D589E31C35B: set configuration 0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:18,152 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-5D589E31C35B: receive appendEntries(s3, 1, null, -1, true, commits:[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], cId:32, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:37653"
dataStreamAddress: "localhost:39669"
clientAddress: "localhost:42101"
adminAddress: "localhost:36015"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:43189"
dataStreamAddress: "localhost:42297"
clientAddress: "localhost:33007"
adminAddress: "localhost:35299"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:41893"
dataStreamAddress: "localhost:45101"
clientAddress: "localhost:41993"
adminAddress: "localhost:37625"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:34273"
dataStreamAddress: "localhost:45605"
clientAddress: "localhost:35527"
adminAddress: "localhost:36031"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37305"
dataStreamAddress: "localhost:38773"
clientAddress: "localhost:45787"
adminAddress: "localhost:39781"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:18,152 [s4@group-5D589E31C35B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s4@group-5D589E31C35B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s4/e116aa7c-2c7b-4931-a82a-5d589e31c35b/current/log_inprogress_0
2022-11-08 19:11:18,154 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-5D589E31C35B: succeeded to handle AppendEntries. Reply: s3<-s4#28:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:11:18,154 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-5D589E31C35B: set configuration 0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:18,155 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-5D589E31C35B-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:18,156 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-5D589E31C35B: set configuration 0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:18,156 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-5D589E31C35B-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:18,156 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-5D589E31C35B: change Leader from null to s3 at term 1 for appendEntries, leader elected after 254ms
2022-11-08 19:11:18,163 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-5D589E31C35B: receive appendEntries(s3, 1, null, 0, true, commits:[s3:c0, s4:c-1, s0:c-1, s1:c-1, s2:c-1], cId:35, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:37653"
dataStreamAddress: "localhost:39669"
clientAddress: "localhost:42101"
adminAddress: "localhost:36015"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:43189"
dataStreamAddress: "localhost:42297"
clientAddress: "localhost:33007"
adminAddress: "localhost:35299"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:41893"
dataStreamAddress: "localhost:45101"
clientAddress: "localhost:41993"
adminAddress: "localhost:37625"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:34273"
dataStreamAddress: "localhost:45605"
clientAddress: "localhost:35527"
adminAddress: "localhost:36031"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37305"
dataStreamAddress: "localhost:38773"
clientAddress: "localhost:45787"
adminAddress: "localhost:39781"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:18,163 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-5D589E31C35B: set configuration 0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:18,164 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-5D589E31C35B-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:18,167 [s0@group-5D589E31C35B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-5D589E31C35B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s0/e116aa7c-2c7b-4931-a82a-5d589e31c35b/current/log_inprogress_0
2022-11-08 19:11:18,168 [s1@group-5D589E31C35B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-5D589E31C35B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s1/e116aa7c-2c7b-4931-a82a-5d589e31c35b/current/log_inprogress_0
2022-11-08 19:11:18,170 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-5D589E31C35B: succeeded to handle AppendEntries. Reply: s3<-s1#31:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:11:18,175 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-5D589E31C35B: succeeded to handle AppendEntries. Reply: s3<-s0#32:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:11:18,175 [s2@group-5D589E31C35B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-5D589E31C35B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcd730cf0b/s2/e116aa7c-2c7b-4931-a82a-5d589e31c35b/current/log_inprogress_0
2022-11-08 19:11:18,177 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-5D589E31C35B: succeeded to handle AppendEntries. Reply: s3<-s2#35:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-08 19:11:18,409 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:18,409 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testEnforceLeader(278)) - firstLeader = s3
2022-11-08 19:11:18,409 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testEnforceLeader(283)) - enforce leader to s2
2022-11-08 19:11:18,410 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(289)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:18,411 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:18,623 [s0@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-5D589E31C35B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:220097261ns, electionTimeout:164ms
2022-11-08 19:11:18,623 [s0@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5D589E31C35B-FollowerState
2022-11-08 19:11:18,623 [s0@group-5D589E31C35B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-5D589E31C35B: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:18,623 [s0@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:18,623 [s0@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5D589E31C35B-LeaderElection3
2022-11-08 19:11:18,623 [s0@group-5D589E31C35B-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-5D589E31C35B: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-08 19:11:18,624 [s0@group-5D589E31C35B-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-5D589E31C35B-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:18,628 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-5D589E31C35B: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-11-08 19:11:18,628 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-5D589E31C35B-LeaderElection3
2022-11-08 19:11:18,628 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5D589E31C35B-FollowerState
2022-11-08 19:11:18,628 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-5D589E31C35B: change Leader from null to s3 at term 1 for appendEntries, leader elected after 4ms
2022-11-08 19:11:18,774 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-5D589E31C35B: receive requestVote(PRE_VOTE, s0, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:18,775 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-5D589E31C35B: receive requestVote(PRE_VOTE, s0, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:18,775 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-5D589E31C35B-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:18,775 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-5D589E31C35B replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:18,774 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-5D589E31C35B: receive requestVote(PRE_VOTE, s0, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:18,775 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-5D589E31C35B-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:18,775 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-5D589E31C35B replies to PRE_VOTE vote request: s0<-s4#0:OK-t1. Peer's state: s4@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:18,775 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5D589E31C35B-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:18,775 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-5D589E31C35B replies to PRE_VOTE vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:18,775 [s0@group-5D589E31C35B-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5D589E31C35B-LeaderElection3: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:18,775 [s0@group-5D589E31C35B-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s4#0:OK-t1
2022-11-08 19:11:18,776 [s0@group-5D589E31C35B-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-5D589E31C35B-LeaderElection3 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:18,861 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:18,863 [s2@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5D589E31C35B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:459255919ns, electionTimeout:209ms
2022-11-08 19:11:18,863 [s2@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:18,864 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D589E31C35B: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:18,864 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:18,864 [s2@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D589E31C35B-LeaderElection4
2022-11-08 19:11:18,864 [s2@group-5D589E31C35B-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-5D589E31C35B: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-08 19:11:18,864 [s2@group-5D589E31C35B-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-5D589E31C35B-LeaderElection4 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:18,865 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:18,865 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-5D589E31C35B-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-11-08 19:11:18,865 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:18,865 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:18,865 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:18,865 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:18,866 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:18,866 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:18,866 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s4#0:FAIL-t1. Peer's state: s4@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:18,866 [s2@group-5D589E31C35B-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5D589E31C35B-LeaderElection4: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-11-08 19:11:18,866 [s2@group-5D589E31C35B-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s3#0:FAIL-t1
2022-11-08 19:11:18,866 [s2@group-5D589E31C35B-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s4#0:FAIL-t1
2022-11-08 19:11:18,866 [s2@group-5D589E31C35B-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s2<-s0#0:FAIL-t1
2022-11-08 19:11:18,866 [s2@group-5D589E31C35B-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-5D589E31C35B-LeaderElection4 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:18,866 [s2@group-5D589E31C35B-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D589E31C35B: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:18,866 [s2@group-5D589E31C35B-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5D589E31C35B-LeaderElection4
2022-11-08 19:11:18,867 [s2@group-5D589E31C35B-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:18,873 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:18,873 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:18,873 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:18,925 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-5D589E31C35B: receive requestVote(PRE_VOTE, s0, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:18,926 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5D589E31C35B-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:18,926 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-5D589E31C35B replies to PRE_VOTE vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-5D589E31C35B:t1, leader=null, voted=s3, raftlog=Memoized:s2@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:19,080 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-5D589E31C35B: change Leader from null to s3 at term 1 for appendEntries, leader elected after 215ms
2022-11-08 19:11:19,312 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(292)) - try enforcing leader to s2 but new leader is s3
2022-11-08 19:11:19,312 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:19,600 [s2@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5D589E31C35B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:293926049ns, electionTimeout:183ms
2022-11-08 19:11:19,600 [s2@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:19,600 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D589E31C35B: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:19,600 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:19,601 [s2@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D589E31C35B-LeaderElection5
2022-11-08 19:11:19,604 [s2@group-5D589E31C35B-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-5D589E31C35B: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-08 19:11:19,604 [s2@group-5D589E31C35B-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-5D589E31C35B-LeaderElection5 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:19,736 [s4@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-5D589E31C35B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:223118661ns, electionTimeout:208ms
2022-11-08 19:11:19,736 [s4@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-5D589E31C35B-FollowerState
2022-11-08 19:11:19,737 [s4@group-5D589E31C35B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-5D589E31C35B: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:19,737 [s4@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:19,737 [s4@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-5D589E31C35B-LeaderElection6
2022-11-08 19:11:19,737 [s4@group-5D589E31C35B-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s4@group-5D589E31C35B: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-08 19:11:19,737 [s4@group-5D589E31C35B-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-5D589E31C35B-LeaderElection6 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:19,739 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-5D589E31C35B: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-11-08 19:11:19,739 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-5D589E31C35B-LeaderElection6
2022-11-08 19:11:19,739 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-5D589E31C35B-FollowerState
2022-11-08 19:11:19,739 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s4@group-5D589E31C35B: change Leader from null to s3 at term 1 for appendEntries, leader elected after 2ms
2022-11-08 19:11:19,755 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:19,755 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:19,755 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:19,755 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:19,755 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:19,755 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:19,755 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s4#0:FAIL-t1. Peer's state: s4@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:19,763 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:19,755 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:19,755 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-5D589E31C35B-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-11-08 19:11:19,764 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:19,764 [s2@group-5D589E31C35B-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5D589E31C35B-LeaderElection5: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-11-08 19:11:19,764 [s2@group-5D589E31C35B-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s3#0:FAIL-t1
2022-11-08 19:11:19,764 [s2@group-5D589E31C35B-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s4#0:FAIL-t1
2022-11-08 19:11:19,764 [s2@group-5D589E31C35B-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s2<-s1#0:FAIL-t1
2022-11-08 19:11:19,764 [s2@group-5D589E31C35B-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-5D589E31C35B-LeaderElection5 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:19,764 [s2@group-5D589E31C35B-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D589E31C35B: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:19,764 [s2@group-5D589E31C35B-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5D589E31C35B-LeaderElection5
2022-11-08 19:11:19,764 [s2@group-5D589E31C35B-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:19,764 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:19,764 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:19,888 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-5D589E31C35B: receive requestVote(PRE_VOTE, s4, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:19,888 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-5D589E31C35B-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-11-08 19:11:19,888 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-5D589E31C35B replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:19,888 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-5D589E31C35B: receive requestVote(PRE_VOTE, s4, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:19,888 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-11-08 19:11:19,888 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-5D589E31C35B: receive requestVote(PRE_VOTE, s4, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:19,888 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-5D589E31C35B replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:19,888 [s4@group-5D589E31C35B-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-5D589E31C35B-LeaderElection6: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:19,888 [s4@group-5D589E31C35B-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s3#0:FAIL-t1
2022-11-08 19:11:19,888 [s4@group-5D589E31C35B-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-5D589E31C35B-LeaderElection6 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:19,888 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-11-08 19:11:19,889 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-5D589E31C35B replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:19,919 [s2@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5D589E31C35B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:155343772ns, electionTimeout:154ms
2022-11-08 19:11:19,920 [s2@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:19,920 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D589E31C35B: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:19,920 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:19,920 [s2@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D589E31C35B-LeaderElection7
2022-11-08 19:11:19,920 [s2@group-5D589E31C35B-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-5D589E31C35B-LeaderElection7 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:19,921 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:19,921 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-5D589E31C35B-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-11-08 19:11:19,921 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:19,921 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:19,921 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:19,921 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s4#0:FAIL-t1. Peer's state: s4@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:19,922 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:19,923 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:19,923 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:19,923 [s2@group-5D589E31C35B-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5D589E31C35B-LeaderElection7: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-11-08 19:11:19,923 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:19,923 [s2@group-5D589E31C35B-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s3#0:FAIL-t1
2022-11-08 19:11:19,923 [s2@group-5D589E31C35B-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s4#0:FAIL-t1
2022-11-08 19:11:19,923 [s2@group-5D589E31C35B-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s2<-s0#0:FAIL-t1
2022-11-08 19:11:19,923 [s2@group-5D589E31C35B-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-5D589E31C35B-LeaderElection7 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:19,923 [s2@group-5D589E31C35B-LeaderElection7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D589E31C35B: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:19,923 [s2@group-5D589E31C35B-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5D589E31C35B-LeaderElection7
2022-11-08 19:11:19,924 [s2@group-5D589E31C35B-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:19,923 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:19,924 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:19,982 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-5D589E31C35B: change Leader from null to s3 at term 1 for appendEntries, leader elected after 377ms
2022-11-08 19:11:20,038 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-5D589E31C35B: receive requestVote(PRE_VOTE, s4, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:20,039 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-11-08 19:11:20,039 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-5D589E31C35B replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:20,214 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(292)) - try enforcing leader to s2 but new leader is s3
2022-11-08 19:11:20,214 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:20,652 [s2@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5D589E31C35B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:444003722ns, electionTimeout:265ms
2022-11-08 19:11:20,652 [s2@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:20,653 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D589E31C35B: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:20,653 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:20,653 [s2@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D589E31C35B-LeaderElection8
2022-11-08 19:11:20,654 [s2@group-5D589E31C35B-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-5D589E31C35B: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-08 19:11:20,655 [s2@group-5D589E31C35B-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-5D589E31C35B-LeaderElection8 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:20,664 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:20,805 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:20,805 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:20,805 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:20,805 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:20,805 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:20,805 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:20,806 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:20,806 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:20,806 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:20,805 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-5D589E31C35B-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-11-08 19:11:20,806 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:20,805 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s4#0:FAIL-t1. Peer's state: s4@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:20,806 [s2@group-5D589E31C35B-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5D589E31C35B-LeaderElection8: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-11-08 19:11:20,806 [s2@group-5D589E31C35B-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s3#0:FAIL-t1
2022-11-08 19:11:20,806 [s2@group-5D589E31C35B-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s0#0:FAIL-t1
2022-11-08 19:11:20,806 [s2@group-5D589E31C35B-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s2<-s1#0:FAIL-t1
2022-11-08 19:11:20,806 [s2@group-5D589E31C35B-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-5D589E31C35B-LeaderElection8 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:20,806 [s2@group-5D589E31C35B-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D589E31C35B: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:20,806 [s2@group-5D589E31C35B-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5D589E31C35B-LeaderElection8
2022-11-08 19:11:20,806 [s2@group-5D589E31C35B-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:20,884 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-5D589E31C35B: change Leader from null to s3 at term 1 for appendEntries, leader elected after 229ms
2022-11-08 19:11:21,114 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(292)) - try enforcing leader to s2 but new leader is s3
2022-11-08 19:11:21,115 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:21,454 [s2@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5D589E31C35B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:343986140ns, electionTimeout:254ms
2022-11-08 19:11:21,454 [s2@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:21,454 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D589E31C35B: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:21,454 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:21,454 [s2@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D589E31C35B-LeaderElection9
2022-11-08 19:11:21,457 [s2@group-5D589E31C35B-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-5D589E31C35B: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-08 19:11:21,457 [s2@group-5D589E31C35B-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-5D589E31C35B-LeaderElection9 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:21,493 [s0@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-5D589E31C35B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:223822361ns, electionTimeout:199ms
2022-11-08 19:11:21,493 [s0@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5D589E31C35B-FollowerState
2022-11-08 19:11:21,493 [s0@group-5D589E31C35B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-5D589E31C35B: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:21,493 [s0@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:21,493 [s0@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5D589E31C35B-LeaderElection10
2022-11-08 19:11:21,493 [s0@group-5D589E31C35B-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-5D589E31C35B: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-08 19:11:21,493 [s0@group-5D589E31C35B-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-5D589E31C35B-LeaderElection10 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:21,494 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-5D589E31C35B: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-11-08 19:11:21,495 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-5D589E31C35B-LeaderElection10
2022-11-08 19:11:21,495 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5D589E31C35B-FollowerState
2022-11-08 19:11:21,496 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-5D589E31C35B: change Leader from null to s3 at term 1 for appendEntries, leader elected after 1ms
2022-11-08 19:11:21,496 [s0@group-5D589E31C35B-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5D589E31C35B-LeaderElection10: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2022-11-08 19:11:21,496 [s0@group-5D589E31C35B-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-5D589E31C35B-LeaderElection10 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:21,565 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:21,607 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:21,607 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:21,608 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:21,608 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:21,608 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:21,608 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:21,608 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:21,607 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-5D589E31C35B-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-11-08 19:11:21,608 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:21,608 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:21,608 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:21,608 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s4#0:FAIL-t1. Peer's state: s4@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:21,608 [s2@group-5D589E31C35B-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5D589E31C35B-LeaderElection9: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-11-08 19:11:21,608 [s2@group-5D589E31C35B-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s3#0:FAIL-t1
2022-11-08 19:11:21,608 [s2@group-5D589E31C35B-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s4#0:FAIL-t1
2022-11-08 19:11:21,608 [s2@group-5D589E31C35B-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s2<-s0#0:FAIL-t1
2022-11-08 19:11:21,608 [s2@group-5D589E31C35B-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-5D589E31C35B-LeaderElection9 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:21,608 [s2@group-5D589E31C35B-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D589E31C35B: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:21,608 [s2@group-5D589E31C35B-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5D589E31C35B-LeaderElection9
2022-11-08 19:11:21,609 [s2@group-5D589E31C35B-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:21,644 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-5D589E31C35B: receive requestVote(PRE_VOTE, s0, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:21,644 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-5D589E31C35B-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:21,644 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-5D589E31C35B: receive requestVote(PRE_VOTE, s0, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:21,644 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-5D589E31C35B replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:21,644 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s3
2022-11-08 19:11:21,644 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-5D589E31C35B replies to PRE_VOTE vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:21,646 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-5D589E31C35B: receive requestVote(PRE_VOTE, s0, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:21,646 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s3
2022-11-08 19:11:21,646 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-5D589E31C35B replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:21,786 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-5D589E31C35B: change Leader from null to s3 at term 1 for appendEntries, leader elected after 328ms
2022-11-08 19:11:21,796 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-5D589E31C35B: receive requestVote(PRE_VOTE, s0, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:21,797 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s3
2022-11-08 19:11:21,797 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-5D589E31C35B replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:22,015 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(292)) - try enforcing leader to s2 but new leader is s3
2022-11-08 19:11:22,015 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:22,337 [s2@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5D589E31C35B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:325556143ns, electionTimeout:264ms
2022-11-08 19:11:22,338 [s2@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:22,338 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D589E31C35B: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:22,338 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:22,338 [s2@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D589E31C35B-LeaderElection11
2022-11-08 19:11:22,341 [s2@group-5D589E31C35B-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-5D589E31C35B: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-08 19:11:22,341 [s2@group-5D589E31C35B-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-5D589E31C35B-LeaderElection11 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:22,466 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:22,492 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:22,492 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:22,492 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:22,492 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:22,492 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:22,492 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:22,492 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s4#0:FAIL-t1. Peer's state: s4@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:22,492 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:22,492 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:22,492 [s2@group-5D589E31C35B-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5D589E31C35B-LeaderElection11: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-11-08 19:11:22,492 [s2@group-5D589E31C35B-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s4#0:FAIL-t1
2022-11-08 19:11:22,492 [s2@group-5D589E31C35B-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s0#0:FAIL-t1
2022-11-08 19:11:22,492 [s2@group-5D589E31C35B-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s2<-s1#0:FAIL-t1
2022-11-08 19:11:22,492 [s2@group-5D589E31C35B-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-5D589E31C35B-LeaderElection11 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:22,492 [s2@group-5D589E31C35B-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D589E31C35B: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:22,493 [s2@group-5D589E31C35B-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5D589E31C35B-LeaderElection11
2022-11-08 19:11:22,493 [s2@group-5D589E31C35B-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:22,495 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:22,496 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-5D589E31C35B-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-11-08 19:11:22,496 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:22,687 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-5D589E31C35B: change Leader from null to s3 at term 1 for appendEntries, leader elected after 346ms
2022-11-08 19:11:22,916 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(292)) - try enforcing leader to s2 but new leader is s3
2022-11-08 19:11:22,916 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:23,182 [s2@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5D589E31C35B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:268539652ns, electionTimeout:221ms
2022-11-08 19:11:23,182 [s2@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:23,182 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D589E31C35B: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:23,183 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:23,183 [s2@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D589E31C35B-LeaderElection12
2022-11-08 19:11:23,183 [s2@group-5D589E31C35B-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-5D589E31C35B: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-08 19:11:23,183 [s2@group-5D589E31C35B-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-5D589E31C35B-LeaderElection12 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:23,334 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:23,334 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:23,334 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-5D589E31C35B-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:23,334 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-5D589E31C35B-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-11-08 19:11:23,334 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s4#0:OK-t1. Peer's state: s4@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:23,334 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:23,334 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:23,334 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:23,334 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:23,334 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:23,335 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:23,335 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:23,335 [s2@group-5D589E31C35B-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5D589E31C35B-LeaderElection12: PRE_VOTE REJECTED received 4 response(s) and 0 exception(s):
2022-11-08 19:11:23,335 [s2@group-5D589E31C35B-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s3#0:FAIL-t1
2022-11-08 19:11:23,335 [s2@group-5D589E31C35B-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s4#0:OK-t1
2022-11-08 19:11:23,335 [s2@group-5D589E31C35B-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s2<-s0#0:FAIL-t1
2022-11-08 19:11:23,335 [s2@group-5D589E31C35B-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 3: s2<-s1#0:FAIL-t1
2022-11-08 19:11:23,335 [s2@group-5D589E31C35B-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-5D589E31C35B-LeaderElection12 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:23,335 [s2@group-5D589E31C35B-LeaderElection12] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D589E31C35B: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:23,335 [s2@group-5D589E31C35B-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5D589E31C35B-LeaderElection12
2022-11-08 19:11:23,335 [s2@group-5D589E31C35B-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:23,366 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:23,520 [s2@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5D589E31C35B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:184676768ns, electionTimeout:183ms
2022-11-08 19:11:23,520 [s2@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:23,520 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D589E31C35B: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:23,520 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:23,520 [s2@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D589E31C35B-LeaderElection13
2022-11-08 19:11:23,525 [s2@group-5D589E31C35B-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-5D589E31C35B-LeaderElection13 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:23,525 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:23,525 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-5D589E31C35B-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-11-08 19:11:23,525 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:23,526 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:23,526 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:23,526 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:23,526 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:23,526 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:23,527 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s4#0:FAIL-t1. Peer's state: s4@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:23,527 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:23,527 [s2@group-5D589E31C35B-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5D589E31C35B-LeaderElection13: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-11-08 19:11:23,527 [s2@group-5D589E31C35B-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s3#0:FAIL-t1
2022-11-08 19:11:23,527 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:23,527 [s2@group-5D589E31C35B-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s4#0:FAIL-t1
2022-11-08 19:11:23,527 [s2@group-5D589E31C35B-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s2<-s0#0:FAIL-t1
2022-11-08 19:11:23,527 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:23,527 [s2@group-5D589E31C35B-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-5D589E31C35B-LeaderElection13 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:23,527 [s2@group-5D589E31C35B-LeaderElection13] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D589E31C35B: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:23,527 [s2@group-5D589E31C35B-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5D589E31C35B-LeaderElection13
2022-11-08 19:11:23,527 [s2@group-5D589E31C35B-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:23,589 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-5D589E31C35B: change Leader from null to s3 at term 1 for appendEntries, leader elected after 405ms
2022-11-08 19:11:23,817 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(292)) - try enforcing leader to s2 but new leader is s3
2022-11-08 19:11:23,817 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:23,915 [s1@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-5D589E31C35B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:164864871ns, electionTimeout:156ms
2022-11-08 19:11:23,915 [s1@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-5D589E31C35B-FollowerState
2022-11-08 19:11:23,915 [s1@group-5D589E31C35B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-5D589E31C35B: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:23,915 [s1@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:23,915 [s1@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5D589E31C35B-LeaderElection14
2022-11-08 19:11:23,915 [s1@group-5D589E31C35B-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-5D589E31C35B: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-08 19:11:23,915 [s1@group-5D589E31C35B-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-5D589E31C35B-LeaderElection14 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:23,975 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-5D589E31C35B: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-11-08 19:11:23,975 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-5D589E31C35B-LeaderElection14
2022-11-08 19:11:23,975 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5D589E31C35B-FollowerState
2022-11-08 19:11:23,976 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-5D589E31C35B: change Leader from null to s3 at term 1 for appendEntries, leader elected after 60ms
2022-11-08 19:11:24,066 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-5D589E31C35B: receive requestVote(PRE_VOTE, s1, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:24,066 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-5D589E31C35B-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-11-08 19:11:24,066 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-5D589E31C35B: receive requestVote(PRE_VOTE, s1, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:24,066 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-5D589E31C35B replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:24,066 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-5D589E31C35B: receive requestVote(PRE_VOTE, s1, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:24,066 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-08 19:11:24,066 [s1@group-5D589E31C35B-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-5D589E31C35B-LeaderElection14: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:24,066 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-5D589E31C35B replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:24,066 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-08 19:11:24,066 [s1@group-5D589E31C35B-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s3#0:FAIL-t1
2022-11-08 19:11:24,067 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-5D589E31C35B replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:24,067 [s1@group-5D589E31C35B-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-5D589E31C35B-LeaderElection14 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:24,220 [s4@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-5D589E31C35B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:184190267ns, electionTimeout:165ms
2022-11-08 19:11:24,221 [s4@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-5D589E31C35B-FollowerState
2022-11-08 19:11:24,221 [s4@group-5D589E31C35B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-5D589E31C35B: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:24,221 [s4@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:24,221 [s4@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-5D589E31C35B-LeaderElection15
2022-11-08 19:11:24,221 [s4@group-5D589E31C35B-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s4@group-5D589E31C35B: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-08 19:11:24,221 [s4@group-5D589E31C35B-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-5D589E31C35B-LeaderElection15 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:24,261 [s2@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5D589E31C35B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:445365621ns, electionTimeout:193ms
2022-11-08 19:11:24,261 [s2@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:24,261 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D589E31C35B: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:24,261 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:24,261 [s2@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D589E31C35B-LeaderElection16
2022-11-08 19:11:24,262 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-5D589E31C35B: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-11-08 19:11:24,262 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-5D589E31C35B-LeaderElection15
2022-11-08 19:11:24,262 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-5D589E31C35B-FollowerState
2022-11-08 19:11:24,262 [s2@group-5D589E31C35B-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-5D589E31C35B: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-08 19:11:24,262 [s2@group-5D589E31C35B-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-5D589E31C35B-LeaderElection16 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:24,263 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s4@group-5D589E31C35B: change Leader from null to s3 at term 1 for appendEntries, leader elected after 41ms
2022-11-08 19:11:24,267 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:24,372 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-5D589E31C35B: receive requestVote(PRE_VOTE, s4, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:24,372 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-5D589E31C35B: receive requestVote(PRE_VOTE, s4, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:24,372 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-11-08 19:11:24,372 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-5D589E31C35B: receive requestVote(PRE_VOTE, s4, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:24,372 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-5D589E31C35B replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:24,372 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-5D589E31C35B-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-11-08 19:11:24,372 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-5D589E31C35B replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:24,372 [s4@group-5D589E31C35B-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-5D589E31C35B-LeaderElection15: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:24,372 [s4@group-5D589E31C35B-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s1#0:FAIL-t1
2022-11-08 19:11:24,372 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-11-08 19:11:24,372 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-5D589E31C35B replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:24,372 [s4@group-5D589E31C35B-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-5D589E31C35B-LeaderElection15 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:24,414 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:24,414 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:24,414 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:24,414 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:24,414 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-5D589E31C35B-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-11-08 19:11:24,414 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:24,414 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:24,414 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:24,414 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s4#0:FAIL-t1. Peer's state: s4@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:24,414 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:24,414 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:24,415 [s2@group-5D589E31C35B-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5D589E31C35B-LeaderElection16: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-11-08 19:11:24,415 [s2@group-5D589E31C35B-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s3#0:FAIL-t1
2022-11-08 19:11:24,415 [s2@group-5D589E31C35B-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s4#0:FAIL-t1
2022-11-08 19:11:24,415 [s2@group-5D589E31C35B-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s2<-s1#0:FAIL-t1
2022-11-08 19:11:24,415 [s2@group-5D589E31C35B-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-5D589E31C35B-LeaderElection16 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:24,415 [s2@group-5D589E31C35B-LeaderElection16] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D589E31C35B: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:24,415 [s2@group-5D589E31C35B-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5D589E31C35B-LeaderElection16
2022-11-08 19:11:24,415 [s2@group-5D589E31C35B-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:24,415 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:24,491 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-5D589E31C35B: change Leader from null to s3 at term 1 for appendEntries, leader elected after 228ms
2022-11-08 19:11:24,517 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-5D589E31C35B: receive requestVote(PRE_VOTE, s1, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:24,517 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-08 19:11:24,517 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-5D589E31C35B replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:24,522 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-5D589E31C35B: receive requestVote(PRE_VOTE, s4, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:24,522 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-11-08 19:11:24,522 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-5D589E31C35B replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:24,717 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(292)) - try enforcing leader to s2 but new leader is s3
2022-11-08 19:11:24,718 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:25,101 [s1@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-5D589E31C35B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:222035246ns, electionTimeout:156ms
2022-11-08 19:11:25,102 [s1@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-5D589E31C35B-FollowerState
2022-11-08 19:11:25,102 [s1@group-5D589E31C35B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-5D589E31C35B: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:25,102 [s1@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:25,102 [s1@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5D589E31C35B-LeaderElection17
2022-11-08 19:11:25,102 [s1@group-5D589E31C35B-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-5D589E31C35B: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-08 19:11:25,102 [s1@group-5D589E31C35B-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-5D589E31C35B-LeaderElection17 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:25,105 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-5D589E31C35B: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-11-08 19:11:25,105 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-5D589E31C35B-LeaderElection17
2022-11-08 19:11:25,105 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5D589E31C35B-FollowerState
2022-11-08 19:11:25,105 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-5D589E31C35B: change Leader from null to s3 at term 1 for appendEntries, leader elected after 3ms
2022-11-08 19:11:25,168 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:25,250 [s2@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5D589E31C35B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:532779070ns, electionTimeout:297ms
2022-11-08 19:11:25,250 [s2@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:25,250 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D589E31C35B: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:25,250 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:25,250 [s2@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D589E31C35B-LeaderElection18
2022-11-08 19:11:25,251 [s2@group-5D589E31C35B-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-5D589E31C35B: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-08 19:11:25,251 [s2@group-5D589E31C35B-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-5D589E31C35B-LeaderElection18 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:25,251 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:25,251 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-5D589E31C35B-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-11-08 19:11:25,251 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:25,252 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:25,252 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:25,252 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:25,252 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:25,252 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:25,252 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s4#0:FAIL-t1. Peer's state: s4@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:25,252 [s2@group-5D589E31C35B-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5D589E31C35B-LeaderElection18: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-11-08 19:11:25,252 [s2@group-5D589E31C35B-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s3#0:FAIL-t1
2022-11-08 19:11:25,253 [s2@group-5D589E31C35B-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s4#0:FAIL-t1
2022-11-08 19:11:25,253 [s2@group-5D589E31C35B-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s2<-s0#0:FAIL-t1
2022-11-08 19:11:25,252 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:25,253 [s2@group-5D589E31C35B-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-5D589E31C35B-LeaderElection18 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:25,253 [s2@group-5D589E31C35B-LeaderElection18] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D589E31C35B: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:25,253 [s2@group-5D589E31C35B-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5D589E31C35B-LeaderElection18
2022-11-08 19:11:25,253 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:25,253 [s2@group-5D589E31C35B-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:25,253 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:25,253 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-5D589E31C35B: receive requestVote(PRE_VOTE, s1, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:25,253 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-5D589E31C35B-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-11-08 19:11:25,254 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-5D589E31C35B replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:25,254 [s1@group-5D589E31C35B-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-5D589E31C35B-LeaderElection17: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:25,254 [s1@group-5D589E31C35B-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s3#0:FAIL-t1
2022-11-08 19:11:25,254 [s1@group-5D589E31C35B-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-5D589E31C35B-LeaderElection17 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:25,254 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-5D589E31C35B: receive requestVote(PRE_VOTE, s1, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:25,254 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-5D589E31C35B: receive requestVote(PRE_VOTE, s1, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:25,254 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-08 19:11:25,255 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-5D589E31C35B replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:25,254 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-08 19:11:25,255 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-5D589E31C35B replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:25,393 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-5D589E31C35B: change Leader from null to s3 at term 1 for appendEntries, leader elected after 142ms
2022-11-08 19:11:25,406 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-5D589E31C35B: receive requestVote(PRE_VOTE, s1, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:25,406 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-11-08 19:11:25,406 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-5D589E31C35B replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:25,618 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(292)) - try enforcing leader to s2 but new leader is s3
2022-11-08 19:11:25,618 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:25,742 [s4@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-5D589E31C35B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:193431153ns, electionTimeout:180ms
2022-11-08 19:11:25,742 [s4@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-5D589E31C35B-FollowerState
2022-11-08 19:11:25,742 [s4@group-5D589E31C35B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-5D589E31C35B: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:25,742 [s4@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:25,742 [s4@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-5D589E31C35B-LeaderElection19
2022-11-08 19:11:25,742 [s4@group-5D589E31C35B-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s4@group-5D589E31C35B: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-08 19:11:25,742 [s4@group-5D589E31C35B-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-5D589E31C35B-LeaderElection19 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:25,774 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-5D589E31C35B: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-11-08 19:11:25,774 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-5D589E31C35B-LeaderElection19
2022-11-08 19:11:25,774 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-5D589E31C35B-FollowerState
2022-11-08 19:11:25,774 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s4@group-5D589E31C35B: change Leader from null to s3 at term 1 for appendEntries, leader elected after 31ms
2022-11-08 19:11:25,893 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-5D589E31C35B: receive requestVote(PRE_VOTE, s4, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:25,893 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-5D589E31C35B: receive requestVote(PRE_VOTE, s4, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:25,893 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-11-08 19:11:25,893 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-5D589E31C35B replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:25,893 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-5D589E31C35B: receive requestVote(PRE_VOTE, s4, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:25,893 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-11-08 19:11:25,893 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-5D589E31C35B-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-11-08 19:11:25,893 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-5D589E31C35B replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:25,894 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-5D589E31C35B replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:25,893 [s4@group-5D589E31C35B-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-5D589E31C35B-LeaderElection19: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:25,894 [s4@group-5D589E31C35B-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s1#0:FAIL-t1
2022-11-08 19:11:25,894 [s4@group-5D589E31C35B-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-5D589E31C35B-LeaderElection19 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:25,922 [s2@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5D589E31C35B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:378077908ns, electionTimeout:184ms
2022-11-08 19:11:25,922 [s2@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:25,922 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D589E31C35B: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:25,922 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:25,922 [s2@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D589E31C35B-LeaderElection20
2022-11-08 19:11:25,922 [s2@group-5D589E31C35B-LeaderElection20] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-5D589E31C35B: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-08 19:11:25,922 [s2@group-5D589E31C35B-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-5D589E31C35B-LeaderElection20 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:26,069 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:26,073 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:26,073 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-5D589E31C35B-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-11-08 19:11:26,073 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:26,073 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:26,073 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:26,073 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s4#0:FAIL-t1. Peer's state: s4@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:26,073 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:26,073 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:26,073 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:26,073 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:26,073 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:26,073 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:26,074 [s2@group-5D589E31C35B-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5D589E31C35B-LeaderElection20: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-11-08 19:11:26,074 [s2@group-5D589E31C35B-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s3#0:FAIL-t1
2022-11-08 19:11:26,074 [s2@group-5D589E31C35B-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s4#0:FAIL-t1
2022-11-08 19:11:26,074 [s2@group-5D589E31C35B-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s2<-s0#0:FAIL-t1
2022-11-08 19:11:26,074 [s2@group-5D589E31C35B-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-5D589E31C35B-LeaderElection20 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:26,074 [s2@group-5D589E31C35B-LeaderElection20] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D589E31C35B: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:26,074 [s2@group-5D589E31C35B-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5D589E31C35B-LeaderElection20
2022-11-08 19:11:26,074 [s2@group-5D589E31C35B-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:26,219 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-5D589E31C35B: change Leader from null to s3 at term 1 for appendEntries, leader elected after 296ms
2022-11-08 19:11:26,343 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-5D589E31C35B: receive requestVote(PRE_VOTE, s4, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:26,344 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-11-08 19:11:26,344 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-5D589E31C35B replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:26,519 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(292)) - try enforcing leader to s2 but new leader is s3
2022-11-08 19:11:26,519 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:26,916 [s2@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5D589E31C35B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:469582786ns, electionTimeout:295ms
2022-11-08 19:11:26,916 [s2@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:26,916 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D589E31C35B: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:26,916 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:26,916 [s2@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D589E31C35B-LeaderElection21
2022-11-08 19:11:26,916 [s2@group-5D589E31C35B-LeaderElection21] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-5D589E31C35B: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-08 19:11:26,916 [s2@group-5D589E31C35B-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-5D589E31C35B-LeaderElection21 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:26,970 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:27,067 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:27,067 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:27,067 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:27,067 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:27,067 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:27,067 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:27,067 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:27,067 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:27,067 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-5D589E31C35B-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-11-08 19:11:27,067 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:27,068 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:27,067 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s4#0:FAIL-t1. Peer's state: s4@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:27,068 [s2@group-5D589E31C35B-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5D589E31C35B-LeaderElection21: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-11-08 19:11:27,068 [s2@group-5D589E31C35B-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s3#0:FAIL-t1
2022-11-08 19:11:27,068 [s2@group-5D589E31C35B-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s4#0:FAIL-t1
2022-11-08 19:11:27,069 [s2@group-5D589E31C35B-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s2<-s0#0:FAIL-t1
2022-11-08 19:11:27,069 [s2@group-5D589E31C35B-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-5D589E31C35B-LeaderElection21 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:27,069 [s2@group-5D589E31C35B-LeaderElection21] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D589E31C35B: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:27,069 [s2@group-5D589E31C35B-LeaderElection21] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5D589E31C35B-LeaderElection21
2022-11-08 19:11:27,069 [s2@group-5D589E31C35B-LeaderElection21] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:27,121 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-5D589E31C35B: change Leader from null to s3 at term 1 for appendEntries, leader elected after 205ms
2022-11-08 19:11:27,420 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(292)) - try enforcing leader to s2 but new leader is s3
2022-11-08 19:11:27,420 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:27,556 [s0@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-5D589E31C35B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:189408054ns, electionTimeout:175ms
2022-11-08 19:11:27,557 [s0@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5D589E31C35B-FollowerState
2022-11-08 19:11:27,557 [s0@group-5D589E31C35B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-5D589E31C35B: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:27,557 [s0@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:27,557 [s0@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5D589E31C35B-LeaderElection22
2022-11-08 19:11:27,557 [s0@group-5D589E31C35B-LeaderElection22] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-5D589E31C35B: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-08 19:11:27,557 [s0@group-5D589E31C35B-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-5D589E31C35B-LeaderElection22 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:27,592 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-5D589E31C35B: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-11-08 19:11:27,592 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-5D589E31C35B-LeaderElection22
2022-11-08 19:11:27,592 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5D589E31C35B-FollowerState
2022-11-08 19:11:27,593 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-5D589E31C35B: change Leader from null to s3 at term 1 for appendEntries, leader elected after 35ms
2022-11-08 19:11:27,708 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-5D589E31C35B: receive requestVote(PRE_VOTE, s0, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:27,708 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s3
2022-11-08 19:11:27,708 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-5D589E31C35B: receive requestVote(PRE_VOTE, s0, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:27,708 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s3
2022-11-08 19:11:27,708 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-5D589E31C35B replies to PRE_VOTE vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:27,708 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-5D589E31C35B: receive requestVote(PRE_VOTE, s0, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:27,708 [s0@group-5D589E31C35B-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5D589E31C35B-LeaderElection22: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:27,708 [s0@group-5D589E31C35B-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s4#0:FAIL-t1
2022-11-08 19:11:27,708 [s0@group-5D589E31C35B-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-5D589E31C35B-LeaderElection22 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:27,708 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-5D589E31C35B replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:27,708 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-5D589E31C35B-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:27,709 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-5D589E31C35B replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:27,747 [s2@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5D589E31C35B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:398386003ns, electionTimeout:277ms
2022-11-08 19:11:27,747 [s2@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:27,747 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D589E31C35B: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:27,747 [s2@group-5D589E31C35B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:27,747 [s2@group-5D589E31C35B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D589E31C35B-LeaderElection23
2022-11-08 19:11:27,747 [s2@group-5D589E31C35B-LeaderElection23] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-5D589E31C35B: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-08 19:11:27,747 [s2@group-5D589E31C35B-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-5D589E31C35B-LeaderElection23 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:27,870 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:27,898 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:27,898 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-5D589E31C35B-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-11-08 19:11:27,898 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:27,898 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:27,898 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:27,898 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:27,898 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:27,898 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:27,898 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-5D589E31C35B: receive requestVote(PRE_VOTE, s2, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:27,898 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-11-08 19:11:27,898 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:27,899 [s2@group-5D589E31C35B-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5D589E31C35B-LeaderElection23: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-11-08 19:11:27,899 [s2@group-5D589E31C35B-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s3#0:FAIL-t1
2022-11-08 19:11:27,899 [s2@group-5D589E31C35B-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s0#0:FAIL-t1
2022-11-08 19:11:27,899 [s2@group-5D589E31C35B-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s2<-s1#0:FAIL-t1
2022-11-08 19:11:27,898 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-5D589E31C35B replies to PRE_VOTE vote request: s2<-s4#0:FAIL-t1. Peer's state: s4@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:27,899 [s2@group-5D589E31C35B-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-5D589E31C35B-LeaderElection23 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:27,899 [s2@group-5D589E31C35B-LeaderElection23] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D589E31C35B: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:27,899 [s2@group-5D589E31C35B-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5D589E31C35B-LeaderElection23
2022-11-08 19:11:27,899 [s2@group-5D589E31C35B-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:27,958 [Timer-1] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:lambda$start$6(349)) - TIMED-PRINT: printing ALL groups
  s3:  RUNNING    LEADER s3@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5D589E31C35B:t1, leader=null, voted=s3, raftlog=Memoized:s2@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:28,024 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-5D589E31C35B: change Leader from null to s3 at term 1 for appendEntries, leader elected after 276ms
2022-11-08 19:11:28,158 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-5D589E31C35B: receive requestVote(PRE_VOTE, s0, group-5D589E31C35B, 1, (t:1, i:0))
2022-11-08 19:11:28,158 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5D589E31C35B-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s3
2022-11-08 19:11:28,158 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-5D589E31C35B replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:28,321 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(295)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:28,322 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-08 19:11:28,322 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-08 19:11:28,322 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:28,322 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-08 19:11:28,322 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-08 19:11:28,322 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5D589E31C35B:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-5D589E31C35B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37653|admin:localhost:36015|client:localhost:42101|dataStream:localhost:39669|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43189|admin:localhost:35299|client:localhost:33007|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41893|admin:localhost:37625|client:localhost:41993|dataStream:localhost:45101|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34273|admin:localhost:36031|client:localhost:35527|dataStream:localhost:45605|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37305|admin:localhost:39781|client:localhost:45787|dataStream:localhost:38773|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:28,322 [MiniRaftCluster-9] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s3: close
2022-11-08 19:11:28,322 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s3@group-5D589E31C35B: shutdown
2022-11-08 19:11:28,322 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,323 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,323 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5D589E31C35B,id=s3
2022-11-08 19:11:28,323 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s3: shutdown s3@group-5D589E31C35B-LeaderStateImpl
2022-11-08 19:11:28,323 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,323 [s3@group-5D589E31C35B->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s3@group-5D589E31C35B->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:28,323 [s3@group-5D589E31C35B->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s3@group-5D589E31C35B->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:28,323 [s3@group-5D589E31C35B->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s3@group-5D589E31C35B->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:28,323 [s3@group-5D589E31C35B->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s3@group-5D589E31C35B->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:28,323 [MiniRaftCluster-10] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s4: close
2022-11-08 19:11:28,323 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s4@group-5D589E31C35B: shutdown
2022-11-08 19:11:28,323 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,323 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,323 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5D589E31C35B,id=s4
2022-11-08 19:11:28,324 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-5D589E31C35B-FollowerState
2022-11-08 19:11:28,324 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s4@group-5D589E31C35B-StateMachineUpdater: set stopIndex = 0
2022-11-08 19:11:28,324 [s4@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-5D589E31C35B-FollowerState was interrupted
2022-11-08 19:11:28,324 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s4@group-5D589E31C35B: applyIndex: 0
2022-11-08 19:11:28,323 [MiniRaftCluster-11] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-08 19:11:28,324 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,324 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-5D589E31C35B: shutdown
2022-11-08 19:11:28,324 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,324 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,324 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,324 [s4@group-5D589E31C35B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s4@group-5D589E31C35B-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:28,324 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5D589E31C35B,id=s0
2022-11-08 19:11:28,329 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5D589E31C35B-FollowerState
2022-11-08 19:11:28,329 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-5D589E31C35B-StateMachineUpdater: set stopIndex = 0
2022-11-08 19:11:28,329 [MiniRaftCluster-12] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-08 19:11:28,329 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,329 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,323 [s3-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s3@group-5D589E31C35B-PendingRequests: sendNotLeaderResponses
2022-11-08 19:11:28,329 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-5D589E31C35B: applyIndex: 0
2022-11-08 19:11:28,329 [s0@group-5D589E31C35B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s0@group-5D589E31C35B-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:28,329 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-5D589E31C35B-StateMachineUpdater: set stopIndex = 0
2022-11-08 19:11:28,329 [s0@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-5D589E31C35B-FollowerState was interrupted
2022-11-08 19:11:28,330 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s3@group-5D589E31C35B: applyIndex: 0
2022-11-08 19:11:28,330 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,330 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-5D589E31C35B: shutdown
2022-11-08 19:11:28,330 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,330 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5D589E31C35B,id=s1
2022-11-08 19:11:28,330 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-5D589E31C35B-FollowerState
2022-11-08 19:11:28,330 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-5D589E31C35B-StateMachineUpdater: set stopIndex = 0
2022-11-08 19:11:28,330 [s1@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-5D589E31C35B-FollowerState was interrupted
2022-11-08 19:11:28,330 [s3@group-5D589E31C35B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s3@group-5D589E31C35B-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:28,330 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,330 [MiniRaftCluster-13] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-08 19:11:28,330 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,330 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,330 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-5D589E31C35B: shutdown
2022-11-08 19:11:28,330 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5D589E31C35B,id=s2
2022-11-08 19:11:28,330 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5D589E31C35B-FollowerState
2022-11-08 19:11:28,330 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-5D589E31C35B-StateMachineUpdater: set stopIndex = 0
2022-11-08 19:11:28,330 [s2@group-5D589E31C35B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-5D589E31C35B-FollowerState was interrupted
2022-11-08 19:11:28,331 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,330 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-5D589E31C35B: applyIndex: 0
2022-11-08 19:11:28,331 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-5D589E31C35B: applyIndex: 0
2022-11-08 19:11:28,331 [s1@group-5D589E31C35B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s1@group-5D589E31C35B-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:28,331 [s2@group-5D589E31C35B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s2@group-5D589E31C35B-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:28,331 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,331 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,331 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,331 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,331 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,331 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,331 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,333 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s3@group-5D589E31C35B-SegmentedRaftLogWorker close()
2022-11-08 19:11:28,333 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-5D589E31C35B-SegmentedRaftLogWorker close()
2022-11-08 19:11:28,334 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-5D589E31C35B-SegmentedRaftLogWorker close()
2022-11-08 19:11:28,334 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,334 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,335 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,335 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-5D589E31C35B-SegmentedRaftLogWorker close()
2022-11-08 19:11:28,336 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,336 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,336 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:28,336 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s4@group-5D589E31C35B-SegmentedRaftLogWorker close()
2022-11-08 19:11:28,336 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-08 19:11:28,336 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s3: Stopped
2022-11-08 19:11:28,336 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-08 19:11:28,337 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s4: Stopped
2022-11-08 19:11:28,337 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-08 19:11:28,337 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-08 19:11:28,342 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-08 19:11:28,342 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-08 19:11:28,342 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-08 19:11:28,343 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-08 19:11:28,343 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-11-08 19:11:28,343 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-08 19:11:28,345 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-2225D2003BD4:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]
2022-11-08 19:11:28,345 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-08 19:11:28,345 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-08 19:11:28,345 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:28,345 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-08 19:11:28,345 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-08 19:11:28,345 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-08 19:11:28,345 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-2225D2003BD4:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:28,345 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s0
2022-11-08 19:11:28,346 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s0 does not exist.
2022-11-08 19:11:28,346 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s0
2022-11-08 19:11:28,346 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:28,346 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:28,346 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:28,346 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:28,346 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:28,346 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:28,347 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s0] (custom)
2022-11-08 19:11:28,347 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-2225D2003BD4:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER] returns group-2225D2003BD4:java.util.concurrent.CompletableFuture@69551e88[Not completed]
2022-11-08 19:11:28,347 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-2225D2003BD4:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:28,347 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s1
2022-11-08 19:11:28,347 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s1 does not exist.
2022-11-08 19:11:28,347 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s1
2022-11-08 19:11:28,347 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:28,347 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:28,347 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:28,348 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:28,348 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:28,348 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:28,348 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s1] (custom)
2022-11-08 19:11:28,347 [pool-10-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-2225D2003BD4:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:28,348 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:28,348 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:28,348 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:28,348 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:28,348 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:28,348 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:28,348 [pool-10-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-2225D2003BD4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:28,348 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:28,348 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:28,348 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:28,348 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:28,348 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:28,350 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:28,350 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:28,350 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:28,350 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:28,350 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:28,353 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-2225D2003BD4:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER] returns group-2225D2003BD4:java.util.concurrent.CompletableFuture@489a1702[Not completed]
2022-11-08 19:11:28,353 [pool-11-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-2225D2003BD4:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:28,353 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-2225D2003BD4:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:28,353 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s2
2022-11-08 19:11:28,353 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:28,353 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:28,353 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:28,354 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:28,354 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:28,354 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:28,354 [pool-11-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-2225D2003BD4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:28,354 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:28,354 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:28,354 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:28,354 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:28,354 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:28,355 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s2 does not exist.
2022-11-08 19:11:28,355 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s2
2022-11-08 19:11:28,355 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:28,355 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:28,355 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:28,356 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:28,356 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:28,356 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:28,356 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s2] (custom)
2022-11-08 19:11:28,360 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:28,360 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:28,360 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:28,360 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:28,360 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:28,361 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-2225D2003BD4:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER] returns group-2225D2003BD4:java.util.concurrent.CompletableFuture@4b240700[Not completed]
2022-11-08 19:11:28,361 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:28,361 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:28,361 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s0] (custom)
2022-11-08 19:11:28,361 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s0/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4 does not exist. Creating ...
2022-11-08 19:11:28,361 [pool-12-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-2225D2003BD4:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:28,361 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:28,361 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:28,361 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s0/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4
2022-11-08 19:11:28,362 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:28,362 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:28,362 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:28,362 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:28,362 [pool-12-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-2225D2003BD4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:28,362 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:28,362 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:28,362 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:28,362 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:28,363 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:28,363 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s0/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:28,363 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s0/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4/current
2022-11-08 19:11:28,364 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s0/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4/sm
2022-11-08 19:11:28,365 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s0/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4 has been successfully formatted.
2022-11-08 19:11:28,365 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:28,365 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:28,365 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:28,365 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:28,365 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:28,367 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:28,367 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:28,367 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:28,367 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:28,367 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:28,367 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:28,367 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:28,368 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:28,368 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-2225D2003BD4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s0/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4
2022-11-08 19:11:28,368 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:28,368 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:28,368 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:28,368 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:28,368 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:28,368 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:28,368 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:28,368 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:28,368 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:28,368 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:28,368 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:28,368 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:28,368 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:28,368 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-2225D2003BD4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:28,368 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-2225D2003BD4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:28,372 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-2225D2003BD4: start as a follower, conf=-1: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:28,375 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-2225D2003BD4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:28,376 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-2225D2003BD4-FollowerState
2022-11-08 19:11:28,377 [s0@group-2225D2003BD4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:28,378 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2225D2003BD4,id=s0
2022-11-08 19:11:28,378 [s0@group-2225D2003BD4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:28,378 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:28,378 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:28,378 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:28,379 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-08 19:11:28,380 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:28,380 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:28,380 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s1] (custom)
2022-11-08 19:11:28,381 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s1/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4 does not exist. Creating ...
2022-11-08 19:11:28,381 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s1/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4
2022-11-08 19:11:28,381 [JvmPauseMonitor9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-08 19:11:28,381 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s1/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:28,382 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s1/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4/current
2022-11-08 19:11:28,382 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s1/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4/sm
2022-11-08 19:11:28,383 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s1/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4 has been successfully formatted.
2022-11-08 19:11:28,383 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:28,383 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:28,383 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:28,383 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:28,383 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:28,384 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:28,384 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:28,384 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:28,384 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-2225D2003BD4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s1/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4
2022-11-08 19:11:28,384 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:28,384 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:28,384 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:28,384 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:28,384 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:28,384 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:28,384 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:28,384 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:28,384 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:28,384 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:28,385 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:28,385 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:28,385 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:28,385 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-2225D2003BD4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:28,385 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-2225D2003BD4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:28,388 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-2225D2003BD4: start as a follower, conf=-1: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:28,388 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-2225D2003BD4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:28,388 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-2225D2003BD4-FollowerState
2022-11-08 19:11:28,388 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2225D2003BD4,id=s1
2022-11-08 19:11:28,388 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:28,388 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:28,388 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:28,388 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-08 19:11:28,389 [s1@group-2225D2003BD4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:28,389 [s1@group-2225D2003BD4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:28,390 [JvmPauseMonitor10] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-08 19:11:28,390 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:28,390 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:28,390 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s2] (custom)
2022-11-08 19:11:28,390 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s2/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4 does not exist. Creating ...
2022-11-08 19:11:28,391 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s2/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4
2022-11-08 19:11:28,391 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s2/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:28,391 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s2/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4/current
2022-11-08 19:11:28,391 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s2/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4/sm
2022-11-08 19:11:28,392 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s2/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4 has been successfully formatted.
2022-11-08 19:11:28,393 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:28,393 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:28,393 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:28,393 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:28,393 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:28,393 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:28,394 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:28,394 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:28,394 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-2225D2003BD4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s2/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4
2022-11-08 19:11:28,394 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:28,394 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:28,394 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:28,394 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:28,394 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:28,394 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:28,394 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:28,394 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:28,394 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:28,394 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:28,394 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:28,394 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:28,394 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:28,394 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-2225D2003BD4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:28,394 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-2225D2003BD4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:28,396 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-2225D2003BD4: start as a follower, conf=-1: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:28,396 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-2225D2003BD4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:28,397 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-2225D2003BD4-FollowerState
2022-11-08 19:11:28,397 [s2@group-2225D2003BD4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:28,397 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2225D2003BD4,id=s2
2022-11-08 19:11:28,397 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:28,397 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:28,397 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:28,398 [s2@group-2225D2003BD4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:28,398 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-08 19:11:28,398 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:28,399 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:28,399 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-2225D2003BD4:t0, leader=null, voted=, raftlog=Memoized:s0@group-2225D2003BD4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2225D2003BD4:t0, leader=null, voted=, raftlog=Memoized:s1@group-2225D2003BD4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2225D2003BD4:t0, leader=null, voted=, raftlog=Memoized:s2@group-2225D2003BD4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:28,399 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-2225D2003BD4:t0, leader=null, voted=, raftlog=Memoized:s0@group-2225D2003BD4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2225D2003BD4:t0, leader=null, voted=, raftlog=Memoized:s1@group-2225D2003BD4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2225D2003BD4:t0, leader=null, voted=, raftlog=Memoized:s2@group-2225D2003BD4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-2225D2003BD4:t0, leader=null, voted=, raftlog=Memoized:s0@group-2225D2003BD4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2225D2003BD4:t0, leader=null, voted=, raftlog=Memoized:s1@group-2225D2003BD4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2225D2003BD4:t0, leader=null, voted=, raftlog=Memoized:s2@group-2225D2003BD4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestLostMajorityHeartbeats(LeaderElectionTests.java:122)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLostMajorityHeartbeats(LeaderElectionTests.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:28,400 [JvmPauseMonitor11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-08 19:11:28,561 [s0@group-2225D2003BD4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-2225D2003BD4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:185248655ns, electionTimeout:183ms
2022-11-08 19:11:28,561 [s0@group-2225D2003BD4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-2225D2003BD4-FollowerState
2022-11-08 19:11:28,561 [s0@group-2225D2003BD4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-2225D2003BD4: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-08 19:11:28,562 [s0@group-2225D2003BD4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:28,562 [s0@group-2225D2003BD4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-2225D2003BD4-LeaderElection24
2022-11-08 19:11:28,564 [s0@group-2225D2003BD4-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-2225D2003BD4-LeaderElection24 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:28,564 [s0@group-2225D2003BD4-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:28,564 [s0@group-2225D2003BD4-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:28,564 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-2225D2003BD4: receive requestVote(PRE_VOTE, s0, group-2225D2003BD4, 0, (t:0, i:0))
2022-11-08 19:11:28,564 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-2225D2003BD4-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:28,564 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-2225D2003BD4 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-2225D2003BD4:t0, leader=null, voted=, raftlog=Memoized:s1@group-2225D2003BD4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:28,565 [s0@group-2225D2003BD4-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-2225D2003BD4-LeaderElection24: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:28,565 [s0@group-2225D2003BD4-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2022-11-08 19:11:28,565 [s0@group-2225D2003BD4-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-2225D2003BD4-LeaderElection24 PRE_VOTE round 0: result PASSED
2022-11-08 19:11:28,565 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-2225D2003BD4: receive requestVote(PRE_VOTE, s0, group-2225D2003BD4, 0, (t:0, i:0))
2022-11-08 19:11:28,565 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-2225D2003BD4-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:28,565 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-2225D2003BD4 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-2225D2003BD4:t0, leader=null, voted=, raftlog=Memoized:s2@group-2225D2003BD4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:28,567 [s0@group-2225D2003BD4-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-2225D2003BD4-LeaderElection24 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:28,567 [s0@group-2225D2003BD4-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:28,567 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-2225D2003BD4: receive requestVote(ELECTION, s0, group-2225D2003BD4, 1, (t:0, i:0))
2022-11-08 19:11:28,567 [s0@group-2225D2003BD4-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:28,567 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-2225D2003BD4-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:28,567 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-2225D2003BD4: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-11-08 19:11:28,567 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-2225D2003BD4-FollowerState
2022-11-08 19:11:28,567 [s1@group-2225D2003BD4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-2225D2003BD4-FollowerState was interrupted
2022-11-08 19:11:28,567 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-2225D2003BD4: receive requestVote(ELECTION, s0, group-2225D2003BD4, 1, (t:0, i:0))
2022-11-08 19:11:28,568 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-2225D2003BD4-FollowerState
2022-11-08 19:11:28,568 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-2225D2003BD4-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:28,568 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-2225D2003BD4: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-11-08 19:11:28,568 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-2225D2003BD4-FollowerState
2022-11-08 19:11:28,568 [s2@group-2225D2003BD4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-2225D2003BD4-FollowerState was interrupted
2022-11-08 19:11:28,571 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-2225D2003BD4-FollowerState
2022-11-08 19:11:28,575 [s1@group-2225D2003BD4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:28,576 [s1@group-2225D2003BD4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:28,575 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-2225D2003BD4 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-2225D2003BD4:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-2225D2003BD4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:28,575 [s2@group-2225D2003BD4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:28,575 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-2225D2003BD4 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-2225D2003BD4:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-2225D2003BD4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:28,576 [s2@group-2225D2003BD4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:28,576 [s0@group-2225D2003BD4-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-2225D2003BD4-LeaderElection24: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:28,576 [s0@group-2225D2003BD4-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t1
2022-11-08 19:11:28,576 [s0@group-2225D2003BD4-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-2225D2003BD4-LeaderElection24 ELECTION round 0: result PASSED
2022-11-08 19:11:28,576 [s0@group-2225D2003BD4-LeaderElection24] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-2225D2003BD4-LeaderElection24
2022-11-08 19:11:28,576 [s0@group-2225D2003BD4-LeaderElection24] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-2225D2003BD4: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-08 19:11:28,576 [s0@group-2225D2003BD4-LeaderElection24] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-2225D2003BD4: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 228ms
2022-11-08 19:11:28,576 [s0@group-2225D2003BD4-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:11:28,576 [s0@group-2225D2003BD4-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:28,576 [s0@group-2225D2003BD4-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:28,577 [s0@group-2225D2003BD4-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:11:28,577 [s0@group-2225D2003BD4-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:11:28,577 [s0@group-2225D2003BD4-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:11:28,577 [s0@group-2225D2003BD4-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:28,577 [s0@group-2225D2003BD4-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:11:28,577 [s0@group-2225D2003BD4-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:28,577 [s0@group-2225D2003BD4-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:28,577 [s0@group-2225D2003BD4-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:28,577 [s0@group-2225D2003BD4-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:28,578 [s0@group-2225D2003BD4-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:28,578 [s0@group-2225D2003BD4-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:28,578 [s0@group-2225D2003BD4-LeaderElection24] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-2225D2003BD4-LeaderStateImpl
2022-11-08 19:11:28,578 [s0@group-2225D2003BD4-LeaderElection24] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-2225D2003BD4-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:28,582 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-2225D2003BD4: change Leader from null to s0 at term 1 for appendEntries, leader elected after 228ms
2022-11-08 19:11:28,582 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-2225D2003BD4: change Leader from null to s0 at term 1 for appendEntries, leader elected after 219ms
2022-11-08 19:11:28,583 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-2225D2003BD4: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:672, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:38269"
dataStreamAddress: "localhost:46175"
clientAddress: "localhost:32957"
adminAddress: "localhost:37453"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43083"
dataStreamAddress: "localhost:41307"
clientAddress: "localhost:37403"
adminAddress: "localhost:43767"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36507"
dataStreamAddress: "localhost:37653"
clientAddress: "localhost:37759"
adminAddress: "localhost:45359"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:28,585 [s0@group-2225D2003BD4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-2225D2003BD4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s0/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4/current/log_inprogress_0
2022-11-08 19:11:28,588 [s0@group-2225D2003BD4-LeaderElection24] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-2225D2003BD4: set configuration 0: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:28,588 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-2225D2003BD4: set configuration 0: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:28,588 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-2225D2003BD4-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:28,589 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-2225D2003BD4: receive appendEntries(s0, 1, null, 0, true, commits:[s0:c0, s1:c-1, s2:c-1], cId:673, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:38269"
dataStreamAddress: "localhost:46175"
clientAddress: "localhost:32957"
adminAddress: "localhost:37453"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43083"
dataStreamAddress: "localhost:41307"
clientAddress: "localhost:37403"
adminAddress: "localhost:43767"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36507"
dataStreamAddress: "localhost:37653"
clientAddress: "localhost:37759"
adminAddress: "localhost:45359"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:28,590 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-2225D2003BD4: set configuration 0: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:28,590 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-2225D2003BD4-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:28,599 [s1@group-2225D2003BD4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-2225D2003BD4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s1/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4/current/log_inprogress_0
2022-11-08 19:11:28,600 [s2@group-2225D2003BD4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-2225D2003BD4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s2/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4/current/log_inprogress_0
2022-11-08 19:11:28,618 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-2225D2003BD4: succeeded to handle AppendEntries. Reply: s0<-s1#672:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:11:28,619 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-2225D2003BD4: succeeded to handle AppendEntries. Reply: s0<-s2#673:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-08 19:11:28,850 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-2225D2003BD4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-2225D2003BD4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2225D2003BD4:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-2225D2003BD4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2225D2003BD4:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-2225D2003BD4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:29,148 [s1@group-2225D2003BD4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-2225D2003BD4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:300962026ns, electionTimeout:193ms
2022-11-08 19:11:29,148 [s1@group-2225D2003BD4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-2225D2003BD4-FollowerState
2022-11-08 19:11:29,148 [s1@group-2225D2003BD4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-2225D2003BD4: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:29,148 [s1@group-2225D2003BD4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:29,148 [s1@group-2225D2003BD4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-2225D2003BD4-LeaderElection25
2022-11-08 19:11:29,149 [s1@group-2225D2003BD4-LeaderElection25] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-2225D2003BD4: change Leader from s0 to null at term 1 for PRE_VOTE
2022-11-08 19:11:29,149 [s1@group-2225D2003BD4-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-2225D2003BD4-LeaderElection25 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:29,149 [HandlerDaemon-0] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2022-11-08 19:11:29,149 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-2225D2003BD4: receive requestVote(PRE_VOTE, s1, group-2225D2003BD4, 1, (t:1, i:0))
2022-11-08 19:11:29,149 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-2225D2003BD4-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:29,149 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-2225D2003BD4 replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-2225D2003BD4:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-2225D2003BD4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:29,150 [s1@group-2225D2003BD4-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-2225D2003BD4-LeaderElection25: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:29,150 [s1@group-2225D2003BD4-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t1
2022-11-08 19:11:29,150 [s1@group-2225D2003BD4-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-2225D2003BD4-LeaderElection25 PRE_VOTE round 0: result PASSED
2022-11-08 19:11:29,151 [s1@group-2225D2003BD4-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-2225D2003BD4-LeaderElection25 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:29,158 [HandlerDaemon-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2022-11-08 19:11:29,159 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-2225D2003BD4: receive requestVote(ELECTION, s1, group-2225D2003BD4, 2, (t:1, i:0))
2022-11-08 19:11:29,159 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-2225D2003BD4-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:29,159 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-2225D2003BD4: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-11-08 19:11:29,159 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-2225D2003BD4: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-11-08 19:11:29,159 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-2225D2003BD4-FollowerState
2022-11-08 19:11:29,159 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-2225D2003BD4-FollowerState
2022-11-08 19:11:29,159 [s2@group-2225D2003BD4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-2225D2003BD4-FollowerState was interrupted
2022-11-08 19:11:29,164 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-2225D2003BD4 replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-2225D2003BD4:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-2225D2003BD4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:29,164 [s1@group-2225D2003BD4-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-2225D2003BD4-LeaderElection25: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:29,164 [s1@group-2225D2003BD4-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t2
2022-11-08 19:11:29,164 [s1@group-2225D2003BD4-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-2225D2003BD4-LeaderElection25 ELECTION round 0: result PASSED
2022-11-08 19:11:29,164 [s1@group-2225D2003BD4-LeaderElection25] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-2225D2003BD4-LeaderElection25
2022-11-08 19:11:29,164 [s1@group-2225D2003BD4-LeaderElection25] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-2225D2003BD4: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-11-08 19:11:29,164 [s1@group-2225D2003BD4-LeaderElection25] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-2225D2003BD4: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 15ms
2022-11-08 19:11:29,164 [s1@group-2225D2003BD4-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:11:29,164 [s1@group-2225D2003BD4-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:29,164 [s1@group-2225D2003BD4-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:29,164 [s1@group-2225D2003BD4-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:11:29,164 [s1@group-2225D2003BD4-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:11:29,164 [s1@group-2225D2003BD4-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:11:29,164 [s1@group-2225D2003BD4-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:29,165 [s1@group-2225D2003BD4-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:11:29,165 [s1@group-2225D2003BD4-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:29,165 [s1@group-2225D2003BD4-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:29,165 [s1@group-2225D2003BD4-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:29,165 [s1@group-2225D2003BD4-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:29,165 [s1@group-2225D2003BD4-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:29,165 [s1@group-2225D2003BD4-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:29,165 [s1@group-2225D2003BD4-LeaderElection25] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-2225D2003BD4-LeaderStateImpl
2022-11-08 19:11:29,166 [s1@group-2225D2003BD4-LeaderElection25] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-2225D2003BD4-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-11-08 19:11:29,168 [s1@group-2225D2003BD4-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s1/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s1/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4/current/log_0-0
2022-11-08 19:11:29,168 [s1@group-2225D2003BD4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-2225D2003BD4-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s1/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s1/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4/current/log_0-0
2022-11-08 19:11:29,175 [HandlerDaemon-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2022-11-08 19:11:29,175 [s1@group-2225D2003BD4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-2225D2003BD4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s1/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4/current/log_inprogress_1
2022-11-08 19:11:29,180 [s1@group-2225D2003BD4-LeaderElection25] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-2225D2003BD4: set configuration 1: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:29,180 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-2225D2003BD4: change Leader from null to s1 at term 2 for appendEntries, leader elected after 20ms
2022-11-08 19:11:29,181 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-2225D2003BD4: receive appendEntries(s1, 2, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:694, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:38269"
dataStreamAddress: "localhost:46175"
clientAddress: "localhost:32957"
adminAddress: "localhost:37453"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43083"
dataStreamAddress: "localhost:41307"
clientAddress: "localhost:37403"
adminAddress: "localhost:43767"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36507"
dataStreamAddress: "localhost:37653"
clientAddress: "localhost:37759"
adminAddress: "localhost:45359"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:29,181 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-2225D2003BD4: set configuration 1: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:29,181 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-2225D2003BD4-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-11-08 19:11:29,182 [s2@group-2225D2003BD4-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s2/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s2/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4/current/log_0-0
2022-11-08 19:11:29,182 [s2@group-2225D2003BD4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-2225D2003BD4-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s2/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s2/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4/current/log_0-0
2022-11-08 19:11:29,189 [s2@group-2225D2003BD4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-2225D2003BD4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcab0e50b0/s2/baddfa8b-64fd-4d0b-8e5e-2225d2003bd4/current/log_inprogress_1
2022-11-08 19:11:29,190 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-2225D2003BD4: succeeded to handle AppendEntries. Reply: s1<-s2#694:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-08 19:11:29,190 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-2225D2003BD4: receive appendEntries(s1, 2, (t:2, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:695, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2022-11-08 19:11:29,191 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-2225D2003BD4: succeeded to handle AppendEntries. Reply: s1<-s2#695:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-08 19:11:29,220 [s0@group-2225D2003BD4-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1063)) - s0@group-2225D2003BD4-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 643ms. Conf: 0: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:29,220 [s0@group-2225D2003BD4-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s0@group-2225D2003BD4->s1(c0,m0,n1, attendVote=true, lastRpcSendTime=297, lastRpcResponseTime=372)
2022-11-08 19:11:29,220 [s0@group-2225D2003BD4-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s0@group-2225D2003BD4->s2(c0,m0,n1, attendVote=true, lastRpcSendTime=298, lastRpcResponseTime=373)
2022-11-08 19:11:29,220 [s0@group-2225D2003BD4-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-2225D2003BD4: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-11-08 19:11:29,220 [s0@group-2225D2003BD4-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-2225D2003BD4-LeaderStateImpl
2022-11-08 19:11:29,220 [s0@group-2225D2003BD4-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-2225D2003BD4-PendingRequests: sendNotLeaderResponses
2022-11-08 19:11:29,221 [s0@group-2225D2003BD4-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-2225D2003BD4-FollowerState
2022-11-08 19:11:29,221 [s0@group-2225D2003BD4->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-2225D2003BD4->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-08 19:11:29,221 [s0@group-2225D2003BD4->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-2225D2003BD4->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-08 19:11:29,452 [s0@group-2225D2003BD4-FollowerState] INFO  impl.FollowerState (FollowerState.java:lostMajorityHeartbeatsRecently(108)) - s0@group-2225D2003BD4-FollowerState: Skipping leader election since it stepped down recently (elapsed = 230ms < waitTime = 10s)
2022-11-08 19:11:29,452 [Time-limited test] INFO  impl.FollowerState (FollowerState.java:lostMajorityHeartbeatsRecently(108)) - s0@group-2225D2003BD4-FollowerState: Skipping leader election since it stepped down recently (elapsed = 231ms < waitTime = 10s)
2022-11-08 19:11:29,452 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-08 19:11:29,453 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-08 19:11:29,453 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:29,453 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-08 19:11:29,453 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-08 19:11:29,453 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-2225D2003BD4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-2225D2003BD4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-2225D2003BD4:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-2225D2003BD4-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2225D2003BD4:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-2225D2003BD4-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:38269|admin:localhost:37453|client:localhost:32957|dataStream:localhost:46175|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43083|admin:localhost:43767|client:localhost:37403|dataStream:localhost:41307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36507|admin:localhost:45359|client:localhost:37759|dataStream:localhost:37653|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:29,453 [MiniRaftCluster-14] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-08 19:11:29,457 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-2225D2003BD4: shutdown
2022-11-08 19:11:29,457 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:29,457 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2225D2003BD4,id=s0
2022-11-08 19:11:29,457 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-2225D2003BD4-FollowerState
2022-11-08 19:11:29,457 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:29,457 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-2225D2003BD4-StateMachineUpdater: set stopIndex = 0
2022-11-08 19:11:29,457 [s0@group-2225D2003BD4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-2225D2003BD4-FollowerState was interrupted
2022-11-08 19:11:29,457 [MiniRaftCluster-16] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-08 19:11:29,457 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:29,457 [MiniRaftCluster-15] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-08 19:11:29,457 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-2225D2003BD4: applyIndex: 0
2022-11-08 19:11:29,457 [s0@group-2225D2003BD4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s0@group-2225D2003BD4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:29,457 [HandlerDaemon-0] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2022-11-08 19:11:29,457 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:29,458 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-2225D2003BD4: receive requestVote(PRE_VOTE, s1, group-2225D2003BD4, 1, (t:1, i:0))
2022-11-08 19:11:29,458 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-2225D2003BD4: shutdown
2022-11-08 19:11:29,458 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2225D2003BD4,id=s1
2022-11-08 19:11:29,458 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-2225D2003BD4-LeaderStateImpl
2022-11-08 19:11:29,458 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-2225D2003BD4: shutdown
2022-11-08 19:11:29,458 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2225D2003BD4,id=s2
2022-11-08 19:11:29,458 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-2225D2003BD4-FollowerState
2022-11-08 19:11:29,458 [s1@group-2225D2003BD4->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-2225D2003BD4->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-08 19:11:29,458 [s1@group-2225D2003BD4->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-2225D2003BD4->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:29,458 [s2@group-2225D2003BD4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-2225D2003BD4-FollowerState was interrupted
2022-11-08 19:11:29,458 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:29,458 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:29,458 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:29,458 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:29,458 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-2225D2003BD4-PendingRequests: sendNotLeaderResponses
2022-11-08 19:11:29,458 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-2225D2003BD4-StateMachineUpdater: set stopIndex = 2
2022-11-08 19:11:29,459 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-2225D2003BD4: applyIndex: 2
2022-11-08 19:11:29,459 [s2@group-2225D2003BD4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s2@group-2225D2003BD4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:29,459 [HandlerDaemon-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2022-11-08 19:11:29,461 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-2225D2003BD4-SegmentedRaftLogWorker close()
2022-11-08 19:11:29,461 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:29,461 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:29,461 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-2225D2003BD4-SegmentedRaftLogWorker close()
2022-11-08 19:11:29,461 [HandlerDaemon-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2022-11-08 19:11:29,461 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-2225D2003BD4: receive requestVote(ELECTION, s1, group-2225D2003BD4, 2, (t:1, i:0))
2022-11-08 19:11:29,463 [JvmPauseMonitor9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-08 19:11:29,464 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:29,464 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-2225D2003BD4-StateMachineUpdater: set stopIndex = 2
2022-11-08 19:11:29,465 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-2225D2003BD4: applyIndex: 2
2022-11-08 19:11:29,465 [s1@group-2225D2003BD4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s1@group-2225D2003BD4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:29,465 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:29,465 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:29,465 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:29,465 [JvmPauseMonitor11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-08 19:11:29,466 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-2225D2003BD4-SegmentedRaftLogWorker close()
2022-11-08 19:11:29,467 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:29,468 [JvmPauseMonitor10] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-08 19:11:29,468 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-08 19:11:29,468 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-08 19:11:29,468 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-08 19:11:29,468 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-08 19:11:29,468 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-08 19:11:29,469 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testLateServerStart(304)) - Running testLateServerStart
2022-11-08 19:11:29,469 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-08 19:11:29,470 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-338AD8D9D2CA:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]
2022-11-08 19:11:29,470 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-08 19:11:29,470 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-338AD8D9D2CA:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:29,470 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s0
2022-11-08 19:11:29,470 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s0 does not exist.
2022-11-08 19:11:29,470 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s0
2022-11-08 19:11:29,470 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:29,470 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:29,470 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:29,471 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:29,471 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:29,471 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:29,471 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s0] (custom)
2022-11-08 19:11:29,471 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-338AD8D9D2CA:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER] returns group-338AD8D9D2CA:java.util.concurrent.CompletableFuture@777f0ff3[Not completed]
2022-11-08 19:11:29,471 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-338AD8D9D2CA:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:29,471 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s1
2022-11-08 19:11:29,471 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s1 does not exist.
2022-11-08 19:11:29,471 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s1
2022-11-08 19:11:29,471 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:29,472 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:29,472 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:29,472 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:29,472 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:29,472 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:29,472 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s1] (custom)
2022-11-08 19:11:29,472 [pool-13-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-338AD8D9D2CA:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:29,472 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:29,472 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:29,472 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:29,472 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:29,472 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:29,472 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:29,472 [pool-13-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-338AD8D9D2CA: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:29,473 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:29,473 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:29,473 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:29,473 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:29,473 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:29,474 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:29,474 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:29,474 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:29,474 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:29,475 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:29,480 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-338AD8D9D2CA:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER] returns group-338AD8D9D2CA:java.util.concurrent.CompletableFuture@305bf95[Not completed]
2022-11-08 19:11:29,480 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-338AD8D9D2CA:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:29,480 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s2
2022-11-08 19:11:29,480 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s2 does not exist.
2022-11-08 19:11:29,480 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s2
2022-11-08 19:11:29,480 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:29,480 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:29,480 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:29,480 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:29,480 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:29,481 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:29,481 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s2] (custom)
2022-11-08 19:11:29,481 [pool-14-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-338AD8D9D2CA:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:29,482 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:29,482 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:29,482 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:29,482 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:29,482 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:29,482 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:29,482 [pool-14-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-338AD8D9D2CA: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:29,482 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:29,482 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:29,482 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:29,482 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:29,482 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:29,484 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-338AD8D9D2CA:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER] returns group-338AD8D9D2CA:java.util.concurrent.CompletableFuture@178ed7ca[Not completed]
2022-11-08 19:11:29,484 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:29,484 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:29,484 [pool-15-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-338AD8D9D2CA:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:29,484 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s0] (custom)
2022-11-08 19:11:29,485 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s0/74cb5fc9-e593-41d8-8b32-338ad8d9d2ca does not exist. Creating ...
2022-11-08 19:11:29,485 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s0/74cb5fc9-e593-41d8-8b32-338ad8d9d2ca
2022-11-08 19:11:29,486 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:29,486 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:29,486 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:29,486 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:29,486 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:29,486 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s0/74cb5fc9-e593-41d8-8b32-338ad8d9d2ca/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:29,487 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s0/74cb5fc9-e593-41d8-8b32-338ad8d9d2ca/current
2022-11-08 19:11:29,487 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:29,487 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:29,487 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:29,487 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:29,487 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:29,487 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:29,487 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s0/74cb5fc9-e593-41d8-8b32-338ad8d9d2ca/sm
2022-11-08 19:11:29,487 [pool-15-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-338AD8D9D2CA: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:29,487 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:29,487 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:29,487 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:29,487 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:29,487 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:29,489 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s0/74cb5fc9-e593-41d8-8b32-338ad8d9d2ca has been successfully formatted.
2022-11-08 19:11:29,489 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:29,489 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:29,489 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:29,489 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:29,489 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:29,489 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:29,489 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:29,489 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:29,490 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:29,490 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:29,490 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:29,490 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:29,490 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:29,490 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-338AD8D9D2CA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s0/74cb5fc9-e593-41d8-8b32-338ad8d9d2ca
2022-11-08 19:11:29,491 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:29,491 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:29,491 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:29,491 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:29,491 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:29,491 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:29,491 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:29,491 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:29,491 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:29,491 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:29,491 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:29,491 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:29,491 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:29,491 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-338AD8D9D2CA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:29,491 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-338AD8D9D2CA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:29,495 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-338AD8D9D2CA: start as a follower, conf=-1: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:29,495 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:29,495 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:29,495 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:29,495 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:29,495 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-338AD8D9D2CA,id=s0
2022-11-08 19:11:29,495 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:29,495 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:29,495 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:29,496 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-08 19:11:29,496 [JvmPauseMonitor12] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-08 19:11:29,496 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:29,496 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:29,496 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s1] (custom)
2022-11-08 19:11:29,497 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s1/74cb5fc9-e593-41d8-8b32-338ad8d9d2ca does not exist. Creating ...
2022-11-08 19:11:29,497 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s1/74cb5fc9-e593-41d8-8b32-338ad8d9d2ca
2022-11-08 19:11:29,501 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s1/74cb5fc9-e593-41d8-8b32-338ad8d9d2ca/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:29,501 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s1/74cb5fc9-e593-41d8-8b32-338ad8d9d2ca/current
2022-11-08 19:11:29,501 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s1/74cb5fc9-e593-41d8-8b32-338ad8d9d2ca/sm
2022-11-08 19:11:29,502 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s1/74cb5fc9-e593-41d8-8b32-338ad8d9d2ca has been successfully formatted.
2022-11-08 19:11:29,502 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:29,502 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:29,502 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:29,502 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:29,502 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:29,503 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:29,503 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:29,503 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:29,503 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-338AD8D9D2CA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s1/74cb5fc9-e593-41d8-8b32-338ad8d9d2ca
2022-11-08 19:11:29,503 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:29,503 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:29,503 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:29,503 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:29,503 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:29,503 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:29,503 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:29,503 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:29,504 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:29,504 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:29,504 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:29,504 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:29,504 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:29,504 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-338AD8D9D2CA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:29,504 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-338AD8D9D2CA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:29,504 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-338AD8D9D2CA: start as a follower, conf=-1: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:29,504 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-338AD8D9D2CA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:29,504 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:29,504 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-338AD8D9D2CA,id=s1
2022-11-08 19:11:29,505 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:29,505 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:29,505 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:29,505 [s1@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:29,505 [s1@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:29,505 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-08 19:11:29,508 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:29,508 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-338AD8D9D2CA:t0, leader=null, voted=, raftlog=Memoized:s0@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-338AD8D9D2CA:t0, leader=null, voted=, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:      NEW      null s2@group-338AD8D9D2CA:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=-1: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null NEW
2022-11-08 19:11:29,508 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-338AD8D9D2CA:t0, leader=null, voted=, raftlog=Memoized:s0@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-338AD8D9D2CA:t0, leader=null, voted=, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:      NEW      null s2@group-338AD8D9D2CA:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=-1: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null NEW, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-338AD8D9D2CA:t0, leader=null, voted=, raftlog=Memoized:s0@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-338AD8D9D2CA:t0, leader=null, voted=, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:      NEW      null s2@group-338AD8D9D2CA:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=-1: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null NEW
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLateServerStart(LeaderElectionTests.java:314)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:29,509 [JvmPauseMonitor13] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-08 19:11:29,761 [s1@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:256884237ns, electionTimeout:256ms
2022-11-08 19:11:29,761 [s1@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:29,761 [s1@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-08 19:11:29,762 [s1@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:29,762 [s1@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-338AD8D9D2CA-LeaderElection26
2022-11-08 19:11:29,762 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-338AD8D9D2CA-LeaderElection26 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:29,763 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:29,763 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:29,764 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s1, group-338AD8D9D2CA, 0, (t:0, i:0))
2022-11-08 19:11:29,764 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-338AD8D9D2CA-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:29,764 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-338AD8D9D2CA replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-338AD8D9D2CA:t0, leader=null, voted=, raftlog=Memoized:s0@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:29,764 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-338AD8D9D2CA-LeaderElection26: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:29,764 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2022-11-08 19:11:29,764 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-338AD8D9D2CA-LeaderElection26 PRE_VOTE round 0: result PASSED
2022-11-08 19:11:29,765 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-338AD8D9D2CA-LeaderElection26 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:29,765 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-338AD8D9D2CA: receive requestVote(ELECTION, s1, group-338AD8D9D2CA, 1, (t:0, i:0))
2022-11-08 19:11:29,770 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-338AD8D9D2CA-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:29,770 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-11-08 19:11:29,770 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:29,770 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:29,770 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-338AD8D9D2CA-FollowerState was interrupted
2022-11-08 19:11:29,770 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:29,770 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:29,772 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:29,772 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:29,772 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-338AD8D9D2CA replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-338AD8D9D2CA:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:29,772 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-338AD8D9D2CA-LeaderElection26: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:29,772 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2022-11-08 19:11:29,772 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-338AD8D9D2CA-LeaderElection26 ELECTION round 0: result PASSED
2022-11-08 19:11:29,772 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-338AD8D9D2CA-LeaderElection26
2022-11-08 19:11:29,772 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-338AD8D9D2CA: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-08 19:11:29,772 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-338AD8D9D2CA: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 290ms
2022-11-08 19:11:29,772 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:11:29,772 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:29,772 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:29,773 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:11:29,773 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:11:29,773 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:11:29,773 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:29,773 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:11:29,773 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:29,773 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:29,773 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:29,774 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:29,774 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:29,774 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:29,774 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-338AD8D9D2CA-LeaderStateImpl
2022-11-08 19:11:29,774 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-338AD8D9D2CA-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:29,781 [s1@group-338AD8D9D2CA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-338AD8D9D2CA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s1/74cb5fc9-e593-41d8-8b32-338ad8d9d2ca/current/log_inprogress_0
2022-11-08 19:11:29,796 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-338AD8D9D2CA: change Leader from null to s1 at term 1 for appendEntries, leader elected after 323ms
2022-11-08 19:11:29,800 [s1@group-338AD8D9D2CA-LeaderElection26] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-338AD8D9D2CA: set configuration 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:29,809 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-338AD8D9D2CA: receive appendEntries(s1, 1, null, 0, true, commits:[s1:c0, s0:c-1, s2:c-1], cId:706, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39205"
dataStreamAddress: "localhost:38661"
clientAddress: "localhost:45279"
adminAddress: "localhost:39823"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36533"
dataStreamAddress: "localhost:33815"
clientAddress: "localhost:43643"
adminAddress: "localhost:43127"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34167"
dataStreamAddress: "localhost:42073"
clientAddress: "localhost:35275"
adminAddress: "localhost:34219"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:29,810 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-338AD8D9D2CA: set configuration 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:29,810 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-338AD8D9D2CA-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:29,818 [s0@group-338AD8D9D2CA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-338AD8D9D2CA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s0/74cb5fc9-e593-41d8-8b32-338ad8d9d2ca/current/log_inprogress_0
2022-11-08 19:11:29,824 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-338AD8D9D2CA: succeeded to handle AppendEntries. Reply: s1<-s0#706:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-08 19:11:29,959 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:      NEW      null s2@group-338AD8D9D2CA:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=-1: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null NEW
2022-11-08 19:11:29,959 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testLateServerStart(316)) - sleep 3s
2022-11-08 19:11:32,801 [s1@group-338AD8D9D2CA->s2-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s1@group-338AD8D9D2CA->s2-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: Timeout while waiting for reply of request org.apache.ratis.server.simulation.RaftServerRequest@7f0cfa75
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:32,960 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:32,960 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:32,960 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s2] (custom)
2022-11-08 19:11:32,960 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s2/74cb5fc9-e593-41d8-8b32-338ad8d9d2ca does not exist. Creating ...
2022-11-08 19:11:32,961 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s2/74cb5fc9-e593-41d8-8b32-338ad8d9d2ca
2022-11-08 19:11:32,962 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s2/74cb5fc9-e593-41d8-8b32-338ad8d9d2ca/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:32,962 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s2/74cb5fc9-e593-41d8-8b32-338ad8d9d2ca/current
2022-11-08 19:11:32,962 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s2/74cb5fc9-e593-41d8-8b32-338ad8d9d2ca/sm
2022-11-08 19:11:32,963 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s2/74cb5fc9-e593-41d8-8b32-338ad8d9d2ca has been successfully formatted.
2022-11-08 19:11:32,963 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:32,963 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:32,963 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:32,963 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:32,963 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:32,964 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:32,964 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:32,964 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:32,964 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-338AD8D9D2CA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s2/74cb5fc9-e593-41d8-8b32-338ad8d9d2ca
2022-11-08 19:11:32,964 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:32,964 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:32,965 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:32,965 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:32,965 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:32,965 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:32,965 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:32,965 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:32,965 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:32,965 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:32,965 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:32,965 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:32,965 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:32,965 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-338AD8D9D2CA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:32,965 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-338AD8D9D2CA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:32,966 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-338AD8D9D2CA: start as a follower, conf=-1: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:32,966 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-338AD8D9D2CA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:32,966 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:32,966 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-338AD8D9D2CA,id=s2
2022-11-08 19:11:32,966 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:32,966 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:32,966 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:32,966 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-08 19:11:32,966 [s2@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:32,967 [s2@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:32,967 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s1, group-338AD8D9D2CA, 0, (t:0, i:0))
2022-11-08 19:11:32,967 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:32,967 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-338AD8D9D2CA:t0, leader=null, voted=, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:32,967 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(ELECTION, s1, group-338AD8D9D2CA, 1, (t:0, i:0))
2022-11-08 19:11:32,967 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:32,967 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-338AD8D9D2CA: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-11-08 19:11:32,967 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:32,967 [s2@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-338AD8D9D2CA-FollowerState was interrupted
2022-11-08 19:11:32,971 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:32,971 [s2@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:32,971 [s2@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:32,972 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(217)) - FAILED "getLeaderId", attempt #1/10: java.lang.IllegalStateException: No leader yet, sleep 1s and then retry.
java.lang.IllegalStateException: No leader yet
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testLateServerStart$3(LeaderElectionTests.java:324)
	at java.base/java.util.Optional.orElseThrow(Optional.java:408)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testLateServerStart$4(LeaderElectionTests.java:324)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLateServerStart(LeaderElectionTests.java:322)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:32,972 [JvmPauseMonitor14] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-08 19:11:32,973 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:32,973 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-338AD8D9D2CA: change Leader from null to s1 at term 1 for appendEntries, leader elected after 3486ms
2022-11-08 19:11:32,974 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-338AD8D9D2CA: receive appendEntries(s1, 1, null, 0, true, commits:[s1:c0, s0:c0, s2:c-1], cId:790, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39205"
dataStreamAddress: "localhost:38661"
clientAddress: "localhost:45279"
adminAddress: "localhost:39823"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36533"
dataStreamAddress: "localhost:33815"
clientAddress: "localhost:43643"
adminAddress: "localhost:43127"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34167"
dataStreamAddress: "localhost:42073"
clientAddress: "localhost:35275"
adminAddress: "localhost:34219"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:32,975 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-338AD8D9D2CA: set configuration 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:32,975 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-338AD8D9D2CA-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:32,982 [s2@group-338AD8D9D2CA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-338AD8D9D2CA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc58e78b54/s2/74cb5fc9-e593-41d8-8b32-338ad8d9d2ca/current/log_inprogress_0
2022-11-08 19:11:32,992 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-338AD8D9D2CA: succeeded to handle AppendEntries. Reply: s1<-s2#790:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-08 19:11:33,972 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testLateServerStart(326)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:33,973 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-08 19:11:33,973 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-08 19:11:33,973 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-08 19:11:33,973 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-08 19:11:33,974 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-11-08 19:11:33,974 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-08 19:11:33,975 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-06B7711646E8:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER, s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]
2022-11-08 19:11:33,975 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-08 19:11:33,975 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-08 19:11:33,975 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:33,975 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-08 19:11:33,975 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-08 19:11:33,975 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-08 19:11:33,975 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-06B7711646E8:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER, s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:33,975 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s3
2022-11-08 19:11:33,976 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s3 does not exist.
2022-11-08 19:11:33,976 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s3
2022-11-08 19:11:33,976 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:33,976 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:33,976 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:33,976 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:33,977 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:33,977 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:33,977 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s3] (custom)
2022-11-08 19:11:33,977 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-06B7711646E8:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER, s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER] returns group-06B7711646E8:java.util.concurrent.CompletableFuture@5b8b19db[Not completed]
2022-11-08 19:11:33,977 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s4, group-06B7711646E8:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER, s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:33,977 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s4
2022-11-08 19:11:33,977 [pool-16-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-06B7711646E8:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER, s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:33,977 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s4 does not exist.
2022-11-08 19:11:33,978 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s4
2022-11-08 19:11:33,978 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:33,978 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:33,978 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:33,978 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:33,978 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:33,978 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:33,978 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:33,978 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:33,978 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:33,978 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:33,978 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:33,978 [pool-16-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-06B7711646E8: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:33,978 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:33,978 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:33,978 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s4] (custom)
2022-11-08 19:11:33,978 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:33,979 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s4: addNew group-06B7711646E8:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER, s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER] returns group-06B7711646E8:java.util.concurrent.CompletableFuture@2f6217a2[Not completed]
2022-11-08 19:11:33,979 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-06B7711646E8:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER, s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:33,979 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s0
2022-11-08 19:11:33,979 [pool-17-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s4: new RaftServerImpl for group-06B7711646E8:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER, s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:33,979 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s0 does not exist.
2022-11-08 19:11:33,979 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s0
2022-11-08 19:11:33,979 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:33,979 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:33,979 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:33,979 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:33,979 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:33,980 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:33,980 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:33,980 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:33,980 [pool-17-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-06B7711646E8: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:33,980 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:33,980 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:33,980 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:33,980 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:33,980 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:33,979 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:33,981 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:33,981 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:33,981 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:33,981 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s0] (custom)
2022-11-08 19:11:33,981 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:33,981 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:33,981 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:33,981 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:33,981 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:33,979 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:33,981 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:33,981 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:33,982 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-06B7711646E8:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER, s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER] returns group-06B7711646E8:java.util.concurrent.CompletableFuture@ecab6a1[Not completed]
2022-11-08 19:11:33,982 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-06B7711646E8:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER, s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:33,982 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s1
2022-11-08 19:11:33,982 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s1 does not exist.
2022-11-08 19:11:33,982 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s1
2022-11-08 19:11:33,982 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:33,982 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:33,982 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:33,982 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:33,982 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:33,982 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:33,982 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s1] (custom)
2022-11-08 19:11:33,983 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:33,983 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:33,983 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:33,983 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:33,983 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:33,986 [pool-18-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-06B7711646E8:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER, s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:33,986 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:33,986 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:33,986 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:33,986 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:33,986 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:33,986 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:33,986 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-06B7711646E8:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER, s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER] returns group-06B7711646E8:java.util.concurrent.CompletableFuture@d74e8af[Not completed]
2022-11-08 19:11:33,986 [pool-18-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-06B7711646E8: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:33,986 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-06B7711646E8:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER, s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:33,986 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s2
2022-11-08 19:11:33,986 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:33,986 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:33,986 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s2 does not exist.
2022-11-08 19:11:33,987 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s2
2022-11-08 19:11:33,986 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:33,987 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:33,987 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:33,987 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:33,987 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:33,987 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:33,987 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:33,987 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:33,987 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:33,987 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s2] (custom)
2022-11-08 19:11:33,988 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:33,988 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:33,988 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:33,988 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:33,988 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:33,990 [pool-19-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-06B7711646E8:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER, s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:33,990 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:33,990 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:33,991 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:33,990 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-06B7711646E8:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER, s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER] returns group-06B7711646E8:java.util.concurrent.CompletableFuture@2b010681[Not completed]
2022-11-08 19:11:33,992 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:33,992 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:33,992 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s3] (custom)
2022-11-08 19:11:33,992 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s3/1a08098f-7b99-4e23-87f2-06b7711646e8 does not exist. Creating ...
2022-11-08 19:11:33,992 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s3/1a08098f-7b99-4e23-87f2-06b7711646e8
2022-11-08 19:11:33,992 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:33,993 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:33,993 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:33,993 [pool-19-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-06B7711646E8: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:33,993 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:33,993 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:33,993 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:33,993 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:33,994 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:33,995 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:33,995 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:33,995 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:33,995 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:33,995 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:33,990 [pool-20-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-06B7711646E8:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER, s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:33,993 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s3/1a08098f-7b99-4e23-87f2-06b7711646e8/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:33,996 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s3/1a08098f-7b99-4e23-87f2-06b7711646e8/current
2022-11-08 19:11:33,996 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s3/1a08098f-7b99-4e23-87f2-06b7711646e8/sm
2022-11-08 19:11:33,996 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:33,996 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:33,996 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:33,997 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s3/1a08098f-7b99-4e23-87f2-06b7711646e8 has been successfully formatted.
2022-11-08 19:11:33,997 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:33,997 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:33,997 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:33,997 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:33,997 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:33,998 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:33,998 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:33,998 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:33,998 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s3@group-06B7711646E8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s3/1a08098f-7b99-4e23-87f2-06b7711646e8
2022-11-08 19:11:33,998 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:33,998 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:33,998 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:33,998 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:33,998 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:33,998 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:33,998 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:33,998 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:33,999 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:33,999 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:33,999 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:33,999 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:33,999 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:33,999 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-06B7711646E8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:33,999 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-06B7711646E8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:34,000 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:34,000 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:34,001 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:34,001 [pool-20-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-06B7711646E8: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:34,001 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:34,001 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:34,001 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:34,001 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:34,001 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:34,003 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:34,003 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:34,003 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:34,003 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:34,003 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:34,004 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(341)) - s3@group-06B7711646E8: start as a listener, conf=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:34,004 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-06B7711646E8: changes role from      null to LISTENER at term 0 for startAsListener
2022-11-08 19:11:34,004 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-06B7711646E8-FollowerState
2022-11-08 19:11:34,004 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-06B7711646E8,id=s3
2022-11-08 19:11:34,004 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:34,004 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:34,004 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:34,004 [s3@group-06B7711646E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:34,004 [s3@group-06B7711646E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:34,005 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s3: start RPC server
2022-11-08 19:11:34,005 [JvmPauseMonitor15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s3: Started
2022-11-08 19:11:34,005 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:34,006 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:34,006 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s4] (custom)
2022-11-08 19:11:34,006 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s4/1a08098f-7b99-4e23-87f2-06b7711646e8 does not exist. Creating ...
2022-11-08 19:11:34,006 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s4/1a08098f-7b99-4e23-87f2-06b7711646e8
2022-11-08 19:11:34,007 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s4/1a08098f-7b99-4e23-87f2-06b7711646e8/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:34,007 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s4/1a08098f-7b99-4e23-87f2-06b7711646e8/current
2022-11-08 19:11:34,007 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s4/1a08098f-7b99-4e23-87f2-06b7711646e8/sm
2022-11-08 19:11:34,008 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s4/1a08098f-7b99-4e23-87f2-06b7711646e8 has been successfully formatted.
2022-11-08 19:11:34,008 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:34,008 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:34,008 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:34,008 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:34,008 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:34,009 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:34,009 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:34,009 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:34,009 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s4@group-06B7711646E8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s4/1a08098f-7b99-4e23-87f2-06b7711646e8
2022-11-08 19:11:34,009 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:34,009 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:34,009 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:34,009 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:34,009 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:34,009 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:34,009 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:34,009 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:34,009 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:34,009 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:34,009 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:34,009 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:34,009 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:34,010 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-06B7711646E8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:34,010 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-06B7711646E8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:34,012 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(341)) - s4@group-06B7711646E8: start as a listener, conf=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:34,012 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-06B7711646E8: changes role from      null to LISTENER at term 0 for startAsListener
2022-11-08 19:11:34,012 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-06B7711646E8-FollowerState
2022-11-08 19:11:34,012 [s4@group-06B7711646E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:34,012 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-06B7711646E8,id=s4
2022-11-08 19:11:34,012 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:34,012 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:34,012 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:34,012 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s4: start RPC server
2022-11-08 19:11:34,012 [s4@group-06B7711646E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:34,013 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:34,013 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:34,013 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s0] (custom)
2022-11-08 19:11:34,013 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s0/1a08098f-7b99-4e23-87f2-06b7711646e8 does not exist. Creating ...
2022-11-08 19:11:34,014 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s0/1a08098f-7b99-4e23-87f2-06b7711646e8
2022-11-08 19:11:34,014 [JvmPauseMonitor16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s4: Started
2022-11-08 19:11:34,014 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s0/1a08098f-7b99-4e23-87f2-06b7711646e8/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:34,015 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s0/1a08098f-7b99-4e23-87f2-06b7711646e8/current
2022-11-08 19:11:34,015 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s0/1a08098f-7b99-4e23-87f2-06b7711646e8/sm
2022-11-08 19:11:34,015 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s0/1a08098f-7b99-4e23-87f2-06b7711646e8 has been successfully formatted.
2022-11-08 19:11:34,016 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:34,016 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:34,016 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:34,016 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:34,016 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:34,016 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:34,016 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:34,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:34,017 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-06B7711646E8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s0/1a08098f-7b99-4e23-87f2-06b7711646e8
2022-11-08 19:11:34,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:34,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:34,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:34,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:34,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:34,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:34,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:34,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:34,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:34,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:34,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:34,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:34,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:34,017 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-06B7711646E8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:34,017 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-06B7711646E8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:34,017 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-06B7711646E8: start as a follower, conf=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:34,017 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-06B7711646E8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:34,017 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-06B7711646E8-FollowerState
2022-11-08 19:11:34,018 [s0@group-06B7711646E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:34,018 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-06B7711646E8,id=s0
2022-11-08 19:11:34,018 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:34,018 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:34,018 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:34,018 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-08 19:11:34,018 [s0@group-06B7711646E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:34,019 [JvmPauseMonitor17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-08 19:11:34,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:34,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:34,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s1] (custom)
2022-11-08 19:11:34,019 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s1/1a08098f-7b99-4e23-87f2-06b7711646e8 does not exist. Creating ...
2022-11-08 19:11:34,020 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s1/1a08098f-7b99-4e23-87f2-06b7711646e8
2022-11-08 19:11:34,020 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s1/1a08098f-7b99-4e23-87f2-06b7711646e8/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:34,020 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s1/1a08098f-7b99-4e23-87f2-06b7711646e8/current
2022-11-08 19:11:34,020 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s1/1a08098f-7b99-4e23-87f2-06b7711646e8/sm
2022-11-08 19:11:34,021 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s1/1a08098f-7b99-4e23-87f2-06b7711646e8 has been successfully formatted.
2022-11-08 19:11:34,021 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:34,021 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:34,021 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:34,021 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:34,021 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:34,022 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:34,022 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:34,022 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:34,022 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-06B7711646E8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s1/1a08098f-7b99-4e23-87f2-06b7711646e8
2022-11-08 19:11:34,022 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:34,022 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:34,022 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:34,022 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:34,022 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:34,022 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:34,022 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:34,022 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:34,023 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:34,023 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:34,023 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:34,023 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:34,023 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:34,023 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-06B7711646E8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:34,023 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-06B7711646E8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:34,028 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-06B7711646E8: start as a follower, conf=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:34,028 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-06B7711646E8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:34,028 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-06B7711646E8-FollowerState
2022-11-08 19:11:34,028 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-06B7711646E8,id=s1
2022-11-08 19:11:34,028 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:34,028 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:34,028 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:34,028 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-08 19:11:34,028 [s1@group-06B7711646E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:34,028 [s1@group-06B7711646E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:34,029 [JvmPauseMonitor18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-08 19:11:34,029 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:34,029 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:34,029 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s2] (custom)
2022-11-08 19:11:34,029 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s2/1a08098f-7b99-4e23-87f2-06b7711646e8 does not exist. Creating ...
2022-11-08 19:11:34,030 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s2/1a08098f-7b99-4e23-87f2-06b7711646e8
2022-11-08 19:11:34,030 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s2/1a08098f-7b99-4e23-87f2-06b7711646e8/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:34,030 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s2/1a08098f-7b99-4e23-87f2-06b7711646e8/current
2022-11-08 19:11:34,031 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s2/1a08098f-7b99-4e23-87f2-06b7711646e8/sm
2022-11-08 19:11:34,031 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s2/1a08098f-7b99-4e23-87f2-06b7711646e8 has been successfully formatted.
2022-11-08 19:11:34,032 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:34,032 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:34,032 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:34,032 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:34,032 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:34,032 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:34,032 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:34,033 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:34,033 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-06B7711646E8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s2/1a08098f-7b99-4e23-87f2-06b7711646e8
2022-11-08 19:11:34,033 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:34,033 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:34,033 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:34,033 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:34,033 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:34,033 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:34,033 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:34,033 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:34,033 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:34,033 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:34,033 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:34,033 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:34,033 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:34,033 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-06B7711646E8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:34,033 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-06B7711646E8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:34,040 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-06B7711646E8: start as a follower, conf=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:34,040 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-06B7711646E8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:34,040 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-06B7711646E8-FollowerState
2022-11-08 19:11:34,041 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-06B7711646E8,id=s2
2022-11-08 19:11:34,041 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:34,041 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:34,041 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:34,042 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-08 19:11:34,042 [s2@group-06B7711646E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:34,042 [s2@group-06B7711646E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:34,042 [JvmPauseMonitor19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-08 19:11:34,043 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:34,043 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-06B7711646E8:t0, leader=null, voted=, raftlog=Memoized:s3@group-06B7711646E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-06B7711646E8:t0, leader=null, voted=, raftlog=Memoized:s4@group-06B7711646E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-06B7711646E8:t0, leader=null, voted=, raftlog=Memoized:s0@group-06B7711646E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-06B7711646E8:t0, leader=null, voted=, raftlog=Memoized:s1@group-06B7711646E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-06B7711646E8:t0, leader=null, voted=, raftlog=Memoized:s2@group-06B7711646E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null RUNNING
2022-11-08 19:11:34,043 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-06B7711646E8:t0, leader=null, voted=, raftlog=Memoized:s3@group-06B7711646E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-06B7711646E8:t0, leader=null, voted=, raftlog=Memoized:s4@group-06B7711646E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-06B7711646E8:t0, leader=null, voted=, raftlog=Memoized:s0@group-06B7711646E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-06B7711646E8:t0, leader=null, voted=, raftlog=Memoized:s1@group-06B7711646E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-06B7711646E8:t0, leader=null, voted=, raftlog=Memoized:s2@group-06B7711646E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-06B7711646E8:t0, leader=null, voted=, raftlog=Memoized:s3@group-06B7711646E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-06B7711646E8:t0, leader=null, voted=, raftlog=Memoized:s4@group-06B7711646E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-06B7711646E8:t0, leader=null, voted=, raftlog=Memoized:s0@group-06B7711646E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-06B7711646E8:t0, leader=null, voted=, raftlog=Memoized:s1@group-06B7711646E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-06B7711646E8:t0, leader=null, voted=, raftlog=Memoized:s2@group-06B7711646E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestListenerNotStartLeaderElection(LeaderElectionTests.java:160)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:129)
	at org.apache.ratis.server.impl.LeaderElectionTests.testListenerNotStartLeaderElection(LeaderElectionTests.java:156)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:34,172 [s4@group-06B7711646E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:34,172 [s4@group-06B7711646E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:34,185 [s0@group-06B7711646E8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-06B7711646E8-FollowerState: change to CANDIDATE, lastRpcElapsedTime:167981771ns, electionTimeout:167ms
2022-11-08 19:11:34,186 [s0@group-06B7711646E8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-06B7711646E8-FollowerState
2022-11-08 19:11:34,186 [s0@group-06B7711646E8-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-06B7711646E8: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-08 19:11:34,186 [s0@group-06B7711646E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:34,186 [s0@group-06B7711646E8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-06B7711646E8-LeaderElection27
2022-11-08 19:11:34,187 [s0@group-06B7711646E8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-06B7711646E8-LeaderElection27 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:34,187 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-06B7711646E8: receive requestVote(PRE_VOTE, s0, group-06B7711646E8, 0, (t:0, i:0))
2022-11-08 19:11:34,187 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-06B7711646E8-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:34,187 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-06B7711646E8 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-06B7711646E8:t0, leader=null, voted=, raftlog=Memoized:s1@group-06B7711646E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:34,187 [s0@group-06B7711646E8-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:34,187 [s0@group-06B7711646E8-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:34,187 [s0@group-06B7711646E8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-06B7711646E8-LeaderElection27: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:34,187 [s0@group-06B7711646E8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2022-11-08 19:11:34,188 [s0@group-06B7711646E8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-06B7711646E8-LeaderElection27 PRE_VOTE round 0: result PASSED
2022-11-08 19:11:34,188 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-06B7711646E8: receive requestVote(PRE_VOTE, s0, group-06B7711646E8, 0, (t:0, i:0))
2022-11-08 19:11:34,188 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-06B7711646E8-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:34,188 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-06B7711646E8 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-06B7711646E8:t0, leader=null, voted=, raftlog=Memoized:s2@group-06B7711646E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:34,189 [s0@group-06B7711646E8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-06B7711646E8-LeaderElection27 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:34,189 [s0@group-06B7711646E8-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:34,189 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-06B7711646E8: receive requestVote(ELECTION, s0, group-06B7711646E8, 1, (t:0, i:0))
2022-11-08 19:11:34,189 [s0@group-06B7711646E8-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:34,189 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-06B7711646E8: receive requestVote(ELECTION, s0, group-06B7711646E8, 1, (t:0, i:0))
2022-11-08 19:11:34,189 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-06B7711646E8-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:34,190 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-06B7711646E8: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-11-08 19:11:34,190 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-06B7711646E8-FollowerState
2022-11-08 19:11:34,190 [s1@group-06B7711646E8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-06B7711646E8-FollowerState was interrupted
2022-11-08 19:11:34,189 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-06B7711646E8-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:34,190 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-06B7711646E8: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-11-08 19:11:34,190 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-06B7711646E8-FollowerState
2022-11-08 19:11:34,190 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-06B7711646E8-FollowerState
2022-11-08 19:11:34,190 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-06B7711646E8-FollowerState
2022-11-08 19:11:34,191 [s2@group-06B7711646E8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-06B7711646E8-FollowerState was interrupted
2022-11-08 19:11:34,191 [s1@group-06B7711646E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:34,191 [s1@group-06B7711646E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:34,191 [s2@group-06B7711646E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:34,191 [s2@group-06B7711646E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:34,191 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-06B7711646E8 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-06B7711646E8:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-06B7711646E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:34,192 [s0@group-06B7711646E8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-06B7711646E8-LeaderElection27: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:34,192 [s0@group-06B7711646E8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2022-11-08 19:11:34,192 [s0@group-06B7711646E8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-06B7711646E8-LeaderElection27 ELECTION round 0: result PASSED
2022-11-08 19:11:34,192 [s0@group-06B7711646E8-LeaderElection27] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-06B7711646E8-LeaderElection27
2022-11-08 19:11:34,192 [s0@group-06B7711646E8-LeaderElection27] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-06B7711646E8: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-08 19:11:34,192 [s0@group-06B7711646E8-LeaderElection27] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-06B7711646E8: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 205ms
2022-11-08 19:11:34,192 [s0@group-06B7711646E8-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:11:34,192 [s0@group-06B7711646E8-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:34,192 [s0@group-06B7711646E8-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:34,192 [s0@group-06B7711646E8-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:11:34,192 [s0@group-06B7711646E8-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:11:34,192 [s0@group-06B7711646E8-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:11:34,192 [s0@group-06B7711646E8-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:34,192 [s0@group-06B7711646E8-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:11:34,193 [s0@group-06B7711646E8-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:34,193 [s0@group-06B7711646E8-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:34,193 [s0@group-06B7711646E8-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:34,193 [s0@group-06B7711646E8-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:34,193 [s0@group-06B7711646E8-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:34,193 [s0@group-06B7711646E8-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:34,194 [s0@group-06B7711646E8-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:34,194 [s0@group-06B7711646E8-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:34,194 [s0@group-06B7711646E8-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:34,194 [s0@group-06B7711646E8-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:34,194 [s0@group-06B7711646E8-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:34,195 [s0@group-06B7711646E8-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:34,194 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-06B7711646E8 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-06B7711646E8:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-06B7711646E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:34,195 [s0@group-06B7711646E8-LeaderElection27] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-06B7711646E8-LeaderStateImpl
2022-11-08 19:11:34,195 [s0@group-06B7711646E8-LeaderElection27] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-06B7711646E8-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:34,199 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-06B7711646E8: change Leader from null to s0 at term 1 for appendEntries, leader elected after 206ms
2022-11-08 19:11:34,199 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-06B7711646E8: change Leader from null to s0 at term 1 for appendEntries, leader elected after 198ms
2022-11-08 19:11:34,201 [s0@group-06B7711646E8-LeaderElection27] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-06B7711646E8: set configuration 0: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:34,201 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-06B7711646E8: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1, s4:c-1], cId:861, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34095"
dataStreamAddress: "localhost:40153"
clientAddress: "localhost:37815"
adminAddress: "localhost:38705"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46085"
dataStreamAddress: "localhost:45311"
clientAddress: "localhost:39495"
adminAddress: "localhost:46497"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:41287"
dataStreamAddress: "localhost:42247"
clientAddress: "localhost:39389"
adminAddress: "localhost:43459"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:34,202 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-06B7711646E8: set configuration 0: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:34,202 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-06B7711646E8-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:34,204 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-06B7711646E8: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1, s4:c-1], cId:864, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34095"
dataStreamAddress: "localhost:40153"
clientAddress: "localhost:37815"
adminAddress: "localhost:38705"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46085"
dataStreamAddress: "localhost:45311"
clientAddress: "localhost:39495"
adminAddress: "localhost:46497"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:41287"
dataStreamAddress: "localhost:42247"
clientAddress: "localhost:39389"
adminAddress: "localhost:43459"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:34,204 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s4@group-06B7711646E8: change Leader from null to s0 at term 1 for appendEntries, leader elected after 224ms
2022-11-08 19:11:34,204 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-06B7711646E8: set configuration 0: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:34,204 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-06B7711646E8-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:34,204 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s3@group-06B7711646E8: change Leader from null to s0 at term 1 for appendEntries, leader elected after 226ms
2022-11-08 19:11:34,204 [s0@group-06B7711646E8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-06B7711646E8-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s0/1a08098f-7b99-4e23-87f2-06b7711646e8/current/log_inprogress_0
2022-11-08 19:11:34,208 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-06B7711646E8: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1, s4:c-1], cId:865, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34095"
dataStreamAddress: "localhost:40153"
clientAddress: "localhost:37815"
adminAddress: "localhost:38705"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46085"
dataStreamAddress: "localhost:45311"
clientAddress: "localhost:39495"
adminAddress: "localhost:46497"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:41287"
dataStreamAddress: "localhost:42247"
clientAddress: "localhost:39389"
adminAddress: "localhost:43459"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:34,213 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s4@group-06B7711646E8: set configuration 0: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:34,213 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s4@group-06B7711646E8-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:34,215 [s2@group-06B7711646E8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-06B7711646E8-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s2/1a08098f-7b99-4e23-87f2-06b7711646e8/current/log_inprogress_0
2022-11-08 19:11:34,216 [s1@group-06B7711646E8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-06B7711646E8-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s1/1a08098f-7b99-4e23-87f2-06b7711646e8/current/log_inprogress_0
2022-11-08 19:11:34,217 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-06B7711646E8: receive appendEntries(s0, 1, null, 0, false, commits:[s0:c0, s1:c-1, s2:c-1, s3:c-1, s4:c-1], cId:868, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34095"
dataStreamAddress: "localhost:40153"
clientAddress: "localhost:37815"
adminAddress: "localhost:38705"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46085"
dataStreamAddress: "localhost:45311"
clientAddress: "localhost:39495"
adminAddress: "localhost:46497"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:41287"
dataStreamAddress: "localhost:42247"
clientAddress: "localhost:39389"
adminAddress: "localhost:43459"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:34,219 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-06B7711646E8: succeeded to handle AppendEntries. Reply: s0<-s1#864:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:11:34,220 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s3@group-06B7711646E8: set configuration 0: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:34,220 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-06B7711646E8: succeeded to handle AppendEntries. Reply: s0<-s2#861:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:11:34,220 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s3@group-06B7711646E8-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:34,225 [s4@group-06B7711646E8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s4@group-06B7711646E8-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s4/1a08098f-7b99-4e23-87f2-06b7711646e8/current/log_inprogress_0
2022-11-08 19:11:34,228 [s3@group-06B7711646E8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s3@group-06B7711646E8-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5ede0e6f/s3/1a08098f-7b99-4e23-87f2-06b7711646e8/current/log_inprogress_0
2022-11-08 19:11:34,228 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-06B7711646E8: succeeded to handle AppendEntries. Reply: s0<-s4#865:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:11:34,242 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-06B7711646E8: succeeded to handle AppendEntries. Reply: s0<-s3#868:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-08 19:11:34,494 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-06B7711646E8:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-06B7711646E8-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-06B7711646E8:t1, leader=s0, voted=null, raftlog=Memoized:s4@group-06B7711646E8-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-06B7711646E8:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-06B7711646E8-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-06B7711646E8:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-06B7711646E8-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-06B7711646E8:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-06B7711646E8-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null RUNNING
2022-11-08 19:11:34,494 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:34,544 [HandlerDaemon-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s3: Block request from s0
2022-11-08 19:11:35,095 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-08 19:11:35,095 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-08 19:11:35,095 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:35,095 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-08 19:11:35,095 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-08 19:11:35,095 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-06B7711646E8:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-06B7711646E8-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-06B7711646E8:t1, leader=s0, voted=null, raftlog=Memoized:s4@group-06B7711646E8-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-06B7711646E8:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-06B7711646E8-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-06B7711646E8:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-06B7711646E8-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-06B7711646E8:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-06B7711646E8-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34095|admin:localhost:38705|client:localhost:37815|dataStream:localhost:40153|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46085|admin:localhost:46497|client:localhost:39495|dataStream:localhost:45311|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41287|admin:localhost:43459|client:localhost:39389|dataStream:localhost:42247|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42293|admin:localhost:41077|client:localhost:40597|dataStream:localhost:37991|priority:0|startupRole:LISTENER, s4|rpc:localhost:37647|admin:localhost:38857|client:localhost:46529|dataStream:localhost:41359|priority:0|startupRole:LISTENER], old=null RUNNING
2022-11-08 19:11:35,095 [MiniRaftCluster-17] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s3: close
2022-11-08 19:11:35,096 [MiniRaftCluster-18] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s4: close
2022-11-08 19:11:35,096 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s3@group-06B7711646E8: shutdown
2022-11-08 19:11:35,096 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,096 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,096 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-06B7711646E8,id=s3
2022-11-08 19:11:35,096 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,096 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-06B7711646E8-FollowerState
2022-11-08 19:11:35,096 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,096 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-06B7711646E8-StateMachineUpdater: set stopIndex = 0
2022-11-08 19:11:35,096 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,096 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s4@group-06B7711646E8: shutdown
2022-11-08 19:11:35,096 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-06B7711646E8,id=s4
2022-11-08 19:11:35,096 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-06B7711646E8-FollowerState
2022-11-08 19:11:35,096 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s4@group-06B7711646E8-StateMachineUpdater: set stopIndex = 0
2022-11-08 19:11:35,097 [s3@group-06B7711646E8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-06B7711646E8-FollowerState was interrupted
2022-11-08 19:11:35,097 [s4@group-06B7711646E8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-06B7711646E8-FollowerState was interrupted
2022-11-08 19:11:35,097 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,097 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,097 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,097 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,097 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,097 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,097 [HandlerDaemon-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s3: unBlock request from s0
2022-11-08 19:11:35,098 [MiniRaftCluster-19] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-08 19:11:35,098 [MiniRaftCluster-20] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-08 19:11:35,098 [MiniRaftCluster-21] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-08 19:11:35,099 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s3@group-06B7711646E8: applyIndex: 0
2022-11-08 19:11:35,099 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s4@group-06B7711646E8: applyIndex: 0
2022-11-08 19:11:35,099 [s3@group-06B7711646E8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s3@group-06B7711646E8-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:35,099 [s4@group-06B7711646E8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s4@group-06B7711646E8-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:35,097 [s0@group-06B7711646E8->s3-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-06B7711646E8->s3-LogAppenderDefault: Failed to appendEntries (retry=1): {}
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s3@group-06B7711646E8 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$9(RaftServerImpl.java:737)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:253)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:736)
	at org.apache.ratis.server.impl.RaftServerImpl.preAppendEntriesAsync(RaftServerImpl.java:1441)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1385)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntries(RaftServerImpl.java:1371)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntries(RaftServerProxy.java:646)
	at org.apache.ratis.server.simulation.SimulatedServerRpc$1.handleRequest(SimulatedServerRpc.java:163)
	at org.apache.ratis.server.simulation.SimulatedServerRpc$1.handleRequest(SimulatedServerRpc.java:153)
	at org.apache.ratis.server.simulation.RequestHandler.handleRequest(RequestHandler.java:91)
	at org.apache.ratis.server.simulation.RequestHandler$HandlerDaemon.run(RequestHandler.java:125)
2022-11-08 19:11:35,099 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,099 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-06B7711646E8: shutdown
2022-11-08 19:11:35,100 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-06B7711646E8,id=s1
2022-11-08 19:11:35,100 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-06B7711646E8-FollowerState
2022-11-08 19:11:35,100 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-06B7711646E8-StateMachineUpdater: set stopIndex = 0
2022-11-08 19:11:35,099 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-06B7711646E8: shutdown
2022-11-08 19:11:35,100 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-06B7711646E8,id=s2
2022-11-08 19:11:35,100 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-06B7711646E8-FollowerState
2022-11-08 19:11:35,100 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-06B7711646E8-StateMachineUpdater: set stopIndex = 0
2022-11-08 19:11:35,100 [s2@group-06B7711646E8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-06B7711646E8-FollowerState was interrupted
2022-11-08 19:11:35,099 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,099 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-06B7711646E8: shutdown
2022-11-08 19:11:35,099 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,100 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-06B7711646E8,id=s0
2022-11-08 19:11:35,100 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-06B7711646E8-LeaderStateImpl
2022-11-08 19:11:35,100 [s0@group-06B7711646E8->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-06B7711646E8->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:35,100 [s0@group-06B7711646E8->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-06B7711646E8->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:35,101 [s0@group-06B7711646E8->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-06B7711646E8->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:35,100 [s1@group-06B7711646E8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-06B7711646E8-FollowerState was interrupted
2022-11-08 19:11:35,100 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-06B7711646E8-PendingRequests: sendNotLeaderResponses
2022-11-08 19:11:35,103 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-06B7711646E8-StateMachineUpdater: set stopIndex = 0
2022-11-08 19:11:35,103 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s3@group-06B7711646E8-SegmentedRaftLogWorker close()
2022-11-08 19:11:35,102 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,102 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,102 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s4@group-06B7711646E8-SegmentedRaftLogWorker close()
2022-11-08 19:11:35,103 [s0@group-06B7711646E8->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-06B7711646E8->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-11-08 19:11:35,102 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,103 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,104 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-06B7711646E8: applyIndex: 0
2022-11-08 19:11:35,102 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,104 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,102 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,104 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-06B7711646E8: applyIndex: 0
2022-11-08 19:11:35,104 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,104 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,102 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,104 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-06B7711646E8: applyIndex: 0
2022-11-08 19:11:35,104 [s0@group-06B7711646E8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s0@group-06B7711646E8-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:35,105 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-06B7711646E8-SegmentedRaftLogWorker close()
2022-11-08 19:11:35,105 [s1@group-06B7711646E8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s1@group-06B7711646E8-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:35,105 [s2@group-06B7711646E8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s2@group-06B7711646E8-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:35,106 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,106 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-06B7711646E8-SegmentedRaftLogWorker close()
2022-11-08 19:11:35,107 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,107 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-06B7711646E8-SegmentedRaftLogWorker close()
2022-11-08 19:11:35,107 [JvmPauseMonitor19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-08 19:11:35,108 [JvmPauseMonitor15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s3: Stopped
2022-11-08 19:11:35,107 [JvmPauseMonitor16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s4: Stopped
2022-11-08 19:11:35,108 [JvmPauseMonitor18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-08 19:11:35,108 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,108 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,108 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:35,108 [JvmPauseMonitor17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-08 19:11:35,109 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-08 19:11:35,109 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-08 19:11:35,109 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-08 19:11:35,109 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-08 19:11:35,109 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-08 19:11:35,110 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-08 19:11:35,110 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-D53531C7475E:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]
2022-11-08 19:11:35,110 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-08 19:11:35,110 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-08 19:11:35,110 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:35,110 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-08 19:11:35,110 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-08 19:11:35,110 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-08 19:11:35,111 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-D53531C7475E:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:35,111 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s0
2022-11-08 19:11:35,111 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s0 does not exist.
2022-11-08 19:11:35,111 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s0
2022-11-08 19:11:35,111 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:35,111 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:35,111 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:35,111 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:35,111 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:35,111 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:35,111 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s0] (custom)
2022-11-08 19:11:35,112 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-D53531C7475E:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER] returns group-D53531C7475E:java.util.concurrent.CompletableFuture@63bcb428[Not completed]
2022-11-08 19:11:35,112 [pool-21-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-D53531C7475E:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:35,112 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-D53531C7475E:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:35,112 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s1
2022-11-08 19:11:35,112 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:35,112 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:35,112 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s1 does not exist.
2022-11-08 19:11:35,112 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:35,112 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s1
2022-11-08 19:11:35,112 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:35,112 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:35,112 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:35,112 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:35,112 [pool-21-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-D53531C7475E: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:35,112 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:35,112 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:35,112 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:35,112 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:35,112 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:35,112 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:35,112 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:35,113 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:35,113 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:35,113 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:35,113 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s1] (custom)
2022-11-08 19:11:35,113 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-D53531C7475E:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER] returns group-D53531C7475E:java.util.concurrent.CompletableFuture@175241ae[Not completed]
2022-11-08 19:11:35,113 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-D53531C7475E:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:35,113 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s2
2022-11-08 19:11:35,113 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s2 does not exist.
2022-11-08 19:11:35,113 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s2
2022-11-08 19:11:35,114 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:35,114 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:35,114 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:35,114 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:35,114 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:35,114 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:35,114 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:35,114 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s2] (custom)
2022-11-08 19:11:35,114 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:35,114 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:35,114 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:35,114 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:35,114 [pool-22-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-D53531C7475E:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:35,115 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:35,115 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:35,115 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:35,115 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:35,115 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:35,115 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:35,114 [pool-23-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-D53531C7475E:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:35,114 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-D53531C7475E:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER] returns group-D53531C7475E:java.util.concurrent.CompletableFuture@53d6c8c6[Not completed]
2022-11-08 19:11:35,115 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:35,115 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:35,115 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:35,115 [pool-22-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-D53531C7475E: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:35,119 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:35,119 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:35,120 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:35,120 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:35,120 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:35,115 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:35,115 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:35,121 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:35,121 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s0] (custom)
2022-11-08 19:11:35,121 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s0/dca9ef3c-aa45-4f22-958d-d53531c7475e does not exist. Creating ...
2022-11-08 19:11:35,121 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s0/dca9ef3c-aa45-4f22-958d-d53531c7475e
2022-11-08 19:11:35,121 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:35,121 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:35,121 [pool-23-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-D53531C7475E: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:35,122 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:35,122 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:35,122 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:35,122 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:35,122 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:35,122 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s0/dca9ef3c-aa45-4f22-958d-d53531c7475e/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:35,123 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s0/dca9ef3c-aa45-4f22-958d-d53531c7475e/current
2022-11-08 19:11:35,123 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s0/dca9ef3c-aa45-4f22-958d-d53531c7475e/sm
2022-11-08 19:11:35,123 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:35,123 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:35,123 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:35,123 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:35,123 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:35,124 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:35,124 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:35,124 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:35,124 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:35,124 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:35,124 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s0/dca9ef3c-aa45-4f22-958d-d53531c7475e has been successfully formatted.
2022-11-08 19:11:35,124 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:35,124 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:35,124 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:35,124 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:35,124 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:35,125 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:35,125 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:35,125 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:35,125 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-D53531C7475E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s0/dca9ef3c-aa45-4f22-958d-d53531c7475e
2022-11-08 19:11:35,125 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:35,125 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:35,125 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:35,125 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:35,125 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:35,125 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:35,125 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:35,125 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:35,125 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:35,126 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:35,126 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:35,126 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:35,126 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:35,126 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-D53531C7475E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:35,126 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-D53531C7475E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:35,126 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-D53531C7475E: start as a follower, conf=-1: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:35,126 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-D53531C7475E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:35,126 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D53531C7475E-FollowerState
2022-11-08 19:11:35,128 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D53531C7475E,id=s0
2022-11-08 19:11:35,128 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:35,128 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:35,128 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:35,128 [s0@group-D53531C7475E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:35,128 [s0@group-D53531C7475E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:35,131 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-08 19:11:35,132 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:35,132 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:35,132 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s1] (custom)
2022-11-08 19:11:35,132 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s1/dca9ef3c-aa45-4f22-958d-d53531c7475e does not exist. Creating ...
2022-11-08 19:11:35,133 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s1/dca9ef3c-aa45-4f22-958d-d53531c7475e
2022-11-08 19:11:35,133 [JvmPauseMonitor20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-08 19:11:35,134 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s1/dca9ef3c-aa45-4f22-958d-d53531c7475e/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:35,134 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s1/dca9ef3c-aa45-4f22-958d-d53531c7475e/current
2022-11-08 19:11:35,134 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s1/dca9ef3c-aa45-4f22-958d-d53531c7475e/sm
2022-11-08 19:11:35,134 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s1/dca9ef3c-aa45-4f22-958d-d53531c7475e has been successfully formatted.
2022-11-08 19:11:35,135 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:35,135 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:35,135 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:35,135 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:35,135 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:35,135 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:35,136 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:35,136 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:35,136 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-D53531C7475E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s1/dca9ef3c-aa45-4f22-958d-d53531c7475e
2022-11-08 19:11:35,136 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:35,136 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:35,136 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:35,136 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:35,136 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:35,136 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:35,136 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:35,136 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:35,136 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:35,136 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:35,136 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:35,136 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:35,136 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:35,136 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-D53531C7475E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:35,136 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-D53531C7475E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:35,137 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-D53531C7475E: start as a follower, conf=-1: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:35,137 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-D53531C7475E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:35,137 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-D53531C7475E-FollowerState
2022-11-08 19:11:35,137 [s1@group-D53531C7475E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:35,137 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D53531C7475E,id=s1
2022-11-08 19:11:35,137 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:35,137 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:35,137 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:35,138 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-08 19:11:35,137 [s1@group-D53531C7475E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:35,139 [JvmPauseMonitor21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-08 19:11:35,139 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:35,139 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:35,139 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s2] (custom)
2022-11-08 19:11:35,139 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s2/dca9ef3c-aa45-4f22-958d-d53531c7475e does not exist. Creating ...
2022-11-08 19:11:35,140 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s2/dca9ef3c-aa45-4f22-958d-d53531c7475e
2022-11-08 19:11:35,140 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s2/dca9ef3c-aa45-4f22-958d-d53531c7475e/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:35,140 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s2/dca9ef3c-aa45-4f22-958d-d53531c7475e/current
2022-11-08 19:11:35,140 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s2/dca9ef3c-aa45-4f22-958d-d53531c7475e/sm
2022-11-08 19:11:35,141 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s2/dca9ef3c-aa45-4f22-958d-d53531c7475e has been successfully formatted.
2022-11-08 19:11:35,141 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:35,141 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:35,141 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:35,141 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:35,141 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:35,142 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:35,142 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:35,142 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:35,142 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-D53531C7475E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s2/dca9ef3c-aa45-4f22-958d-d53531c7475e
2022-11-08 19:11:35,142 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:35,142 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:35,142 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:35,142 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:35,142 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:35,142 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:35,142 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:35,142 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:35,143 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:35,143 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:35,143 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:35,143 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:35,143 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:35,143 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-D53531C7475E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:35,143 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-D53531C7475E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:35,148 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-D53531C7475E: start as a follower, conf=-1: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:35,148 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-D53531C7475E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:35,148 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-D53531C7475E-FollowerState
2022-11-08 19:11:35,148 [s2@group-D53531C7475E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:35,148 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D53531C7475E,id=s2
2022-11-08 19:11:35,148 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:35,148 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:35,148 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:35,148 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-08 19:11:35,148 [s2@group-D53531C7475E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:35,149 [JvmPauseMonitor22] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-08 19:11:35,149 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:35,149 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D53531C7475E:t0, leader=null, voted=, raftlog=Memoized:s0@group-D53531C7475E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D53531C7475E:t0, leader=null, voted=, raftlog=Memoized:s1@group-D53531C7475E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D53531C7475E:t0, leader=null, voted=, raftlog=Memoized:s2@group-D53531C7475E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:35,149 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D53531C7475E:t0, leader=null, voted=, raftlog=Memoized:s0@group-D53531C7475E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D53531C7475E:t0, leader=null, voted=, raftlog=Memoized:s1@group-D53531C7475E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D53531C7475E:t0, leader=null, voted=, raftlog=Memoized:s2@group-D53531C7475E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D53531C7475E:t0, leader=null, voted=, raftlog=Memoized:s0@group-D53531C7475E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D53531C7475E:t0, leader=null, voted=, raftlog=Memoized:s1@group-D53531C7475E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D53531C7475E:t0, leader=null, voted=, raftlog=Memoized:s2@group-D53531C7475E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPreVote(LeaderElectionTests.java:508)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:35,324 [s2@group-D53531C7475E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-D53531C7475E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:175911070ns, electionTimeout:175ms
2022-11-08 19:11:35,324 [s2@group-D53531C7475E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-D53531C7475E-FollowerState
2022-11-08 19:11:35,324 [s2@group-D53531C7475E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-D53531C7475E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-08 19:11:35,324 [s2@group-D53531C7475E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:35,324 [s2@group-D53531C7475E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-D53531C7475E-LeaderElection28
2022-11-08 19:11:35,324 [s2@group-D53531C7475E-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-D53531C7475E-LeaderElection28 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:35,325 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-D53531C7475E: receive requestVote(PRE_VOTE, s2, group-D53531C7475E, 0, (t:0, i:0))
2022-11-08 19:11:35,325 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-D53531C7475E-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:35,325 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-D53531C7475E replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-D53531C7475E:t0, leader=null, voted=, raftlog=Memoized:s0@group-D53531C7475E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:35,325 [s2@group-D53531C7475E-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:35,325 [s2@group-D53531C7475E-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:35,325 [s2@group-D53531C7475E-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-D53531C7475E-LeaderElection28: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:35,325 [s2@group-D53531C7475E-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t0
2022-11-08 19:11:35,325 [s2@group-D53531C7475E-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-D53531C7475E-LeaderElection28 PRE_VOTE round 0: result PASSED
2022-11-08 19:11:35,326 [s2@group-D53531C7475E-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-D53531C7475E-LeaderElection28 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:35,328 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-D53531C7475E: receive requestVote(PRE_VOTE, s2, group-D53531C7475E, 0, (t:0, i:0))
2022-11-08 19:11:35,328 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-D53531C7475E-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:35,328 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-D53531C7475E replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-D53531C7475E:t0, leader=null, voted=, raftlog=Memoized:s1@group-D53531C7475E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:35,333 [s2@group-D53531C7475E-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:35,333 [s2@group-D53531C7475E-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:35,333 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-D53531C7475E: receive requestVote(ELECTION, s2, group-D53531C7475E, 1, (t:0, i:0))
2022-11-08 19:11:35,333 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-D53531C7475E-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:35,333 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-D53531C7475E: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-11-08 19:11:35,334 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-D53531C7475E-FollowerState
2022-11-08 19:11:35,334 [s0@group-D53531C7475E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-D53531C7475E-FollowerState was interrupted
2022-11-08 19:11:35,334 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-D53531C7475E: receive requestVote(ELECTION, s2, group-D53531C7475E, 1, (t:0, i:0))
2022-11-08 19:11:35,336 [s1@group-D53531C7475E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:35,336 [s1@group-D53531C7475E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:35,336 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D53531C7475E-FollowerState
2022-11-08 19:11:35,339 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-D53531C7475E-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:35,340 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-D53531C7475E: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-11-08 19:11:35,340 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-D53531C7475E-FollowerState
2022-11-08 19:11:35,340 [s1@group-D53531C7475E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-D53531C7475E-FollowerState was interrupted
2022-11-08 19:11:35,345 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-D53531C7475E-FollowerState
2022-11-08 19:11:35,345 [s1@group-D53531C7475E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:35,345 [s1@group-D53531C7475E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:35,346 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-D53531C7475E replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-D53531C7475E:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-D53531C7475E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:35,346 [s2@group-D53531C7475E-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-D53531C7475E-LeaderElection28: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:35,346 [s2@group-D53531C7475E-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2022-11-08 19:11:35,346 [s2@group-D53531C7475E-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-D53531C7475E-LeaderElection28 ELECTION round 0: result PASSED
2022-11-08 19:11:35,346 [s2@group-D53531C7475E-LeaderElection28] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-D53531C7475E-LeaderElection28
2022-11-08 19:11:35,346 [s2@group-D53531C7475E-LeaderElection28] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-D53531C7475E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-08 19:11:35,346 [s2@group-D53531C7475E-LeaderElection28] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-D53531C7475E: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 224ms
2022-11-08 19:11:35,346 [s2@group-D53531C7475E-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:11:35,346 [s2@group-D53531C7475E-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:35,346 [s2@group-D53531C7475E-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:35,347 [s2@group-D53531C7475E-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:11:35,347 [s2@group-D53531C7475E-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:11:35,347 [s2@group-D53531C7475E-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:11:35,347 [s2@group-D53531C7475E-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:35,347 [s2@group-D53531C7475E-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:11:35,347 [s2@group-D53531C7475E-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:35,346 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-D53531C7475E replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-D53531C7475E:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-D53531C7475E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:35,351 [s0@group-D53531C7475E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:35,351 [s0@group-D53531C7475E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:35,351 [s2@group-D53531C7475E-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:35,351 [s2@group-D53531C7475E-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:35,352 [s2@group-D53531C7475E-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:35,352 [s2@group-D53531C7475E-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:35,352 [s2@group-D53531C7475E-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:35,352 [s2@group-D53531C7475E-LeaderElection28] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-D53531C7475E-LeaderStateImpl
2022-11-08 19:11:35,352 [s2@group-D53531C7475E-LeaderElection28] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-D53531C7475E-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:35,356 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-D53531C7475E: change Leader from null to s2 at term 1 for appendEntries, leader elected after 243ms
2022-11-08 19:11:35,360 [s2@group-D53531C7475E-LeaderElection28] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-D53531C7475E: set configuration 0: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:35,360 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-D53531C7475E: change Leader from null to s2 at term 1 for appendEntries, leader elected after 240ms
2022-11-08 19:11:35,360 [s2@group-D53531C7475E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-D53531C7475E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s2/dca9ef3c-aa45-4f22-958d-d53531c7475e/current/log_inprogress_0
2022-11-08 19:11:35,376 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-D53531C7475E: receive appendEntries(s2, 1, null, 0, true, commits:[s2:c0, s0:c-1, s1:c-1], cId:1007, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:33041"
dataStreamAddress: "localhost:39555"
clientAddress: "localhost:33717"
adminAddress: "localhost:32993"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43313"
dataStreamAddress: "localhost:44011"
clientAddress: "localhost:46067"
adminAddress: "localhost:42155"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43413"
dataStreamAddress: "localhost:36909"
clientAddress: "localhost:41937"
adminAddress: "localhost:36003"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:35,376 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-D53531C7475E: set configuration 0: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:35,376 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-D53531C7475E-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:35,380 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D53531C7475E: receive appendEntries(s2, 1, null, 0, true, commits:[s2:c0, s0:c-1, s1:c-1], cId:1008, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:33041"
dataStreamAddress: "localhost:39555"
clientAddress: "localhost:33717"
adminAddress: "localhost:32993"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43313"
dataStreamAddress: "localhost:44011"
clientAddress: "localhost:46067"
adminAddress: "localhost:42155"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43413"
dataStreamAddress: "localhost:36909"
clientAddress: "localhost:41937"
adminAddress: "localhost:36003"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:35,381 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-D53531C7475E: set configuration 0: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:35,381 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-D53531C7475E-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:35,392 [s1@group-D53531C7475E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-D53531C7475E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s1/dca9ef3c-aa45-4f22-958d-d53531c7475e/current/log_inprogress_0
2022-11-08 19:11:35,392 [s0@group-D53531C7475E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-D53531C7475E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc99eed768/s0/dca9ef3c-aa45-4f22-958d-d53531c7475e/current/log_inprogress_0
2022-11-08 19:11:35,393 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D53531C7475E: succeeded to handle AppendEntries. Reply: s2<-s1#1008:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-08 19:11:35,395 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-D53531C7475E: succeeded to handle AppendEntries. Reply: s2<-s0#1007:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-08 19:11:35,600 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D53531C7475E:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-D53531C7475E-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D53531C7475E:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-D53531C7475E-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-D53531C7475E:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-D53531C7475E-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:35,600 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:35,601 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s2@group-D53531C7475E: receive client request(RaftClientRequest:client-D2107A8B57EA->s2@group-D53531C7475E, cid=1029, seq=0, RW, message)
2022-11-08 19:11:35,601 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(410)) - s2@group-D53531C7475E-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D2107A8B57EA->s2@group-D53531C7475E, cid=1029, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 1029@client-D2107A8B57EA
2022-11-08 19:11:35,602 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D53531C7475E: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits:[s2:c0, s0:c0, s1:c0], cId:1030, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 1029@client-D2107A8B57EA]
2022-11-08 19:11:35,602 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-D53531C7475E: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits:[s2:c0, s0:c0, s1:c0], cId:1031, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 1029@client-D2107A8B57EA]
2022-11-08 19:11:35,602 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D53531C7475E: succeeded to handle AppendEntries. Reply: s2<-s1#1030:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-08 19:11:35,602 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-D53531C7475E: succeeded to handle AppendEntries. Reply: s2<-s0#1031:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-08 19:11:35,603 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D53531C7475E: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits:[s2:c1, s0:c0, s1:c0], cId:1032, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-08 19:11:35,603 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-D53531C7475E: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits:[s2:c1, s0:c0, s1:c0], cId:1033, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-08 19:11:35,604 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D53531C7475E: succeeded to handle AppendEntries. Reply: s2<-s1#1032:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-08 19:11:35,605 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s2@group-D53531C7475E: receive client request(RaftClientRequest:client-D2107A8B57EA->s2@group-D53531C7475E, cid=1034, seq=0, RW, message)
2022-11-08 19:11:35,605 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-D53531C7475E: succeeded to handle AppendEntries. Reply: s2<-s0#1033:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-08 19:11:35,605 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(410)) - s2@group-D53531C7475E-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D2107A8B57EA->s2@group-D53531C7475E, cid=1034, seq=0, RW, message, entry=(t:1, i:3), STATEMACHINELOGENTRY, 1034@client-D2107A8B57EA
2022-11-08 19:11:35,605 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D53531C7475E: receive appendEntries(s2, 1, (t:1, i:2), 2, true, commits:[s2:c2, s0:c1, s1:c1], cId:1035, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 1034@client-D2107A8B57EA]
2022-11-08 19:11:35,605 [HandlerDaemon-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2022-11-08 19:11:35,606 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D53531C7475E: succeeded to handle AppendEntries. Reply: s2<-s1#1035:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-08 19:11:35,607 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D53531C7475E: receive appendEntries(s2, 1, (t:1, i:3), 3, true, commits:[s2:c3, s0:c1, s1:c2], cId:1037, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2022-11-08 19:11:35,607 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D53531C7475E: succeeded to handle AppendEntries. Reply: s2<-s1#1037:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-11-08 19:11:35,607 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testPreVote(523)) - Wait follower s0 timeout and trigger pre-vote
2022-11-08 19:11:35,653 [HandlerDaemon-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2022-11-08 19:11:35,849 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:271206053ns, electionTimeout:158ms
2022-11-08 19:11:35,849 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:35,849 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:35,849 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:35,849 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection29
2022-11-08 19:11:35,849 [s0@group-338AD8D9D2CA-LeaderElection29] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-338AD8D9D2CA: change Leader from s1 to null at term 1 for PRE_VOTE
2022-11-08 19:11:35,849 [s0@group-338AD8D9D2CA-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection29 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:35,850 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:35,850 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:35,850 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:35,850 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:35,850 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:35,850 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:35,850 [s0@group-338AD8D9D2CA-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection29: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:35,850 [s0@group-338AD8D9D2CA-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:35,850 [s0@group-338AD8D9D2CA-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:35,850 [s0@group-338AD8D9D2CA-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection29 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:35,850 [s0@group-338AD8D9D2CA-LeaderElection29] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:35,850 [s0@group-338AD8D9D2CA-LeaderElection29] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection29
2022-11-08 19:11:35,850 [s0@group-338AD8D9D2CA-LeaderElection29] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:35,887 [s0@group-D53531C7475E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-D53531C7475E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:282651551ns, electionTimeout:249ms
2022-11-08 19:11:35,887 [s0@group-D53531C7475E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-D53531C7475E-FollowerState
2022-11-08 19:11:35,887 [s0@group-D53531C7475E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-D53531C7475E: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:35,887 [s0@group-D53531C7475E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:35,887 [s0@group-D53531C7475E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D53531C7475E-LeaderElection30
2022-11-08 19:11:35,888 [s0@group-D53531C7475E-LeaderElection30] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-D53531C7475E: change Leader from s2 to null at term 1 for PRE_VOTE
2022-11-08 19:11:35,888 [s0@group-D53531C7475E-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-D53531C7475E-LeaderElection30 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:36,127 [s0@group-D53531C7475E-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-D53531C7475E-LeaderElection30: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-08 19:11:36,127 [s0@group-D53531C7475E-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-D53531C7475E-LeaderElection30 PRE_VOTE round 0: result TIMEOUT
2022-11-08 19:11:36,127 [s0@group-D53531C7475E-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-D53531C7475E-LeaderElection30 PRE_VOTE round 1: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:36,144 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:293253249ns, electionTimeout:293ms
2022-11-08 19:11:36,144 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:36,144 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:36,144 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:36,144 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection31
2022-11-08 19:11:36,144 [s0@group-338AD8D9D2CA-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection31 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:36,145 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:36,145 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:36,145 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:36,145 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:36,145 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:36,145 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:36,145 [s0@group-338AD8D9D2CA-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection31: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:36,145 [s0@group-338AD8D9D2CA-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:36,145 [s0@group-338AD8D9D2CA-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:36,145 [s0@group-338AD8D9D2CA-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection31 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:36,145 [s0@group-338AD8D9D2CA-LeaderElection31] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:36,145 [s0@group-338AD8D9D2CA-LeaderElection31] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection31
2022-11-08 19:11:36,145 [s0@group-338AD8D9D2CA-LeaderElection31] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:36,355 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:210278863ns, electionTimeout:210ms
2022-11-08 19:11:36,356 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:36,356 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:36,356 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:36,356 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection32
2022-11-08 19:11:36,356 [s0@group-338AD8D9D2CA-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection32 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:36,356 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:36,356 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:36,356 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:36,356 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:36,356 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:36,357 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:36,357 [s0@group-338AD8D9D2CA-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection32: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:36,357 [s0@group-338AD8D9D2CA-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:36,357 [s0@group-338AD8D9D2CA-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:36,357 [s0@group-338AD8D9D2CA-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection32 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:36,357 [s0@group-338AD8D9D2CA-LeaderElection32] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:36,357 [s0@group-338AD8D9D2CA-LeaderElection32] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection32
2022-11-08 19:11:36,357 [s0@group-338AD8D9D2CA-LeaderElection32] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:36,380 [s0@group-D53531C7475E-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-D53531C7475E-LeaderElection30: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-08 19:11:36,380 [s0@group-D53531C7475E-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-D53531C7475E-LeaderElection30 PRE_VOTE round 1: result TIMEOUT
2022-11-08 19:11:36,380 [s0@group-D53531C7475E-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-D53531C7475E-LeaderElection30 PRE_VOTE round 2: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:36,622 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:265305054ns, electionTimeout:265ms
2022-11-08 19:11:36,622 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:36,622 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:36,622 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:36,622 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection33
2022-11-08 19:11:36,623 [s0@group-338AD8D9D2CA-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection33 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:36,623 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:36,623 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:36,623 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:36,623 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:36,623 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:36,623 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:36,623 [s0@group-338AD8D9D2CA-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection33: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:36,624 [s0@group-338AD8D9D2CA-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:36,624 [s0@group-338AD8D9D2CA-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:36,624 [s0@group-338AD8D9D2CA-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection33 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:36,624 [s0@group-338AD8D9D2CA-LeaderElection33] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:36,624 [s0@group-338AD8D9D2CA-LeaderElection33] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection33
2022-11-08 19:11:36,624 [s0@group-338AD8D9D2CA-LeaderElection33] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:36,636 [s0@group-D53531C7475E-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-D53531C7475E-LeaderElection30: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-08 19:11:36,636 [s0@group-D53531C7475E-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-D53531C7475E-LeaderElection30 PRE_VOTE round 2: result TIMEOUT
2022-11-08 19:11:36,636 [s0@group-D53531C7475E-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-D53531C7475E-LeaderElection30 PRE_VOTE round 3: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:36,861 [s0@group-D53531C7475E-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-D53531C7475E-LeaderElection30: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-08 19:11:36,861 [s0@group-D53531C7475E-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-D53531C7475E-LeaderElection30 PRE_VOTE round 3: result TIMEOUT
2022-11-08 19:11:36,861 [s0@group-D53531C7475E-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-D53531C7475E-LeaderElection30 PRE_VOTE round 4: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:36,877 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:253287656ns, electionTimeout:253ms
2022-11-08 19:11:36,877 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:36,877 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:36,877 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:36,877 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection34
2022-11-08 19:11:36,878 [s0@group-338AD8D9D2CA-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection34 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:36,878 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:36,878 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:36,878 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:36,878 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:36,878 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:36,878 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:36,878 [s0@group-338AD8D9D2CA-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection34: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:36,878 [s0@group-338AD8D9D2CA-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:36,878 [s0@group-338AD8D9D2CA-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:36,878 [s0@group-338AD8D9D2CA-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection34 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:36,878 [s0@group-338AD8D9D2CA-LeaderElection34] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:36,878 [s0@group-338AD8D9D2CA-LeaderElection34] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection34
2022-11-08 19:11:36,878 [s0@group-338AD8D9D2CA-LeaderElection34] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:37,120 [s0@group-D53531C7475E-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-D53531C7475E-LeaderElection30: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-08 19:11:37,120 [s0@group-D53531C7475E-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-D53531C7475E-LeaderElection30 PRE_VOTE round 4: result TIMEOUT
2022-11-08 19:11:37,120 [s0@group-D53531C7475E-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-D53531C7475E-LeaderElection30 PRE_VOTE round 5: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:37,152 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:273251253ns, electionTimeout:273ms
2022-11-08 19:11:37,152 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:37,152 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:37,152 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:37,152 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection35
2022-11-08 19:11:37,152 [s0@group-338AD8D9D2CA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection35 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:37,153 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:37,153 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:37,153 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:37,153 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:37,153 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:37,153 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:37,153 [s0@group-338AD8D9D2CA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection35: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:37,153 [s0@group-338AD8D9D2CA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:37,153 [s0@group-338AD8D9D2CA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:37,153 [s0@group-338AD8D9D2CA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection35 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:37,153 [s0@group-338AD8D9D2CA-LeaderElection35] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:37,153 [s0@group-338AD8D9D2CA-LeaderElection35] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection35
2022-11-08 19:11:37,153 [s0@group-338AD8D9D2CA-LeaderElection35] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:37,303 [s0@group-D53531C7475E-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-D53531C7475E-LeaderElection30: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-08 19:11:37,303 [s0@group-D53531C7475E-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-D53531C7475E-LeaderElection30 PRE_VOTE round 5: result TIMEOUT
2022-11-08 19:11:37,303 [s0@group-D53531C7475E-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-D53531C7475E-LeaderElection30 PRE_VOTE round 6: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:37,307 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:153402074ns, electionTimeout:153ms
2022-11-08 19:11:37,307 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:37,307 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:37,307 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:37,307 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection36
2022-11-08 19:11:37,307 [s0@group-338AD8D9D2CA-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection36 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:37,308 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:37,308 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:37,308 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:37,308 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:37,308 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:37,308 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:37,308 [s0@group-338AD8D9D2CA-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection36: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:37,308 [s0@group-338AD8D9D2CA-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:37,308 [s0@group-338AD8D9D2CA-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:37,308 [s0@group-338AD8D9D2CA-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection36 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:37,308 [s0@group-338AD8D9D2CA-LeaderElection36] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:37,308 [s0@group-338AD8D9D2CA-LeaderElection36] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection36
2022-11-08 19:11:37,308 [s0@group-338AD8D9D2CA-LeaderElection36] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:37,577 [s0@group-D53531C7475E-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-D53531C7475E-LeaderElection30: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-08 19:11:37,578 [s0@group-D53531C7475E-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-D53531C7475E-LeaderElection30 PRE_VOTE round 6: result TIMEOUT
2022-11-08 19:11:37,578 [s0@group-D53531C7475E-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-D53531C7475E-LeaderElection30 PRE_VOTE round 7: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:37,596 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:287368751ns, electionTimeout:287ms
2022-11-08 19:11:37,596 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:37,596 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:37,596 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:37,596 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection37
2022-11-08 19:11:37,596 [s0@group-338AD8D9D2CA-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection37 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:37,596 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:37,597 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:37,597 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:37,597 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:37,597 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:37,597 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:37,597 [s0@group-338AD8D9D2CA-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection37: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:37,597 [s0@group-338AD8D9D2CA-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:37,597 [s0@group-338AD8D9D2CA-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:37,597 [s0@group-338AD8D9D2CA-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection37 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:37,597 [s0@group-338AD8D9D2CA-LeaderElection37] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:37,597 [s0@group-338AD8D9D2CA-LeaderElection37] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection37
2022-11-08 19:11:37,597 [s0@group-338AD8D9D2CA-LeaderElection37] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:37,706 [HandlerDaemon-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2022-11-08 19:11:37,706 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-D53531C7475E: receive appendEntries(s2, 1, (t:1, i:2), 2, true, commits:[s2:c2, s0:c1, s1:c1], cId:1036, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 1034@client-D2107A8B57EA]
2022-11-08 19:11:37,707 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-D53531C7475E: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-11-08 19:11:37,707 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-D53531C7475E-LeaderElection30
2022-11-08 19:11:37,707 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D53531C7475E-FollowerState
2022-11-08 19:11:37,707 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-D53531C7475E: change Leader from null to s2 at term 1 for appendEntries, leader elected after 1819ms
2022-11-08 19:11:37,707 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-D53531C7475E: succeeded to handle AppendEntries. Reply: s2<-s0#1036:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-08 19:11:37,708 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-D53531C7475E: receive appendEntries(s2, 1, (t:1, i:3), 4, true, commits:[s2:c4, s0:c2, s1:c4], cId:1150, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2022-11-08 19:11:37,708 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-D53531C7475E: succeeded to handle AppendEntries. Reply: s2<-s0#1150:OK-t1,SUCCESS,nextIndex=5,followerCommit=4,matchIndex=4
2022-11-08 19:11:37,753 [HandlerDaemon-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2022-11-08 19:11:37,753 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-338AD8D9D2CA: change Leader from null to s1 at term 1 for appendEntries, leader elected after 1904ms
2022-11-08 19:11:37,835 [s0@group-D53531C7475E-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-D53531C7475E-LeaderElection30: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2022-11-08 19:11:37,835 [s0@group-D53531C7475E-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-D53531C7475E-LeaderElection30 PRE_VOTE round 7: result REJECTED
2022-11-08 19:11:39,607 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:39,608 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D53531C7475E:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-D53531C7475E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D53531C7475E:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-D53531C7475E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-D53531C7475E:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-D53531C7475E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:39,608 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D53531C7475E:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-D53531C7475E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D53531C7475E:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-D53531C7475E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-D53531C7475E:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-D53531C7475E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:39,608 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s2@group-D53531C7475E: receive client request(RaftClientRequest:client-D2107A8B57EA->s2@group-D53531C7475E, cid=1351, seq=0, RW, message)
2022-11-08 19:11:39,608 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(410)) - s2@group-D53531C7475E-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D2107A8B57EA->s2@group-D53531C7475E, cid=1351, seq=0, RW, message, entry=(t:1, i:5), STATEMACHINELOGENTRY, 1351@client-D2107A8B57EA
2022-11-08 19:11:39,609 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D53531C7475E: receive appendEntries(s2, 1, (t:1, i:4), 4, true, commits:[s2:c4, s0:c4, s1:c4], cId:1352, entries: [(t:1, i:5), STATEMACHINELOGENTRY, 1351@client-D2107A8B57EA]
2022-11-08 19:11:39,609 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-D53531C7475E: receive appendEntries(s2, 1, (t:1, i:4), 4, true, commits:[s2:c4, s0:c4, s1:c4], cId:1353, entries: [(t:1, i:5), STATEMACHINELOGENTRY, 1351@client-D2107A8B57EA]
2022-11-08 19:11:39,609 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-D53531C7475E: succeeded to handle AppendEntries. Reply: s2<-s0#1353:OK-t1,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2022-11-08 19:11:39,609 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D53531C7475E: succeeded to handle AppendEntries. Reply: s2<-s1#1352:OK-t1,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2022-11-08 19:11:39,610 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-D53531C7475E: receive appendEntries(s2, 1, (t:1, i:5), 5, true, commits:[s2:c5, s0:c4, s1:c4], cId:1354, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-08 19:11:39,610 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D53531C7475E: receive appendEntries(s2, 1, (t:1, i:5), 5, true, commits:[s2:c5, s0:c4, s1:c4], cId:1355, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-08 19:11:39,610 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-08 19:11:39,610 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-08 19:11:39,611 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:39,611 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-08 19:11:39,611 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-08 19:11:39,611 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D53531C7475E:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-D53531C7475E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D53531C7475E:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-D53531C7475E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-D53531C7475E:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-D53531C7475E-SegmentedRaftLog:OPENED:c5, conf=0: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:39,611 [MiniRaftCluster-22] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-08 19:11:39,611 [MiniRaftCluster-23] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-08 19:11:39,611 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-D53531C7475E: succeeded to handle AppendEntries. Reply: s2<-s0#1354:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-08 19:11:39,612 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D53531C7475E: succeeded to handle AppendEntries. Reply: s2<-s1#1355:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-08 19:11:39,616 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-D53531C7475E: shutdown
2022-11-08 19:11:39,616 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D53531C7475E,id=s0
2022-11-08 19:11:39,616 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-D53531C7475E-FollowerState
2022-11-08 19:11:39,616 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-D53531C7475E-StateMachineUpdater: set stopIndex = 5
2022-11-08 19:11:39,616 [s0@group-D53531C7475E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-D53531C7475E-FollowerState was interrupted
2022-11-08 19:11:39,616 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-D53531C7475E: applyIndex: 5
2022-11-08 19:11:39,616 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:39,616 [s0@group-D53531C7475E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s0@group-D53531C7475E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:39,616 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:39,616 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:39,616 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-D53531C7475E: shutdown
2022-11-08 19:11:39,616 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:39,617 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D53531C7475E,id=s1
2022-11-08 19:11:39,617 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-D53531C7475E-FollowerState
2022-11-08 19:11:39,617 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-D53531C7475E-StateMachineUpdater: set stopIndex = 5
2022-11-08 19:11:39,618 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-D53531C7475E: applyIndex: 5
2022-11-08 19:11:39,618 [s1@group-D53531C7475E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s1@group-D53531C7475E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:39,618 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:39,618 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:39,617 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:39,617 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:39,617 [MiniRaftCluster-24] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-08 19:11:39,619 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-D53531C7475E-SegmentedRaftLogWorker close()
2022-11-08 19:11:39,619 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:39,619 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:39,617 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-D53531C7475E-SegmentedRaftLogWorker close()
2022-11-08 19:11:39,618 [s1@group-D53531C7475E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-D53531C7475E-FollowerState was interrupted
2022-11-08 19:11:39,619 [JvmPauseMonitor21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-08 19:11:39,619 [JvmPauseMonitor20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-08 19:11:39,620 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-D53531C7475E: shutdown
2022-11-08 19:11:39,620 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:39,620 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D53531C7475E,id=s2
2022-11-08 19:11:39,620 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-D53531C7475E-LeaderStateImpl
2022-11-08 19:11:39,620 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:39,620 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-D53531C7475E-PendingRequests: sendNotLeaderResponses
2022-11-08 19:11:39,620 [s2@group-D53531C7475E->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s2@group-D53531C7475E->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:39,620 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:39,621 [s2@group-D53531C7475E->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s2@group-D53531C7475E->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:39,621 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-D53531C7475E-StateMachineUpdater: set stopIndex = 6
2022-11-08 19:11:39,621 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-D53531C7475E: applyIndex: 6
2022-11-08 19:11:39,621 [s2@group-D53531C7475E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s2@group-D53531C7475E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:39,622 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:39,622 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:39,622 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:39,623 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-D53531C7475E-SegmentedRaftLogWorker close()
2022-11-08 19:11:39,624 [JvmPauseMonitor22] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-08 19:11:39,624 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-08 19:11:39,624 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-08 19:11:39,624 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-08 19:11:39,624 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:39,624 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-08 19:11:39,624 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-08 19:11:39,624 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-D53531C7475E:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-D53531C7475E-SegmentedRaftLog:CLOSED:c5, conf=0: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-D53531C7475E:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-D53531C7475E-SegmentedRaftLog:CLOSED:c5, conf=0: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-D53531C7475E:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-D53531C7475E-SegmentedRaftLog:CLOSED:c6, conf=0: peers:[s0|rpc:localhost:33041|admin:localhost:32993|client:localhost:33717|dataStream:localhost:39555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43313|admin:localhost:42155|client:localhost:46067|dataStream:localhost:44011|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43413|admin:localhost:36003|client:localhost:41937|dataStream:localhost:36909|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2022-11-08 19:11:39,625 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-08 19:11:39,625 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-08 19:11:39,625 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-08 19:11:39,625 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-08 19:11:39,625 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-08 19:11:39,626 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-11-08 19:11:39,626 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-08 19:11:39,627 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-B076BFF83065:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER, s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]
2022-11-08 19:11:39,627 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-08 19:11:39,627 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-08 19:11:39,627 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:39,627 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-08 19:11:39,627 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-08 19:11:39,627 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-08 19:11:39,627 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-B076BFF83065:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER, s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:39,627 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s3
2022-11-08 19:11:39,627 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s3 does not exist.
2022-11-08 19:11:39,627 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s3
2022-11-08 19:11:39,627 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:39,628 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:39,628 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:39,628 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:39,628 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:39,628 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:39,628 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s3] (custom)
2022-11-08 19:11:39,628 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-B076BFF83065:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER, s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER] returns group-B076BFF83065:java.util.concurrent.CompletableFuture@6af8ba27[Not completed]
2022-11-08 19:11:39,628 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s4, group-B076BFF83065:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER, s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:39,628 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s4
2022-11-08 19:11:39,628 [pool-24-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-B076BFF83065:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER, s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:39,628 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s4 does not exist.
2022-11-08 19:11:39,629 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s4
2022-11-08 19:11:39,629 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:39,629 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:39,629 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:39,629 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:39,629 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:39,629 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:39,629 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:39,629 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:39,629 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:39,629 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:39,629 [pool-24-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-B076BFF83065: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:39,629 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:39,629 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:39,629 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:39,629 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:39,629 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:39,629 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s4] (custom)
2022-11-08 19:11:39,630 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:39,630 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:39,633 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:39,633 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:39,633 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:39,633 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:39,633 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:39,630 [pool-25-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s4: new RaftServerImpl for group-B076BFF83065:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER, s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:39,630 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s4: addNew group-B076BFF83065:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER, s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER] returns group-B076BFF83065:java.util.concurrent.CompletableFuture@2551ea67[Not completed]
2022-11-08 19:11:39,633 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-B076BFF83065:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER, s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:39,633 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s0
2022-11-08 19:11:39,633 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s0 does not exist.
2022-11-08 19:11:39,633 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s0
2022-11-08 19:11:39,633 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:39,633 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:39,633 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:39,633 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:39,633 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:39,633 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:39,634 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s0] (custom)
2022-11-08 19:11:39,634 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:39,634 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:39,634 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:39,634 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:39,634 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:39,634 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:39,634 [pool-25-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-B076BFF83065: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:39,634 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:39,634 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:39,634 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:39,634 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:39,634 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:39,635 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:39,635 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:39,635 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:39,635 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:39,635 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:39,637 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-B076BFF83065:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER, s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER] returns group-B076BFF83065:java.util.concurrent.CompletableFuture@14fd878b[Not completed]
2022-11-08 19:11:39,638 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-B076BFF83065:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER, s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:39,638 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s1
2022-11-08 19:11:39,638 [pool-26-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-B076BFF83065:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER, s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:39,638 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s1 does not exist.
2022-11-08 19:11:39,638 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s1
2022-11-08 19:11:39,638 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:39,638 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:39,638 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:39,638 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:39,638 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:39,638 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:39,638 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:39,638 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:39,638 [pool-26-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-B076BFF83065: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:39,638 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:39,638 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:39,638 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:39,638 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:39,638 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:39,638 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:39,638 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s1] (custom)
2022-11-08 19:11:39,638 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:39,639 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:39,639 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:39,641 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:39,641 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:39,641 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:39,642 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:39,642 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:39,642 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-B076BFF83065:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER, s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER] returns group-B076BFF83065:java.util.concurrent.CompletableFuture@3afeebc2[Not completed]
2022-11-08 19:11:39,642 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-B076BFF83065:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER, s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:39,642 [pool-27-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-B076BFF83065:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER, s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:39,642 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s2
2022-11-08 19:11:39,642 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s2 does not exist.
2022-11-08 19:11:39,642 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s2
2022-11-08 19:11:39,642 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:39,642 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:39,642 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:39,642 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:39,642 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:39,642 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:39,642 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s2] (custom)
2022-11-08 19:11:39,643 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:39,643 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:39,643 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:39,643 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:39,643 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:39,643 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:39,643 [pool-27-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-B076BFF83065: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:39,643 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:39,643 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:39,643 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:39,643 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:39,653 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:39,654 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:39,654 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:39,655 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:39,655 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:39,655 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:39,655 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-B076BFF83065:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER, s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER] returns group-B076BFF83065:java.util.concurrent.CompletableFuture@15290f35[Not completed]
2022-11-08 19:11:39,656 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:39,656 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:39,656 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s3] (custom)
2022-11-08 19:11:39,656 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s3/903e1f88-a833-481e-8514-b076bff83065 does not exist. Creating ...
2022-11-08 19:11:39,656 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s3/903e1f88-a833-481e-8514-b076bff83065
2022-11-08 19:11:39,657 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s3/903e1f88-a833-481e-8514-b076bff83065/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:39,657 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s3/903e1f88-a833-481e-8514-b076bff83065/current
2022-11-08 19:11:39,657 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s3/903e1f88-a833-481e-8514-b076bff83065/sm
2022-11-08 19:11:39,665 [pool-28-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-B076BFF83065:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER, s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:39,665 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s3/903e1f88-a833-481e-8514-b076bff83065 has been successfully formatted.
2022-11-08 19:11:39,665 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:39,665 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:39,665 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:39,665 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:39,665 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:39,666 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:39,666 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:39,666 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:39,666 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s3@group-B076BFF83065-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s3/903e1f88-a833-481e-8514-b076bff83065
2022-11-08 19:11:39,666 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:39,666 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:39,666 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:39,666 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:39,666 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:39,666 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:39,666 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:39,666 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:39,667 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:39,667 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:39,667 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:39,667 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:39,667 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:39,667 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-B076BFF83065-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:39,667 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-B076BFF83065-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:39,671 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:39,672 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:39,672 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:39,672 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:39,672 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:39,672 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:39,672 [pool-28-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-B076BFF83065: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:39,672 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:39,672 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:39,672 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:39,672 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:39,673 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:39,674 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:39,674 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:39,675 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(341)) - s3@group-B076BFF83065: start as a listener, conf=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:39,675 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-B076BFF83065: changes role from      null to LISTENER at term 0 for startAsListener
2022-11-08 19:11:39,675 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-B076BFF83065-FollowerState
2022-11-08 19:11:39,676 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:39,676 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:39,676 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:39,679 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B076BFF83065,id=s3
2022-11-08 19:11:39,679 [s3@group-B076BFF83065-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:39,679 [s3@group-B076BFF83065-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:39,679 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:39,679 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:39,679 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:39,679 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s3: start RPC server
2022-11-08 19:11:39,680 [JvmPauseMonitor23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s3: Started
2022-11-08 19:11:39,680 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:39,680 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:39,680 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s4] (custom)
2022-11-08 19:11:39,680 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s4/903e1f88-a833-481e-8514-b076bff83065 does not exist. Creating ...
2022-11-08 19:11:39,681 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s4/903e1f88-a833-481e-8514-b076bff83065
2022-11-08 19:11:39,681 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s4/903e1f88-a833-481e-8514-b076bff83065/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:39,681 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s4/903e1f88-a833-481e-8514-b076bff83065/current
2022-11-08 19:11:39,681 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s4/903e1f88-a833-481e-8514-b076bff83065/sm
2022-11-08 19:11:39,682 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s4/903e1f88-a833-481e-8514-b076bff83065 has been successfully formatted.
2022-11-08 19:11:39,682 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:39,682 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:39,682 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:39,682 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:39,682 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:39,683 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:39,683 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:39,683 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:39,683 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s4@group-B076BFF83065-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s4/903e1f88-a833-481e-8514-b076bff83065
2022-11-08 19:11:39,683 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:39,683 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:39,683 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:39,683 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:39,683 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:39,683 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:39,683 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:39,683 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:39,684 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:39,684 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:39,684 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:39,684 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:39,684 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:39,684 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-B076BFF83065-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:39,684 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-B076BFF83065-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:39,684 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(341)) - s4@group-B076BFF83065: start as a listener, conf=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:39,684 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-B076BFF83065: changes role from      null to LISTENER at term 0 for startAsListener
2022-11-08 19:11:39,684 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-B076BFF83065-FollowerState
2022-11-08 19:11:39,684 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B076BFF83065,id=s4
2022-11-08 19:11:39,684 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:39,684 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:39,684 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:39,685 [s4@group-B076BFF83065-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:39,685 [s4@group-B076BFF83065-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:39,685 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s4: start RPC server
2022-11-08 19:11:39,686 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:39,686 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:39,686 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s0] (custom)
2022-11-08 19:11:39,686 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s0/903e1f88-a833-481e-8514-b076bff83065 does not exist. Creating ...
2022-11-08 19:11:39,686 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s0/903e1f88-a833-481e-8514-b076bff83065
2022-11-08 19:11:39,686 [JvmPauseMonitor24] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s4: Started
2022-11-08 19:11:39,687 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s0/903e1f88-a833-481e-8514-b076bff83065/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:39,687 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s0/903e1f88-a833-481e-8514-b076bff83065/current
2022-11-08 19:11:39,687 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s0/903e1f88-a833-481e-8514-b076bff83065/sm
2022-11-08 19:11:39,687 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s0/903e1f88-a833-481e-8514-b076bff83065 has been successfully formatted.
2022-11-08 19:11:39,688 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:39,688 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:39,688 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:39,688 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:39,688 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:39,688 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:39,688 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:39,688 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:39,688 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-B076BFF83065-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s0/903e1f88-a833-481e-8514-b076bff83065
2022-11-08 19:11:39,688 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:39,689 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:39,689 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:39,689 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:39,689 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:39,689 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:39,689 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:39,689 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:39,689 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:39,689 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:39,689 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:39,689 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:39,689 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:39,689 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-B076BFF83065-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:39,689 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-B076BFF83065-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:39,689 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-B076BFF83065: start as a follower, conf=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:39,689 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-B076BFF83065: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:39,689 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B076BFF83065-FollowerState
2022-11-08 19:11:39,690 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B076BFF83065,id=s0
2022-11-08 19:11:39,690 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:39,690 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:39,690 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:39,690 [s0@group-B076BFF83065-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:39,690 [s0@group-B076BFF83065-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:39,695 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-08 19:11:39,696 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:39,696 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:39,696 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s1] (custom)
2022-11-08 19:11:39,696 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s1/903e1f88-a833-481e-8514-b076bff83065 does not exist. Creating ...
2022-11-08 19:11:39,697 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s1/903e1f88-a833-481e-8514-b076bff83065
2022-11-08 19:11:39,697 [JvmPauseMonitor25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-08 19:11:39,697 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s1/903e1f88-a833-481e-8514-b076bff83065/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:39,697 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s1/903e1f88-a833-481e-8514-b076bff83065/current
2022-11-08 19:11:39,697 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s1/903e1f88-a833-481e-8514-b076bff83065/sm
2022-11-08 19:11:39,698 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s1/903e1f88-a833-481e-8514-b076bff83065 has been successfully formatted.
2022-11-08 19:11:39,698 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:39,698 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:39,698 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:39,698 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:39,698 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:39,699 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:39,699 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:39,699 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:39,699 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-B076BFF83065-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s1/903e1f88-a833-481e-8514-b076bff83065
2022-11-08 19:11:39,699 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:39,699 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:39,699 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:39,699 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:39,699 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:39,699 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:39,699 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:39,699 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:39,700 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:39,700 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:39,700 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:39,700 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:39,700 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:39,700 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-B076BFF83065-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:39,700 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-B076BFF83065-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:39,703 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-B076BFF83065: start as a follower, conf=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:39,703 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-B076BFF83065: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:39,703 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-B076BFF83065-FollowerState
2022-11-08 19:11:39,703 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B076BFF83065,id=s1
2022-11-08 19:11:39,704 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:39,704 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:39,704 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:39,704 [s1@group-B076BFF83065-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:39,704 [s1@group-B076BFF83065-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:39,704 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-08 19:11:39,705 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:39,705 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:39,705 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s2] (custom)
2022-11-08 19:11:39,705 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s2/903e1f88-a833-481e-8514-b076bff83065 does not exist. Creating ...
2022-11-08 19:11:39,705 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s2/903e1f88-a833-481e-8514-b076bff83065
2022-11-08 19:11:39,706 [JvmPauseMonitor26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-08 19:11:39,706 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s2/903e1f88-a833-481e-8514-b076bff83065/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:39,706 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s2/903e1f88-a833-481e-8514-b076bff83065/current
2022-11-08 19:11:39,706 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s2/903e1f88-a833-481e-8514-b076bff83065/sm
2022-11-08 19:11:39,707 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s2/903e1f88-a833-481e-8514-b076bff83065 has been successfully formatted.
2022-11-08 19:11:39,707 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:39,707 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:39,707 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:39,707 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:39,707 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:39,708 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:39,708 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:39,708 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:39,708 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-B076BFF83065-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s2/903e1f88-a833-481e-8514-b076bff83065
2022-11-08 19:11:39,708 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:39,708 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:39,708 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:39,708 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:39,708 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:39,708 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:39,708 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:39,708 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:39,709 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:39,709 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:39,709 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:39,709 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:39,709 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:39,712 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-B076BFF83065-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:39,712 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-B076BFF83065-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:39,712 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-B076BFF83065: start as a follower, conf=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:39,713 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-B076BFF83065: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:39,713 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-B076BFF83065-FollowerState
2022-11-08 19:11:39,713 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B076BFF83065,id=s2
2022-11-08 19:11:39,713 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:39,713 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:39,713 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:39,713 [s2@group-B076BFF83065-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:39,713 [s2@group-B076BFF83065-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:39,715 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-08 19:11:39,716 [JvmPauseMonitor27] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-08 19:11:39,716 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:39,716 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-B076BFF83065:t0, leader=null, voted=, raftlog=Memoized:s3@group-B076BFF83065-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-B076BFF83065:t0, leader=null, voted=, raftlog=Memoized:s4@group-B076BFF83065-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-B076BFF83065:t0, leader=null, voted=, raftlog=Memoized:s0@group-B076BFF83065-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B076BFF83065:t0, leader=null, voted=, raftlog=Memoized:s1@group-B076BFF83065-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B076BFF83065:t0, leader=null, voted=, raftlog=Memoized:s2@group-B076BFF83065-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null RUNNING
2022-11-08 19:11:39,717 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-B076BFF83065:t0, leader=null, voted=, raftlog=Memoized:s3@group-B076BFF83065-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-B076BFF83065:t0, leader=null, voted=, raftlog=Memoized:s4@group-B076BFF83065-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-B076BFF83065:t0, leader=null, voted=, raftlog=Memoized:s0@group-B076BFF83065-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B076BFF83065:t0, leader=null, voted=, raftlog=Memoized:s1@group-B076BFF83065-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B076BFF83065:t0, leader=null, voted=, raftlog=Memoized:s2@group-B076BFF83065-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-B076BFF83065:t0, leader=null, voted=, raftlog=Memoized:s3@group-B076BFF83065-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-B076BFF83065:t0, leader=null, voted=, raftlog=Memoized:s4@group-B076BFF83065-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-B076BFF83065:t0, leader=null, voted=, raftlog=Memoized:s0@group-B076BFF83065-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B076BFF83065:t0, leader=null, voted=, raftlog=Memoized:s1@group-B076BFF83065-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B076BFF83065:t0, leader=null, voted=, raftlog=Memoized:s2@group-B076BFF83065-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestListenerRejectRequestVote(LeaderElectionTests.java:549)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:129)
	at org.apache.ratis.server.impl.LeaderElectionTests.testListenerRejectRequestVote(LeaderElectionTests.java:546)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:39,908 [s3@group-B076BFF83065-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:39,908 [s3@group-B076BFF83065-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:39,961 [s2@group-B076BFF83065-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-B076BFF83065-FollowerState: change to CANDIDATE, lastRpcElapsedTime:248819457ns, electionTimeout:248ms
2022-11-08 19:11:39,961 [s2@group-B076BFF83065-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-B076BFF83065-FollowerState
2022-11-08 19:11:39,962 [s2@group-B076BFF83065-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-B076BFF83065: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-08 19:11:39,962 [s2@group-B076BFF83065-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:39,962 [s2@group-B076BFF83065-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-B076BFF83065-LeaderElection38
2022-11-08 19:11:39,962 [s2@group-B076BFF83065-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-B076BFF83065-LeaderElection38 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:39,963 [s2@group-B076BFF83065-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:39,963 [s2@group-B076BFF83065-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:39,963 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-B076BFF83065: receive requestVote(PRE_VOTE, s2, group-B076BFF83065, 0, (t:0, i:0))
2022-11-08 19:11:39,963 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-B076BFF83065-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:39,963 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-B076BFF83065 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-B076BFF83065:t0, leader=null, voted=, raftlog=Memoized:s0@group-B076BFF83065-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:39,963 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-B076BFF83065: receive requestVote(PRE_VOTE, s2, group-B076BFF83065, 0, (t:0, i:0))
2022-11-08 19:11:39,963 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-B076BFF83065-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:39,963 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-B076BFF83065 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-B076BFF83065:t0, leader=null, voted=, raftlog=Memoized:s1@group-B076BFF83065-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:39,963 [s2@group-B076BFF83065-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-B076BFF83065-LeaderElection38: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:39,963 [s2@group-B076BFF83065-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t0
2022-11-08 19:11:39,963 [s2@group-B076BFF83065-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-B076BFF83065-LeaderElection38 PRE_VOTE round 0: result PASSED
2022-11-08 19:11:39,964 [s2@group-B076BFF83065-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-B076BFF83065-LeaderElection38 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:39,964 [s2@group-B076BFF83065-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:39,964 [s2@group-B076BFF83065-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:39,964 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-B076BFF83065: receive requestVote(ELECTION, s2, group-B076BFF83065, 1, (t:0, i:0))
2022-11-08 19:11:39,965 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-B076BFF83065-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:39,965 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-B076BFF83065: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-11-08 19:11:39,965 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B076BFF83065-FollowerState
2022-11-08 19:11:39,965 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B076BFF83065-FollowerState
2022-11-08 19:11:39,966 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-B076BFF83065: receive requestVote(ELECTION, s2, group-B076BFF83065, 1, (t:0, i:0))
2022-11-08 19:11:39,966 [s0@group-B076BFF83065-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-B076BFF83065-FollowerState was interrupted
2022-11-08 19:11:39,966 [s0@group-B076BFF83065-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:39,966 [s0@group-B076BFF83065-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:39,966 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-B076BFF83065-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:39,966 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-B076BFF83065: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-11-08 19:11:39,966 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-B076BFF83065-FollowerState
2022-11-08 19:11:39,967 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-B076BFF83065-FollowerState
2022-11-08 19:11:39,968 [s1@group-B076BFF83065-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-B076BFF83065-FollowerState was interrupted
2022-11-08 19:11:39,968 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-B076BFF83065 replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-B076BFF83065:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-B076BFF83065-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:39,968 [s2@group-B076BFF83065-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-B076BFF83065-LeaderElection38: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:39,968 [s2@group-B076BFF83065-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2022-11-08 19:11:39,968 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-B076BFF83065 replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-B076BFF83065:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-B076BFF83065-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:39,968 [s2@group-B076BFF83065-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-B076BFF83065-LeaderElection38 ELECTION round 0: result PASSED
2022-11-08 19:11:39,968 [s2@group-B076BFF83065-LeaderElection38] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-B076BFF83065-LeaderElection38
2022-11-08 19:11:39,968 [s2@group-B076BFF83065-LeaderElection38] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-B076BFF83065: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-08 19:11:39,968 [s2@group-B076BFF83065-LeaderElection38] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-B076BFF83065: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 296ms
2022-11-08 19:11:39,968 [s2@group-B076BFF83065-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:11:39,968 [s2@group-B076BFF83065-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:39,968 [s2@group-B076BFF83065-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:39,968 [s1@group-B076BFF83065-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:39,968 [s1@group-B076BFF83065-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:39,969 [s2@group-B076BFF83065-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:11:39,969 [s2@group-B076BFF83065-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:11:39,969 [s2@group-B076BFF83065-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:11:39,969 [s2@group-B076BFF83065-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:39,969 [s2@group-B076BFF83065-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:11:39,969 [s2@group-B076BFF83065-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:39,969 [s2@group-B076BFF83065-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:39,969 [s2@group-B076BFF83065-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:39,969 [s2@group-B076BFF83065-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:39,969 [s2@group-B076BFF83065-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:39,969 [s2@group-B076BFF83065-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:39,970 [s2@group-B076BFF83065-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:39,970 [s2@group-B076BFF83065-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:39,970 [s2@group-B076BFF83065-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:39,970 [s2@group-B076BFF83065-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:39,970 [s2@group-B076BFF83065-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:39,970 [s2@group-B076BFF83065-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:39,970 [s2@group-B076BFF83065-LeaderElection38] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-B076BFF83065-LeaderStateImpl
2022-11-08 19:11:39,970 [s2@group-B076BFF83065-LeaderElection38] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-B076BFF83065-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:39,971 [s4@group-B076BFF83065-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:39,972 [s4@group-B076BFF83065-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:39,972 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-B076BFF83065: change Leader from null to s2 at term 1 for appendEntries, leader elected after 333ms
2022-11-08 19:11:39,975 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-B076BFF83065: change Leader from null to s2 at term 1 for appendEntries, leader elected after 331ms
2022-11-08 19:11:39,976 [s2@group-B076BFF83065-LeaderElection38] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-B076BFF83065: set configuration 0: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:39,978 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-B076BFF83065: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1, s3:c-1, s4:c-1], cId:1382, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:33687"
dataStreamAddress: "localhost:37001"
clientAddress: "localhost:42483"
adminAddress: "localhost:37561"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36595"
dataStreamAddress: "localhost:46583"
clientAddress: "localhost:45367"
adminAddress: "localhost:44005"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:38799"
dataStreamAddress: "localhost:38783"
clientAddress: "localhost:38885"
adminAddress: "localhost:44665"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:39,979 [s2@group-B076BFF83065-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-B076BFF83065-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s2/903e1f88-a833-481e-8514-b076bff83065/current/log_inprogress_0
2022-11-08 19:11:39,979 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s4@group-B076BFF83065: change Leader from null to s2 at term 1 for appendEntries, leader elected after 344ms
2022-11-08 19:11:39,980 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-B076BFF83065: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1, s3:c-1, s4:c-1], cId:1385, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:33687"
dataStreamAddress: "localhost:37001"
clientAddress: "localhost:42483"
adminAddress: "localhost:37561"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36595"
dataStreamAddress: "localhost:46583"
clientAddress: "localhost:45367"
adminAddress: "localhost:44005"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:38799"
dataStreamAddress: "localhost:38783"
clientAddress: "localhost:38885"
adminAddress: "localhost:44665"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:39,981 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s3@group-B076BFF83065: change Leader from null to s2 at term 1 for appendEntries, leader elected after 351ms
2022-11-08 19:11:39,992 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-B076BFF83065: set configuration 0: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:39,992 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-B076BFF83065-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:39,997 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-B076BFF83065: set configuration 0: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:39,997 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-B076BFF83065-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:39,997 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-B076BFF83065: receive appendEntries(s2, 1, null, 0, false, commits:[s2:c0, s0:c-1, s1:c-1, s3:c-1, s4:c-1], cId:1386, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:33687"
dataStreamAddress: "localhost:37001"
clientAddress: "localhost:42483"
adminAddress: "localhost:37561"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36595"
dataStreamAddress: "localhost:46583"
clientAddress: "localhost:45367"
adminAddress: "localhost:44005"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:38799"
dataStreamAddress: "localhost:38783"
clientAddress: "localhost:38885"
adminAddress: "localhost:44665"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:39,998 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s3@group-B076BFF83065: set configuration 0: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:39,999 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s3@group-B076BFF83065-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:40,005 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-B076BFF83065: receive appendEntries(s2, 1, null, 0, false, commits:[s2:c0, s0:c-1, s1:c-1, s3:c-1, s4:c-1], cId:1387, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:33687"
dataStreamAddress: "localhost:37001"
clientAddress: "localhost:42483"
adminAddress: "localhost:37561"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36595"
dataStreamAddress: "localhost:46583"
clientAddress: "localhost:45367"
adminAddress: "localhost:44005"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:38799"
dataStreamAddress: "localhost:38783"
clientAddress: "localhost:38885"
adminAddress: "localhost:44665"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:40,006 [s1@group-B076BFF83065-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-B076BFF83065-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s1/903e1f88-a833-481e-8514-b076bff83065/current/log_inprogress_0
2022-11-08 19:11:40,006 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s4@group-B076BFF83065: set configuration 0: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:40,006 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s4@group-B076BFF83065-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:40,015 [s3@group-B076BFF83065-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s3@group-B076BFF83065-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s3/903e1f88-a833-481e-8514-b076bff83065/current/log_inprogress_0
2022-11-08 19:11:40,016 [s0@group-B076BFF83065-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-B076BFF83065-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s0/903e1f88-a833-481e-8514-b076bff83065/current/log_inprogress_0
2022-11-08 19:11:40,019 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-B076BFF83065: succeeded to handle AppendEntries. Reply: s2<-s0#1385:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:11:40,019 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-B076BFF83065: succeeded to handle AppendEntries. Reply: s2<-s3#1386:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-08 19:11:40,020 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-B076BFF83065: succeeded to handle AppendEntries. Reply: s2<-s1#1382:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:11:40,020 [s4@group-B076BFF83065-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s4@group-B076BFF83065-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc9ebb77f1/s4/903e1f88-a833-481e-8514-b076bff83065/current/log_inprogress_0
2022-11-08 19:11:40,021 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-B076BFF83065: succeeded to handle AppendEntries. Reply: s2<-s4#1387:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-08 19:11:40,167 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-B076BFF83065:t1, leader=s2, voted=null, raftlog=Memoized:s3@group-B076BFF83065-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-B076BFF83065:t1, leader=s2, voted=null, raftlog=Memoized:s4@group-B076BFF83065-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-B076BFF83065:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-B076BFF83065-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B076BFF83065:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-B076BFF83065-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B076BFF83065:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-B076BFF83065-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null RUNNING
2022-11-08 19:11:40,168 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-B076BFF83065: receive requestVote(PRE_VOTE, s2, group-B076BFF83065, 2, (t:1, i:0))
2022-11-08 19:11:40,168 [Time-limited test] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-B076BFF83065-LISTENER: reject PRE_VOTE from s2: this server is a listener, who is a non-voting member
2022-11-08 19:11:40,168 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-B076BFF83065 replies to PRE_VOTE vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-B076BFF83065:t1, leader=s2, voted=null, raftlog=Memoized:s3@group-B076BFF83065-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:40,168 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-08 19:11:40,168 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-08 19:11:40,168 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:40,168 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-08 19:11:40,168 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-08 19:11:40,169 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-B076BFF83065:t1, leader=s2, voted=null, raftlog=Memoized:s3@group-B076BFF83065-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-B076BFF83065:t1, leader=s2, voted=null, raftlog=Memoized:s4@group-B076BFF83065-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-B076BFF83065:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-B076BFF83065-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B076BFF83065:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-B076BFF83065-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B076BFF83065:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-B076BFF83065-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33687|admin:localhost:37561|client:localhost:42483|dataStream:localhost:37001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36595|admin:localhost:44005|client:localhost:45367|dataStream:localhost:46583|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38799|admin:localhost:44665|client:localhost:38885|dataStream:localhost:38783|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33215|admin:localhost:43165|client:localhost:35277|dataStream:localhost:33327|priority:0|startupRole:LISTENER, s4|rpc:localhost:38403|admin:localhost:41447|client:localhost:40579|dataStream:localhost:38025|priority:0|startupRole:LISTENER], old=null RUNNING
2022-11-08 19:11:40,169 [MiniRaftCluster-30] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-08 19:11:40,169 [MiniRaftCluster-28] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s3: close
2022-11-08 19:11:40,170 [MiniRaftCluster-29] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s4: close
2022-11-08 19:11:40,171 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,171 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s3@group-B076BFF83065: shutdown
2022-11-08 19:11:40,171 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,171 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,171 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s4@group-B076BFF83065: shutdown
2022-11-08 19:11:40,171 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,171 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B076BFF83065,id=s4
2022-11-08 19:11:40,171 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-B076BFF83065-FollowerState
2022-11-08 19:11:40,171 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s4@group-B076BFF83065-StateMachineUpdater: set stopIndex = 0
2022-11-08 19:11:40,171 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,171 [s4@group-B076BFF83065-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-B076BFF83065-FollowerState was interrupted
2022-11-08 19:11:40,171 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,171 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,171 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,171 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,172 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,172 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,172 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-B076BFF83065: shutdown
2022-11-08 19:11:40,172 [MiniRaftCluster-31] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-08 19:11:40,172 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,173 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,173 [s2@group-B076BFF83065->s4-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-B076BFF83065->s4-LogAppenderDefault: Failed to appendEntries (retry=1): {}
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s4@group-B076BFF83065 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$9(RaftServerImpl.java:737)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:253)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:736)
	at org.apache.ratis.server.impl.RaftServerImpl.preAppendEntriesAsync(RaftServerImpl.java:1441)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1385)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntries(RaftServerImpl.java:1371)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntries(RaftServerProxy.java:646)
	at org.apache.ratis.server.simulation.SimulatedServerRpc$1.handleRequest(SimulatedServerRpc.java:163)
	at org.apache.ratis.server.simulation.SimulatedServerRpc$1.handleRequest(SimulatedServerRpc.java:153)
	at org.apache.ratis.server.simulation.RequestHandler.handleRequest(RequestHandler.java:91)
	at org.apache.ratis.server.simulation.RequestHandler$HandlerDaemon.run(RequestHandler.java:125)
2022-11-08 19:11:40,171 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B076BFF83065,id=s3
2022-11-08 19:11:40,174 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-B076BFF83065-FollowerState
2022-11-08 19:11:40,174 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-B076BFF83065-StateMachineUpdater: set stopIndex = 0
2022-11-08 19:11:40,174 [s3@group-B076BFF83065-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-B076BFF83065-FollowerState was interrupted
2022-11-08 19:11:40,173 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,173 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s4@group-B076BFF83065: applyIndex: 0
2022-11-08 19:11:40,172 [s2@group-B076BFF83065->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-B076BFF83065->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-B076BFF83065 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$9(RaftServerImpl.java:737)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:253)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:736)
	at org.apache.ratis.server.impl.RaftServerImpl.preAppendEntriesAsync(RaftServerImpl.java:1441)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1385)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntries(RaftServerImpl.java:1371)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntries(RaftServerProxy.java:646)
	at org.apache.ratis.server.simulation.SimulatedServerRpc$1.handleRequest(SimulatedServerRpc.java:163)
	at org.apache.ratis.server.simulation.SimulatedServerRpc$1.handleRequest(SimulatedServerRpc.java:153)
	at org.apache.ratis.server.simulation.RequestHandler.handleRequest(RequestHandler.java:91)
	at org.apache.ratis.server.simulation.RequestHandler$HandlerDaemon.run(RequestHandler.java:125)
2022-11-08 19:11:40,176 [s4@group-B076BFF83065-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s4@group-B076BFF83065-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:40,172 [MiniRaftCluster-32] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-08 19:11:40,172 [s2@group-B076BFF83065->s3-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-B076BFF83065->s3-LogAppenderDefault: Failed to appendEntries (retry=1): {}
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s3@group-B076BFF83065 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$9(RaftServerImpl.java:737)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:253)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:736)
	at org.apache.ratis.server.impl.RaftServerImpl.preAppendEntriesAsync(RaftServerImpl.java:1441)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1385)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntries(RaftServerImpl.java:1371)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntries(RaftServerProxy.java:646)
	at org.apache.ratis.server.simulation.SimulatedServerRpc$1.handleRequest(SimulatedServerRpc.java:163)
	at org.apache.ratis.server.simulation.SimulatedServerRpc$1.handleRequest(SimulatedServerRpc.java:153)
	at org.apache.ratis.server.simulation.RequestHandler.handleRequest(RequestHandler.java:91)
	at org.apache.ratis.server.simulation.RequestHandler$HandlerDaemon.run(RequestHandler.java:125)
2022-11-08 19:11:40,172 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,172 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,172 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,172 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-B076BFF83065: shutdown
2022-11-08 19:11:40,178 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B076BFF83065,id=s1
2022-11-08 19:11:40,178 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-B076BFF83065-FollowerState
2022-11-08 19:11:40,178 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-B076BFF83065-StateMachineUpdater: set stopIndex = 0
2022-11-08 19:11:40,172 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B076BFF83065,id=s0
2022-11-08 19:11:40,178 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B076BFF83065-FollowerState
2022-11-08 19:11:40,178 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-B076BFF83065-StateMachineUpdater: set stopIndex = 0
2022-11-08 19:11:40,178 [s1@group-B076BFF83065-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-B076BFF83065-FollowerState was interrupted
2022-11-08 19:11:40,171 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,178 [s0@group-B076BFF83065-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-B076BFF83065-FollowerState was interrupted
2022-11-08 19:11:40,179 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-B076BFF83065: applyIndex: 0
2022-11-08 19:11:40,178 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-B076BFF83065: shutdown
2022-11-08 19:11:40,179 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B076BFF83065,id=s2
2022-11-08 19:11:40,179 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-B076BFF83065-LeaderStateImpl
2022-11-08 19:11:40,179 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-B076BFF83065-PendingRequests: sendNotLeaderResponses
2022-11-08 19:11:40,179 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-B076BFF83065-StateMachineUpdater: set stopIndex = 0
2022-11-08 19:11:40,179 [s2@group-B076BFF83065->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s2@group-B076BFF83065->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:40,179 [s2@group-B076BFF83065->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s2@group-B076BFF83065->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-11-08 19:11:40,179 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-B076BFF83065: applyIndex: 0
2022-11-08 19:11:40,180 [s1@group-B076BFF83065-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s1@group-B076BFF83065-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:40,180 [s2@group-B076BFF83065->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s2@group-B076BFF83065->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-11-08 19:11:40,177 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s4@group-B076BFF83065-SegmentedRaftLogWorker close()
2022-11-08 19:11:40,181 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,182 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,182 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-B076BFF83065: applyIndex: 0
2022-11-08 19:11:40,182 [JvmPauseMonitor24] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s4: Stopped
2022-11-08 19:11:40,175 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s3@group-B076BFF83065: applyIndex: 0
2022-11-08 19:11:40,181 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,181 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-B076BFF83065-SegmentedRaftLogWorker close()
2022-11-08 19:11:40,180 [s2@group-B076BFF83065->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s2@group-B076BFF83065->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-11-08 19:11:40,182 [s3@group-B076BFF83065-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s3@group-B076BFF83065-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:40,182 [s2@group-B076BFF83065-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s2@group-B076BFF83065-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:40,184 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-B076BFF83065-SegmentedRaftLogWorker close()
2022-11-08 19:11:40,189 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s3@group-B076BFF83065-SegmentedRaftLogWorker close()
2022-11-08 19:11:40,190 [s0@group-B076BFF83065-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s0@group-B076BFF83065-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:40,190 [JvmPauseMonitor23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s3: Stopped
2022-11-08 19:11:40,190 [JvmPauseMonitor26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-08 19:11:40,191 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-B076BFF83065-SegmentedRaftLogWorker close()
2022-11-08 19:11:40,192 [JvmPauseMonitor25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-08 19:11:40,192 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,192 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,192 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,192 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,192 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,193 [JvmPauseMonitor27] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-08 19:11:40,193 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-08 19:11:40,193 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-08 19:11:40,193 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-08 19:11:40,193 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-08 19:11:40,193 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-08 19:11:40,197 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-08 19:11:40,199 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-D4D17FCF2B2C:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]
2022-11-08 19:11:40,199 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-08 19:11:40,199 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-08 19:11:40,199 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:40,199 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-08 19:11:40,199 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-08 19:11:40,199 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-08 19:11:40,199 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-D4D17FCF2B2C:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:40,199 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s0
2022-11-08 19:11:40,200 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s0 does not exist.
2022-11-08 19:11:40,200 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s0
2022-11-08 19:11:40,200 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:40,200 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:40,200 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:40,200 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:40,201 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:40,201 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:40,201 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s0] (custom)
2022-11-08 19:11:40,201 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-D4D17FCF2B2C:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER] returns group-D4D17FCF2B2C:java.util.concurrent.CompletableFuture@67d7cbc[Not completed]
2022-11-08 19:11:40,201 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-D4D17FCF2B2C:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:40,201 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s1
2022-11-08 19:11:40,201 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s1 does not exist.
2022-11-08 19:11:40,201 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s1
2022-11-08 19:11:40,201 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:40,201 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:40,202 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:40,202 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:40,202 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:40,202 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:40,202 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s1] (custom)
2022-11-08 19:11:40,202 [pool-29-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-D4D17FCF2B2C:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:40,202 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:40,202 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:40,202 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:40,202 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:40,202 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:40,202 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:40,202 [pool-29-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-D4D17FCF2B2C: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:40,202 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:40,202 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:40,202 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:40,202 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:40,202 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:40,204 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:40,204 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:40,204 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:40,204 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:40,204 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:40,204 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-D4D17FCF2B2C:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER] returns group-D4D17FCF2B2C:java.util.concurrent.CompletableFuture@72f6218b[Not completed]
2022-11-08 19:11:40,204 [pool-30-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-D4D17FCF2B2C:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:40,204 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-D4D17FCF2B2C:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:40,204 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:40,204 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s2
2022-11-08 19:11:40,204 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:40,204 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:40,204 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:40,204 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s2 does not exist.
2022-11-08 19:11:40,204 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s2
2022-11-08 19:11:40,204 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:40,204 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:40,204 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:40,204 [pool-30-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-D4D17FCF2B2C: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:40,204 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:40,204 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:40,205 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:40,205 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:40,205 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:40,205 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:40,205 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:40,205 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:40,205 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:40,205 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:40,205 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s2] (custom)
2022-11-08 19:11:40,206 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:40,206 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:40,206 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:40,206 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:40,206 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:40,206 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-D4D17FCF2B2C:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER] returns group-D4D17FCF2B2C:java.util.concurrent.CompletableFuture@4164615f[Not completed]
2022-11-08 19:11:40,207 [pool-31-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-D4D17FCF2B2C:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:40,207 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:40,207 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:40,207 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s0] (custom)
2022-11-08 19:11:40,207 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s0/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c does not exist. Creating ...
2022-11-08 19:11:40,207 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s0/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c
2022-11-08 19:11:40,208 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:40,208 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:40,208 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:40,208 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:40,208 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:40,208 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:40,208 [pool-31-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-D4D17FCF2B2C: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:40,208 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:40,208 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:40,208 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:40,208 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:40,208 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s0/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:40,208 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s0/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c/current
2022-11-08 19:11:40,208 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s0/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c/sm
2022-11-08 19:11:40,209 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:40,209 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s0/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c has been successfully formatted.
2022-11-08 19:11:40,209 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:40,209 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:40,209 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:40,209 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:40,209 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:40,210 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:40,210 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:40,210 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:40,210 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-D4D17FCF2B2C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s0/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c
2022-11-08 19:11:40,210 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:40,210 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:40,210 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:40,210 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:40,210 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:40,210 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:40,210 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:40,210 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:40,211 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:40,211 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:40,211 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:40,211 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:40,211 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:40,211 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-D4D17FCF2B2C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:40,211 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-D4D17FCF2B2C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:40,212 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:40,212 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:40,212 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:40,212 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:40,212 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:40,215 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-D4D17FCF2B2C: start as a follower, conf=-1: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:40,216 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-D4D17FCF2B2C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:40,216 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D4D17FCF2B2C-FollowerState
2022-11-08 19:11:40,224 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D4D17FCF2B2C,id=s0
2022-11-08 19:11:40,224 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:40,224 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:40,224 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:40,224 [s0@group-D4D17FCF2B2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:40,224 [s0@group-D4D17FCF2B2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:40,224 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-08 19:11:40,233 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:40,233 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:40,233 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s1] (custom)
2022-11-08 19:11:40,233 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s1/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c does not exist. Creating ...
2022-11-08 19:11:40,234 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s1/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c
2022-11-08 19:11:40,234 [JvmPauseMonitor28] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-08 19:11:40,234 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s1/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:40,235 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s1/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c/current
2022-11-08 19:11:40,235 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s1/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c/sm
2022-11-08 19:11:40,235 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s1/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c has been successfully formatted.
2022-11-08 19:11:40,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:40,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:40,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:40,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:40,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:40,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:40,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:40,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:40,237 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-D4D17FCF2B2C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s1/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c
2022-11-08 19:11:40,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:40,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:40,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:40,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:40,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:40,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:40,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:40,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:40,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:40,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:40,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:40,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:40,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:40,237 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-D4D17FCF2B2C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:40,237 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-D4D17FCF2B2C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:40,237 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-D4D17FCF2B2C: start as a follower, conf=-1: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:40,238 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-D4D17FCF2B2C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:40,238 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-D4D17FCF2B2C-FollowerState
2022-11-08 19:11:40,238 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D4D17FCF2B2C,id=s1
2022-11-08 19:11:40,238 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:40,238 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:40,238 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:40,238 [s1@group-D4D17FCF2B2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:40,238 [s1@group-D4D17FCF2B2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:40,238 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-08 19:11:40,239 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:40,239 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:40,239 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s2] (custom)
2022-11-08 19:11:40,239 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s2/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c does not exist. Creating ...
2022-11-08 19:11:40,240 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s2/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c
2022-11-08 19:11:40,242 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s2/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:40,242 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s2/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c/current
2022-11-08 19:11:40,242 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s2/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c/sm
2022-11-08 19:11:40,239 [JvmPauseMonitor29] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-08 19:11:40,243 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s2/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c has been successfully formatted.
2022-11-08 19:11:40,243 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:40,243 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:40,243 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:40,243 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:40,243 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:40,244 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:40,244 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:40,244 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:40,244 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-D4D17FCF2B2C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s2/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c
2022-11-08 19:11:40,244 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:40,244 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:40,244 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:40,244 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:40,244 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:40,244 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:40,244 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:40,244 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:40,244 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:40,245 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:40,245 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:40,245 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:40,245 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:40,245 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-D4D17FCF2B2C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:40,245 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-D4D17FCF2B2C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:40,246 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-D4D17FCF2B2C: start as a follower, conf=-1: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:40,246 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-D4D17FCF2B2C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:40,246 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-D4D17FCF2B2C-FollowerState
2022-11-08 19:11:40,252 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D4D17FCF2B2C,id=s2
2022-11-08 19:11:40,252 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:40,252 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:40,252 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:40,252 [s2@group-D4D17FCF2B2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:40,252 [s2@group-D4D17FCF2B2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:40,252 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-08 19:11:40,253 [JvmPauseMonitor30] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-08 19:11:40,253 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:40,253 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D4D17FCF2B2C:t0, leader=null, voted=, raftlog=Memoized:s0@group-D4D17FCF2B2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D4D17FCF2B2C:t0, leader=null, voted=, raftlog=Memoized:s1@group-D4D17FCF2B2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D4D17FCF2B2C:t0, leader=null, voted=, raftlog=Memoized:s2@group-D4D17FCF2B2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:40,253 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D4D17FCF2B2C:t0, leader=null, voted=, raftlog=Memoized:s0@group-D4D17FCF2B2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D4D17FCF2B2C:t0, leader=null, voted=, raftlog=Memoized:s1@group-D4D17FCF2B2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D4D17FCF2B2C:t0, leader=null, voted=, raftlog=Memoized:s2@group-D4D17FCF2B2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D4D17FCF2B2C:t0, leader=null, voted=, raftlog=Memoized:s0@group-D4D17FCF2B2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D4D17FCF2B2C:t0, leader=null, voted=, raftlog=Memoized:s1@group-D4D17FCF2B2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D4D17FCF2B2C:t0, leader=null, voted=, raftlog=Memoized:s2@group-D4D17FCF2B2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testAddListener(LeaderElectionTests.java:368)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:40,444 [s2@group-D4D17FCF2B2C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-D4D17FCF2B2C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:198498866ns, electionTimeout:192ms
2022-11-08 19:11:40,444 [s2@group-D4D17FCF2B2C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-D4D17FCF2B2C-FollowerState
2022-11-08 19:11:40,444 [s2@group-D4D17FCF2B2C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-D4D17FCF2B2C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-08 19:11:40,444 [s2@group-D4D17FCF2B2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:40,445 [s2@group-D4D17FCF2B2C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-D4D17FCF2B2C-LeaderElection39
2022-11-08 19:11:40,445 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-D4D17FCF2B2C-LeaderElection39 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:40,446 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:40,446 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-D4D17FCF2B2C: receive requestVote(PRE_VOTE, s2, group-D4D17FCF2B2C, 0, (t:0, i:0))
2022-11-08 19:11:40,446 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:40,446 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-D4D17FCF2B2C-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:40,446 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-D4D17FCF2B2C replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-D4D17FCF2B2C:t0, leader=null, voted=, raftlog=Memoized:s0@group-D4D17FCF2B2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:40,446 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-D4D17FCF2B2C: receive requestVote(PRE_VOTE, s2, group-D4D17FCF2B2C, 0, (t:0, i:0))
2022-11-08 19:11:40,446 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-D4D17FCF2B2C-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:40,446 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-D4D17FCF2B2C replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-D4D17FCF2B2C:t0, leader=null, voted=, raftlog=Memoized:s1@group-D4D17FCF2B2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:40,446 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-D4D17FCF2B2C-LeaderElection39: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:40,446 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t0
2022-11-08 19:11:40,446 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-D4D17FCF2B2C-LeaderElection39 PRE_VOTE round 0: result PASSED
2022-11-08 19:11:40,447 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-D4D17FCF2B2C-LeaderElection39 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:40,448 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:40,448 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:40,451 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-D4D17FCF2B2C: receive requestVote(ELECTION, s2, group-D4D17FCF2B2C, 1, (t:0, i:0))
2022-11-08 19:11:40,451 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-D4D17FCF2B2C-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:40,451 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-D4D17FCF2B2C: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-11-08 19:11:40,451 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-D4D17FCF2B2C-FollowerState
2022-11-08 19:11:40,451 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D4D17FCF2B2C-FollowerState
2022-11-08 19:11:40,451 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-D4D17FCF2B2C: receive requestVote(ELECTION, s2, group-D4D17FCF2B2C, 1, (t:0, i:0))
2022-11-08 19:11:40,451 [s0@group-D4D17FCF2B2C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-D4D17FCF2B2C-FollowerState was interrupted
2022-11-08 19:11:40,455 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-D4D17FCF2B2C-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:40,455 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-D4D17FCF2B2C: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-11-08 19:11:40,455 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-D4D17FCF2B2C-FollowerState
2022-11-08 19:11:40,455 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-D4D17FCF2B2C-FollowerState
2022-11-08 19:11:40,456 [s1@group-D4D17FCF2B2C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-D4D17FCF2B2C-FollowerState was interrupted
2022-11-08 19:11:40,456 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-D4D17FCF2B2C replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-D4D17FCF2B2C:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-D4D17FCF2B2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:40,456 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-D4D17FCF2B2C-LeaderElection39: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:40,456 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2022-11-08 19:11:40,456 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-D4D17FCF2B2C-LeaderElection39 ELECTION round 0: result PASSED
2022-11-08 19:11:40,456 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-D4D17FCF2B2C-LeaderElection39
2022-11-08 19:11:40,456 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-D4D17FCF2B2C: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-08 19:11:40,456 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-D4D17FCF2B2C: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 248ms
2022-11-08 19:11:40,456 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:11:40,456 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:40,456 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:40,456 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:11:40,456 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:11:40,456 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:11:40,457 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:40,457 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:11:40,457 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:40,457 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:40,457 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:40,457 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:40,457 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:40,457 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:40,457 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-D4D17FCF2B2C-LeaderStateImpl
2022-11-08 19:11:40,458 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-D4D17FCF2B2C-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:40,458 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-D4D17FCF2B2C replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-D4D17FCF2B2C:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-D4D17FCF2B2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:40,460 [s0@group-D4D17FCF2B2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:40,460 [s0@group-D4D17FCF2B2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:40,460 [s1@group-D4D17FCF2B2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:40,460 [s1@group-D4D17FCF2B2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:40,463 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-D4D17FCF2B2C: change Leader from null to s2 at term 1 for appendEntries, leader elected after 260ms
2022-11-08 19:11:40,463 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-D4D17FCF2B2C: change Leader from null to s2 at term 1 for appendEntries, leader elected after 258ms
2022-11-08 19:11:40,463 [s2@group-D4D17FCF2B2C-LeaderElection39] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-D4D17FCF2B2C: set configuration 0: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:40,467 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D4D17FCF2B2C: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1], cId:1434, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:45495"
dataStreamAddress: "localhost:46293"
clientAddress: "localhost:35449"
adminAddress: "localhost:43309"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46229"
dataStreamAddress: "localhost:39937"
clientAddress: "localhost:44103"
adminAddress: "localhost:34035"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33735"
dataStreamAddress: "localhost:41271"
clientAddress: "localhost:39253"
adminAddress: "localhost:37429"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:40,467 [s2@group-D4D17FCF2B2C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-D4D17FCF2B2C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s2/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c/current/log_inprogress_0
2022-11-08 19:11:40,467 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-D4D17FCF2B2C: set configuration 0: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:40,467 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-D4D17FCF2B2C-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:40,467 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-D4D17FCF2B2C: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1], cId:1435, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:45495"
dataStreamAddress: "localhost:46293"
clientAddress: "localhost:35449"
adminAddress: "localhost:43309"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46229"
dataStreamAddress: "localhost:39937"
clientAddress: "localhost:44103"
adminAddress: "localhost:34035"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33735"
dataStreamAddress: "localhost:41271"
clientAddress: "localhost:39253"
adminAddress: "localhost:37429"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:40,475 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-D4D17FCF2B2C: set configuration 0: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:40,475 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-D4D17FCF2B2C-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:40,485 [s1@group-D4D17FCF2B2C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-D4D17FCF2B2C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s1/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c/current/log_inprogress_0
2022-11-08 19:11:40,486 [s0@group-D4D17FCF2B2C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-D4D17FCF2B2C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s0/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c/current/log_inprogress_0
2022-11-08 19:11:40,488 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D4D17FCF2B2C: succeeded to handle AppendEntries. Reply: s2<-s1#1434:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:11:40,489 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-D4D17FCF2B2C: succeeded to handle AppendEntries. Reply: s2<-s0#1435:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:11:40,704 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D4D17FCF2B2C:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-D4D17FCF2B2C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D4D17FCF2B2C:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-D4D17FCF2B2C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-D4D17FCF2B2C:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-D4D17FCF2B2C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:40,704 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:40,705 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s2@group-D4D17FCF2B2C: receive client request(RaftClientRequest:client-6F8B9220FE99->s2@group-D4D17FCF2B2C, cid=1458, seq=0, RW, message)
2022-11-08 19:11:40,706 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(410)) - s2@group-D4D17FCF2B2C-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-6F8B9220FE99->s2@group-D4D17FCF2B2C, cid=1458, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 1458@client-6F8B9220FE99
2022-11-08 19:11:40,706 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-D4D17FCF2B2C: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits:[s2:c0, s0:c0, s1:c0], cId:1459, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 1458@client-6F8B9220FE99]
2022-11-08 19:11:40,706 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D4D17FCF2B2C: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits:[s2:c0, s0:c0, s1:c0], cId:1460, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 1458@client-6F8B9220FE99]
2022-11-08 19:11:40,707 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-D4D17FCF2B2C: succeeded to handle AppendEntries. Reply: s2<-s0#1459:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-08 19:11:40,707 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D4D17FCF2B2C: succeeded to handle AppendEntries. Reply: s2<-s1#1460:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-08 19:11:40,708 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D4D17FCF2B2C: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits:[s2:c1, s0:c0, s1:c0], cId:1461, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-08 19:11:40,708 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-D4D17FCF2B2C: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits:[s2:c1, s0:c0, s1:c0], cId:1462, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-08 19:11:40,708 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D4D17FCF2B2C: succeeded to handle AppendEntries. Reply: s2<-s1#1461:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-08 19:11:40,709 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-D4D17FCF2B2C: succeeded to handle AppendEntries. Reply: s2<-s0#1462:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-08 19:11:40,709 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:addNewPeers(464)) - Add new peers [s3]
2022-11-08 19:11:40,709 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-D4D17FCF2B2C:[s3|priority:0|startupRole:LISTENER, s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:40,709 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s3
2022-11-08 19:11:40,709 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s3 does not exist.
2022-11-08 19:11:40,709 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s3
2022-11-08 19:11:40,710 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:40,710 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:40,710 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:40,710 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:40,710 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:40,710 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:40,710 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s3] (custom)
2022-11-08 19:11:40,710 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-D4D17FCF2B2C:[s3|priority:0|startupRole:LISTENER, s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER] returns group-D4D17FCF2B2C:java.util.concurrent.CompletableFuture@10f17c7f[Not completed]
2022-11-08 19:11:40,710 [pool-32-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-D4D17FCF2B2C:[s3|priority:0|startupRole:LISTENER, s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:40,711 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:40,711 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:40,711 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:40,711 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:40,711 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:40,711 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:40,711 [pool-32-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-D4D17FCF2B2C: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[s3|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:40,711 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:40,711 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:40,711 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:40,711 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:40,711 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:40,712 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:40,712 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:40,712 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:40,712 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:40,712 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:40,712 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:40,712 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:40,712 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s3] (custom)
2022-11-08 19:11:40,713 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s3/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c does not exist. Creating ...
2022-11-08 19:11:40,713 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s3/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c
2022-11-08 19:11:40,714 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s3/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:40,714 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s3/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c/current
2022-11-08 19:11:40,714 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s3/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c/sm
2022-11-08 19:11:40,714 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s3/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c has been successfully formatted.
2022-11-08 19:11:40,715 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:40,715 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:40,715 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:40,715 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:40,715 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:40,715 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:40,715 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:40,716 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:40,716 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s3@group-D4D17FCF2B2C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s3/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c
2022-11-08 19:11:40,716 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:40,716 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:40,716 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:40,716 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:40,716 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:40,716 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:40,716 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:40,716 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:40,716 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:40,716 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:40,716 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:40,716 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:40,716 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:40,716 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-D4D17FCF2B2C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:40,716 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-D4D17FCF2B2C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:40,716 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(341)) - s3@group-D4D17FCF2B2C: start as a listener, conf=-1: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[s3|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:11:40,716 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-D4D17FCF2B2C: changes role from      null to LISTENER at term 0 for startAsListener
2022-11-08 19:11:40,716 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-D4D17FCF2B2C-FollowerState
2022-11-08 19:11:40,720 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D4D17FCF2B2C,id=s3
2022-11-08 19:11:40,720 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:40,720 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:40,720 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:40,720 [s3@group-D4D17FCF2B2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:40,720 [s3@group-D4D17FCF2B2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:40,720 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s3: start RPC server
2022-11-08 19:11:40,721 [JvmPauseMonitor31] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s3: Started
2022-11-08 19:11:40,722 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1188)) - s2@group-D4D17FCF2B2C: receive setConfiguration SetConfigurationRequest:client-6F8B9220FE99->s2@group-D4D17FCF2B2C, cid=1463, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER], listeners:[s3|priority:0|startupRole:FOLLOWER]
2022-11-08 19:11:40,722 [s2-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(377)) - s2@group-D4D17FCF2B2C-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-6F8B9220FE99->s2@group-D4D17FCF2B2C, cid=1463, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER], listeners:[s3|priority:0|startupRole:FOLLOWER]
2022-11-08 19:11:40,722 [s2-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:40,722 [s2-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:40,722 [s2-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:40,723 [s2@group-D4D17FCF2B2C->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.FollowerInfo (FollowerInfoImpl.java:setAttemptedToInstallSnapshot(118)) - Follower s2@group-D4D17FCF2B2C->s3 acknowledged installing snapshot
2022-11-08 19:11:40,725 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s3@group-D4D17FCF2B2C: change Leader from null to s2 at term 1 for appendEntries, leader elected after 13ms
2022-11-08 19:11:40,726 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-D4D17FCF2B2C: receive appendEntries(s2, 1, null, 2, false, commits:[s2:c2, s0:c1, s1:c1, s3:c-1], cId:1466, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:45495"
dataStreamAddress: "localhost:46293"
clientAddress: "localhost:35449"
adminAddress: "localhost:43309"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46229"
dataStreamAddress: "localhost:39937"
clientAddress: "localhost:44103"
adminAddress: "localhost:34035"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33735"
dataStreamAddress: "localhost:41271"
clientAddress: "localhost:39253"
adminAddress: "localhost:37429"
startupRole: FOLLOWER
, old:), (t:1, i:1), STATEMACHINELOGENTRY, 1458@client-6F8B9220FE99, (t:1, i:2), METADATAENTRY(c:1)]
2022-11-08 19:11:40,726 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s3@group-D4D17FCF2B2C: set configuration 0: peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:40,726 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s3@group-D4D17FCF2B2C-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:40,734 [s3@group-D4D17FCF2B2C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s3@group-D4D17FCF2B2C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcb445eb34/s3/2d8ced35-474d-42c7-8e98-d4d17fcf2b2c/current/log_inprogress_0
2022-11-08 19:11:40,744 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-D4D17FCF2B2C: succeeded to handle AppendEntries. Reply: s2<-s3#1466:OK-t1,SUCCESS,nextIndex=3,followerCommit=2,matchIndex=2
2022-11-08 19:11:40,745 [s2@group-D4D17FCF2B2C-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-D4D17FCF2B2C: set configuration 3: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[s3|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-08 19:11:40,746 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-D4D17FCF2B2C: receive appendEntries(s2, 1, (t:1, i:2), 2, false, commits:[s2:c2, s0:c1, s1:c1, s3:c2], cId:1467, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:45495"
dataStreamAddress: "localhost:46293"
clientAddress: "localhost:35449"
adminAddress: "localhost:43309"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46229"
dataStreamAddress: "localhost:39937"
clientAddress: "localhost:44103"
adminAddress: "localhost:34035"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33735"
dataStreamAddress: "localhost:41271"
clientAddress: "localhost:39253"
adminAddress: "localhost:37429"
startupRole: FOLLOWER
)]
2022-11-08 19:11:40,746 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s3@group-D4D17FCF2B2C: set configuration 3: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-08 19:11:40,747 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D4D17FCF2B2C: receive appendEntries(s2, 1, (t:1, i:2), 2, true, commits:[s2:c2, s0:c1, s1:c1, s3:c2], cId:1468, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:45495"
dataStreamAddress: "localhost:46293"
clientAddress: "localhost:35449"
adminAddress: "localhost:43309"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46229"
dataStreamAddress: "localhost:39937"
clientAddress: "localhost:44103"
adminAddress: "localhost:34035"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33735"
dataStreamAddress: "localhost:41271"
clientAddress: "localhost:39253"
adminAddress: "localhost:37429"
startupRole: FOLLOWER
)]
2022-11-08 19:11:40,747 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-D4D17FCF2B2C: set configuration 3: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-08 19:11:40,747 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D4D17FCF2B2C: succeeded to handle AppendEntries. Reply: s2<-s1#1468:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-08 19:11:40,747 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-D4D17FCF2B2C: receive appendEntries(s2, 1, (t:1, i:2), 2, true, commits:[s2:c2, s0:c1, s1:c1, s3:c2], cId:1469, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:45495"
dataStreamAddress: "localhost:46293"
clientAddress: "localhost:35449"
adminAddress: "localhost:43309"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46229"
dataStreamAddress: "localhost:39937"
clientAddress: "localhost:44103"
adminAddress: "localhost:34035"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33735"
dataStreamAddress: "localhost:41271"
clientAddress: "localhost:39253"
adminAddress: "localhost:37429"
startupRole: FOLLOWER
)]
2022-11-08 19:11:40,748 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-D4D17FCF2B2C: set configuration 3: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:45495|admin:localhost:43309|client:localhost:35449|dataStream:localhost:46293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46229|admin:localhost:34035|client:localhost:44103|dataStream:localhost:39937|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33735|admin:localhost:37429|client:localhost:39253|dataStream:localhost:41271|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-08 19:11:40,748 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-D4D17FCF2B2C: succeeded to handle AppendEntries. Reply: s2<-s0#1469:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-08 19:11:40,751 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-D4D17FCF2B2C: receive appendEntries(s2, 1, (t:1, i:3), 3, true, commits:[s2:c3, s0:c2, s1:c2, s3:c2], cId:1470, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2022-11-08 19:11:40,751 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D4D17FCF2B2C: receive appendEntries(s2, 1, (t:1, i:3), 3, true, commits:[s2:c3, s0:c2, s1:c2, s3:c2], cId:1471, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2022-11-08 19:11:40,752 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-D4D17FCF2B2C: succeeded to handle AppendEntries. Reply: s2<-s0#1470:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-11-08 19:11:40,752 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D4D17FCF2B2C: succeeded to handle AppendEntries. Reply: s2<-s1#1471:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-11-08 19:11:40,753 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-D4D17FCF2B2C: receive appendEntries(s2, 1, (t:1, i:4), 3, true, commits:[s2:c3, s0:c3, s1:c3, s3:c2], cId:1472, entries: [(t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:40,753 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-D4D17FCF2B2C: set configuration 5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null
2022-11-08 19:11:40,753 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D4D17FCF2B2C: receive appendEntries(s2, 1, (t:1, i:4), 3, true, commits:[s2:c3, s0:c3, s1:c3, s3:c2], cId:1473, entries: [(t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:40,753 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-D4D17FCF2B2C: succeeded to handle AppendEntries. Reply: s2<-s0#1472:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-08 19:11:40,753 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-D4D17FCF2B2C: set configuration 5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null
2022-11-08 19:11:40,753 [s2@group-D4D17FCF2B2C-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-D4D17FCF2B2C: set configuration 5: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[s3|priority:0|startupRole:FOLLOWER], old=null
2022-11-08 19:11:40,753 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D4D17FCF2B2C: succeeded to handle AppendEntries. Reply: s2<-s1#1473:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-08 19:11:40,754 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-D4D17FCF2B2C: receive appendEntries(s2, 1, (t:1, i:5), 5, true, commits:[s2:c5, s0:c3, s1:c3, s3:c2], cId:1474, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-08 19:11:40,754 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D4D17FCF2B2C: receive appendEntries(s2, 1, (t:1, i:5), 5, true, commits:[s2:c5, s0:c3, s1:c3, s3:c2], cId:1475, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-08 19:11:40,754 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-D4D17FCF2B2C: succeeded to handle AppendEntries. Reply: s2<-s0#1474:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-08 19:11:40,754 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D4D17FCF2B2C: succeeded to handle AppendEntries. Reply: s2<-s1#1475:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-08 19:11:40,755 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-D4D17FCF2B2C: succeeded to handle AppendEntries. Reply: s2<-s3#1467:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-08 19:11:40,755 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-D4D17FCF2B2C: receive appendEntries(s2, 1, (t:1, i:3), 5, false, commits:[s2:c5, s0:c5, s1:c5, s3:c2], cId:1476, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:), (t:1, i:6), METADATAENTRY(c:5)]
2022-11-08 19:11:40,755 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s3@group-D4D17FCF2B2C: set configuration 5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null
2022-11-08 19:11:40,766 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-D4D17FCF2B2C: succeeded to handle AppendEntries. Reply: s2<-s3#1476:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-08 19:11:40,767 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-08 19:11:40,767 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-08 19:11:40,767 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:40,767 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-08 19:11:40,767 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-08 19:11:40,767 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-D4D17FCF2B2C:t1, leader=s2, voted=null, raftlog=Memoized:s3@group-D4D17FCF2B2C-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-D4D17FCF2B2C:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-D4D17FCF2B2C-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D4D17FCF2B2C:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-D4D17FCF2B2C-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-D4D17FCF2B2C:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-D4D17FCF2B2C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[s3|priority:0|startupRole:FOLLOWER], old=null RUNNING
2022-11-08 19:11:40,772 [MiniRaftCluster-33] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s3: close
2022-11-08 19:11:40,772 [MiniRaftCluster-34] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-08 19:11:40,773 [MiniRaftCluster-35] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-08 19:11:40,773 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s3@group-D4D17FCF2B2C: shutdown
2022-11-08 19:11:40,773 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,773 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D4D17FCF2B2C,id=s3
2022-11-08 19:11:40,773 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-D4D17FCF2B2C-FollowerState
2022-11-08 19:11:40,773 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,773 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-D4D17FCF2B2C-StateMachineUpdater: set stopIndex = 5
2022-11-08 19:11:40,773 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,773 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,773 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,773 [s3@group-D4D17FCF2B2C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-D4D17FCF2B2C-FollowerState was interrupted
2022-11-08 19:11:40,773 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,774 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s3@group-D4D17FCF2B2C: applyIndex: 5
2022-11-08 19:11:40,774 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-D4D17FCF2B2C: shutdown
2022-11-08 19:11:40,774 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D4D17FCF2B2C,id=s1
2022-11-08 19:11:40,774 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-D4D17FCF2B2C-FollowerState
2022-11-08 19:11:40,774 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-D4D17FCF2B2C-StateMachineUpdater: set stopIndex = 5
2022-11-08 19:11:40,774 [s1@group-D4D17FCF2B2C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-D4D17FCF2B2C-FollowerState was interrupted
2022-11-08 19:11:40,774 [s3@group-D4D17FCF2B2C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s3@group-D4D17FCF2B2C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:40,774 [MiniRaftCluster-36] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-08 19:11:40,774 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-D4D17FCF2B2C: applyIndex: 5
2022-11-08 19:11:40,774 [s1@group-D4D17FCF2B2C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s1@group-D4D17FCF2B2C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:40,775 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,775 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,775 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,775 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s3@group-D4D17FCF2B2C-SegmentedRaftLogWorker close()
2022-11-08 19:11:40,776 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-D4D17FCF2B2C: shutdown
2022-11-08 19:11:40,776 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D4D17FCF2B2C,id=s2
2022-11-08 19:11:40,776 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-D4D17FCF2B2C-LeaderStateImpl
2022-11-08 19:11:40,776 [s2@group-D4D17FCF2B2C->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s2@group-D4D17FCF2B2C->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:40,776 [JvmPauseMonitor31] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s3: Stopped
2022-11-08 19:11:40,776 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-D4D17FCF2B2C-PendingRequests: sendNotLeaderResponses
2022-11-08 19:11:40,776 [s2@group-D4D17FCF2B2C->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s2@group-D4D17FCF2B2C->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:40,777 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,777 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,777 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,776 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-D4D17FCF2B2C-SegmentedRaftLogWorker close()
2022-11-08 19:11:40,781 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,781 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,781 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,781 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,782 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,781 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,782 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,781 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,782 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,782 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,782 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,782 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:40,781 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-D4D17FCF2B2C-StateMachineUpdater: set stopIndex = 6
2022-11-08 19:11:40,782 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-D4D17FCF2B2C: applyIndex: 6
2022-11-08 19:11:40,782 [JvmPauseMonitor29] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-08 19:11:40,781 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-D4D17FCF2B2C: shutdown
2022-11-08 19:11:40,782 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D4D17FCF2B2C,id=s0
2022-11-08 19:11:40,783 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-D4D17FCF2B2C-FollowerState
2022-11-08 19:11:40,783 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-D4D17FCF2B2C-StateMachineUpdater: set stopIndex = 5
2022-11-08 19:11:40,783 [s0@group-D4D17FCF2B2C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-D4D17FCF2B2C-FollowerState was interrupted
2022-11-08 19:11:40,783 [s2@group-D4D17FCF2B2C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s2@group-D4D17FCF2B2C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:40,776 [s2@group-D4D17FCF2B2C->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s2@group-D4D17FCF2B2C->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:40,783 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-D4D17FCF2B2C: applyIndex: 5
2022-11-08 19:11:40,783 [s0@group-D4D17FCF2B2C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s0@group-D4D17FCF2B2C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:40,784 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-D4D17FCF2B2C-SegmentedRaftLogWorker close()
2022-11-08 19:11:40,785 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-D4D17FCF2B2C-SegmentedRaftLogWorker close()
2022-11-08 19:11:40,785 [JvmPauseMonitor28] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-08 19:11:40,785 [JvmPauseMonitor30] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-08 19:11:40,785 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-08 19:11:40,785 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-08 19:11:40,785 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-08 19:11:40,785 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:40,786 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-08 19:11:40,786 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-08 19:11:40,786 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:   CLOSED  LISTENER s3@group-D4D17FCF2B2C:t1, leader=s2, voted=null, raftlog=Memoized:s3@group-D4D17FCF2B2C-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null CLOSED
  s0:   CLOSED  FOLLOWER s0@group-D4D17FCF2B2C:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-D4D17FCF2B2C-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-D4D17FCF2B2C:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-D4D17FCF2B2C-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-D4D17FCF2B2C:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-D4D17FCF2B2C-SegmentedRaftLog:CLOSED:c6, conf=5: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[s3|priority:0|startupRole:FOLLOWER], old=null CLOSED
2022-11-08 19:11:40,787 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-08 19:11:40,787 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-08 19:11:40,787 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-08 19:11:40,787 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-08 19:11:40,787 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-08 19:11:40,788 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-08 19:11:40,788 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-018BB67FA3F1:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]
2022-11-08 19:11:40,788 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-08 19:11:40,788 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-08 19:11:40,788 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:40,788 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-08 19:11:40,788 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-08 19:11:40,788 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-08 19:11:40,788 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-018BB67FA3F1:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:40,788 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s0
2022-11-08 19:11:40,789 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s0 does not exist.
2022-11-08 19:11:40,789 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s0
2022-11-08 19:11:40,789 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:40,789 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:40,789 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:40,789 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:40,789 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:40,789 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:40,789 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s0] (custom)
2022-11-08 19:11:40,789 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-018BB67FA3F1:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER] returns group-018BB67FA3F1:java.util.concurrent.CompletableFuture@6c8abf87[Not completed]
2022-11-08 19:11:40,790 [pool-33-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-018BB67FA3F1:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:40,790 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-018BB67FA3F1:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:40,790 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:40,790 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s1
2022-11-08 19:11:40,790 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:40,790 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:40,790 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:40,790 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s1 does not exist.
2022-11-08 19:11:40,790 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s1
2022-11-08 19:11:40,790 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:40,790 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:40,790 [pool-33-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-018BB67FA3F1: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:40,790 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:40,790 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:40,790 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:40,790 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:40,790 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:40,790 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:40,790 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:40,790 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:40,790 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:40,790 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:40,790 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:40,790 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s1] (custom)
2022-11-08 19:11:40,791 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:40,791 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:40,791 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:40,791 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:40,791 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:40,798 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-018BB67FA3F1:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER] returns group-018BB67FA3F1:java.util.concurrent.CompletableFuture@186b62ca[Not completed]
2022-11-08 19:11:40,798 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-018BB67FA3F1:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:40,798 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s2
2022-11-08 19:11:40,798 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s2 does not exist.
2022-11-08 19:11:40,798 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s2
2022-11-08 19:11:40,798 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:40,798 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:40,798 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:40,798 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:40,798 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:40,798 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:40,799 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s2] (custom)
2022-11-08 19:11:40,799 [pool-34-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-018BB67FA3F1:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:40,799 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:40,799 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:40,799 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:40,799 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:40,799 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:40,799 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:40,799 [pool-34-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-018BB67FA3F1: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:40,799 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:40,799 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:40,799 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:40,799 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:40,799 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:40,800 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:40,801 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:40,801 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:40,801 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:40,801 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:40,801 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-018BB67FA3F1:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER] returns group-018BB67FA3F1:java.util.concurrent.CompletableFuture@7c393191[Not completed]
2022-11-08 19:11:40,801 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:40,801 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:40,801 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s0] (custom)
2022-11-08 19:11:40,801 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s0/5880a42c-96e5-4312-87f8-018bb67fa3f1 does not exist. Creating ...
2022-11-08 19:11:40,802 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s0/5880a42c-96e5-4312-87f8-018bb67fa3f1
2022-11-08 19:11:40,802 [pool-35-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-018BB67FA3F1:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:40,802 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:40,802 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:40,802 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:40,802 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:40,802 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:40,802 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:40,802 [pool-35-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-018BB67FA3F1: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:40,802 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s0/5880a42c-96e5-4312-87f8-018bb67fa3f1/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:40,803 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s0/5880a42c-96e5-4312-87f8-018bb67fa3f1/current
2022-11-08 19:11:40,803 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s0/5880a42c-96e5-4312-87f8-018bb67fa3f1/sm
2022-11-08 19:11:40,803 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:40,803 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:40,803 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:40,803 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:40,803 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:40,804 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s0/5880a42c-96e5-4312-87f8-018bb67fa3f1 has been successfully formatted.
2022-11-08 19:11:40,804 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:40,804 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:40,804 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:40,804 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:40,804 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:40,805 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:40,805 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:40,805 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:40,805 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-018BB67FA3F1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s0/5880a42c-96e5-4312-87f8-018bb67fa3f1
2022-11-08 19:11:40,805 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:40,805 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:40,805 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:40,805 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:40,805 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:40,805 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:40,805 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:40,805 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:40,806 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:40,806 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:40,806 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:40,806 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:40,807 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:40,807 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-018BB67FA3F1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:40,807 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-018BB67FA3F1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:40,808 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:40,808 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:40,808 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:40,808 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:40,808 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:40,809 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-018BB67FA3F1: start as a follower, conf=-1: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:40,809 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-018BB67FA3F1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:40,809 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-018BB67FA3F1-FollowerState
2022-11-08 19:11:40,812 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-018BB67FA3F1,id=s0
2022-11-08 19:11:40,812 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:40,812 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:40,812 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:40,812 [s0@group-018BB67FA3F1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:40,812 [s0@group-018BB67FA3F1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:40,815 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-08 19:11:40,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:40,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:40,816 [JvmPauseMonitor32] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-08 19:11:40,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s1] (custom)
2022-11-08 19:11:40,816 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s1/5880a42c-96e5-4312-87f8-018bb67fa3f1 does not exist. Creating ...
2022-11-08 19:11:40,817 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s1/5880a42c-96e5-4312-87f8-018bb67fa3f1
2022-11-08 19:11:40,817 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s1/5880a42c-96e5-4312-87f8-018bb67fa3f1/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:40,817 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s1/5880a42c-96e5-4312-87f8-018bb67fa3f1/current
2022-11-08 19:11:40,817 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s1/5880a42c-96e5-4312-87f8-018bb67fa3f1/sm
2022-11-08 19:11:40,818 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s1/5880a42c-96e5-4312-87f8-018bb67fa3f1 has been successfully formatted.
2022-11-08 19:11:40,818 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:40,818 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:40,818 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:40,818 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:40,818 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:40,819 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:40,819 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:40,819 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:40,819 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-018BB67FA3F1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s1/5880a42c-96e5-4312-87f8-018bb67fa3f1
2022-11-08 19:11:40,819 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:40,819 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:40,819 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:40,819 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:40,819 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:40,819 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:40,819 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:40,819 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:40,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:40,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:40,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:40,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:40,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:40,820 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-018BB67FA3F1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:40,820 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-018BB67FA3F1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:40,823 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-018BB67FA3F1: start as a follower, conf=-1: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:40,824 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-018BB67FA3F1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:40,824 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-018BB67FA3F1-FollowerState
2022-11-08 19:11:40,824 [s1@group-018BB67FA3F1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:40,824 [s1@group-018BB67FA3F1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:40,824 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-018BB67FA3F1,id=s1
2022-11-08 19:11:40,824 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:40,824 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:40,824 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:40,824 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-08 19:11:40,825 [JvmPauseMonitor33] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-08 19:11:40,825 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:40,825 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:40,825 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s2] (custom)
2022-11-08 19:11:40,825 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s2/5880a42c-96e5-4312-87f8-018bb67fa3f1 does not exist. Creating ...
2022-11-08 19:11:40,826 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s2/5880a42c-96e5-4312-87f8-018bb67fa3f1
2022-11-08 19:11:40,826 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s2/5880a42c-96e5-4312-87f8-018bb67fa3f1/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:40,827 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s2/5880a42c-96e5-4312-87f8-018bb67fa3f1/current
2022-11-08 19:11:40,827 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s2/5880a42c-96e5-4312-87f8-018bb67fa3f1/sm
2022-11-08 19:11:40,827 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s2/5880a42c-96e5-4312-87f8-018bb67fa3f1 has been successfully formatted.
2022-11-08 19:11:40,828 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:40,828 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:40,828 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:40,828 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:40,828 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:40,828 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:40,833 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:40,833 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:40,833 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-018BB67FA3F1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s2/5880a42c-96e5-4312-87f8-018bb67fa3f1
2022-11-08 19:11:40,834 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:40,834 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:40,834 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:40,834 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:40,834 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:40,834 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:40,834 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:40,834 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:40,834 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:40,834 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:40,834 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:40,834 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:40,834 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:40,834 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-018BB67FA3F1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:40,834 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-018BB67FA3F1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:40,835 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-018BB67FA3F1: start as a follower, conf=-1: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:40,835 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-018BB67FA3F1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:40,835 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-018BB67FA3F1-FollowerState
2022-11-08 19:11:40,835 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-018BB67FA3F1,id=s2
2022-11-08 19:11:40,835 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:40,835 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:40,835 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:40,835 [s2@group-018BB67FA3F1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:40,835 [s2@group-018BB67FA3F1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:40,839 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-08 19:11:40,840 [JvmPauseMonitor34] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-08 19:11:40,840 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:40,841 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-018BB67FA3F1:t0, leader=null, voted=, raftlog=Memoized:s0@group-018BB67FA3F1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-018BB67FA3F1:t0, leader=null, voted=, raftlog=Memoized:s1@group-018BB67FA3F1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-018BB67FA3F1:t0, leader=null, voted=, raftlog=Memoized:s2@group-018BB67FA3F1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:40,841 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-018BB67FA3F1:t0, leader=null, voted=, raftlog=Memoized:s0@group-018BB67FA3F1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-018BB67FA3F1:t0, leader=null, voted=, raftlog=Memoized:s1@group-018BB67FA3F1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-018BB67FA3F1:t0, leader=null, voted=, raftlog=Memoized:s2@group-018BB67FA3F1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-018BB67FA3F1:t0, leader=null, voted=, raftlog=Memoized:s0@group-018BB67FA3F1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-018BB67FA3F1:t0, leader=null, voted=, raftlog=Memoized:s1@group-018BB67FA3F1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-018BB67FA3F1:t0, leader=null, voted=, raftlog=Memoized:s2@group-018BB67FA3F1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testTransferLeaderTimeout(LeaderElectionTests.java:213)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:41,020 [s1@group-018BB67FA3F1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-018BB67FA3F1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:196451346ns, electionTimeout:196ms
2022-11-08 19:11:41,020 [s1@group-018BB67FA3F1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-018BB67FA3F1-FollowerState
2022-11-08 19:11:41,020 [s1@group-018BB67FA3F1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-018BB67FA3F1: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-08 19:11:41,020 [s1@group-018BB67FA3F1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:41,020 [s1@group-018BB67FA3F1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-018BB67FA3F1-LeaderElection40
2022-11-08 19:11:41,021 [s1@group-018BB67FA3F1-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-018BB67FA3F1-LeaderElection40 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:41,021 [s1@group-018BB67FA3F1-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:41,021 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-018BB67FA3F1: receive requestVote(PRE_VOTE, s1, group-018BB67FA3F1, 0, (t:0, i:0))
2022-11-08 19:11:41,021 [s1@group-018BB67FA3F1-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:41,021 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-018BB67FA3F1-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:41,021 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-018BB67FA3F1 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-018BB67FA3F1:t0, leader=null, voted=, raftlog=Memoized:s0@group-018BB67FA3F1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:41,021 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-018BB67FA3F1: receive requestVote(PRE_VOTE, s1, group-018BB67FA3F1, 0, (t:0, i:0))
2022-11-08 19:11:41,021 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-018BB67FA3F1-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:41,022 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-018BB67FA3F1 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-018BB67FA3F1:t0, leader=null, voted=, raftlog=Memoized:s2@group-018BB67FA3F1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:41,022 [s1@group-018BB67FA3F1-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-018BB67FA3F1-LeaderElection40: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:41,022 [s1@group-018BB67FA3F1-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2022-11-08 19:11:41,022 [s1@group-018BB67FA3F1-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-018BB67FA3F1-LeaderElection40 PRE_VOTE round 0: result PASSED
2022-11-08 19:11:41,023 [s1@group-018BB67FA3F1-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-018BB67FA3F1-LeaderElection40 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:41,023 [s1@group-018BB67FA3F1-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:41,023 [s1@group-018BB67FA3F1-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:41,023 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-018BB67FA3F1: receive requestVote(ELECTION, s1, group-018BB67FA3F1, 1, (t:0, i:0))
2022-11-08 19:11:41,024 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-018BB67FA3F1-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:41,024 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-018BB67FA3F1: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-11-08 19:11:41,024 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-018BB67FA3F1-FollowerState
2022-11-08 19:11:41,024 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-018BB67FA3F1-FollowerState
2022-11-08 19:11:41,024 [s0@group-018BB67FA3F1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-018BB67FA3F1-FollowerState was interrupted
2022-11-08 19:11:41,024 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-018BB67FA3F1: receive requestVote(ELECTION, s1, group-018BB67FA3F1, 1, (t:0, i:0))
2022-11-08 19:11:41,027 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-018BB67FA3F1-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:41,027 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-018BB67FA3F1: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-11-08 19:11:41,027 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-018BB67FA3F1-FollowerState
2022-11-08 19:11:41,027 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-018BB67FA3F1-FollowerState
2022-11-08 19:11:41,027 [s2@group-018BB67FA3F1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-018BB67FA3F1-FollowerState was interrupted
2022-11-08 19:11:41,028 [s0@group-018BB67FA3F1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:41,028 [s0@group-018BB67FA3F1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:41,028 [s2@group-018BB67FA3F1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:41,028 [s2@group-018BB67FA3F1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:41,028 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-018BB67FA3F1 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-018BB67FA3F1:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-018BB67FA3F1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:41,031 [s1@group-018BB67FA3F1-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-018BB67FA3F1-LeaderElection40: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:41,032 [s1@group-018BB67FA3F1-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t1
2022-11-08 19:11:41,032 [s1@group-018BB67FA3F1-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-018BB67FA3F1-LeaderElection40 ELECTION round 0: result PASSED
2022-11-08 19:11:41,032 [s1@group-018BB67FA3F1-LeaderElection40] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-018BB67FA3F1-LeaderElection40
2022-11-08 19:11:41,032 [s1@group-018BB67FA3F1-LeaderElection40] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-018BB67FA3F1: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-08 19:11:41,032 [s1@group-018BB67FA3F1-LeaderElection40] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-018BB67FA3F1: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 232ms
2022-11-08 19:11:41,032 [s1@group-018BB67FA3F1-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:11:41,032 [s1@group-018BB67FA3F1-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:41,032 [s1@group-018BB67FA3F1-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:41,032 [s1@group-018BB67FA3F1-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:11:41,032 [s1@group-018BB67FA3F1-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:11:41,032 [s1@group-018BB67FA3F1-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:11:41,032 [s1@group-018BB67FA3F1-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:41,032 [s1@group-018BB67FA3F1-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:11:41,033 [s1@group-018BB67FA3F1-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:41,033 [s1@group-018BB67FA3F1-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:41,033 [s1@group-018BB67FA3F1-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:41,033 [s1@group-018BB67FA3F1-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:41,033 [s1@group-018BB67FA3F1-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:41,033 [s1@group-018BB67FA3F1-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:41,033 [s1@group-018BB67FA3F1-LeaderElection40] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-018BB67FA3F1-LeaderStateImpl
2022-11-08 19:11:41,033 [s1@group-018BB67FA3F1-LeaderElection40] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-018BB67FA3F1-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:41,032 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-018BB67FA3F1 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-018BB67FA3F1:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-018BB67FA3F1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:41,037 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-018BB67FA3F1: change Leader from null to s1 at term 1 for appendEntries, leader elected after 246ms
2022-11-08 19:11:41,041 [s1@group-018BB67FA3F1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-018BB67FA3F1-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s1/5880a42c-96e5-4312-87f8-018bb67fa3f1/current/log_inprogress_0
2022-11-08 19:11:41,049 [s1@group-018BB67FA3F1-LeaderElection40] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-018BB67FA3F1: set configuration 0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:41,050 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-018BB67FA3F1: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:1495, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:42961"
dataStreamAddress: "localhost:40455"
clientAddress: "localhost:35963"
adminAddress: "localhost:43127"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:45081"
dataStreamAddress: "localhost:45633"
clientAddress: "localhost:41471"
adminAddress: "localhost:42947"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37543"
dataStreamAddress: "localhost:42433"
clientAddress: "localhost:37527"
adminAddress: "localhost:38047"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:41,055 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-018BB67FA3F1: set configuration 0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:41,055 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-018BB67FA3F1-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:41,057 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-018BB67FA3F1: change Leader from null to s1 at term 1 for appendEntries, leader elected after 253ms
2022-11-08 19:11:41,060 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-018BB67FA3F1: receive appendEntries(s1, 1, null, 0, true, commits:[s1:c0, s0:c-1, s2:c-1], cId:1498, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:42961"
dataStreamAddress: "localhost:40455"
clientAddress: "localhost:35963"
adminAddress: "localhost:43127"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:45081"
dataStreamAddress: "localhost:45633"
clientAddress: "localhost:41471"
adminAddress: "localhost:42947"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37543"
dataStreamAddress: "localhost:42433"
clientAddress: "localhost:37527"
adminAddress: "localhost:38047"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:41,060 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-018BB67FA3F1: set configuration 0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:41,060 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-018BB67FA3F1-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:41,063 [s0@group-018BB67FA3F1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-018BB67FA3F1-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s0/5880a42c-96e5-4312-87f8-018bb67fa3f1/current/log_inprogress_0
2022-11-08 19:11:41,065 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-018BB67FA3F1: succeeded to handle AppendEntries. Reply: s1<-s0#1495:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:11:41,070 [s2@group-018BB67FA3F1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-018BB67FA3F1-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcf5f3bf47/s2/5880a42c-96e5-4312-87f8-018bb67fa3f1/current/log_inprogress_0
2022-11-08 19:11:41,071 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-018BB67FA3F1: succeeded to handle AppendEntries. Reply: s1<-s2#1498:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-08 19:11:41,291 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-018BB67FA3F1:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-018BB67FA3F1-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-018BB67FA3F1:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-018BB67FA3F1-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-018BB67FA3F1:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-018BB67FA3F1-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:41,292 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:41,293 [HandlerDaemon-0] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2022-11-08 19:11:41,293 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1188)) - s1@group-018BB67FA3F1: receive setConfiguration SetConfigurationRequest:client-7575CBE2EDD4->s1@group-018BB67FA3F1, cid=1521, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER], listeners:[]
2022-11-08 19:11:41,293 [s1-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(377)) - s1@group-018BB67FA3F1-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-7575CBE2EDD4->s1@group-018BB67FA3F1, cid=1521, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER], listeners:[]
2022-11-08 19:11:41,294 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-018BB67FA3F1: set configuration 1: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-08 19:11:41,295 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-018BB67FA3F1: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:1524, entries: [(t:1, i:1), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:42961"
dataStreamAddress: "localhost:40455"
clientAddress: "localhost:35963"
adminAddress: "localhost:43127"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:45081"
dataStreamAddress: "localhost:45633"
clientAddress: "localhost:41471"
adminAddress: "localhost:42947"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37543"
dataStreamAddress: "localhost:42433"
clientAddress: "localhost:37527"
adminAddress: "localhost:38047"
startupRole: FOLLOWER
)]
2022-11-08 19:11:41,295 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-018BB67FA3F1: set configuration 1: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-08 19:11:41,296 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-018BB67FA3F1: succeeded to handle AppendEntries. Reply: s1<-s2#1524:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-08 19:11:41,296 [s1@group-018BB67FA3F1-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-018BB67FA3F1: set configuration 3: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:41,297 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-018BB67FA3F1: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:1525, entries: [(t:1, i:2), METADATAENTRY(c:1), (t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:41,297 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-018BB67FA3F1: set configuration 3: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:41,298 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-018BB67FA3F1: succeeded to handle AppendEntries. Reply: s1<-s2#1525:OK-t1,SUCCESS,nextIndex=4,followerCommit=1,matchIndex=3
2022-11-08 19:11:41,298 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-018BB67FA3F1: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c0, s2:c1], cId:1526, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2022-11-08 19:11:41,299 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-018BB67FA3F1: succeeded to handle AppendEntries. Reply: s1<-s2#1526:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-11-08 19:11:41,302 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s1@group-018BB67FA3F1: receive client request(RaftClientRequest:client-7575CBE2EDD4->s1@group-018BB67FA3F1, cid=1527, seq=0, RW, message)
2022-11-08 19:11:41,302 [HandlerDaemon-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2022-11-08 19:11:41,302 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(1080)) - s1@group-018BB67FA3F1: receive transferLeadership TransferLeadershipRequest:client-7575CBE2EDD4->s1@group-018BB67FA3F1, cid=1528, seq=0, RO, null
2022-11-08 19:11:41,302 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(410)) - s1@group-018BB67FA3F1-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-7575CBE2EDD4->s1@group-018BB67FA3F1, cid=1527, seq=0, RW, message, entry=(t:1, i:5), STATEMACHINELOGENTRY, 1527@client-7575CBE2EDD4
2022-11-08 19:11:41,302 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-018BB67FA3F1: receive appendEntries(s1, 1, (t:1, i:4), 4, true, commits:[s1:c4, s0:c0, s2:c3], cId:1531, entries: [(t:1, i:5), STATEMACHINELOGENTRY, 1527@client-7575CBE2EDD4]
2022-11-08 19:11:41,303 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-018BB67FA3F1: succeeded to handle AppendEntries. Reply: s1<-s2#1531:OK-t1,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2022-11-08 19:11:41,305 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-018BB67FA3F1: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits:[s1:c5, s0:c0, s2:c4], cId:1532, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-08 19:11:41,305 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-018BB67FA3F1: succeeded to handle AppendEntries. Reply: s1<-s2#1532:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-08 19:11:41,531 [s0@group-018BB67FA3F1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-018BB67FA3F1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:314659514ns, electionTimeout:237ms
2022-11-08 19:11:41,531 [s0@group-018BB67FA3F1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-018BB67FA3F1-FollowerState
2022-11-08 19:11:41,531 [s0@group-018BB67FA3F1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-018BB67FA3F1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:41,531 [s0@group-018BB67FA3F1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:41,531 [s0@group-018BB67FA3F1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-018BB67FA3F1-LeaderElection41
2022-11-08 19:11:41,532 [s0@group-018BB67FA3F1-LeaderElection41] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-018BB67FA3F1: change Leader from s1 to null at term 1 for PRE_VOTE
2022-11-08 19:11:41,532 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:41,730 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-018BB67FA3F1-LeaderElection41: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-08 19:11:41,730 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 0: result TIMEOUT
2022-11-08 19:11:41,731 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 1: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:41,763 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:535942554ns, electionTimeout:274ms
2022-11-08 19:11:41,763 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:41,763 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:41,763 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:41,763 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection42
2022-11-08 19:11:41,763 [s0@group-338AD8D9D2CA-LeaderElection42] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-338AD8D9D2CA: change Leader from s1 to null at term 1 for PRE_VOTE
2022-11-08 19:11:41,763 [s0@group-338AD8D9D2CA-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection42 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:41,764 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:41,764 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:41,764 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:41,764 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:41,764 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:41,764 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:41,764 [s0@group-338AD8D9D2CA-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection42: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:41,764 [s0@group-338AD8D9D2CA-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:41,764 [s0@group-338AD8D9D2CA-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:41,764 [s0@group-338AD8D9D2CA-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection42 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:41,764 [s0@group-338AD8D9D2CA-LeaderElection42] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:41,764 [s0@group-338AD8D9D2CA-LeaderElection42] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection42
2022-11-08 19:11:41,764 [s0@group-338AD8D9D2CA-LeaderElection42] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:41,976 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:211250843ns, electionTimeout:211ms
2022-11-08 19:11:41,976 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:41,976 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:41,976 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:41,976 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection43
2022-11-08 19:11:41,976 [s0@group-338AD8D9D2CA-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection43 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:41,976 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:41,977 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:41,977 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:41,977 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:41,977 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:41,977 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:41,977 [s0@group-338AD8D9D2CA-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection43: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:41,977 [s0@group-338AD8D9D2CA-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:41,977 [s0@group-338AD8D9D2CA-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:41,977 [s0@group-338AD8D9D2CA-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection43 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:41,977 [s0@group-338AD8D9D2CA-LeaderElection43] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:41,977 [s0@group-338AD8D9D2CA-LeaderElection43] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection43
2022-11-08 19:11:41,977 [s0@group-338AD8D9D2CA-LeaderElection43] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:41,985 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-018BB67FA3F1-LeaderElection41: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-08 19:11:41,985 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 1: result TIMEOUT
2022-11-08 19:11:41,985 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 2: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:42,144 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:167339854ns, electionTimeout:167ms
2022-11-08 19:11:42,145 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:42,145 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:42,145 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:42,145 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection44
2022-11-08 19:11:42,145 [s0@group-338AD8D9D2CA-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection44 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:42,145 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:42,145 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:42,145 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:42,145 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:42,145 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:42,145 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:42,146 [s0@group-338AD8D9D2CA-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection44: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:42,146 [s0@group-338AD8D9D2CA-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:42,146 [s0@group-338AD8D9D2CA-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:42,146 [s0@group-338AD8D9D2CA-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection44 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:42,146 [s0@group-338AD8D9D2CA-LeaderElection44] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:42,146 [s0@group-338AD8D9D2CA-LeaderElection44] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection44
2022-11-08 19:11:42,146 [s0@group-338AD8D9D2CA-LeaderElection44] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:42,168 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-018BB67FA3F1-LeaderElection41: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-08 19:11:42,168 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 2: result TIMEOUT
2022-11-08 19:11:42,169 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 3: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:42,331 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:185277949ns, electionTimeout:185ms
2022-11-08 19:11:42,331 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:42,331 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:42,331 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:42,331 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection45
2022-11-08 19:11:42,332 [s0@group-338AD8D9D2CA-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection45 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:42,332 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:42,332 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:42,332 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:42,332 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:42,332 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:42,332 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:42,332 [s0@group-338AD8D9D2CA-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection45: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:42,332 [s0@group-338AD8D9D2CA-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:42,332 [s0@group-338AD8D9D2CA-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:42,332 [s0@group-338AD8D9D2CA-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection45 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:42,332 [s0@group-338AD8D9D2CA-LeaderElection45] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:42,332 [s0@group-338AD8D9D2CA-LeaderElection45] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection45
2022-11-08 19:11:42,333 [s0@group-338AD8D9D2CA-LeaderElection45] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:42,363 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-018BB67FA3F1-LeaderElection41: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-08 19:11:42,363 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 3: result TIMEOUT
2022-11-08 19:11:42,363 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 4: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:42,563 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:230274537ns, electionTimeout:230ms
2022-11-08 19:11:42,563 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:42,563 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:42,563 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:42,563 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection46
2022-11-08 19:11:42,563 [s0@group-338AD8D9D2CA-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection46 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:42,564 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:42,564 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:42,564 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:42,564 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:42,564 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:42,564 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:42,564 [s0@group-338AD8D9D2CA-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection46: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:42,564 [s0@group-338AD8D9D2CA-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:42,564 [s0@group-338AD8D9D2CA-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:42,564 [s0@group-338AD8D9D2CA-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection46 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:42,564 [s0@group-338AD8D9D2CA-LeaderElection46] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:42,564 [s0@group-338AD8D9D2CA-LeaderElection46] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection46
2022-11-08 19:11:42,564 [s0@group-338AD8D9D2CA-LeaderElection46] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:42,663 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-018BB67FA3F1-LeaderElection41: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-08 19:11:42,663 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 4: result TIMEOUT
2022-11-08 19:11:42,663 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 5: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:42,759 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:194424247ns, electionTimeout:194ms
2022-11-08 19:11:42,759 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:42,759 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:42,759 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:42,759 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection47
2022-11-08 19:11:42,759 [s0@group-338AD8D9D2CA-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection47 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:42,761 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:42,761 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:42,761 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:42,761 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:42,761 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:42,761 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:42,761 [s0@group-338AD8D9D2CA-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection47: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:42,761 [s0@group-338AD8D9D2CA-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:42,761 [s0@group-338AD8D9D2CA-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:42,761 [s0@group-338AD8D9D2CA-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection47 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:42,761 [s0@group-338AD8D9D2CA-LeaderElection47] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:42,761 [s0@group-338AD8D9D2CA-LeaderElection47] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection47
2022-11-08 19:11:42,761 [s0@group-338AD8D9D2CA-LeaderElection47] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:42,887 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-018BB67FA3F1-LeaderElection41: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-08 19:11:42,887 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 5: result TIMEOUT
2022-11-08 19:11:42,887 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 6: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:43,041 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:279313623ns, electionTimeout:279ms
2022-11-08 19:11:43,041 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:43,041 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:43,041 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:43,041 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection48
2022-11-08 19:11:43,041 [s0@group-338AD8D9D2CA-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection48 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:43,041 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:43,041 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:43,042 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:43,042 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:43,042 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:43,042 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:43,042 [s0@group-338AD8D9D2CA-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection48: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:43,042 [s0@group-338AD8D9D2CA-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:43,042 [s0@group-338AD8D9D2CA-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:43,042 [s0@group-338AD8D9D2CA-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection48 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:43,042 [s0@group-338AD8D9D2CA-LeaderElection48] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:43,042 [s0@group-338AD8D9D2CA-LeaderElection48] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection48
2022-11-08 19:11:43,042 [s0@group-338AD8D9D2CA-LeaderElection48] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:43,096 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-018BB67FA3F1-LeaderElection41: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-08 19:11:43,097 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 6: result TIMEOUT
2022-11-08 19:11:43,097 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 7: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:43,203 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:160898256ns, electionTimeout:160ms
2022-11-08 19:11:43,203 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:43,203 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:43,203 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:43,203 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection49
2022-11-08 19:11:43,204 [s0@group-338AD8D9D2CA-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection49 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:43,204 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:43,204 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:43,204 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:43,204 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:43,204 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:43,204 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:43,204 [s0@group-338AD8D9D2CA-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection49: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:43,204 [s0@group-338AD8D9D2CA-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:43,204 [s0@group-338AD8D9D2CA-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:43,204 [s0@group-338AD8D9D2CA-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection49 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:43,204 [s0@group-338AD8D9D2CA-LeaderElection49] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:43,204 [s0@group-338AD8D9D2CA-LeaderElection49] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection49
2022-11-08 19:11:43,205 [s0@group-338AD8D9D2CA-LeaderElection49] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:43,326 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-018BB67FA3F1-LeaderElection41: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-08 19:11:43,326 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 7: result TIMEOUT
2022-11-08 19:11:43,326 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 8: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:43,412 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:207265043ns, electionTimeout:207ms
2022-11-08 19:11:43,412 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:43,412 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:43,412 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:43,412 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection50
2022-11-08 19:11:43,412 [s0@group-338AD8D9D2CA-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection50 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:43,413 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:43,413 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:43,413 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:43,413 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:43,413 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:43,413 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:43,413 [s0@group-338AD8D9D2CA-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection50: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:43,413 [s0@group-338AD8D9D2CA-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:43,413 [s0@group-338AD8D9D2CA-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:43,413 [s0@group-338AD8D9D2CA-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection50 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:43,413 [s0@group-338AD8D9D2CA-LeaderElection50] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:43,413 [s0@group-338AD8D9D2CA-LeaderElection50] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection50
2022-11-08 19:11:43,413 [s0@group-338AD8D9D2CA-LeaderElection50] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:43,565 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-018BB67FA3F1-LeaderElection41: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-08 19:11:43,565 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 8: result TIMEOUT
2022-11-08 19:11:43,565 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 9: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:43,700 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:286370821ns, electionTimeout:286ms
2022-11-08 19:11:43,700 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:43,700 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:43,700 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:43,700 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection51
2022-11-08 19:11:43,701 [s0@group-338AD8D9D2CA-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection51 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:43,701 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:43,701 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:43,701 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:43,701 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:43,701 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:43,701 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:43,701 [s0@group-338AD8D9D2CA-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection51: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:43,701 [s0@group-338AD8D9D2CA-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:43,701 [s0@group-338AD8D9D2CA-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:43,701 [s0@group-338AD8D9D2CA-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection51 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:43,701 [s0@group-338AD8D9D2CA-LeaderElection51] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:43,701 [s0@group-338AD8D9D2CA-LeaderElection51] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection51
2022-11-08 19:11:43,701 [s0@group-338AD8D9D2CA-LeaderElection51] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:43,789 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-018BB67FA3F1-LeaderElection41: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-08 19:11:43,789 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 9: result TIMEOUT
2022-11-08 19:11:43,789 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 10: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:43,960 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:258387229ns, electionTimeout:258ms
2022-11-08 19:11:43,960 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:43,960 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:43,960 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:43,960 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection52
2022-11-08 19:11:43,960 [s0@group-338AD8D9D2CA-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection52 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:43,961 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:43,961 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:43,961 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:43,961 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:43,961 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:43,961 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:43,961 [s0@group-338AD8D9D2CA-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection52: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:43,961 [s0@group-338AD8D9D2CA-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:43,961 [s0@group-338AD8D9D2CA-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:43,961 [s0@group-338AD8D9D2CA-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection52 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:43,962 [s0@group-338AD8D9D2CA-LeaderElection52] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:43,962 [s0@group-338AD8D9D2CA-LeaderElection52] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection52
2022-11-08 19:11:43,962 [s0@group-338AD8D9D2CA-LeaderElection52] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:44,057 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-018BB67FA3F1-LeaderElection41: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-08 19:11:44,057 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 10: result TIMEOUT
2022-11-08 19:11:44,057 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 11: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:44,145 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:183450950ns, electionTimeout:183ms
2022-11-08 19:11:44,145 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:44,145 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:44,145 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:44,145 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection53
2022-11-08 19:11:44,145 [s0@group-338AD8D9D2CA-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection53 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:44,146 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:44,146 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:44,146 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:44,146 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:44,146 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:44,146 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:44,146 [s0@group-338AD8D9D2CA-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection53: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:44,146 [s0@group-338AD8D9D2CA-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:44,146 [s0@group-338AD8D9D2CA-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:44,146 [s0@group-338AD8D9D2CA-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection53 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:44,146 [s0@group-338AD8D9D2CA-LeaderElection53] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:44,146 [s0@group-338AD8D9D2CA-LeaderElection53] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection53
2022-11-08 19:11:44,147 [s0@group-338AD8D9D2CA-LeaderElection53] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:44,293 [s1@group-018BB67FA3F1->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s1@group-018BB67FA3F1->s0-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: Timeout while waiting for reply of request org.apache.ratis.server.simulation.RaftServerRequest@51f1fbc0
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:44,302 [s1@group-338AD8D9D2CA->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s1@group-338AD8D9D2CA->s0-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: Timeout while waiting for reply of request org.apache.ratis.server.simulation.RaftServerRequest@7706b6b4
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:44,306 [Thread-729] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-7575CBE2EDD4: suggested new leader: null. Failed TransferLeadershipRequest:client-7575CBE2EDD4->s1@group-018BB67FA3F1, cid=1528, seq=0, RO, null with {}
java.io.IOException: Timeout while waiting for reply of request TransferLeadershipRequest:client-7575CBE2EDD4->s1@group-018BB67FA3F1, cid=1528, seq=0, RO, null
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:134)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:99)
	at org.apache.ratis.client.impl.AdminImpl.transferLeadership(AdminImpl.java:53)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testTransferLeaderTimeout$1(LeaderElectionTests.java:232)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:44,307 [Thread-729] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-7575CBE2EDD4: oldLeader=s1,  curLeader=s1, newLeader=s0
2022-11-08 19:11:44,307 [Thread-729] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-018BB67FA3F1 client-7575CBE2EDD4: client change Leader from s1 to s0 ex=java.io.IOException
2022-11-08 19:11:44,318 [HandlerDaemon-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2022-11-08 19:11:44,327 [HandlerDaemon-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2022-11-08 19:11:44,331 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-018BB67FA3F1-LeaderElection41: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-08 19:11:44,331 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 11: result TIMEOUT
2022-11-08 19:11:44,331 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 12: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:44,379 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:232344637ns, electionTimeout:232ms
2022-11-08 19:11:44,379 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:44,379 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:44,379 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:44,379 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection54
2022-11-08 19:11:44,380 [s0@group-338AD8D9D2CA-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection54 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:44,381 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:44,381 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:44,381 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:44,381 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:44,381 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:44,381 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:44,381 [s0@group-338AD8D9D2CA-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection54: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:44,381 [s0@group-338AD8D9D2CA-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:44,381 [s0@group-338AD8D9D2CA-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:44,381 [s0@group-338AD8D9D2CA-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection54 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:44,381 [s0@group-338AD8D9D2CA-LeaderElection54] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:44,381 [s0@group-338AD8D9D2CA-LeaderElection54] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection54
2022-11-08 19:11:44,381 [s0@group-338AD8D9D2CA-LeaderElection54] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:44,408 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(1080)) - s0@group-018BB67FA3F1: receive transferLeadership TransferLeadershipRequest:client-7575CBE2EDD4->s0@group-018BB67FA3F1, cid=1528, seq=0, RO, null
2022-11-08 19:11:44,409 [Thread-729] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-7575CBE2EDD4: suggested new leader: null. Failed TransferLeadershipRequest:client-7575CBE2EDD4->s0@group-018BB67FA3F1, cid=1528, seq=0, RO, null with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-018BB67FA3F1 is not the leader
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:732)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:697)
	at org.apache.ratis.server.impl.RaftServerImpl.transferLeadershipAsync(RaftServerImpl.java:1085)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$transferLeadershipAsync$24(RaftServerProxy.java:617)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$11(RaftServerImpl.java:813)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:44,409 [Thread-729] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-7575CBE2EDD4: oldLeader=s0,  curLeader=s0, newLeader=s1
2022-11-08 19:11:44,409 [Thread-729] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-018BB67FA3F1 client-7575CBE2EDD4: client change Leader from s0 to s1 ex=org.apache.ratis.protocol.exceptions.NotLeaderException
2022-11-08 19:11:44,499 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-018BB67FA3F1-LeaderElection41: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-08 19:11:44,499 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 12: result TIMEOUT
2022-11-08 19:11:44,499 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 13: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:44,509 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(1080)) - s1@group-018BB67FA3F1: receive transferLeadership TransferLeadershipRequest:client-7575CBE2EDD4->s1@group-018BB67FA3F1, cid=1528, seq=0, RO, null
2022-11-08 19:11:44,552 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:170462253ns, electionTimeout:170ms
2022-11-08 19:11:44,552 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:44,552 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:44,552 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:44,552 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection55
2022-11-08 19:11:44,552 [s0@group-338AD8D9D2CA-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection55 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:44,552 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:44,552 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:44,553 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:44,553 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:44,553 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:44,553 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:44,553 [s0@group-338AD8D9D2CA-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection55: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:44,553 [s0@group-338AD8D9D2CA-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:44,553 [s0@group-338AD8D9D2CA-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:44,553 [s0@group-338AD8D9D2CA-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection55 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:44,553 [s0@group-338AD8D9D2CA-LeaderElection55] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:44,553 [s0@group-338AD8D9D2CA-LeaderElection55] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection55
2022-11-08 19:11:44,553 [s0@group-338AD8D9D2CA-LeaderElection55] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:44,688 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-018BB67FA3F1-LeaderElection41: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-08 19:11:44,689 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 13: result TIMEOUT
2022-11-08 19:11:44,689 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 14: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:44,827 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:273449825ns, electionTimeout:273ms
2022-11-08 19:11:44,827 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:44,827 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:44,827 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:44,827 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection56
2022-11-08 19:11:44,827 [s0@group-338AD8D9D2CA-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection56 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:44,828 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:44,828 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:44,828 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:44,828 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:44,828 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:44,828 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:44,828 [s0@group-338AD8D9D2CA-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection56: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:44,828 [s0@group-338AD8D9D2CA-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:44,828 [s0@group-338AD8D9D2CA-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:44,828 [s0@group-338AD8D9D2CA-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection56 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:44,828 [s0@group-338AD8D9D2CA-LeaderElection56] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:44,828 [s0@group-338AD8D9D2CA-LeaderElection56] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection56
2022-11-08 19:11:44,828 [s0@group-338AD8D9D2CA-LeaderElection56] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:44,910 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-018BB67FA3F1-LeaderElection41: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-08 19:11:44,910 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 14: result TIMEOUT
2022-11-08 19:11:44,910 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 15: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:45,102 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:273568825ns, electionTimeout:273ms
2022-11-08 19:11:45,102 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:45,102 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:45,102 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:45,102 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection57
2022-11-08 19:11:45,103 [s0@group-338AD8D9D2CA-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection57 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:45,103 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:45,103 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:45,103 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:45,103 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:45,104 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:45,104 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:45,104 [s0@group-338AD8D9D2CA-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection57: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:45,104 [s0@group-338AD8D9D2CA-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:45,104 [s0@group-338AD8D9D2CA-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:45,104 [s0@group-338AD8D9D2CA-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection57 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:45,104 [s0@group-338AD8D9D2CA-LeaderElection57] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:45,104 [s0@group-338AD8D9D2CA-LeaderElection57] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection57
2022-11-08 19:11:45,104 [s0@group-338AD8D9D2CA-LeaderElection57] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:45,146 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-018BB67FA3F1-LeaderElection41: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-08 19:11:45,146 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 15: result TIMEOUT
2022-11-08 19:11:45,146 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 16: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:45,301 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-018BB67FA3F1-LeaderElection41: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-08 19:11:45,301 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 16: result TIMEOUT
2022-11-08 19:11:45,301 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 17: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:45,383 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:279394524ns, electionTimeout:279ms
2022-11-08 19:11:45,383 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:45,383 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:45,383 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:45,383 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection58
2022-11-08 19:11:45,384 [s0@group-338AD8D9D2CA-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection58 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:45,384 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:45,384 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:45,384 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:45,384 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:45,384 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:45,384 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:45,384 [s0@group-338AD8D9D2CA-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection58: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:45,384 [s0@group-338AD8D9D2CA-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:45,385 [s0@group-338AD8D9D2CA-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:45,385 [s0@group-338AD8D9D2CA-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection58 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:45,385 [s0@group-338AD8D9D2CA-LeaderElection58] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:45,385 [s0@group-338AD8D9D2CA-LeaderElection58] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection58
2022-11-08 19:11:45,385 [s0@group-338AD8D9D2CA-LeaderElection58] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:45,601 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-018BB67FA3F1-LeaderElection41: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-08 19:11:45,601 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 17: result TIMEOUT
2022-11-08 19:11:45,601 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 18: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:45,683 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:298398218ns, electionTimeout:298ms
2022-11-08 19:11:45,683 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:45,683 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:45,683 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:45,683 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection59
2022-11-08 19:11:45,684 [s0@group-338AD8D9D2CA-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection59 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:45,684 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:45,684 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:45,684 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:45,685 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:45,685 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:45,685 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:45,685 [s0@group-338AD8D9D2CA-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection59: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:45,685 [s0@group-338AD8D9D2CA-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:45,685 [s0@group-338AD8D9D2CA-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:45,685 [s0@group-338AD8D9D2CA-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection59 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:45,685 [s0@group-338AD8D9D2CA-LeaderElection59] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:45,685 [s0@group-338AD8D9D2CA-LeaderElection59] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection59
2022-11-08 19:11:45,685 [s0@group-338AD8D9D2CA-LeaderElection59] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:45,858 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-018BB67FA3F1-LeaderElection41: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-08 19:11:45,858 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 18: result TIMEOUT
2022-11-08 19:11:45,858 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 19: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:45,862 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:177263652ns, electionTimeout:177ms
2022-11-08 19:11:45,862 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:45,863 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:45,863 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:45,863 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection60
2022-11-08 19:11:45,863 [s0@group-338AD8D9D2CA-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection60 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:45,863 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:45,863 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:45,863 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:45,864 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:45,864 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:45,864 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:45,864 [s0@group-338AD8D9D2CA-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection60: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:45,864 [s0@group-338AD8D9D2CA-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:45,864 [s0@group-338AD8D9D2CA-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:45,864 [s0@group-338AD8D9D2CA-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection60 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:45,864 [s0@group-338AD8D9D2CA-LeaderElection60] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:45,864 [s0@group-338AD8D9D2CA-LeaderElection60] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection60
2022-11-08 19:11:45,864 [s0@group-338AD8D9D2CA-LeaderElection60] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:46,038 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-018BB67FA3F1-LeaderElection41: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-11-08 19:11:46,038 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 19: result TIMEOUT
2022-11-08 19:11:46,038 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 20: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:46,052 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:188399748ns, electionTimeout:188ms
2022-11-08 19:11:46,053 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:46,053 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:46,053 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:46,053 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection61
2022-11-08 19:11:46,053 [s0@group-338AD8D9D2CA-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection61 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:46,053 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:46,053 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:46,053 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:46,053 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:46,053 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:46,053 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:46,055 [s0@group-338AD8D9D2CA-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection61: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:46,055 [s0@group-338AD8D9D2CA-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:46,055 [s0@group-338AD8D9D2CA-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:46,055 [s0@group-338AD8D9D2CA-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection61 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:46,055 [s0@group-338AD8D9D2CA-LeaderElection61] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:46,055 [s0@group-338AD8D9D2CA-LeaderElection61] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection61
2022-11-08 19:11:46,055 [s0@group-338AD8D9D2CA-LeaderElection61] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:46,305 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s1@group-018BB67FA3F1: receive client request(RaftClientRequest:client-7575CBE2EDD4->s1@group-018BB67FA3F1, cid=1799, seq=0, RW, message)
2022-11-08 19:11:46,306 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(410)) - s1@group-018BB67FA3F1-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-7575CBE2EDD4->s1@group-018BB67FA3F1, cid=1799, seq=0, RW, message, entry=(t:1, i:7), STATEMACHINELOGENTRY, 1799@client-7575CBE2EDD4
2022-11-08 19:11:46,306 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-018BB67FA3F1: receive appendEntries(s1, 1, (t:1, i:6), 6, true, commits:[s1:c6, s0:c0, s2:c6], cId:1800, entries: [(t:1, i:7), STATEMACHINELOGENTRY, 1799@client-7575CBE2EDD4]
2022-11-08 19:11:46,307 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-018BB67FA3F1: succeeded to handle AppendEntries. Reply: s1<-s2#1800:OK-t1,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2022-11-08 19:11:46,312 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-08 19:11:46,312 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-08 19:11:46,312 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:46,312 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-08 19:11:46,312 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-08 19:11:46,312 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-018BB67FA3F1: receive appendEntries(s1, 1, (t:1, i:7), 7, true, commits:[s1:c7, s0:c0, s2:c6], cId:1801, entries: [(t:1, i:8), METADATAENTRY(c:7)]
2022-11-08 19:11:46,312 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-018BB67FA3F1:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-018BB67FA3F1-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-018BB67FA3F1:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-018BB67FA3F1-SegmentedRaftLog:OPENED:c7, conf=3: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-018BB67FA3F1:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-018BB67FA3F1-SegmentedRaftLog:OPENED:c6, conf=3: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:46,313 [MiniRaftCluster-41] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-08 19:11:46,313 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-018BB67FA3F1: succeeded to handle AppendEntries. Reply: s1<-s2#1801:OK-t1,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2022-11-08 19:11:46,313 [MiniRaftCluster-42] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-08 19:11:46,314 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:46,314 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:46,314 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:46,314 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-018BB67FA3F1: shutdown
2022-11-08 19:11:46,314 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:46,314 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-018BB67FA3F1,id=s1
2022-11-08 19:11:46,314 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-018BB67FA3F1-LeaderStateImpl
2022-11-08 19:11:46,314 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:46,314 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-018BB67FA3F1-PendingRequests: sendNotLeaderResponses
2022-11-08 19:11:46,314 [s1@group-018BB67FA3F1->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-018BB67FA3F1->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-08 19:11:46,314 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:46,314 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-018BB67FA3F1: shutdown
2022-11-08 19:11:46,319 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-018BB67FA3F1,id=s0
2022-11-08 19:11:46,319 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-018BB67FA3F1-LeaderElection41
2022-11-08 19:11:46,319 [HandlerDaemon-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2022-11-08 19:11:46,319 [s1@group-018BB67FA3F1->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-018BB67FA3F1->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:46,319 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-018BB67FA3F1-StateMachineUpdater: set stopIndex = 8
2022-11-08 19:11:46,319 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-018BB67FA3F1: applyIndex: 8
2022-11-08 19:11:46,319 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-018BB67FA3F1-StateMachineUpdater: set stopIndex = 0
2022-11-08 19:11:46,320 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-018BB67FA3F1: applyIndex: 0
2022-11-08 19:11:46,320 [s0@group-018BB67FA3F1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s0@group-018BB67FA3F1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:46,320 [s1@group-018BB67FA3F1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s1@group-018BB67FA3F1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:46,320 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:46,319 [HandlerDaemon-0] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2022-11-08 19:11:46,320 [MiniRaftCluster-43] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-08 19:11:46,320 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:46,320 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:46,321 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:46,321 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-018BB67FA3F1-SegmentedRaftLogWorker close()
2022-11-08 19:11:46,322 [JvmPauseMonitor32] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-08 19:11:46,322 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-018BB67FA3F1: shutdown
2022-11-08 19:11:46,322 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:46,322 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-018BB67FA3F1,id=s2
2022-11-08 19:11:46,322 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-018BB67FA3F1-FollowerState
2022-11-08 19:11:46,322 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-018BB67FA3F1-StateMachineUpdater: set stopIndex = 7
2022-11-08 19:11:46,322 [s2@group-018BB67FA3F1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-018BB67FA3F1-FollowerState was interrupted
2022-11-08 19:11:46,323 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-018BB67FA3F1: applyIndex: 7
2022-11-08 19:11:46,323 [s2@group-018BB67FA3F1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s2@group-018BB67FA3F1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:46,323 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-018BB67FA3F1-SegmentedRaftLogWorker close()
2022-11-08 19:11:46,324 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-018BB67FA3F1-SegmentedRaftLogWorker close()
2022-11-08 19:11:46,325 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:46,325 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:46,325 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:46,325 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:46,325 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:46,326 [JvmPauseMonitor34] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-08 19:11:46,326 [JvmPauseMonitor33] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-08 19:11:46,326 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-08 19:11:46,326 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-08 19:11:46,326 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-08 19:11:46,326 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:46,326 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-08 19:11:46,326 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-08 19:11:46,326 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED CANDIDATE s0@group-018BB67FA3F1:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-018BB67FA3F1-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s0|rpc:localhost:42961|admin:localhost:43127|client:localhost:35963|dataStream:localhost:40455|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45081|admin:localhost:42947|client:localhost:41471|dataStream:localhost:45633|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:38047|client:localhost:37527|dataStream:localhost:42433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-018BB67FA3F1:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-018BB67FA3F1-SegmentedRaftLog:CLOSED:c8, conf=3: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-018BB67FA3F1:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-018BB67FA3F1-SegmentedRaftLog:CLOSED:c7, conf=3: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2022-11-08 19:11:46,327 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-08 19:11:46,327 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-08 19:11:46,328 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-08 19:11:46,328 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-08 19:11:46,328 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-08 19:11:46,328 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testBasicLeaderElection(87)) - Running testBasicLeaderElection
2022-11-08 19:11:46,328 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-08 19:11:46,329 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-3DE83109F7EE:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]
2022-11-08 19:11:46,329 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-08 19:11:46,329 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-08 19:11:46,329 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:46,329 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-08 19:11:46,329 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-08 19:11:46,329 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-08 19:11:46,329 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-3DE83109F7EE:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:46,329 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s3
2022-11-08 19:11:46,329 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s3 does not exist.
2022-11-08 19:11:46,329 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s3
2022-11-08 19:11:46,329 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:46,329 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:46,329 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:46,330 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:46,330 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:46,330 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:46,330 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s3] (custom)
2022-11-08 19:11:46,330 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-3DE83109F7EE:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER] returns group-3DE83109F7EE:java.util.concurrent.CompletableFuture@bc7a259[Not completed]
2022-11-08 19:11:46,330 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s4, group-3DE83109F7EE:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:46,330 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s4
2022-11-08 19:11:46,330 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s4 does not exist.
2022-11-08 19:11:46,330 [pool-36-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-3DE83109F7EE:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:46,330 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-018BB67FA3F1-LeaderElection41: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2022-11-08 19:11:46,331 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:46,331 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:46,330 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s4
2022-11-08 19:11:46,331 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:46,331 [s0@group-018BB67FA3F1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-018BB67FA3F1-LeaderElection41 PRE_VOTE round 20: result REJECTED
2022-11-08 19:11:46,331 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:46,331 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:46,331 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:46,331 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:46,331 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:46,331 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:46,331 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:46,331 [pool-36-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-3DE83109F7EE: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:46,331 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:46,331 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:46,331 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:46,331 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:46,332 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:46,333 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:46,333 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:46,333 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:46,333 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:46,333 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:46,333 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:46,333 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:46,333 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s4] (custom)
2022-11-08 19:11:46,338 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s4: addNew group-3DE83109F7EE:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER] returns group-3DE83109F7EE:java.util.concurrent.CompletableFuture@7fc1c1a5[Not completed]
2022-11-08 19:11:46,338 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-3DE83109F7EE:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:46,338 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s0
2022-11-08 19:11:46,338 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s0 does not exist.
2022-11-08 19:11:46,338 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s0
2022-11-08 19:11:46,339 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:46,339 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:46,339 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:46,339 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:46,339 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:46,339 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:46,339 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s0] (custom)
2022-11-08 19:11:46,339 [pool-37-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s4: new RaftServerImpl for group-3DE83109F7EE:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:46,339 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:46,339 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:46,339 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:46,339 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:46,339 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:46,339 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:46,339 [pool-37-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-3DE83109F7EE: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:46,340 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:46,340 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:46,340 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:46,340 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:46,340 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:46,341 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:46,341 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:46,341 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:46,341 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:46,341 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:46,341 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-3DE83109F7EE:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER] returns group-3DE83109F7EE:java.util.concurrent.CompletableFuture@79e8e999[Not completed]
2022-11-08 19:11:46,341 [pool-38-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-3DE83109F7EE:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:46,341 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-3DE83109F7EE:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:46,341 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s1
2022-11-08 19:11:46,341 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:46,341 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:46,341 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:46,341 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s1 does not exist.
2022-11-08 19:11:46,341 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s1
2022-11-08 19:11:46,341 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:46,341 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:46,341 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:46,341 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:46,341 [pool-38-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-3DE83109F7EE: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:46,341 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:46,341 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:46,341 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:46,341 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:46,341 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:46,341 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:46,342 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:46,342 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:46,342 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:46,342 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:46,342 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s1] (custom)
2022-11-08 19:11:46,343 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:46,343 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:46,343 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:46,343 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:46,343 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:46,343 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-3DE83109F7EE:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER] returns group-3DE83109F7EE:java.util.concurrent.CompletableFuture@2aa40841[Not completed]
2022-11-08 19:11:46,343 [pool-39-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-3DE83109F7EE:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:46,343 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-3DE83109F7EE:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:46,343 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s2
2022-11-08 19:11:46,343 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:46,343 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:46,343 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s2 does not exist.
2022-11-08 19:11:46,343 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s2
2022-11-08 19:11:46,343 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:46,343 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:46,343 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:46,343 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:46,343 [pool-39-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-3DE83109F7EE: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:46,343 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:46,343 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:46,344 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:46,344 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:46,344 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:46,344 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:46,344 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:46,344 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:46,344 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:46,344 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:46,344 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:46,344 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s2] (custom)
2022-11-08 19:11:46,345 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:46,345 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:46,345 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:46,345 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:46,345 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:46,347 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-3DE83109F7EE:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER] returns group-3DE83109F7EE:java.util.concurrent.CompletableFuture@57c5b504[Not completed]
2022-11-08 19:11:46,347 [pool-40-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-3DE83109F7EE:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:46,347 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:46,347 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:46,347 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:46,351 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-338AD8D9D2CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:295441220ns, electionTimeout:295ms
2022-11-08 19:11:46,351 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:46,351 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:46,351 [s0@group-338AD8D9D2CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:46,351 [s0@group-338AD8D9D2CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-LeaderElection62
2022-11-08 19:11:46,347 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s3] (custom)
2022-11-08 19:11:46,351 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s3/fcd209ee-68ed-40d1-acb5-3de83109f7ee does not exist. Creating ...
2022-11-08 19:11:46,351 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s3/fcd209ee-68ed-40d1-acb5-3de83109f7ee
2022-11-08 19:11:46,352 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:46,352 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:46,352 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:46,352 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:46,352 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:46,352 [pool-40-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-3DE83109F7EE: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:46,352 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:46,352 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:46,352 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:46,353 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:46,353 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:46,353 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s3/fcd209ee-68ed-40d1-acb5-3de83109f7ee/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:46,353 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s3/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current
2022-11-08 19:11:46,353 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s3/fcd209ee-68ed-40d1-acb5-3de83109f7ee/sm
2022-11-08 19:11:46,354 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s3/fcd209ee-68ed-40d1-acb5-3de83109f7ee has been successfully formatted.
2022-11-08 19:11:46,354 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:46,354 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:46,354 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:46,354 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:46,354 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:46,355 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:46,355 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:46,355 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:46,355 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s3@group-3DE83109F7EE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s3/fcd209ee-68ed-40d1-acb5-3de83109f7ee
2022-11-08 19:11:46,355 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:46,355 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:46,355 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:46,355 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:46,355 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:46,355 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:46,355 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:46,355 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:46,355 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:46,356 [s0@group-338AD8D9D2CA-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-338AD8D9D2CA-LeaderElection62 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:46,357 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:46,357 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:46,357 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:46,357 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:46,357 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-3DE83109F7EE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:46,357 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-3DE83109F7EE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:46,357 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:46,357 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:46,358 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:46,358 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:46,358 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:46,358 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:46,358 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-338AD8D9D2CA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:46,358 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:46,358 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-338AD8D9D2CA: receive requestVote(PRE_VOTE, s0, group-338AD8D9D2CA, 1, (t:1, i:0))
2022-11-08 19:11:46,358 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-338AD8D9D2CA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:46,358 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-338AD8D9D2CA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-338AD8D9D2CA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-338AD8D9D2CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39205|admin:localhost:39823|client:localhost:45279|dataStream:localhost:38661|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36533|admin:localhost:43127|client:localhost:43643|dataStream:localhost:33815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34167|admin:localhost:34219|client:localhost:35275|dataStream:localhost:42073|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:46,358 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s3@group-3DE83109F7EE: start as a follower, conf=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:46,358 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-3DE83109F7EE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:46,358 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:46,358 [s0@group-338AD8D9D2CA-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-338AD8D9D2CA-LeaderElection62: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:46,359 [s0@group-338AD8D9D2CA-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:46,359 [s0@group-338AD8D9D2CA-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-11-08 19:11:46,359 [s0@group-338AD8D9D2CA-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-338AD8D9D2CA-LeaderElection62 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:46,359 [s3@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:46,359 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3DE83109F7EE,id=s3
2022-11-08 19:11:46,359 [s0@group-338AD8D9D2CA-LeaderElection62] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-338AD8D9D2CA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-11-08 19:11:46,359 [s0@group-338AD8D9D2CA-LeaderElection62] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-338AD8D9D2CA-LeaderElection62
2022-11-08 19:11:46,359 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:46,359 [s0@group-338AD8D9D2CA-LeaderElection62] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-338AD8D9D2CA-FollowerState
2022-11-08 19:11:46,359 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:46,359 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:46,360 [s3@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:46,360 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s3: start RPC server
2022-11-08 19:11:46,375 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:46,376 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:46,376 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s4] (custom)
2022-11-08 19:11:46,376 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s4/fcd209ee-68ed-40d1-acb5-3de83109f7ee does not exist. Creating ...
2022-11-08 19:11:46,376 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s4/fcd209ee-68ed-40d1-acb5-3de83109f7ee
2022-11-08 19:11:46,376 [JvmPauseMonitor35] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s3: Started
2022-11-08 19:11:46,377 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s4/fcd209ee-68ed-40d1-acb5-3de83109f7ee/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:46,377 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s4/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current
2022-11-08 19:11:46,377 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s4/fcd209ee-68ed-40d1-acb5-3de83109f7ee/sm
2022-11-08 19:11:46,380 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s4/fcd209ee-68ed-40d1-acb5-3de83109f7ee has been successfully formatted.
2022-11-08 19:11:46,381 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:46,381 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:46,381 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:46,381 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:46,381 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:46,381 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:46,381 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:46,381 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:46,381 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s4@group-3DE83109F7EE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s4/fcd209ee-68ed-40d1-acb5-3de83109f7ee
2022-11-08 19:11:46,381 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:46,381 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:46,381 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:46,381 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:46,381 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:46,381 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:46,381 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:46,382 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:46,382 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:46,382 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:46,382 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:46,382 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:46,382 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:46,382 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-3DE83109F7EE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:46,382 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-3DE83109F7EE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:46,382 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s4@group-3DE83109F7EE: start as a follower, conf=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:46,382 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3DE83109F7EE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:46,382 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:46,382 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3DE83109F7EE,id=s4
2022-11-08 19:11:46,382 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:46,382 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:46,382 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:46,383 [s4@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:46,383 [s4@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:46,383 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s4: start RPC server
2022-11-08 19:11:46,392 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:46,392 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:46,393 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s0] (custom)
2022-11-08 19:11:46,393 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s0/fcd209ee-68ed-40d1-acb5-3de83109f7ee does not exist. Creating ...
2022-11-08 19:11:46,393 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s0/fcd209ee-68ed-40d1-acb5-3de83109f7ee
2022-11-08 19:11:46,393 [JvmPauseMonitor36] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s4: Started
2022-11-08 19:11:46,394 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s0/fcd209ee-68ed-40d1-acb5-3de83109f7ee/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:46,394 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s0/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current
2022-11-08 19:11:46,394 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s0/fcd209ee-68ed-40d1-acb5-3de83109f7ee/sm
2022-11-08 19:11:46,394 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s0/fcd209ee-68ed-40d1-acb5-3de83109f7ee has been successfully formatted.
2022-11-08 19:11:46,395 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:46,395 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:46,395 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:46,395 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:46,395 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:46,395 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:46,395 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:46,395 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:46,396 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-3DE83109F7EE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s0/fcd209ee-68ed-40d1-acb5-3de83109f7ee
2022-11-08 19:11:46,396 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:46,396 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:46,396 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:46,396 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:46,396 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:46,396 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:46,396 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:46,396 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:46,396 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:46,396 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:46,396 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:46,396 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:46,396 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:46,396 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-3DE83109F7EE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:46,396 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-3DE83109F7EE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:46,396 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-3DE83109F7EE: start as a follower, conf=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:46,396 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-3DE83109F7EE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:46,396 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:46,400 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3DE83109F7EE,id=s0
2022-11-08 19:11:46,400 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:46,400 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:46,400 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:46,400 [s0@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:46,400 [s0@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:46,403 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-08 19:11:46,404 [HandlerDaemon-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2022-11-08 19:11:46,404 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-338AD8D9D2CA: change Leader from null to s1 at term 1 for appendEntries, leader elected after 4640ms
2022-11-08 19:11:46,404 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:46,404 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:46,404 [JvmPauseMonitor37] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-08 19:11:46,405 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s1] (custom)
2022-11-08 19:11:46,405 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s1/fcd209ee-68ed-40d1-acb5-3de83109f7ee does not exist. Creating ...
2022-11-08 19:11:46,405 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s1/fcd209ee-68ed-40d1-acb5-3de83109f7ee
2022-11-08 19:11:46,406 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s1/fcd209ee-68ed-40d1-acb5-3de83109f7ee/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:46,406 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s1/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current
2022-11-08 19:11:46,406 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s1/fcd209ee-68ed-40d1-acb5-3de83109f7ee/sm
2022-11-08 19:11:46,417 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s1/fcd209ee-68ed-40d1-acb5-3de83109f7ee has been successfully formatted.
2022-11-08 19:11:46,417 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:46,417 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:46,417 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:46,418 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:46,418 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:46,418 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:46,418 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:46,418 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:46,418 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-3DE83109F7EE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s1/fcd209ee-68ed-40d1-acb5-3de83109f7ee
2022-11-08 19:11:46,418 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:46,418 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:46,418 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:46,418 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:46,418 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:46,418 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:46,418 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:46,418 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:46,418 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:46,418 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:46,419 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:46,419 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:46,419 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:46,419 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-3DE83109F7EE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:46,419 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-3DE83109F7EE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:46,420 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-3DE83109F7EE: start as a follower, conf=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:46,420 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-3DE83109F7EE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:46,420 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:46,420 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3DE83109F7EE,id=s1
2022-11-08 19:11:46,420 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:46,420 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:46,420 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:46,420 [s1@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:46,420 [s1@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:46,421 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-08 19:11:46,421 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:46,421 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:46,421 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s2] (custom)
2022-11-08 19:11:46,422 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s2/fcd209ee-68ed-40d1-acb5-3de83109f7ee does not exist. Creating ...
2022-11-08 19:11:46,422 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s2/fcd209ee-68ed-40d1-acb5-3de83109f7ee
2022-11-08 19:11:46,421 [JvmPauseMonitor38] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-08 19:11:46,422 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s2/fcd209ee-68ed-40d1-acb5-3de83109f7ee/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:46,422 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s2/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current
2022-11-08 19:11:46,423 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s2/fcd209ee-68ed-40d1-acb5-3de83109f7ee/sm
2022-11-08 19:11:46,423 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s2/fcd209ee-68ed-40d1-acb5-3de83109f7ee has been successfully formatted.
2022-11-08 19:11:46,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:46,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:46,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:46,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:46,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:46,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:46,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:46,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:46,424 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-3DE83109F7EE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s2/fcd209ee-68ed-40d1-acb5-3de83109f7ee
2022-11-08 19:11:46,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:46,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:46,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:46,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:46,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:46,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:46,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:46,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:46,425 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:46,425 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:46,425 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:46,425 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:46,425 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:46,425 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-3DE83109F7EE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:46,425 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-3DE83109F7EE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:46,428 [HandlerDaemon-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2022-11-08 19:11:46,428 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-3DE83109F7EE: start as a follower, conf=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:46,428 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-3DE83109F7EE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:46,428 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:46,429 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3DE83109F7EE,id=s2
2022-11-08 19:11:46,429 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:46,429 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:46,429 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:46,430 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-08 19:11:46,430 [s2@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:46,430 [s2@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:46,431 [JvmPauseMonitor39] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-08 19:11:46,431 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:46,431 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-3DE83109F7EE:t0, leader=null, voted=, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t0, leader=null, voted=, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-3DE83109F7EE:t0, leader=null, voted=, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-3DE83109F7EE:t0, leader=null, voted=, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t0, leader=null, voted=, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:46,431 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-3DE83109F7EE:t0, leader=null, voted=, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t0, leader=null, voted=, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-3DE83109F7EE:t0, leader=null, voted=, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-3DE83109F7EE:t0, leader=null, voted=, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t0, leader=null, voted=, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-3DE83109F7EE:t0, leader=null, voted=, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t0, leader=null, voted=, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-3DE83109F7EE:t0, leader=null, voted=, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-3DE83109F7EE:t0, leader=null, voted=, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t0, leader=null, voted=, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.waitAndKillLeader(RaftTestUtil.java:132)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:90)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:46,567 [s3@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-3DE83109F7EE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:208382943ns, electionTimeout:207ms
2022-11-08 19:11:46,567 [s3@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:46,567 [s3@group-3DE83109F7EE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-3DE83109F7EE: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-08 19:11:46,567 [s3@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:46,567 [s3@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-3DE83109F7EE-LeaderElection63
2022-11-08 19:11:46,567 [s3@group-3DE83109F7EE-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-3DE83109F7EE-LeaderElection63 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:46,568 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-3DE83109F7EE: receive requestVote(PRE_VOTE, s3, group-3DE83109F7EE, 0, (t:0, i:0))
2022-11-08 19:11:46,568 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-3DE83109F7EE-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-11-08 19:11:46,568 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-3DE83109F7EE replies to PRE_VOTE vote request: s3<-s4#0:OK-t0. Peer's state: s4@group-3DE83109F7EE:t0, leader=null, voted=, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:46,568 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-3DE83109F7EE: receive requestVote(PRE_VOTE, s3, group-3DE83109F7EE, 0, (t:0, i:0))
2022-11-08 19:11:46,568 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-3DE83109F7EE-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-11-08 19:11:46,568 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-3DE83109F7EE: receive requestVote(PRE_VOTE, s3, group-3DE83109F7EE, 0, (t:0, i:0))
2022-11-08 19:11:46,568 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-3DE83109F7EE replies to PRE_VOTE vote request: s3<-s0#0:OK-t0. Peer's state: s0@group-3DE83109F7EE:t0, leader=null, voted=, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:46,568 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-3DE83109F7EE-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-11-08 19:11:46,568 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-3DE83109F7EE replies to PRE_VOTE vote request: s3<-s1#0:OK-t0. Peer's state: s1@group-3DE83109F7EE:t0, leader=null, voted=, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:46,568 [s3@group-3DE83109F7EE-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:46,569 [s3@group-3DE83109F7EE-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:46,569 [s3@group-3DE83109F7EE-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-3DE83109F7EE-LeaderElection63: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:46,570 [s3@group-3DE83109F7EE-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s4#0:OK-t0
2022-11-08 19:11:46,570 [s3@group-3DE83109F7EE-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s3<-s1#0:OK-t0
2022-11-08 19:11:46,570 [s3@group-3DE83109F7EE-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-3DE83109F7EE-LeaderElection63 PRE_VOTE round 0: result PASSED
2022-11-08 19:11:46,570 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-3DE83109F7EE: receive requestVote(PRE_VOTE, s3, group-3DE83109F7EE, 0, (t:0, i:0))
2022-11-08 19:11:46,570 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-3DE83109F7EE-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-11-08 19:11:46,570 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-3DE83109F7EE replies to PRE_VOTE vote request: s3<-s2#0:OK-t0. Peer's state: s2@group-3DE83109F7EE:t0, leader=null, voted=, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:46,571 [s3@group-3DE83109F7EE-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-3DE83109F7EE-LeaderElection63 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:46,571 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-3DE83109F7EE: receive requestVote(ELECTION, s3, group-3DE83109F7EE, 1, (t:0, i:0))
2022-11-08 19:11:46,571 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-3DE83109F7EE: receive requestVote(ELECTION, s3, group-3DE83109F7EE, 1, (t:0, i:0))
2022-11-08 19:11:46,571 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-3DE83109F7EE: receive requestVote(ELECTION, s3, group-3DE83109F7EE, 1, (t:0, i:0))
2022-11-08 19:11:46,576 [s3@group-3DE83109F7EE-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:46,576 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-3DE83109F7EE-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2022-11-08 19:11:46,576 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-3DE83109F7EE: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s3
2022-11-08 19:11:46,576 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:46,576 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:46,576 [s1@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-3DE83109F7EE-FollowerState was interrupted
2022-11-08 19:11:46,576 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-3DE83109F7EE-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2022-11-08 19:11:46,576 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-3DE83109F7EE: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s3
2022-11-08 19:11:46,576 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:46,576 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:46,576 [s0@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-3DE83109F7EE-FollowerState was interrupted
2022-11-08 19:11:46,576 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-3DE83109F7EE-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2022-11-08 19:11:46,576 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3DE83109F7EE: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s3
2022-11-08 19:11:46,577 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:46,577 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:46,576 [s3@group-3DE83109F7EE-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:46,577 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-3DE83109F7EE-FollowerState was interrupted
2022-11-08 19:11:46,577 [s1@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:46,578 [s1@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:46,578 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-3DE83109F7EE replies to ELECTION vote request: s3<-s1#0:OK-t1. Peer's state: s1@group-3DE83109F7EE:t1, leader=null, voted=s3, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:46,578 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-3DE83109F7EE: receive requestVote(ELECTION, s3, group-3DE83109F7EE, 1, (t:0, i:0))
2022-11-08 19:11:46,578 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-3DE83109F7EE-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2022-11-08 19:11:46,578 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-3DE83109F7EE: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s3
2022-11-08 19:11:46,578 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:46,578 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:46,578 [s2@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-3DE83109F7EE-FollowerState was interrupted
2022-11-08 19:11:46,578 [s4@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:46,578 [s4@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:46,579 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-3DE83109F7EE replies to ELECTION vote request: s3<-s4#0:OK-t1. Peer's state: s4@group-3DE83109F7EE:t1, leader=null, voted=s3, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:46,579 [s3@group-3DE83109F7EE-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-3DE83109F7EE-LeaderElection63: ELECTION PASSED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:46,579 [s3@group-3DE83109F7EE-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s4#0:OK-t1
2022-11-08 19:11:46,579 [s3@group-3DE83109F7EE-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s3<-s1#0:OK-t1
2022-11-08 19:11:46,579 [s3@group-3DE83109F7EE-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-3DE83109F7EE-LeaderElection63 ELECTION round 0: result PASSED
2022-11-08 19:11:46,579 [s3@group-3DE83109F7EE-LeaderElection63] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-3DE83109F7EE-LeaderElection63
2022-11-08 19:11:46,579 [s3@group-3DE83109F7EE-LeaderElection63] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-3DE83109F7EE: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-08 19:11:46,579 [s3@group-3DE83109F7EE-LeaderElection63] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s3@group-3DE83109F7EE: change Leader from null to s3 at term 1 for becomeLeader, leader elected after 247ms
2022-11-08 19:11:46,579 [s3@group-3DE83109F7EE-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:11:46,579 [s3@group-3DE83109F7EE-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:46,579 [s3@group-3DE83109F7EE-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:46,579 [s3@group-3DE83109F7EE-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:11:46,579 [s3@group-3DE83109F7EE-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:11:46,579 [s3@group-3DE83109F7EE-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:11:46,580 [s2@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:46,580 [s2@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:46,580 [s3@group-3DE83109F7EE-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:46,580 [s3@group-3DE83109F7EE-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:11:46,580 [s3@group-3DE83109F7EE-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:46,580 [s3@group-3DE83109F7EE-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:46,580 [s3@group-3DE83109F7EE-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:46,580 [s3@group-3DE83109F7EE-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:46,580 [s3@group-3DE83109F7EE-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:46,580 [s3@group-3DE83109F7EE-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:46,580 [s3@group-3DE83109F7EE-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:46,581 [s3@group-3DE83109F7EE-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:46,581 [s3@group-3DE83109F7EE-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:46,581 [s3@group-3DE83109F7EE-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:46,581 [s3@group-3DE83109F7EE-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:46,581 [s3@group-3DE83109F7EE-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:46,581 [s3@group-3DE83109F7EE-LeaderElection63] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-3DE83109F7EE-LeaderStateImpl
2022-11-08 19:11:46,581 [s3@group-3DE83109F7EE-LeaderElection63] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s3@group-3DE83109F7EE-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:46,582 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-3DE83109F7EE replies to ELECTION vote request: s3<-s2#0:OK-t1. Peer's state: s2@group-3DE83109F7EE:t1, leader=null, voted=s3, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:46,582 [s0@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:46,582 [s0@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:46,582 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-3DE83109F7EE replies to ELECTION vote request: s3<-s0#0:OK-t1. Peer's state: s0@group-3DE83109F7EE:t1, leader=null, voted=s3, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:46,593 [s3@group-3DE83109F7EE-LeaderElection63] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s3@group-3DE83109F7EE: set configuration 0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:46,593 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s4@group-3DE83109F7EE: change Leader from null to s3 at term 1 for appendEntries, leader elected after 253ms
2022-11-08 19:11:46,593 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-3DE83109F7EE: change Leader from null to s3 at term 1 for appendEntries, leader elected after 251ms
2022-11-08 19:11:46,593 [s3@group-3DE83109F7EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s3@group-3DE83109F7EE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s3/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_inprogress_0
2022-11-08 19:11:46,593 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-3DE83109F7EE: change Leader from null to s3 at term 1 for appendEntries, leader elected after 249ms
2022-11-08 19:11:46,594 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-3DE83109F7EE: receive appendEntries(s3, 1, null, -1, true, commits:[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], cId:1820, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:33063"
dataStreamAddress: "localhost:35733"
clientAddress: "localhost:37431"
adminAddress: "localhost:41781"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:39989"
dataStreamAddress: "localhost:36663"
clientAddress: "localhost:33449"
adminAddress: "localhost:44933"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:46693"
dataStreamAddress: "localhost:39999"
clientAddress: "localhost:37351"
adminAddress: "localhost:36065"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41641"
dataStreamAddress: "localhost:44393"
clientAddress: "localhost:44261"
adminAddress: "localhost:33285"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37445"
dataStreamAddress: "localhost:43581"
clientAddress: "localhost:42865"
adminAddress: "localhost:33687"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:46,600 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s4@group-3DE83109F7EE: set configuration 0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:46,600 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s4@group-3DE83109F7EE-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:46,603 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-3DE83109F7EE: receive appendEntries(s3, 1, null, -1, true, commits:[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], cId:1821, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:33063"
dataStreamAddress: "localhost:35733"
clientAddress: "localhost:37431"
adminAddress: "localhost:41781"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:39989"
dataStreamAddress: "localhost:36663"
clientAddress: "localhost:33449"
adminAddress: "localhost:44933"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:46693"
dataStreamAddress: "localhost:39999"
clientAddress: "localhost:37351"
adminAddress: "localhost:36065"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41641"
dataStreamAddress: "localhost:44393"
clientAddress: "localhost:44261"
adminAddress: "localhost:33285"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37445"
dataStreamAddress: "localhost:43581"
clientAddress: "localhost:42865"
adminAddress: "localhost:33687"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:46,613 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-3DE83109F7EE: set configuration 0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:46,613 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-3DE83109F7EE-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:46,614 [s4@group-3DE83109F7EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s4@group-3DE83109F7EE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s4/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_inprogress_0
2022-11-08 19:11:46,627 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-3DE83109F7EE: change Leader from null to s3 at term 1 for appendEntries, leader elected after 274ms
2022-11-08 19:11:46,627 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-3DE83109F7EE: receive appendEntries(s3, 1, null, 0, true, commits:[s3:c0, s4:c-1, s0:c-1, s1:c-1, s2:c-1], cId:1823, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:33063"
dataStreamAddress: "localhost:35733"
clientAddress: "localhost:37431"
adminAddress: "localhost:41781"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:39989"
dataStreamAddress: "localhost:36663"
clientAddress: "localhost:33449"
adminAddress: "localhost:44933"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:46693"
dataStreamAddress: "localhost:39999"
clientAddress: "localhost:37351"
adminAddress: "localhost:36065"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41641"
dataStreamAddress: "localhost:44393"
clientAddress: "localhost:44261"
adminAddress: "localhost:33285"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37445"
dataStreamAddress: "localhost:43581"
clientAddress: "localhost:42865"
adminAddress: "localhost:33687"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:46,628 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-3DE83109F7EE: set configuration 0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:46,628 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-3DE83109F7EE-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:46,629 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-3DE83109F7EE: receive appendEntries(s3, 1, null, 0, true, commits:[s3:c0, s4:c-1, s0:c-1, s1:c-1, s2:c-1], cId:1825, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:33063"
dataStreamAddress: "localhost:35733"
clientAddress: "localhost:37431"
adminAddress: "localhost:41781"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:39989"
dataStreamAddress: "localhost:36663"
clientAddress: "localhost:33449"
adminAddress: "localhost:44933"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:46693"
dataStreamAddress: "localhost:39999"
clientAddress: "localhost:37351"
adminAddress: "localhost:36065"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41641"
dataStreamAddress: "localhost:44393"
clientAddress: "localhost:44261"
adminAddress: "localhost:33285"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37445"
dataStreamAddress: "localhost:43581"
clientAddress: "localhost:42865"
adminAddress: "localhost:33687"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:46,629 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-3DE83109F7EE: succeeded to handle AppendEntries. Reply: s3<-s4#1820:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:11:46,633 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-3DE83109F7EE: set configuration 0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:46,633 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-3DE83109F7EE-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:46,646 [s2@group-3DE83109F7EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-3DE83109F7EE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s2/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_inprogress_0
2022-11-08 19:11:46,649 [s0@group-3DE83109F7EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-3DE83109F7EE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s0/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_inprogress_0
2022-11-08 19:11:46,652 [s1@group-3DE83109F7EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-3DE83109F7EE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s1/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_inprogress_0
2022-11-08 19:11:46,653 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-3DE83109F7EE: succeeded to handle AppendEntries. Reply: s3<-s0#1821:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:11:46,654 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-3DE83109F7EE: succeeded to handle AppendEntries. Reply: s3<-s1#1823:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-08 19:11:46,654 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-3DE83109F7EE: succeeded to handle AppendEntries. Reply: s3<-s2#1825:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-08 19:11:46,882 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:46,882 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(135)) - killing leader =    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:46,882 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s3
2022-11-08 19:11:46,882 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s3: close
2022-11-08 19:11:46,882 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:46,882 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s3@group-3DE83109F7EE: shutdown
2022-11-08 19:11:46,883 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:46,883 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:46,883 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:46,883 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:46,883 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:46,883 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-3DE83109F7EE,id=s3
2022-11-08 19:11:46,883 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s3: shutdown s3@group-3DE83109F7EE-LeaderStateImpl
2022-11-08 19:11:46,883 [s3@group-3DE83109F7EE->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s3@group-3DE83109F7EE->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:46,883 [s3@group-3DE83109F7EE->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s3@group-3DE83109F7EE->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:46,883 [s3@group-3DE83109F7EE->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s3@group-3DE83109F7EE->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:46,883 [s3-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s3@group-3DE83109F7EE-PendingRequests: sendNotLeaderResponses
2022-11-08 19:11:46,883 [s3@group-3DE83109F7EE->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s3@group-3DE83109F7EE->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:46,884 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-3DE83109F7EE-StateMachineUpdater: set stopIndex = 0
2022-11-08 19:11:46,884 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s3@group-3DE83109F7EE: applyIndex: 0
2022-11-08 19:11:46,884 [s3@group-3DE83109F7EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s3@group-3DE83109F7EE-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:46,885 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s3@group-3DE83109F7EE-SegmentedRaftLogWorker close()
2022-11-08 19:11:46,885 [JvmPauseMonitor35] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s3: Stopped
2022-11-08 19:11:46,885 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:46,885 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:46,886 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.waitAndKillLeader(RaftTestUtil.java:132)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:91)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:47,144 [s1@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-3DE83109F7EE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:262821429ns, electionTimeout:168ms
2022-11-08 19:11:47,144 [s1@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:47,144 [s1@group-3DE83109F7EE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-3DE83109F7EE: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:47,144 [s1@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:47,144 [s1@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-3DE83109F7EE-LeaderElection64
2022-11-08 19:11:47,145 [s1@group-3DE83109F7EE-LeaderElection64] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-3DE83109F7EE: change Leader from s3 to null at term 1 for PRE_VOTE
2022-11-08 19:11:47,145 [s1@group-3DE83109F7EE-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-3DE83109F7EE-LeaderElection64 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:47,145 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-3DE83109F7EE: receive requestVote(PRE_VOTE, s1, group-3DE83109F7EE, 1, (t:1, i:0))
2022-11-08 19:11:47,146 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-3DE83109F7EE-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:47,146 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-3DE83109F7EE replies to PRE_VOTE vote request: s1<-s4#0:OK-t1. Peer's state: s4@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:47,146 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-3DE83109F7EE: receive requestVote(PRE_VOTE, s1, group-3DE83109F7EE, 1, (t:1, i:0))
2022-11-08 19:11:47,146 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-3DE83109F7EE-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:47,146 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-3DE83109F7EE replies to PRE_VOTE vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:47,146 [s1@group-3DE83109F7EE-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-3DE83109F7EE-LeaderElection64: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:47,146 [s1@group-3DE83109F7EE-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s4#0:OK-t1
2022-11-08 19:11:47,146 [s1@group-3DE83109F7EE-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s0#0:OK-t1
2022-11-08 19:11:47,146 [s1@group-3DE83109F7EE-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-3DE83109F7EE-LeaderElection64 PRE_VOTE round 0: result PASSED
2022-11-08 19:11:47,147 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-3DE83109F7EE: receive requestVote(PRE_VOTE, s1, group-3DE83109F7EE, 1, (t:1, i:0))
2022-11-08 19:11:47,147 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-3DE83109F7EE-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:47,147 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-3DE83109F7EE replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:47,148 [s1@group-3DE83109F7EE-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-3DE83109F7EE-LeaderElection64 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:47,148 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-3DE83109F7EE: receive requestVote(ELECTION, s1, group-3DE83109F7EE, 2, (t:1, i:0))
2022-11-08 19:11:47,148 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-3DE83109F7EE-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:47,148 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s4@group-3DE83109F7EE: change Leader from s3 to null at term 2 for updateCurrentTerm
2022-11-08 19:11:47,148 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3DE83109F7EE: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-11-08 19:11:47,148 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:47,148 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:47,148 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-3DE83109F7EE-FollowerState was interrupted
2022-11-08 19:11:47,149 [s1@group-3DE83109F7EE-LeaderElection64] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-3DE83109F7EE-LeaderElection64 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:47,149 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-3DE83109F7EE: receive requestVote(ELECTION, s1, group-3DE83109F7EE, 2, (t:1, i:0))
2022-11-08 19:11:47,149 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-3DE83109F7EE-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:47,149 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-3DE83109F7EE: receive requestVote(ELECTION, s1, group-3DE83109F7EE, 2, (t:1, i:0))
2022-11-08 19:11:47,149 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-3DE83109F7EE: change Leader from s3 to null at term 2 for updateCurrentTerm
2022-11-08 19:11:47,149 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-3DE83109F7EE-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:47,149 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-3DE83109F7EE: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-11-08 19:11:47,149 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-3DE83109F7EE: change Leader from s3 to null at term 2 for updateCurrentTerm
2022-11-08 19:11:47,149 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:47,149 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-3DE83109F7EE: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-11-08 19:11:47,149 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:47,149 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:47,149 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:47,150 [s0@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-3DE83109F7EE-FollowerState was interrupted
2022-11-08 19:11:47,150 [s2@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-3DE83109F7EE-FollowerState was interrupted
2022-11-08 19:11:47,150 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-3DE83109F7EE replies to ELECTION vote request: s1<-s4#0:OK-t2. Peer's state: s4@group-3DE83109F7EE:t2, leader=null, voted=s1, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:47,151 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-3DE83109F7EE replies to ELECTION vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-3DE83109F7EE:t2, leader=null, voted=s1, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:47,151 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-3DE83109F7EE replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-3DE83109F7EE:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:47,151 [s1@group-3DE83109F7EE-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-3DE83109F7EE-LeaderElection64: ELECTION PASSED received 2 response(s) and 1 exception(s):
2022-11-08 19:11:47,151 [s1@group-3DE83109F7EE-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s4#0:OK-t2
2022-11-08 19:11:47,151 [s1@group-3DE83109F7EE-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s0#0:OK-t2
2022-11-08 19:11:47,151 [s1@group-3DE83109F7EE-LeaderElection64] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:47,151 [s1@group-3DE83109F7EE-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-3DE83109F7EE-LeaderElection64 ELECTION round 0: result PASSED
2022-11-08 19:11:47,151 [s1@group-3DE83109F7EE-LeaderElection64] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-3DE83109F7EE-LeaderElection64
2022-11-08 19:11:47,151 [s1@group-3DE83109F7EE-LeaderElection64] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-3DE83109F7EE: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-11-08 19:11:47,151 [s1@group-3DE83109F7EE-LeaderElection64] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-3DE83109F7EE: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 6ms
2022-11-08 19:11:47,151 [s1@group-3DE83109F7EE-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:11:47,151 [s1@group-3DE83109F7EE-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:47,151 [s1@group-3DE83109F7EE-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:47,151 [s1@group-3DE83109F7EE-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:11:47,151 [s1@group-3DE83109F7EE-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:11:47,152 [s1@group-3DE83109F7EE-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:11:47,152 [s1@group-3DE83109F7EE-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:47,152 [s1@group-3DE83109F7EE-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:11:47,152 [s1@group-3DE83109F7EE-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:47,152 [s1@group-3DE83109F7EE-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:47,152 [s1@group-3DE83109F7EE-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:47,152 [s1@group-3DE83109F7EE-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:47,152 [s1@group-3DE83109F7EE-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:47,152 [s1@group-3DE83109F7EE-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:47,152 [s1@group-3DE83109F7EE-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:47,152 [s1@group-3DE83109F7EE-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:47,152 [s1@group-3DE83109F7EE-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:47,153 [s1@group-3DE83109F7EE-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:47,153 [s1@group-3DE83109F7EE-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:47,153 [s1@group-3DE83109F7EE-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:47,153 [s1@group-3DE83109F7EE-LeaderElection64] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-3DE83109F7EE-LeaderStateImpl
2022-11-08 19:11:47,153 [s1@group-3DE83109F7EE-LeaderElection64] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-3DE83109F7EE-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-11-08 19:11:47,154 [s1@group-3DE83109F7EE-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s1/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s1/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_0-0
2022-11-08 19:11:47,154 [s1@group-3DE83109F7EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-3DE83109F7EE-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s1/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s1/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_0-0
2022-11-08 19:11:47,157 [s1@group-3DE83109F7EE->s3-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s1@group-3DE83109F7EE->s3-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s3 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:47,158 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s4@group-3DE83109F7EE: change Leader from null to s1 at term 2 for appendEntries, leader elected after 9ms
2022-11-08 19:11:47,158 [s1@group-3DE83109F7EE-LeaderElection64] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-3DE83109F7EE: set configuration 1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:47,158 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-3DE83109F7EE: change Leader from null to s1 at term 2 for appendEntries, leader elected after 8ms
2022-11-08 19:11:47,158 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-3DE83109F7EE: change Leader from null to s1 at term 2 for appendEntries, leader elected after 8ms
2022-11-08 19:11:47,160 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-3DE83109F7EE: receive appendEntries(s1, 2, (t:1, i:0), 0, true, commits:[s1:c0, s3:c0, s4:c0, s0:c0, s2:c0], cId:1886, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:33063"
dataStreamAddress: "localhost:35733"
clientAddress: "localhost:37431"
adminAddress: "localhost:41781"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:39989"
dataStreamAddress: "localhost:36663"
clientAddress: "localhost:33449"
adminAddress: "localhost:44933"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:46693"
dataStreamAddress: "localhost:39999"
clientAddress: "localhost:37351"
adminAddress: "localhost:36065"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41641"
dataStreamAddress: "localhost:44393"
clientAddress: "localhost:44261"
adminAddress: "localhost:33285"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37445"
dataStreamAddress: "localhost:43581"
clientAddress: "localhost:42865"
adminAddress: "localhost:33687"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:47,160 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-3DE83109F7EE: set configuration 1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:47,161 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-3DE83109F7EE-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-11-08 19:11:47,161 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-3DE83109F7EE: receive appendEntries(s1, 2, (t:1, i:0), 0, true, commits:[s1:c0, s3:c0, s4:c0, s0:c0, s2:c0], cId:1887, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:33063"
dataStreamAddress: "localhost:35733"
clientAddress: "localhost:37431"
adminAddress: "localhost:41781"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:39989"
dataStreamAddress: "localhost:36663"
clientAddress: "localhost:33449"
adminAddress: "localhost:44933"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:46693"
dataStreamAddress: "localhost:39999"
clientAddress: "localhost:37351"
adminAddress: "localhost:36065"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41641"
dataStreamAddress: "localhost:44393"
clientAddress: "localhost:44261"
adminAddress: "localhost:33285"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37445"
dataStreamAddress: "localhost:43581"
clientAddress: "localhost:42865"
adminAddress: "localhost:33687"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:47,161 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s4@group-3DE83109F7EE: set configuration 1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:47,161 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s4@group-3DE83109F7EE-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-11-08 19:11:47,162 [s1@group-3DE83109F7EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-3DE83109F7EE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s1/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_inprogress_1
2022-11-08 19:11:47,162 [s4@group-3DE83109F7EE-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s4/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s4/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_0-0
2022-11-08 19:11:47,162 [s4@group-3DE83109F7EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s4@group-3DE83109F7EE-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s4/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s4/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_0-0
2022-11-08 19:11:47,164 [s0@group-3DE83109F7EE-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s0/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s0/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_0-0
2022-11-08 19:11:47,164 [s0@group-3DE83109F7EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-3DE83109F7EE-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s0/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s0/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_0-0
2022-11-08 19:11:47,165 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-3DE83109F7EE: receive appendEntries(s1, 2, (t:1, i:0), 0, true, commits:[s1:c0, s3:c0, s4:c0, s0:c0, s2:c0], cId:1888, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:33063"
dataStreamAddress: "localhost:35733"
clientAddress: "localhost:37431"
adminAddress: "localhost:41781"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:39989"
dataStreamAddress: "localhost:36663"
clientAddress: "localhost:33449"
adminAddress: "localhost:44933"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:46693"
dataStreamAddress: "localhost:39999"
clientAddress: "localhost:37351"
adminAddress: "localhost:36065"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41641"
dataStreamAddress: "localhost:44393"
clientAddress: "localhost:44261"
adminAddress: "localhost:33285"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37445"
dataStreamAddress: "localhost:43581"
clientAddress: "localhost:42865"
adminAddress: "localhost:33687"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:47,165 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-3DE83109F7EE: set configuration 1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:47,165 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-3DE83109F7EE-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-11-08 19:11:47,166 [s2@group-3DE83109F7EE-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s2/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s2/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_0-0
2022-11-08 19:11:47,166 [s2@group-3DE83109F7EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-3DE83109F7EE-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s2/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s2/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_0-0
2022-11-08 19:11:47,178 [s0@group-3DE83109F7EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-3DE83109F7EE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s0/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_inprogress_1
2022-11-08 19:11:47,179 [s2@group-3DE83109F7EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-3DE83109F7EE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s2/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_inprogress_1
2022-11-08 19:11:47,179 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-3DE83109F7EE: succeeded to handle AppendEntries. Reply: s1<-s0#1886:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-08 19:11:47,179 [s4@group-3DE83109F7EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s4@group-3DE83109F7EE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s4/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_inprogress_1
2022-11-08 19:11:47,179 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-3DE83109F7EE: succeeded to handle AppendEntries. Reply: s1<-s2#1888:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-08 19:11:47,180 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-3DE83109F7EE: receive appendEntries(s1, 2, (t:2, i:1), 1, true, commits:[s1:c1, s3:c0, s4:c0, s0:c0, s2:c0], cId:1892, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2022-11-08 19:11:47,180 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-3DE83109F7EE: succeeded to handle AppendEntries. Reply: s1<-s4#1887:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-08 19:11:47,180 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-3DE83109F7EE: receive appendEntries(s1, 2, (t:2, i:1), 1, true, commits:[s1:c1, s3:c0, s4:c0, s0:c0, s2:c0], cId:1891, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2022-11-08 19:11:47,180 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-3DE83109F7EE: succeeded to handle AppendEntries. Reply: s1<-s2#1892:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-08 19:11:47,180 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-3DE83109F7EE: receive appendEntries(s1, 2, (t:2, i:1), 1, true, commits:[s1:c1, s3:c0, s4:c0, s0:c0, s2:c0], cId:1893, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2022-11-08 19:11:47,181 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-3DE83109F7EE: succeeded to handle AppendEntries. Reply: s1<-s0#1891:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-08 19:11:47,181 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-3DE83109F7EE: succeeded to handle AppendEntries. Reply: s1<-s4#1893:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-08 19:11:47,336 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:47,337 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(135)) - killing leader =    LEADER s1@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:47,337 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s1
2022-11-08 19:11:47,337 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-08 19:11:47,337 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-3DE83109F7EE: shutdown
2022-11-08 19:11:47,337 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-3DE83109F7EE,id=s1
2022-11-08 19:11:47,337 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-3DE83109F7EE-LeaderStateImpl
2022-11-08 19:11:47,337 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-3DE83109F7EE-PendingRequests: sendNotLeaderResponses
2022-11-08 19:11:47,337 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:47,337 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:47,338 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-3DE83109F7EE-StateMachineUpdater: set stopIndex = 2
2022-11-08 19:11:47,338 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-3DE83109F7EE: applyIndex: 2
2022-11-08 19:11:47,338 [s1@group-3DE83109F7EE->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-3DE83109F7EE->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:47,338 [s1@group-3DE83109F7EE->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-3DE83109F7EE->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:47,338 [s1@group-3DE83109F7EE->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-3DE83109F7EE->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-11-08 19:11:47,338 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:47,339 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:47,339 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:47,338 [s1@group-3DE83109F7EE->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-3DE83109F7EE->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:47,338 [s1@group-3DE83109F7EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s1@group-3DE83109F7EE-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:47,339 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:47,340 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-3DE83109F7EE-SegmentedRaftLogWorker close()
2022-11-08 19:11:47,340 [JvmPauseMonitor38] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-08 19:11:47,340 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:47,340 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:47,340 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.waitAndKillLeader(RaftTestUtil.java:132)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:92)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:47,513 [s0@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-3DE83109F7EE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:180994351ns, electionTimeout:159ms
2022-11-08 19:11:47,513 [s0@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:47,513 [s0@group-3DE83109F7EE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-3DE83109F7EE: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2022-11-08 19:11:47,513 [s0@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:47,513 [s0@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-3DE83109F7EE-LeaderElection65
2022-11-08 19:11:47,513 [s0@group-3DE83109F7EE-LeaderElection65] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-3DE83109F7EE: change Leader from s1 to null at term 2 for PRE_VOTE
2022-11-08 19:11:47,514 [s0@group-3DE83109F7EE-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-3DE83109F7EE-LeaderElection65 PRE_VOTE round 0: submit vote requests at term 2 for 1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:47,514 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-3DE83109F7EE: receive requestVote(PRE_VOTE, s0, group-3DE83109F7EE, 2, (t:2, i:2))
2022-11-08 19:11:47,514 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-3DE83109F7EE-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:47,514 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-3DE83109F7EE replies to PRE_VOTE vote request: s0<-s4#0:OK-t2. Peer's state: s4@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:47,514 [s0@group-3DE83109F7EE-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-3DE83109F7EE-LeaderElection65 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:47,514 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-3DE83109F7EE: receive requestVote(PRE_VOTE, s0, group-3DE83109F7EE, 2, (t:2, i:2))
2022-11-08 19:11:47,514 [s0@group-3DE83109F7EE-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-3DE83109F7EE-LeaderElection65 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:47,515 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-3DE83109F7EE-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:47,515 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-3DE83109F7EE replies to PRE_VOTE vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:47,515 [s0@group-3DE83109F7EE-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-3DE83109F7EE-LeaderElection65: PRE_VOTE PASSED received 2 response(s) and 2 exception(s):
2022-11-08 19:11:47,515 [s0@group-3DE83109F7EE-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s4#0:OK-t2
2022-11-08 19:11:47,515 [s0@group-3DE83109F7EE-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:OK-t2
2022-11-08 19:11:47,515 [s0@group-3DE83109F7EE-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:47,515 [s0@group-3DE83109F7EE-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:47,515 [s0@group-3DE83109F7EE-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-3DE83109F7EE-LeaderElection65 PRE_VOTE round 0: result PASSED
2022-11-08 19:11:47,516 [s0@group-3DE83109F7EE-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-3DE83109F7EE-LeaderElection65 ELECTION round 0: submit vote requests at term 3 for 1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:47,516 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-3DE83109F7EE: receive requestVote(ELECTION, s0, group-3DE83109F7EE, 3, (t:2, i:2))
2022-11-08 19:11:47,516 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-3DE83109F7EE-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:47,516 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s4@group-3DE83109F7EE: change Leader from s1 to null at term 3 for updateCurrentTerm
2022-11-08 19:11:47,516 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3DE83109F7EE: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s0
2022-11-08 19:11:47,516 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:47,516 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:47,517 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-3DE83109F7EE-FollowerState was interrupted
2022-11-08 19:11:47,517 [s0@group-3DE83109F7EE-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-3DE83109F7EE-LeaderElection65 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:47,517 [s0@group-3DE83109F7EE-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-3DE83109F7EE-LeaderElection65 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:47,517 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-3DE83109F7EE: receive requestVote(ELECTION, s0, group-3DE83109F7EE, 3, (t:2, i:2))
2022-11-08 19:11:47,517 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-3DE83109F7EE-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:47,517 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-3DE83109F7EE: change Leader from s1 to null at term 3 for updateCurrentTerm
2022-11-08 19:11:47,517 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-3DE83109F7EE: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s0
2022-11-08 19:11:47,517 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:47,517 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:47,518 [s2@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-3DE83109F7EE-FollowerState was interrupted
2022-11-08 19:11:47,518 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-3DE83109F7EE replies to ELECTION vote request: s0<-s4#0:OK-t3. Peer's state: s4@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:47,519 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-3DE83109F7EE replies to ELECTION vote request: s0<-s2#0:OK-t3. Peer's state: s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:47,519 [s0@group-3DE83109F7EE-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-3DE83109F7EE-LeaderElection65: ELECTION PASSED received 2 response(s) and 2 exception(s):
2022-11-08 19:11:47,519 [s0@group-3DE83109F7EE-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s4#0:OK-t3
2022-11-08 19:11:47,519 [s0@group-3DE83109F7EE-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:OK-t3
2022-11-08 19:11:47,519 [s0@group-3DE83109F7EE-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:47,519 [s0@group-3DE83109F7EE-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:47,519 [s0@group-3DE83109F7EE-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-3DE83109F7EE-LeaderElection65 ELECTION round 0: result PASSED
2022-11-08 19:11:47,519 [s0@group-3DE83109F7EE-LeaderElection65] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-3DE83109F7EE-LeaderElection65
2022-11-08 19:11:47,519 [s0@group-3DE83109F7EE-LeaderElection65] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-3DE83109F7EE: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2022-11-08 19:11:47,519 [s0@group-3DE83109F7EE-LeaderElection65] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-3DE83109F7EE: change Leader from null to s0 at term 3 for becomeLeader, leader elected after 5ms
2022-11-08 19:11:47,519 [s0@group-3DE83109F7EE-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:11:47,519 [s0@group-3DE83109F7EE-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:47,519 [s0@group-3DE83109F7EE-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:47,520 [s0@group-3DE83109F7EE-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:11:47,520 [s0@group-3DE83109F7EE-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:11:47,520 [s0@group-3DE83109F7EE-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:11:47,520 [s0@group-3DE83109F7EE-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:47,520 [s0@group-3DE83109F7EE-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:11:47,520 [s0@group-3DE83109F7EE-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:47,520 [s0@group-3DE83109F7EE-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:47,520 [s0@group-3DE83109F7EE-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:47,520 [s0@group-3DE83109F7EE-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:47,520 [s0@group-3DE83109F7EE-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:47,520 [s0@group-3DE83109F7EE-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:47,520 [s0@group-3DE83109F7EE-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:47,520 [s0@group-3DE83109F7EE-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:47,520 [s0@group-3DE83109F7EE-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:47,521 [s0@group-3DE83109F7EE-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:47,521 [s0@group-3DE83109F7EE-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:47,521 [s0@group-3DE83109F7EE-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:47,521 [s0@group-3DE83109F7EE-LeaderElection65] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-3DE83109F7EE-LeaderStateImpl
2022-11-08 19:11:47,521 [s0@group-3DE83109F7EE-LeaderElection65] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-3DE83109F7EE-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-11-08 19:11:47,522 [s0@group-3DE83109F7EE-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s0/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s0/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_1-2
2022-11-08 19:11:47,522 [s0@group-3DE83109F7EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-3DE83109F7EE-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s0/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s0/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_1-2
2022-11-08 19:11:47,525 [s0@group-3DE83109F7EE->s3-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-3DE83109F7EE->s3-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s3 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:47,526 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s4@group-3DE83109F7EE: change Leader from null to s0 at term 3 for appendEntries, leader elected after 9ms
2022-11-08 19:11:47,526 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-3DE83109F7EE: receive appendEntries(s0, 3, (t:2, i:2), 2, true, commits:[s0:c2, s3:c0, s4:c2, s1:c2, s2:c2], cId:1929, entries: [(t:3, i:3), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:33063"
dataStreamAddress: "localhost:35733"
clientAddress: "localhost:37431"
adminAddress: "localhost:41781"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:39989"
dataStreamAddress: "localhost:36663"
clientAddress: "localhost:33449"
adminAddress: "localhost:44933"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:46693"
dataStreamAddress: "localhost:39999"
clientAddress: "localhost:37351"
adminAddress: "localhost:36065"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41641"
dataStreamAddress: "localhost:44393"
clientAddress: "localhost:44261"
adminAddress: "localhost:33285"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37445"
dataStreamAddress: "localhost:43581"
clientAddress: "localhost:42865"
adminAddress: "localhost:33687"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:47,526 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s4@group-3DE83109F7EE: set configuration 3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:47,526 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s4@group-3DE83109F7EE-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-11-08 19:11:47,527 [s4@group-3DE83109F7EE-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s4/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s4/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_1-2
2022-11-08 19:11:47,527 [s4@group-3DE83109F7EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s4@group-3DE83109F7EE-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s4/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s4/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_1-2
2022-11-08 19:11:47,528 [s0@group-3DE83109F7EE->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-3DE83109F7EE->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:47,530 [s0@group-3DE83109F7EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-3DE83109F7EE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s0/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_inprogress_3
2022-11-08 19:11:47,531 [s0@group-3DE83109F7EE-LeaderElection65] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-3DE83109F7EE: set configuration 3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:47,532 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-3DE83109F7EE: change Leader from null to s0 at term 3 for appendEntries, leader elected after 14ms
2022-11-08 19:11:47,532 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-3DE83109F7EE: receive appendEntries(s0, 3, (t:2, i:2), 2, true, commits:[s0:c2, s3:c0, s4:c2, s1:c2, s2:c2], cId:1934, entries: [(t:3, i:3), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:33063"
dataStreamAddress: "localhost:35733"
clientAddress: "localhost:37431"
adminAddress: "localhost:41781"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:39989"
dataStreamAddress: "localhost:36663"
clientAddress: "localhost:33449"
adminAddress: "localhost:44933"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:46693"
dataStreamAddress: "localhost:39999"
clientAddress: "localhost:37351"
adminAddress: "localhost:36065"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41641"
dataStreamAddress: "localhost:44393"
clientAddress: "localhost:44261"
adminAddress: "localhost:33285"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37445"
dataStreamAddress: "localhost:43581"
clientAddress: "localhost:42865"
adminAddress: "localhost:33687"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:47,532 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-3DE83109F7EE: set configuration 3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:47,533 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-3DE83109F7EE-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-11-08 19:11:47,534 [s2@group-3DE83109F7EE-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s2/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s2/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_1-2
2022-11-08 19:11:47,534 [s2@group-3DE83109F7EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-3DE83109F7EE-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s2/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s2/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_1-2
2022-11-08 19:11:47,541 [s4@group-3DE83109F7EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s4@group-3DE83109F7EE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s4/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_inprogress_3
2022-11-08 19:11:47,541 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-3DE83109F7EE: succeeded to handle AppendEntries. Reply: s0<-s4#1929:OK-t3,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-08 19:11:47,541 [s2@group-3DE83109F7EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-3DE83109F7EE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc42bf6e3e/s2/fcd209ee-68ed-40d1-acb5-3de83109f7ee/current/log_inprogress_3
2022-11-08 19:11:47,542 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-3DE83109F7EE: succeeded to handle AppendEntries. Reply: s0<-s2#1934:OK-t3,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-08 19:11:47,543 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-3DE83109F7EE: receive appendEntries(s0, 3, (t:3, i:3), 3, true, commits:[s0:c3, s3:c0, s4:c2, s1:c2, s2:c2], cId:1935, entries: [(t:3, i:4), METADATAENTRY(c:3)]
2022-11-08 19:11:47,543 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-3DE83109F7EE: receive appendEntries(s0, 3, (t:3, i:3), 3, true, commits:[s0:c3, s3:c0, s4:c2, s1:c2, s2:c2], cId:1936, entries: [(t:3, i:4), METADATAENTRY(c:3)]
2022-11-08 19:11:47,544 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-3DE83109F7EE: succeeded to handle AppendEntries. Reply: s0<-s2#1935:OK-t3,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-11-08 19:11:47,544 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-3DE83109F7EE: succeeded to handle AppendEntries. Reply: s0<-s4#1936:OK-t3,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-11-08 19:11:47,752 [s0@group-3DE83109F7EE->s3-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-3DE83109F7EE->s3-LogAppenderDefault: Failed to appendEntries (retry=11): {}
java.io.IOException: The peer s3 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:47,754 [s0@group-3DE83109F7EE->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-3DE83109F7EE->s1-LogAppenderDefault: Failed to appendEntries (retry=11): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:47,791 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:47,791 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(135)) - killing leader =    LEADER s0@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:47,791 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s0
2022-11-08 19:11:47,791 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-08 19:11:47,791 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-3DE83109F7EE: shutdown
2022-11-08 19:11:47,792 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:47,792 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-3DE83109F7EE,id=s0
2022-11-08 19:11:47,792 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-3DE83109F7EE-LeaderStateImpl
2022-11-08 19:11:47,791 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:47,792 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-3DE83109F7EE-PendingRequests: sendNotLeaderResponses
2022-11-08 19:11:47,792 [s0@group-3DE83109F7EE->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-3DE83109F7EE->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-11-08 19:11:47,792 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:47,792 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-3DE83109F7EE-StateMachineUpdater: set stopIndex = 4
2022-11-08 19:11:47,792 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-3DE83109F7EE: applyIndex: 4
2022-11-08 19:11:47,793 [s0@group-3DE83109F7EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s0@group-3DE83109F7EE-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:47,793 [s0@group-3DE83109F7EE->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-3DE83109F7EE->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:47,793 [s0@group-3DE83109F7EE->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-3DE83109F7EE->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-11-08 19:11:47,794 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-3DE83109F7EE-SegmentedRaftLogWorker close()
2022-11-08 19:11:47,794 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:47,794 [s0@group-3DE83109F7EE->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-3DE83109F7EE->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:47,794 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:47,794 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:47,795 [JvmPauseMonitor37] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-08 19:11:47,796 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (BaseTest.java:testFailureCase(151)) - run 'waitForLeader after killed a majority of servers'
2022-11-08 19:11:47,796 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:47,796 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:47,796 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #1/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:48,046 [s2@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-3DE83109F7EE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:274806625ns, electionTimeout:273ms
2022-11-08 19:11:48,046 [s2@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:48,046 [s2@group-3DE83109F7EE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-3DE83109F7EE: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-08 19:11:48,046 [s2@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:48,046 [s2@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-3DE83109F7EE-LeaderElection66
2022-11-08 19:11:48,046 [s2@group-3DE83109F7EE-LeaderElection66] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-3DE83109F7EE: change Leader from s0 to null at term 3 for PRE_VOTE
2022-11-08 19:11:48,047 [s2@group-3DE83109F7EE-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-3DE83109F7EE-LeaderElection66 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:48,047 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-3DE83109F7EE: receive requestVote(PRE_VOTE, s2, group-3DE83109F7EE, 3, (t:3, i:4))
2022-11-08 19:11:48,047 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-3DE83109F7EE-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:48,047 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-3DE83109F7EE replies to PRE_VOTE vote request: s2<-s4#0:OK-t3. Peer's state: s4@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:48,047 [s2@group-3DE83109F7EE-LeaderElection66] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-3DE83109F7EE-LeaderElection66 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:48,047 [s2@group-3DE83109F7EE-LeaderElection66] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-3DE83109F7EE-LeaderElection66 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:48,048 [s2@group-3DE83109F7EE-LeaderElection66] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-3DE83109F7EE-LeaderElection66 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:48,048 [s2@group-3DE83109F7EE-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-3DE83109F7EE-LeaderElection66: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-08 19:11:48,048 [s2@group-3DE83109F7EE-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s4#0:OK-t3
2022-11-08 19:11:48,048 [s2@group-3DE83109F7EE-LeaderElection66] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:48,048 [s2@group-3DE83109F7EE-LeaderElection66] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:48,048 [s2@group-3DE83109F7EE-LeaderElection66] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:48,048 [s2@group-3DE83109F7EE-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-3DE83109F7EE-LeaderElection66 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:48,048 [s2@group-3DE83109F7EE-LeaderElection66] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-3DE83109F7EE: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-08 19:11:48,048 [s2@group-3DE83109F7EE-LeaderElection66] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-3DE83109F7EE-LeaderElection66
2022-11-08 19:11:48,048 [s2@group-3DE83109F7EE-LeaderElection66] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:48,247 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #2/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:48,324 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-3DE83109F7EE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:276580924ns, electionTimeout:181ms
2022-11-08 19:11:48,324 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:48,324 [s4@group-3DE83109F7EE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3DE83109F7EE: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-08 19:11:48,324 [s4@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:48,324 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3DE83109F7EE-LeaderElection67
2022-11-08 19:11:48,324 [s4@group-3DE83109F7EE-LeaderElection67] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s4@group-3DE83109F7EE: change Leader from s0 to null at term 3 for PRE_VOTE
2022-11-08 19:11:48,324 [s4@group-3DE83109F7EE-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-3DE83109F7EE-LeaderElection67 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:48,325 [s4@group-3DE83109F7EE-LeaderElection67] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection67 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:48,325 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-3DE83109F7EE: receive requestVote(PRE_VOTE, s4, group-3DE83109F7EE, 3, (t:3, i:4))
2022-11-08 19:11:48,325 [s4@group-3DE83109F7EE-LeaderElection67] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection67 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:48,325 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-3DE83109F7EE-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-11-08 19:11:48,325 [s4@group-3DE83109F7EE-LeaderElection67] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection67 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:48,325 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-3DE83109F7EE replies to PRE_VOTE vote request: s4<-s2#0:OK-t3. Peer's state: s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:48,325 [s4@group-3DE83109F7EE-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-3DE83109F7EE-LeaderElection67: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-08 19:11:48,325 [s4@group-3DE83109F7EE-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s2#0:OK-t3
2022-11-08 19:11:48,325 [s4@group-3DE83109F7EE-LeaderElection67] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:48,325 [s4@group-3DE83109F7EE-LeaderElection67] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:48,325 [s4@group-3DE83109F7EE-LeaderElection67] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:48,325 [s4@group-3DE83109F7EE-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-3DE83109F7EE-LeaderElection67 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:48,325 [s4@group-3DE83109F7EE-LeaderElection67] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3DE83109F7EE: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-08 19:11:48,325 [s4@group-3DE83109F7EE-LeaderElection67] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-3DE83109F7EE-LeaderElection67
2022-11-08 19:11:48,325 [s4@group-3DE83109F7EE-LeaderElection67] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:48,512 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-3DE83109F7EE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:186509149ns, electionTimeout:185ms
2022-11-08 19:11:48,512 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:48,513 [s4@group-3DE83109F7EE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3DE83109F7EE: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-08 19:11:48,513 [s4@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:48,513 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3DE83109F7EE-LeaderElection68
2022-11-08 19:11:48,513 [s4@group-3DE83109F7EE-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-3DE83109F7EE-LeaderElection68 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:48,514 [s4@group-3DE83109F7EE-LeaderElection68] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection68 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:48,514 [s4@group-3DE83109F7EE-LeaderElection68] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection68 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:48,514 [s4@group-3DE83109F7EE-LeaderElection68] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection68 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:48,514 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-3DE83109F7EE: receive requestVote(PRE_VOTE, s4, group-3DE83109F7EE, 3, (t:3, i:4))
2022-11-08 19:11:48,514 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-3DE83109F7EE-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-11-08 19:11:48,514 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-3DE83109F7EE replies to PRE_VOTE vote request: s4<-s2#0:OK-t3. Peer's state: s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:48,514 [s4@group-3DE83109F7EE-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-3DE83109F7EE-LeaderElection68: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-08 19:11:48,514 [s4@group-3DE83109F7EE-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s2#0:OK-t3
2022-11-08 19:11:48,514 [s4@group-3DE83109F7EE-LeaderElection68] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:48,514 [s4@group-3DE83109F7EE-LeaderElection68] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:48,514 [s4@group-3DE83109F7EE-LeaderElection68] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:48,515 [s4@group-3DE83109F7EE-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-3DE83109F7EE-LeaderElection68 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:48,515 [s4@group-3DE83109F7EE-LeaderElection68] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3DE83109F7EE: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-08 19:11:48,515 [s4@group-3DE83109F7EE-LeaderElection68] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-3DE83109F7EE-LeaderElection68
2022-11-08 19:11:48,515 [s4@group-3DE83109F7EE-LeaderElection68] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:48,698 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #3/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:48,736 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-3DE83109F7EE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:221433140ns, electionTimeout:221ms
2022-11-08 19:11:48,736 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:48,736 [s4@group-3DE83109F7EE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3DE83109F7EE: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-08 19:11:48,736 [s4@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:48,737 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3DE83109F7EE-LeaderElection69
2022-11-08 19:11:48,737 [s4@group-3DE83109F7EE-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-3DE83109F7EE-LeaderElection69 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:48,737 [s4@group-3DE83109F7EE-LeaderElection69] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection69 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:48,738 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-3DE83109F7EE: receive requestVote(PRE_VOTE, s4, group-3DE83109F7EE, 3, (t:3, i:4))
2022-11-08 19:11:48,738 [s4@group-3DE83109F7EE-LeaderElection69] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection69 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:48,738 [s4@group-3DE83109F7EE-LeaderElection69] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection69 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:48,738 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-3DE83109F7EE-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-11-08 19:11:48,738 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-3DE83109F7EE replies to PRE_VOTE vote request: s4<-s2#0:OK-t3. Peer's state: s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:48,738 [s4@group-3DE83109F7EE-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-3DE83109F7EE-LeaderElection69: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-08 19:11:48,738 [s4@group-3DE83109F7EE-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s2#0:OK-t3
2022-11-08 19:11:48,738 [s4@group-3DE83109F7EE-LeaderElection69] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:48,738 [s4@group-3DE83109F7EE-LeaderElection69] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:48,738 [s4@group-3DE83109F7EE-LeaderElection69] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:48,738 [s4@group-3DE83109F7EE-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-3DE83109F7EE-LeaderElection69 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:48,738 [s4@group-3DE83109F7EE-LeaderElection69] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3DE83109F7EE: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-08 19:11:48,738 [s4@group-3DE83109F7EE-LeaderElection69] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-3DE83109F7EE-LeaderElection69
2022-11-08 19:11:48,738 [s4@group-3DE83109F7EE-LeaderElection69] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:48,953 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-3DE83109F7EE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:215366557ns, electionTimeout:215ms
2022-11-08 19:11:48,954 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:48,954 [s4@group-3DE83109F7EE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3DE83109F7EE: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-08 19:11:48,954 [s4@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:48,954 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3DE83109F7EE-LeaderElection70
2022-11-08 19:11:48,954 [s4@group-3DE83109F7EE-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-3DE83109F7EE-LeaderElection70 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:48,954 [s4@group-3DE83109F7EE-LeaderElection70] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection70 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:48,955 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-3DE83109F7EE: receive requestVote(PRE_VOTE, s4, group-3DE83109F7EE, 3, (t:3, i:4))
2022-11-08 19:11:48,955 [s4@group-3DE83109F7EE-LeaderElection70] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection70 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:48,955 [s4@group-3DE83109F7EE-LeaderElection70] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection70 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:48,955 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-3DE83109F7EE-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-11-08 19:11:48,955 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-3DE83109F7EE replies to PRE_VOTE vote request: s4<-s2#0:OK-t3. Peer's state: s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:48,955 [s4@group-3DE83109F7EE-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-3DE83109F7EE-LeaderElection70: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-08 19:11:48,955 [s4@group-3DE83109F7EE-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s2#0:OK-t3
2022-11-08 19:11:48,956 [s4@group-3DE83109F7EE-LeaderElection70] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:48,956 [s4@group-3DE83109F7EE-LeaderElection70] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:48,956 [s4@group-3DE83109F7EE-LeaderElection70] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:48,956 [s4@group-3DE83109F7EE-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-3DE83109F7EE-LeaderElection70 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:48,956 [s4@group-3DE83109F7EE-LeaderElection70] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3DE83109F7EE: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-08 19:11:48,956 [s4@group-3DE83109F7EE-LeaderElection70] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-3DE83109F7EE-LeaderElection70
2022-11-08 19:11:48,956 [s4@group-3DE83109F7EE-LeaderElection70] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:49,151 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #4/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:49,155 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-3DE83109F7EE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:199543760ns, electionTimeout:199ms
2022-11-08 19:11:49,155 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:49,155 [s4@group-3DE83109F7EE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3DE83109F7EE: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-08 19:11:49,155 [s4@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:49,155 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3DE83109F7EE-LeaderElection71
2022-11-08 19:11:49,156 [s4@group-3DE83109F7EE-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-3DE83109F7EE-LeaderElection71 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:49,156 [s4@group-3DE83109F7EE-LeaderElection71] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection71 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:49,156 [s4@group-3DE83109F7EE-LeaderElection71] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection71 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:49,156 [s4@group-3DE83109F7EE-LeaderElection71] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection71 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:49,156 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-3DE83109F7EE: receive requestVote(PRE_VOTE, s4, group-3DE83109F7EE, 3, (t:3, i:4))
2022-11-08 19:11:49,157 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-3DE83109F7EE-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-11-08 19:11:49,157 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-3DE83109F7EE replies to PRE_VOTE vote request: s4<-s2#0:OK-t3. Peer's state: s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:49,157 [s4@group-3DE83109F7EE-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-3DE83109F7EE-LeaderElection71: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-08 19:11:49,157 [s4@group-3DE83109F7EE-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s2#0:OK-t3
2022-11-08 19:11:49,157 [s4@group-3DE83109F7EE-LeaderElection71] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:49,157 [s4@group-3DE83109F7EE-LeaderElection71] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:49,157 [s4@group-3DE83109F7EE-LeaderElection71] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:49,157 [s4@group-3DE83109F7EE-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-3DE83109F7EE-LeaderElection71 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:49,157 [s4@group-3DE83109F7EE-LeaderElection71] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3DE83109F7EE: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-08 19:11:49,157 [s4@group-3DE83109F7EE-LeaderElection71] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-3DE83109F7EE-LeaderElection71
2022-11-08 19:11:49,157 [s4@group-3DE83109F7EE-LeaderElection71] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:49,319 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-3DE83109F7EE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:162521368ns, electionTimeout:162ms
2022-11-08 19:11:49,320 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:49,320 [s4@group-3DE83109F7EE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3DE83109F7EE: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-08 19:11:49,320 [s4@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:49,320 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3DE83109F7EE-LeaderElection72
2022-11-08 19:11:49,320 [s4@group-3DE83109F7EE-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-3DE83109F7EE-LeaderElection72 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:49,320 [s4@group-3DE83109F7EE-LeaderElection72] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection72 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:49,320 [s4@group-3DE83109F7EE-LeaderElection72] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection72 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:49,320 [s4@group-3DE83109F7EE-LeaderElection72] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection72 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:49,321 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-3DE83109F7EE: receive requestVote(PRE_VOTE, s4, group-3DE83109F7EE, 3, (t:3, i:4))
2022-11-08 19:11:49,321 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-3DE83109F7EE-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-11-08 19:11:49,321 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-3DE83109F7EE replies to PRE_VOTE vote request: s4<-s2#0:OK-t3. Peer's state: s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:49,321 [s4@group-3DE83109F7EE-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-3DE83109F7EE-LeaderElection72: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-08 19:11:49,321 [s4@group-3DE83109F7EE-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s2#0:OK-t3
2022-11-08 19:11:49,321 [s4@group-3DE83109F7EE-LeaderElection72] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:49,321 [s4@group-3DE83109F7EE-LeaderElection72] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:49,321 [s4@group-3DE83109F7EE-LeaderElection72] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:49,321 [s4@group-3DE83109F7EE-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-3DE83109F7EE-LeaderElection72 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:49,321 [s4@group-3DE83109F7EE-LeaderElection72] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3DE83109F7EE: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-08 19:11:49,321 [s4@group-3DE83109F7EE-LeaderElection72] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-3DE83109F7EE-LeaderElection72
2022-11-08 19:11:49,321 [s4@group-3DE83109F7EE-LeaderElection72] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:49,561 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-3DE83109F7EE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:239369552ns, electionTimeout:239ms
2022-11-08 19:11:49,561 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:49,561 [s4@group-3DE83109F7EE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3DE83109F7EE: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-08 19:11:49,561 [s4@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:49,561 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3DE83109F7EE-LeaderElection73
2022-11-08 19:11:49,561 [s4@group-3DE83109F7EE-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-3DE83109F7EE-LeaderElection73 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:49,562 [s4@group-3DE83109F7EE-LeaderElection73] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection73 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:49,562 [s4@group-3DE83109F7EE-LeaderElection73] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection73 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:49,562 [s4@group-3DE83109F7EE-LeaderElection73] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection73 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:49,562 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-3DE83109F7EE: receive requestVote(PRE_VOTE, s4, group-3DE83109F7EE, 3, (t:3, i:4))
2022-11-08 19:11:49,562 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-3DE83109F7EE-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-11-08 19:11:49,562 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-3DE83109F7EE replies to PRE_VOTE vote request: s4<-s2#0:OK-t3. Peer's state: s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:49,563 [s4@group-3DE83109F7EE-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-3DE83109F7EE-LeaderElection73: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-08 19:11:49,563 [s4@group-3DE83109F7EE-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s2#0:OK-t3
2022-11-08 19:11:49,563 [s4@group-3DE83109F7EE-LeaderElection73] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:49,563 [s4@group-3DE83109F7EE-LeaderElection73] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:49,563 [s4@group-3DE83109F7EE-LeaderElection73] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:49,563 [s4@group-3DE83109F7EE-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-3DE83109F7EE-LeaderElection73 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:49,563 [s4@group-3DE83109F7EE-LeaderElection73] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3DE83109F7EE: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-08 19:11:49,563 [s4@group-3DE83109F7EE-LeaderElection73] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-3DE83109F7EE-LeaderElection73
2022-11-08 19:11:49,563 [s4@group-3DE83109F7EE-LeaderElection73] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:49,602 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #5/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:49,727 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-3DE83109F7EE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:164301467ns, electionTimeout:164ms
2022-11-08 19:11:49,727 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:49,727 [s4@group-3DE83109F7EE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3DE83109F7EE: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-08 19:11:49,727 [s4@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:49,727 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3DE83109F7EE-LeaderElection74
2022-11-08 19:11:49,728 [s4@group-3DE83109F7EE-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-3DE83109F7EE-LeaderElection74 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:49,728 [s4@group-3DE83109F7EE-LeaderElection74] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection74 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:49,728 [s4@group-3DE83109F7EE-LeaderElection74] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection74 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:49,728 [s4@group-3DE83109F7EE-LeaderElection74] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection74 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:49,728 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-3DE83109F7EE: receive requestVote(PRE_VOTE, s4, group-3DE83109F7EE, 3, (t:3, i:4))
2022-11-08 19:11:49,728 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-3DE83109F7EE-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-11-08 19:11:49,729 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-3DE83109F7EE replies to PRE_VOTE vote request: s4<-s2#0:OK-t3. Peer's state: s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:49,729 [s4@group-3DE83109F7EE-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-3DE83109F7EE-LeaderElection74: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-08 19:11:49,729 [s4@group-3DE83109F7EE-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s2#0:OK-t3
2022-11-08 19:11:49,729 [s4@group-3DE83109F7EE-LeaderElection74] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:49,729 [s4@group-3DE83109F7EE-LeaderElection74] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:49,729 [s4@group-3DE83109F7EE-LeaderElection74] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:49,729 [s4@group-3DE83109F7EE-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-3DE83109F7EE-LeaderElection74 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:49,729 [s4@group-3DE83109F7EE-LeaderElection74] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3DE83109F7EE: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-08 19:11:49,729 [s4@group-3DE83109F7EE-LeaderElection74] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-3DE83109F7EE-LeaderElection74
2022-11-08 19:11:49,730 [s4@group-3DE83109F7EE-LeaderElection74] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:49,963 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-3DE83109F7EE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:233268053ns, electionTimeout:233ms
2022-11-08 19:11:49,963 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:49,963 [s4@group-3DE83109F7EE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3DE83109F7EE: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-08 19:11:49,963 [s4@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:49,963 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3DE83109F7EE-LeaderElection75
2022-11-08 19:11:49,963 [s4@group-3DE83109F7EE-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-3DE83109F7EE-LeaderElection75 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:49,964 [s4@group-3DE83109F7EE-LeaderElection75] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection75 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:49,964 [s4@group-3DE83109F7EE-LeaderElection75] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection75 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:49,964 [s4@group-3DE83109F7EE-LeaderElection75] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection75 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:49,964 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-3DE83109F7EE: receive requestVote(PRE_VOTE, s4, group-3DE83109F7EE, 3, (t:3, i:4))
2022-11-08 19:11:49,964 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-3DE83109F7EE-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-11-08 19:11:49,964 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-3DE83109F7EE replies to PRE_VOTE vote request: s4<-s2#0:OK-t3. Peer's state: s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:49,965 [s4@group-3DE83109F7EE-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-3DE83109F7EE-LeaderElection75: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-08 19:11:49,965 [s4@group-3DE83109F7EE-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s2#0:OK-t3
2022-11-08 19:11:49,965 [s4@group-3DE83109F7EE-LeaderElection75] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:49,965 [s4@group-3DE83109F7EE-LeaderElection75] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:49,965 [s4@group-3DE83109F7EE-LeaderElection75] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:49,965 [s4@group-3DE83109F7EE-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-3DE83109F7EE-LeaderElection75 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:49,965 [s4@group-3DE83109F7EE-LeaderElection75] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3DE83109F7EE: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-08 19:11:49,965 [s4@group-3DE83109F7EE-LeaderElection75] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-3DE83109F7EE-LeaderElection75
2022-11-08 19:11:49,965 [s4@group-3DE83109F7EE-LeaderElection75] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:50,053 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #6/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:50,163 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-3DE83109F7EE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:198318161ns, electionTimeout:198ms
2022-11-08 19:11:50,163 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:50,164 [s4@group-3DE83109F7EE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3DE83109F7EE: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-08 19:11:50,164 [s4@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:50,164 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3DE83109F7EE-LeaderElection76
2022-11-08 19:11:50,164 [s4@group-3DE83109F7EE-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-3DE83109F7EE-LeaderElection76 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:50,164 [s4@group-3DE83109F7EE-LeaderElection76] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection76 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:50,165 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-3DE83109F7EE: receive requestVote(PRE_VOTE, s4, group-3DE83109F7EE, 3, (t:3, i:4))
2022-11-08 19:11:50,165 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-3DE83109F7EE-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-11-08 19:11:50,165 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-3DE83109F7EE replies to PRE_VOTE vote request: s4<-s2#0:OK-t3. Peer's state: s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:50,165 [s4@group-3DE83109F7EE-LeaderElection76] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection76 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:50,165 [s4@group-3DE83109F7EE-LeaderElection76] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection76 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:50,165 [s4@group-3DE83109F7EE-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-3DE83109F7EE-LeaderElection76: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-08 19:11:50,165 [s4@group-3DE83109F7EE-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s2#0:OK-t3
2022-11-08 19:11:50,165 [s4@group-3DE83109F7EE-LeaderElection76] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:50,165 [s4@group-3DE83109F7EE-LeaderElection76] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:50,165 [s4@group-3DE83109F7EE-LeaderElection76] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:50,165 [s4@group-3DE83109F7EE-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-3DE83109F7EE-LeaderElection76 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:50,165 [s4@group-3DE83109F7EE-LeaderElection76] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3DE83109F7EE: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-08 19:11:50,165 [s4@group-3DE83109F7EE-LeaderElection76] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-3DE83109F7EE-LeaderElection76
2022-11-08 19:11:50,165 [s4@group-3DE83109F7EE-LeaderElection76] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:50,457 [s2@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-3DE83109F7EE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:292380642ns, electionTimeout:256ms
2022-11-08 19:11:50,457 [s2@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:50,457 [s2@group-3DE83109F7EE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-3DE83109F7EE: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-08 19:11:50,457 [s2@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:50,457 [s2@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-3DE83109F7EE-LeaderElection77
2022-11-08 19:11:50,458 [s2@group-3DE83109F7EE-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-3DE83109F7EE-LeaderElection77 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:50,458 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-3DE83109F7EE: receive requestVote(PRE_VOTE, s2, group-3DE83109F7EE, 3, (t:3, i:4))
2022-11-08 19:11:50,458 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-3DE83109F7EE-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:50,458 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-3DE83109F7EE replies to PRE_VOTE vote request: s2<-s4#0:OK-t3. Peer's state: s4@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:50,458 [s2@group-3DE83109F7EE-LeaderElection77] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-3DE83109F7EE-LeaderElection77 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:50,458 [s2@group-3DE83109F7EE-LeaderElection77] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-3DE83109F7EE-LeaderElection77 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:50,458 [s2@group-3DE83109F7EE-LeaderElection77] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-3DE83109F7EE-LeaderElection77 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:50,458 [s2@group-3DE83109F7EE-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-3DE83109F7EE-LeaderElection77: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-08 19:11:50,458 [s2@group-3DE83109F7EE-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s4#0:OK-t3
2022-11-08 19:11:50,458 [s2@group-3DE83109F7EE-LeaderElection77] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:50,458 [s2@group-3DE83109F7EE-LeaderElection77] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:50,458 [s2@group-3DE83109F7EE-LeaderElection77] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:50,459 [s2@group-3DE83109F7EE-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-3DE83109F7EE-LeaderElection77 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:50,459 [s2@group-3DE83109F7EE-LeaderElection77] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-3DE83109F7EE: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-08 19:11:50,459 [s2@group-3DE83109F7EE-LeaderElection77] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-3DE83109F7EE-LeaderElection77
2022-11-08 19:11:50,459 [s2@group-3DE83109F7EE-LeaderElection77] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:50,503 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #7/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:50,629 [s2@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-3DE83109F7EE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:170348066ns, electionTimeout:170ms
2022-11-08 19:11:50,629 [s2@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:50,629 [s2@group-3DE83109F7EE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-3DE83109F7EE: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-08 19:11:50,629 [s2@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:50,629 [s2@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-3DE83109F7EE-LeaderElection78
2022-11-08 19:11:50,629 [s2@group-3DE83109F7EE-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-3DE83109F7EE-LeaderElection78 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:50,630 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-3DE83109F7EE: receive requestVote(PRE_VOTE, s2, group-3DE83109F7EE, 3, (t:3, i:4))
2022-11-08 19:11:50,630 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-3DE83109F7EE-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:50,630 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-3DE83109F7EE replies to PRE_VOTE vote request: s2<-s4#0:OK-t3. Peer's state: s4@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:50,630 [s2@group-3DE83109F7EE-LeaderElection78] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-3DE83109F7EE-LeaderElection78 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:50,630 [s2@group-3DE83109F7EE-LeaderElection78] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-3DE83109F7EE-LeaderElection78 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:50,630 [s2@group-3DE83109F7EE-LeaderElection78] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-3DE83109F7EE-LeaderElection78 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:50,630 [s2@group-3DE83109F7EE-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-3DE83109F7EE-LeaderElection78: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-08 19:11:50,630 [s2@group-3DE83109F7EE-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s4#0:OK-t3
2022-11-08 19:11:50,630 [s2@group-3DE83109F7EE-LeaderElection78] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:50,631 [s2@group-3DE83109F7EE-LeaderElection78] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:50,631 [s2@group-3DE83109F7EE-LeaderElection78] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:50,631 [s2@group-3DE83109F7EE-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-3DE83109F7EE-LeaderElection78 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:50,631 [s2@group-3DE83109F7EE-LeaderElection78] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-3DE83109F7EE: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-08 19:11:50,631 [s2@group-3DE83109F7EE-LeaderElection78] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-3DE83109F7EE-LeaderElection78
2022-11-08 19:11:50,631 [s2@group-3DE83109F7EE-LeaderElection78] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:50,812 [s2@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-3DE83109F7EE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:181393064ns, electionTimeout:181ms
2022-11-08 19:11:50,812 [s2@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:50,812 [s2@group-3DE83109F7EE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-3DE83109F7EE: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-08 19:11:50,812 [s2@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:50,812 [s2@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-3DE83109F7EE-LeaderElection79
2022-11-08 19:11:50,813 [s2@group-3DE83109F7EE-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-3DE83109F7EE-LeaderElection79 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:50,813 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-3DE83109F7EE: receive requestVote(PRE_VOTE, s2, group-3DE83109F7EE, 3, (t:3, i:4))
2022-11-08 19:11:50,813 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-3DE83109F7EE-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:50,813 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-3DE83109F7EE replies to PRE_VOTE vote request: s2<-s4#0:OK-t3. Peer's state: s4@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:50,813 [s2@group-3DE83109F7EE-LeaderElection79] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-3DE83109F7EE-LeaderElection79 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:50,813 [s2@group-3DE83109F7EE-LeaderElection79] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-3DE83109F7EE-LeaderElection79 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:50,814 [s2@group-3DE83109F7EE-LeaderElection79] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-3DE83109F7EE-LeaderElection79 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:50,814 [s2@group-3DE83109F7EE-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-3DE83109F7EE-LeaderElection79: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-08 19:11:50,814 [s2@group-3DE83109F7EE-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s4#0:OK-t3
2022-11-08 19:11:50,814 [s2@group-3DE83109F7EE-LeaderElection79] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:50,814 [s2@group-3DE83109F7EE-LeaderElection79] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:50,814 [s2@group-3DE83109F7EE-LeaderElection79] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:50,814 [s2@group-3DE83109F7EE-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-3DE83109F7EE-LeaderElection79 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:50,814 [s2@group-3DE83109F7EE-LeaderElection79] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-3DE83109F7EE: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-08 19:11:50,814 [s2@group-3DE83109F7EE-LeaderElection79] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-3DE83109F7EE-LeaderElection79
2022-11-08 19:11:50,814 [s2@group-3DE83109F7EE-LeaderElection79] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:50,955 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #8/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:50,964 [s2@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-3DE83109F7EE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:150670170ns, electionTimeout:150ms
2022-11-08 19:11:50,965 [s2@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:50,965 [s2@group-3DE83109F7EE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-3DE83109F7EE: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-08 19:11:50,965 [s2@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:50,965 [s2@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-3DE83109F7EE-LeaderElection80
2022-11-08 19:11:50,965 [s2@group-3DE83109F7EE-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-3DE83109F7EE-LeaderElection80 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:50,965 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-3DE83109F7EE: receive requestVote(PRE_VOTE, s2, group-3DE83109F7EE, 3, (t:3, i:4))
2022-11-08 19:11:50,965 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-3DE83109F7EE-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:50,966 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-3DE83109F7EE replies to PRE_VOTE vote request: s2<-s4#0:OK-t3. Peer's state: s4@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:50,966 [s2@group-3DE83109F7EE-LeaderElection80] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-3DE83109F7EE-LeaderElection80 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:50,966 [s2@group-3DE83109F7EE-LeaderElection80] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-3DE83109F7EE-LeaderElection80 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:50,966 [s2@group-3DE83109F7EE-LeaderElection80] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-3DE83109F7EE-LeaderElection80 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:50,966 [s2@group-3DE83109F7EE-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-3DE83109F7EE-LeaderElection80: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-08 19:11:50,966 [s2@group-3DE83109F7EE-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s4#0:OK-t3
2022-11-08 19:11:50,966 [s2@group-3DE83109F7EE-LeaderElection80] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:50,966 [s2@group-3DE83109F7EE-LeaderElection80] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:50,966 [s2@group-3DE83109F7EE-LeaderElection80] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:50,966 [s2@group-3DE83109F7EE-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-3DE83109F7EE-LeaderElection80 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:50,966 [s2@group-3DE83109F7EE-LeaderElection80] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-3DE83109F7EE: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-08 19:11:50,966 [s2@group-3DE83109F7EE-LeaderElection80] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-3DE83109F7EE-LeaderElection80
2022-11-08 19:11:50,966 [s2@group-3DE83109F7EE-LeaderElection80] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:51,167 [s2@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-3DE83109F7EE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:201388161ns, electionTimeout:201ms
2022-11-08 19:11:51,168 [s2@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:51,168 [s2@group-3DE83109F7EE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-3DE83109F7EE: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-08 19:11:51,168 [s2@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:51,168 [s2@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-3DE83109F7EE-LeaderElection81
2022-11-08 19:11:51,168 [s2@group-3DE83109F7EE-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-3DE83109F7EE-LeaderElection81 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:51,168 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-3DE83109F7EE: receive requestVote(PRE_VOTE, s2, group-3DE83109F7EE, 3, (t:3, i:4))
2022-11-08 19:11:51,168 [s2@group-3DE83109F7EE-LeaderElection81] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-3DE83109F7EE-LeaderElection81 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:51,168 [s2@group-3DE83109F7EE-LeaderElection81] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-3DE83109F7EE-LeaderElection81 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:51,168 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-3DE83109F7EE-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:51,169 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-3DE83109F7EE replies to PRE_VOTE vote request: s2<-s4#0:OK-t3. Peer's state: s4@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:51,169 [s2@group-3DE83109F7EE-LeaderElection81] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-3DE83109F7EE-LeaderElection81 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:51,169 [s2@group-3DE83109F7EE-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-3DE83109F7EE-LeaderElection81: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-08 19:11:51,169 [s2@group-3DE83109F7EE-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s4#0:OK-t3
2022-11-08 19:11:51,169 [s2@group-3DE83109F7EE-LeaderElection81] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:51,169 [s2@group-3DE83109F7EE-LeaderElection81] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:51,169 [s2@group-3DE83109F7EE-LeaderElection81] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:51,170 [s2@group-3DE83109F7EE-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-3DE83109F7EE-LeaderElection81 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:51,170 [s2@group-3DE83109F7EE-LeaderElection81] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-3DE83109F7EE: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-08 19:11:51,170 [s2@group-3DE83109F7EE-LeaderElection81] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-3DE83109F7EE-LeaderElection81
2022-11-08 19:11:51,170 [s2@group-3DE83109F7EE-LeaderElection81] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:51,369 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-3DE83109F7EE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:200605061ns, electionTimeout:200ms
2022-11-08 19:11:51,369 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:51,369 [s4@group-3DE83109F7EE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3DE83109F7EE: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-08 19:11:51,369 [s4@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:51,369 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3DE83109F7EE-LeaderElection82
2022-11-08 19:11:51,370 [s4@group-3DE83109F7EE-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-3DE83109F7EE-LeaderElection82 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:51,370 [s4@group-3DE83109F7EE-LeaderElection82] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection82 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:51,370 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-3DE83109F7EE: receive requestVote(PRE_VOTE, s4, group-3DE83109F7EE, 3, (t:3, i:4))
2022-11-08 19:11:51,370 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-3DE83109F7EE-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-11-08 19:11:51,370 [s4@group-3DE83109F7EE-LeaderElection82] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection82 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:51,370 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-3DE83109F7EE replies to PRE_VOTE vote request: s4<-s2#0:OK-t3. Peer's state: s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:51,370 [s4@group-3DE83109F7EE-LeaderElection82] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection82 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:51,370 [s4@group-3DE83109F7EE-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-3DE83109F7EE-LeaderElection82: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-08 19:11:51,370 [s4@group-3DE83109F7EE-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s2#0:OK-t3
2022-11-08 19:11:51,370 [s4@group-3DE83109F7EE-LeaderElection82] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:51,370 [s4@group-3DE83109F7EE-LeaderElection82] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:51,370 [s4@group-3DE83109F7EE-LeaderElection82] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:51,371 [s4@group-3DE83109F7EE-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-3DE83109F7EE-LeaderElection82 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:51,371 [s4@group-3DE83109F7EE-LeaderElection82] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3DE83109F7EE: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-08 19:11:51,371 [s4@group-3DE83109F7EE-LeaderElection82] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-3DE83109F7EE-LeaderElection82
2022-11-08 19:11:51,371 [s4@group-3DE83109F7EE-LeaderElection82] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:51,405 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #9/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:51,568 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-3DE83109F7EE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:197395861ns, electionTimeout:197ms
2022-11-08 19:11:51,568 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:51,568 [s4@group-3DE83109F7EE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3DE83109F7EE: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-08 19:11:51,568 [s4@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:51,568 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3DE83109F7EE-LeaderElection83
2022-11-08 19:11:51,569 [s4@group-3DE83109F7EE-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-3DE83109F7EE-LeaderElection83 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:51,569 [s4@group-3DE83109F7EE-LeaderElection83] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection83 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:51,569 [s4@group-3DE83109F7EE-LeaderElection83] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection83 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:51,569 [s4@group-3DE83109F7EE-LeaderElection83] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-3DE83109F7EE-LeaderElection83 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:51,569 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-3DE83109F7EE: receive requestVote(PRE_VOTE, s4, group-3DE83109F7EE, 3, (t:3, i:4))
2022-11-08 19:11:51,569 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-3DE83109F7EE-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-11-08 19:11:51,569 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-3DE83109F7EE replies to PRE_VOTE vote request: s4<-s2#0:OK-t3. Peer's state: s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:51,570 [s4@group-3DE83109F7EE-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-3DE83109F7EE-LeaderElection83: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-08 19:11:51,570 [s4@group-3DE83109F7EE-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s2#0:OK-t3
2022-11-08 19:11:51,570 [s4@group-3DE83109F7EE-LeaderElection83] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:51,570 [s4@group-3DE83109F7EE-LeaderElection83] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:51,570 [s4@group-3DE83109F7EE-LeaderElection83] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:51,570 [s4@group-3DE83109F7EE-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-3DE83109F7EE-LeaderElection83 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:51,575 [s4@group-3DE83109F7EE-LeaderElection83] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3DE83109F7EE: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-08 19:11:51,576 [s4@group-3DE83109F7EE-LeaderElection83] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-3DE83109F7EE-LeaderElection83
2022-11-08 19:11:51,576 [s4@group-3DE83109F7EE-LeaderElection83] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:51,764 [s2@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-3DE83109F7EE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:194809661ns, electionTimeout:174ms
2022-11-08 19:11:51,764 [s2@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:51,764 [s2@group-3DE83109F7EE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-3DE83109F7EE: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-08 19:11:51,764 [s2@group-3DE83109F7EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:51,764 [s2@group-3DE83109F7EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-3DE83109F7EE-LeaderElection84
2022-11-08 19:11:51,765 [s2@group-3DE83109F7EE-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-3DE83109F7EE-LeaderElection84 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:51,765 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-3DE83109F7EE: receive requestVote(PRE_VOTE, s2, group-3DE83109F7EE, 3, (t:3, i:4))
2022-11-08 19:11:51,765 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-3DE83109F7EE-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:51,765 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-3DE83109F7EE replies to PRE_VOTE vote request: s2<-s4#0:OK-t3. Peer's state: s4@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:51,766 [s2@group-3DE83109F7EE-LeaderElection84] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-3DE83109F7EE-LeaderElection84 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:51,766 [s2@group-3DE83109F7EE-LeaderElection84] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-3DE83109F7EE-LeaderElection84 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:51,766 [s2@group-3DE83109F7EE-LeaderElection84] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-3DE83109F7EE-LeaderElection84 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:51,766 [s2@group-3DE83109F7EE-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-3DE83109F7EE-LeaderElection84: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-11-08 19:11:51,766 [s2@group-3DE83109F7EE-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s4#0:OK-t3
2022-11-08 19:11:51,766 [s2@group-3DE83109F7EE-LeaderElection84] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-11-08 19:11:51,767 [s2@group-3DE83109F7EE-LeaderElection84] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-11-08 19:11:51,767 [s2@group-3DE83109F7EE-LeaderElection84] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-11-08 19:11:51,767 [s2@group-3DE83109F7EE-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-3DE83109F7EE-LeaderElection84 PRE_VOTE round 0: result REJECTED
2022-11-08 19:11:51,767 [s2@group-3DE83109F7EE-LeaderElection84] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-3DE83109F7EE: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-11-08 19:11:51,767 [s2@group-3DE83109F7EE-LeaderElection84] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-3DE83109F7EE-LeaderElection84
2022-11-08 19:11:51,767 [s2@group-3DE83109F7EE-LeaderElection84] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:51,856 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (BaseTest.java:assertThrowable(133)) - The test "waitForLeader after killed a majority of servers" throws IllegalStateException
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:51,856 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-08 19:11:51,856 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-08 19:11:51,856 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:51,856 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-08 19:11:51,856 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-08 19:11:51,856 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:   CLOSED    LEADER s3@group-3DE83109F7EE:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s4@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-3DE83109F7EE:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-3DE83109F7EE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-3DE83109F7EE-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-3DE83109F7EE:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-3DE83109F7EE-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:33063|admin:localhost:41781|client:localhost:37431|dataStream:localhost:35733|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39989|admin:localhost:44933|client:localhost:33449|dataStream:localhost:36663|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:46693|admin:localhost:36065|client:localhost:37351|dataStream:localhost:39999|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41641|admin:localhost:33285|client:localhost:44261|dataStream:localhost:44393|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37445|admin:localhost:33687|client:localhost:42865|dataStream:localhost:43581|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:51,857 [MiniRaftCluster-48] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s4: close
2022-11-08 19:11:51,860 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s4@group-3DE83109F7EE: shutdown
2022-11-08 19:11:51,860 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-3DE83109F7EE,id=s4
2022-11-08 19:11:51,860 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:51,861 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s4@group-3DE83109F7EE-StateMachineUpdater: set stopIndex = 4
2022-11-08 19:11:51,861 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:51,862 [s4@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-3DE83109F7EE-FollowerState was interrupted
2022-11-08 19:11:51,862 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:51,862 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s4@group-3DE83109F7EE: applyIndex: 4
2022-11-08 19:11:51,863 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:51,863 [s4@group-3DE83109F7EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s4@group-3DE83109F7EE-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:51,863 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:51,863 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:51,863 [MiniRaftCluster-51] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-08 19:11:51,863 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s4@group-3DE83109F7EE-SegmentedRaftLogWorker close()
2022-11-08 19:11:51,863 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:51,868 [JvmPauseMonitor36] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s4: Stopped
2022-11-08 19:11:51,868 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:51,868 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-3DE83109F7EE: shutdown
2022-11-08 19:11:51,868 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-3DE83109F7EE,id=s2
2022-11-08 19:11:51,868 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:51,868 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:51,868 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:51,868 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-3DE83109F7EE-FollowerState
2022-11-08 19:11:51,868 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-3DE83109F7EE-StateMachineUpdater: set stopIndex = 4
2022-11-08 19:11:51,868 [s2@group-3DE83109F7EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-3DE83109F7EE-FollowerState was interrupted
2022-11-08 19:11:51,868 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:51,868 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:51,868 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-3DE83109F7EE: applyIndex: 4
2022-11-08 19:11:51,869 [s2@group-3DE83109F7EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s2@group-3DE83109F7EE-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:51,869 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-3DE83109F7EE-SegmentedRaftLogWorker close()
2022-11-08 19:11:51,870 [JvmPauseMonitor39] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-08 19:11:51,870 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-08 19:11:51,870 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-08 19:11:51,870 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-08 19:11:51,870 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-08 19:11:51,871 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-08 19:11:51,871 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-08 19:11:51,871 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-6563C72880A4:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]
2022-11-08 19:11:51,871 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-08 19:11:51,871 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-08 19:11:51,872 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:51,872 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-08 19:11:51,872 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-08 19:11:51,872 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-08 19:11:51,872 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-6563C72880A4:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:51,872 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s0
2022-11-08 19:11:51,872 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s0 does not exist.
2022-11-08 19:11:51,872 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s0
2022-11-08 19:11:51,872 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:51,872 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:51,872 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:51,872 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:51,872 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:51,872 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:51,872 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s0] (custom)
2022-11-08 19:11:51,873 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-6563C72880A4:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER] returns group-6563C72880A4:java.util.concurrent.CompletableFuture@27368a91[Not completed]
2022-11-08 19:11:51,873 [pool-41-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-6563C72880A4:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:51,873 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-6563C72880A4:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:51,873 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s1
2022-11-08 19:11:51,873 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:51,873 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s1 does not exist.
2022-11-08 19:11:51,873 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s1
2022-11-08 19:11:51,873 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:51,873 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:51,873 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:51,873 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:51,873 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:51,874 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:51,874 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:51,874 [pool-41-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-6563C72880A4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:51,874 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:51,874 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:51,874 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:51,874 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:51,874 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:51,874 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:51,874 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:51,874 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:51,874 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s1] (custom)
2022-11-08 19:11:51,874 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:51,874 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-6563C72880A4:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER] returns group-6563C72880A4:java.util.concurrent.CompletableFuture@539cb13a[Not completed]
2022-11-08 19:11:51,875 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-6563C72880A4:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:51,875 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s2
2022-11-08 19:11:51,875 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s2 does not exist.
2022-11-08 19:11:51,875 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s2
2022-11-08 19:11:51,875 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:51,875 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:51,875 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:51,875 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:51,875 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:51,875 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:51,875 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:51,875 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:51,875 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:51,875 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:51,875 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:51,876 [pool-42-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-6563C72880A4:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:51,876 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:51,876 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:51,876 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:51,876 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:51,876 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:51,876 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:51,876 [pool-42-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-6563C72880A4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:51,876 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:51,876 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:51,876 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:51,876 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:51,876 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:51,875 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s2] (custom)
2022-11-08 19:11:51,877 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:51,877 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:51,877 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:51,877 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:51,877 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:51,877 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-6563C72880A4:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER] returns group-6563C72880A4:java.util.concurrent.CompletableFuture@4357ae8e[Not completed]
2022-11-08 19:11:51,877 [pool-43-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-6563C72880A4:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:51,877 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:51,877 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:51,877 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s0] (custom)
2022-11-08 19:11:51,877 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s0/6045aa3d-6619-4707-a690-6563c72880a4 does not exist. Creating ...
2022-11-08 19:11:51,878 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s0/6045aa3d-6619-4707-a690-6563c72880a4
2022-11-08 19:11:51,878 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:51,878 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:51,878 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:51,878 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:51,878 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:51,878 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:51,878 [pool-43-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-6563C72880A4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:51,878 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:51,878 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:51,878 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:51,878 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:51,878 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:51,879 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s0/6045aa3d-6619-4707-a690-6563c72880a4/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:51,879 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s0/6045aa3d-6619-4707-a690-6563c72880a4/current
2022-11-08 19:11:51,879 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s0/6045aa3d-6619-4707-a690-6563c72880a4/sm
2022-11-08 19:11:51,879 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:51,879 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:51,879 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:51,879 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:51,879 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:51,880 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s0/6045aa3d-6619-4707-a690-6563c72880a4 has been successfully formatted.
2022-11-08 19:11:51,880 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:51,880 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:51,880 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:51,880 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:51,880 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:51,883 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:51,884 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:51,884 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:51,884 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-6563C72880A4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s0/6045aa3d-6619-4707-a690-6563c72880a4
2022-11-08 19:11:51,884 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:51,884 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:51,884 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:51,884 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:51,885 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:51,885 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:51,885 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:51,885 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:51,885 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:51,885 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:51,885 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:51,885 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:51,885 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:51,885 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-6563C72880A4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:51,885 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-6563C72880A4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:51,891 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-6563C72880A4: start as a follower, conf=-1: peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:51,892 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-6563C72880A4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:51,892 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6563C72880A4-FollowerState
2022-11-08 19:11:51,892 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6563C72880A4,id=s0
2022-11-08 19:11:51,892 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:51,892 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:51,892 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:51,892 [s0@group-6563C72880A4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:51,892 [s0@group-6563C72880A4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:51,895 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-08 19:11:51,896 [JvmPauseMonitor40] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-08 19:11:51,896 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:51,896 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:51,896 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s1] (custom)
2022-11-08 19:11:51,896 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s1/6045aa3d-6619-4707-a690-6563c72880a4 does not exist. Creating ...
2022-11-08 19:11:51,897 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s1/6045aa3d-6619-4707-a690-6563c72880a4
2022-11-08 19:11:51,897 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s1/6045aa3d-6619-4707-a690-6563c72880a4/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:51,898 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s1/6045aa3d-6619-4707-a690-6563c72880a4/current
2022-11-08 19:11:51,898 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s1/6045aa3d-6619-4707-a690-6563c72880a4/sm
2022-11-08 19:11:51,898 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s1/6045aa3d-6619-4707-a690-6563c72880a4 has been successfully formatted.
2022-11-08 19:11:51,899 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:51,899 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:51,899 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:51,899 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:51,899 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:51,899 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:51,899 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:51,899 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:51,899 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-6563C72880A4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s1/6045aa3d-6619-4707-a690-6563c72880a4
2022-11-08 19:11:51,899 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:51,899 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:51,899 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:51,899 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:51,899 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:51,900 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:51,900 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:51,900 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:51,900 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:51,900 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:51,900 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:51,900 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:51,900 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:51,900 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-6563C72880A4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:51,900 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-6563C72880A4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:51,900 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-6563C72880A4: start as a follower, conf=-1: peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:51,900 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-6563C72880A4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:51,900 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-6563C72880A4-FollowerState
2022-11-08 19:11:51,900 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6563C72880A4,id=s1
2022-11-08 19:11:51,900 [s1@group-6563C72880A4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:51,900 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:51,900 [s1@group-6563C72880A4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:51,901 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:51,901 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:51,901 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-08 19:11:51,901 [JvmPauseMonitor41] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-08 19:11:51,901 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:51,901 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:51,901 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s2] (custom)
2022-11-08 19:11:51,902 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s2/6045aa3d-6619-4707-a690-6563c72880a4 does not exist. Creating ...
2022-11-08 19:11:51,902 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s2/6045aa3d-6619-4707-a690-6563c72880a4
2022-11-08 19:11:51,903 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s2/6045aa3d-6619-4707-a690-6563c72880a4/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:51,903 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s2/6045aa3d-6619-4707-a690-6563c72880a4/current
2022-11-08 19:11:51,903 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s2/6045aa3d-6619-4707-a690-6563c72880a4/sm
2022-11-08 19:11:51,903 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s2/6045aa3d-6619-4707-a690-6563c72880a4 has been successfully formatted.
2022-11-08 19:11:51,904 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:51,904 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:51,904 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:51,904 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:51,904 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:51,904 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:51,904 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:51,904 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:51,904 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-6563C72880A4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s2/6045aa3d-6619-4707-a690-6563c72880a4
2022-11-08 19:11:51,904 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:51,904 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:51,904 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:51,904 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:51,904 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:51,904 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:51,904 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:51,904 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:51,905 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:51,905 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:51,905 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:51,905 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:51,905 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:51,905 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-6563C72880A4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:51,905 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-6563C72880A4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:51,918 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-6563C72880A4: start as a follower, conf=-1: peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:51,918 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-6563C72880A4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:51,918 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-6563C72880A4-FollowerState
2022-11-08 19:11:51,920 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6563C72880A4,id=s2
2022-11-08 19:11:51,920 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:51,920 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:51,920 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:51,920 [s2@group-6563C72880A4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:51,920 [s2@group-6563C72880A4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:51,920 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-08 19:11:51,921 [JvmPauseMonitor42] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-08 19:11:51,921 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:51,921 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6563C72880A4:t0, leader=null, voted=, raftlog=Memoized:s0@group-6563C72880A4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6563C72880A4:t0, leader=null, voted=, raftlog=Memoized:s1@group-6563C72880A4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6563C72880A4:t0, leader=null, voted=, raftlog=Memoized:s2@group-6563C72880A4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:51,921 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6563C72880A4:t0, leader=null, voted=, raftlog=Memoized:s0@group-6563C72880A4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6563C72880A4:t0, leader=null, voted=, raftlog=Memoized:s1@group-6563C72880A4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6563C72880A4:t0, leader=null, voted=, raftlog=Memoized:s2@group-6563C72880A4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6563C72880A4:t0, leader=null, voted=, raftlog=Memoized:s0@group-6563C72880A4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6563C72880A4:t0, leader=null, voted=, raftlog=Memoized:s1@group-6563C72880A4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6563C72880A4:t0, leader=null, voted=, raftlog=Memoized:s2@group-6563C72880A4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeFollowerToListener(LeaderElectionTests.java:409)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:52,042 [s0@group-6563C72880A4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-6563C72880A4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:150790270ns, electionTimeout:150ms
2022-11-08 19:11:52,043 [s0@group-6563C72880A4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-6563C72880A4-FollowerState
2022-11-08 19:11:52,043 [s0@group-6563C72880A4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-6563C72880A4: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-08 19:11:52,043 [s0@group-6563C72880A4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:52,043 [s0@group-6563C72880A4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6563C72880A4-LeaderElection85
2022-11-08 19:11:52,043 [s0@group-6563C72880A4-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-6563C72880A4-LeaderElection85 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:52,043 [s0@group-6563C72880A4-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:52,043 [s0@group-6563C72880A4-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:52,043 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-6563C72880A4: receive requestVote(PRE_VOTE, s0, group-6563C72880A4, 0, (t:0, i:0))
2022-11-08 19:11:52,043 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-6563C72880A4-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:52,043 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-6563C72880A4: receive requestVote(PRE_VOTE, s0, group-6563C72880A4, 0, (t:0, i:0))
2022-11-08 19:11:52,043 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-6563C72880A4 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-6563C72880A4:t0, leader=null, voted=, raftlog=Memoized:s1@group-6563C72880A4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:52,043 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-6563C72880A4-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:52,044 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-6563C72880A4 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-6563C72880A4:t0, leader=null, voted=, raftlog=Memoized:s2@group-6563C72880A4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:52,044 [s0@group-6563C72880A4-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-6563C72880A4-LeaderElection85: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:52,044 [s0@group-6563C72880A4-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2022-11-08 19:11:52,044 [s0@group-6563C72880A4-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-6563C72880A4-LeaderElection85 PRE_VOTE round 0: result PASSED
2022-11-08 19:11:52,045 [s0@group-6563C72880A4-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-6563C72880A4-LeaderElection85 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:52,045 [s0@group-6563C72880A4-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:52,045 [s0@group-6563C72880A4-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:52,045 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-6563C72880A4: receive requestVote(ELECTION, s0, group-6563C72880A4, 1, (t:0, i:0))
2022-11-08 19:11:52,045 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-6563C72880A4-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:52,045 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-6563C72880A4: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-11-08 19:11:52,045 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-6563C72880A4-FollowerState
2022-11-08 19:11:52,045 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-6563C72880A4-FollowerState
2022-11-08 19:11:52,045 [s2@group-6563C72880A4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-6563C72880A4-FollowerState was interrupted
2022-11-08 19:11:52,045 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-6563C72880A4: receive requestVote(ELECTION, s0, group-6563C72880A4, 1, (t:0, i:0))
2022-11-08 19:11:52,045 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-6563C72880A4-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:52,045 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-6563C72880A4: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-11-08 19:11:52,046 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-6563C72880A4-FollowerState
2022-11-08 19:11:52,046 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-6563C72880A4-FollowerState
2022-11-08 19:11:52,046 [s1@group-6563C72880A4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-6563C72880A4-FollowerState was interrupted
2022-11-08 19:11:52,046 [s2@group-6563C72880A4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:52,046 [s2@group-6563C72880A4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:52,046 [s1@group-6563C72880A4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:52,046 [s1@group-6563C72880A4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:52,047 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-6563C72880A4 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-6563C72880A4:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-6563C72880A4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:52,047 [s0@group-6563C72880A4-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-6563C72880A4-LeaderElection85: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:52,047 [s0@group-6563C72880A4-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t1
2022-11-08 19:11:52,047 [s0@group-6563C72880A4-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-6563C72880A4-LeaderElection85 ELECTION round 0: result PASSED
2022-11-08 19:11:52,047 [s0@group-6563C72880A4-LeaderElection85] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-6563C72880A4-LeaderElection85
2022-11-08 19:11:52,047 [s0@group-6563C72880A4-LeaderElection85] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-6563C72880A4: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-08 19:11:52,047 [s0@group-6563C72880A4-LeaderElection85] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-6563C72880A4: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 173ms
2022-11-08 19:11:52,047 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-6563C72880A4 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-6563C72880A4:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-6563C72880A4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:52,047 [s0@group-6563C72880A4-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:11:52,047 [s0@group-6563C72880A4-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:52,047 [s0@group-6563C72880A4-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:52,047 [s0@group-6563C72880A4-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:11:52,047 [s0@group-6563C72880A4-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:11:52,047 [s0@group-6563C72880A4-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:11:52,047 [s0@group-6563C72880A4-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:52,047 [s0@group-6563C72880A4-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:11:52,048 [s0@group-6563C72880A4-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:52,048 [s0@group-6563C72880A4-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:52,048 [s0@group-6563C72880A4-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:52,048 [s0@group-6563C72880A4-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:52,048 [s0@group-6563C72880A4-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:52,048 [s0@group-6563C72880A4-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:52,048 [s0@group-6563C72880A4-LeaderElection85] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6563C72880A4-LeaderStateImpl
2022-11-08 19:11:52,048 [s0@group-6563C72880A4-LeaderElection85] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-6563C72880A4-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:52,052 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-6563C72880A4: change Leader from null to s0 at term 1 for appendEntries, leader elected after 176ms
2022-11-08 19:11:52,052 [s0@group-6563C72880A4-LeaderElection85] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-6563C72880A4: set configuration 0: peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:52,052 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-6563C72880A4: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:2195, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:35637"
dataStreamAddress: "localhost:37947"
clientAddress: "localhost:35505"
adminAddress: "localhost:41323"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:34839"
dataStreamAddress: "localhost:40261"
clientAddress: "localhost:38009"
adminAddress: "localhost:44361"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42525"
dataStreamAddress: "localhost:40859"
clientAddress: "localhost:33465"
adminAddress: "localhost:33259"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:52,053 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-6563C72880A4: set configuration 0: peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:52,053 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-6563C72880A4-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:52,055 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-6563C72880A4: change Leader from null to s0 at term 1 for appendEntries, leader elected after 177ms
2022-11-08 19:11:52,056 [s0@group-6563C72880A4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-6563C72880A4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s0/6045aa3d-6619-4707-a690-6563c72880a4/current/log_inprogress_0
2022-11-08 19:11:52,062 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-6563C72880A4: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:2196, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:35637"
dataStreamAddress: "localhost:37947"
clientAddress: "localhost:35505"
adminAddress: "localhost:41323"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:34839"
dataStreamAddress: "localhost:40261"
clientAddress: "localhost:38009"
adminAddress: "localhost:44361"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42525"
dataStreamAddress: "localhost:40859"
clientAddress: "localhost:33465"
adminAddress: "localhost:33259"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:52,062 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-6563C72880A4: set configuration 0: peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:52,062 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-6563C72880A4-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:52,071 [s1@group-6563C72880A4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-6563C72880A4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s1/6045aa3d-6619-4707-a690-6563c72880a4/current/log_inprogress_0
2022-11-08 19:11:52,071 [s2@group-6563C72880A4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-6563C72880A4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc5bf988b0/s2/6045aa3d-6619-4707-a690-6563c72880a4/current/log_inprogress_0
2022-11-08 19:11:52,074 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-6563C72880A4: succeeded to handle AppendEntries. Reply: s0<-s1#2195:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:11:52,074 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-6563C72880A4: succeeded to handle AppendEntries. Reply: s0<-s2#2196:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:11:52,372 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-6563C72880A4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6563C72880A4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6563C72880A4:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-6563C72880A4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6563C72880A4:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-6563C72880A4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:52,372 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:52,372 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s0@group-6563C72880A4: receive client request(RaftClientRequest:client-6C08BBB06E76->s0@group-6563C72880A4, cid=2225, seq=0, RW, message)
2022-11-08 19:11:52,373 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(410)) - s0@group-6563C72880A4-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-6C08BBB06E76->s0@group-6563C72880A4, cid=2225, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 2225@client-6C08BBB06E76
2022-11-08 19:11:52,373 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-6563C72880A4: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:2226, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2225@client-6C08BBB06E76]
2022-11-08 19:11:52,373 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-6563C72880A4: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:2227, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2225@client-6C08BBB06E76]
2022-11-08 19:11:52,374 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-6563C72880A4: succeeded to handle AppendEntries. Reply: s0<-s2#2227:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-08 19:11:52,374 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-6563C72880A4: succeeded to handle AppendEntries. Reply: s0<-s1#2226:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-08 19:11:52,374 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-6563C72880A4: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:2230, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-08 19:11:52,375 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-6563C72880A4: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:2233, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-08 19:11:52,375 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-6563C72880A4: succeeded to handle AppendEntries. Reply: s0<-s2#2230:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-08 19:11:52,376 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-6563C72880A4: succeeded to handle AppendEntries. Reply: s0<-s1#2233:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-08 19:11:52,376 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1188)) - s0@group-6563C72880A4: receive setConfiguration SetConfigurationRequest:client-6C08BBB06E76->s0@group-6563C72880A4, cid=2234, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER], listeners:[s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]
2022-11-08 19:11:52,377 [s0-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(377)) - s0@group-6563C72880A4-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-6C08BBB06E76->s0@group-6563C72880A4, cid=2234, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER], listeners:[s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]
2022-11-08 19:11:52,377 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-6563C72880A4: set configuration 3: peers:[s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-08 19:11:52,378 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-6563C72880A4: receive appendEntries(s0, 1, (t:1, i:2), 1, true, commits:[s0:c1, s1:c1, s2:c1], cId:2235, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s1"
address: "localhost:34839"
dataStreamAddress: "localhost:40261"
clientAddress: "localhost:38009"
adminAddress: "localhost:44361"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:35637"
dataStreamAddress: "localhost:37947"
clientAddress: "localhost:35505"
adminAddress: "localhost:41323"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:34839"
dataStreamAddress: "localhost:40261"
clientAddress: "localhost:38009"
adminAddress: "localhost:44361"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42525"
dataStreamAddress: "localhost:40859"
clientAddress: "localhost:33465"
adminAddress: "localhost:33259"
startupRole: FOLLOWER
)]
2022-11-08 19:11:52,378 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-6563C72880A4: set configuration 3: peers:[s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-08 19:11:52,379 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-6563C72880A4: succeeded to handle AppendEntries. Reply: s0<-s1#2235:OK-t1,SUCCESS,nextIndex=4,followerCommit=1,matchIndex=3
2022-11-08 19:11:52,379 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-6563C72880A4: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits:[s0:c2, s1:c1, s2:c1], cId:2236, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s1"
address: "localhost:34839"
dataStreamAddress: "localhost:40261"
clientAddress: "localhost:38009"
adminAddress: "localhost:44361"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:35637"
dataStreamAddress: "localhost:37947"
clientAddress: "localhost:35505"
adminAddress: "localhost:41323"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:34839"
dataStreamAddress: "localhost:40261"
clientAddress: "localhost:38009"
adminAddress: "localhost:44361"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42525"
dataStreamAddress: "localhost:40859"
clientAddress: "localhost:33465"
adminAddress: "localhost:33259"
startupRole: FOLLOWER
)]
2022-11-08 19:11:52,379 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-6563C72880A4: set configuration 3: peers:[s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:35637|admin:localhost:41323|client:localhost:35505|dataStream:localhost:37947|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-08 19:11:52,379 [s0@group-6563C72880A4-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-6563C72880A4: set configuration 5: peers:[s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER], old=null
2022-11-08 19:11:52,380 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-6563C72880A4: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits:[s0:c3, s1:c1, s2:c1], cId:2237, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s1"
address: "localhost:34839"
dataStreamAddress: "localhost:40261"
clientAddress: "localhost:38009"
adminAddress: "localhost:44361"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:52,380 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-6563C72880A4: set configuration 5: peers:[s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER], old=null
2022-11-08 19:11:52,380 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-6563C72880A4: succeeded to handle AppendEntries. Reply: s0<-s2#2236:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-08 19:11:52,381 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-6563C72880A4: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits:[s0:c3, s1:c1, s2:c2], cId:2238, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s1"
address: "localhost:34839"
dataStreamAddress: "localhost:40261"
clientAddress: "localhost:38009"
adminAddress: "localhost:44361"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:52,381 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-6563C72880A4: set configuration 5: peers:[s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER], old=null
2022-11-08 19:11:52,381 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-6563C72880A4: succeeded to handle AppendEntries. Reply: s0<-s1#2237:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-08 19:11:52,382 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-6563C72880A4: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits:[s0:c5, s1:c3, s2:c2], cId:2239, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-08 19:11:52,382 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-6563C72880A4: succeeded to handle AppendEntries. Reply: s0<-s2#2238:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-08 19:11:52,382 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-6563C72880A4: succeeded to handle AppendEntries. Reply: s0<-s1#2239:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-08 19:11:52,383 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-6563C72880A4: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits:[s0:c5, s1:c3, s2:c3], cId:2240, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-08 19:11:52,383 [s0@group-6563C72880A4-LeaderStateImpl] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkAndUpdateConfiguration(893)) - s0@group-6563C72880A4-LeaderStateImpl is not included in the new configuration 5: peers:[s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER], old=null. Will shutdown server...
2022-11-08 19:11:52,383 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-08 19:11:52,383 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-08 19:11:52,383 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:52,383 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-08 19:11:52,383 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-08 19:11:52,383 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-6563C72880A4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6563C72880A4-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6563C72880A4:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-6563C72880A4-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6563C72880A4:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-6563C72880A4-SegmentedRaftLog:OPENED:c3, conf=5: peers:[s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER], old=null RUNNING
2022-11-08 19:11:52,383 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-6563C72880A4: succeeded to handle AppendEntries. Reply: s0<-s2#2240:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-08 19:11:52,384 [MiniRaftCluster-52] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-08 19:11:52,384 [MiniRaftCluster-53] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-08 19:11:52,388 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-6563C72880A4: shutdown
2022-11-08 19:11:52,388 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:52,388 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6563C72880A4,id=s0
2022-11-08 19:11:52,388 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-6563C72880A4-LeaderStateImpl
2022-11-08 19:11:52,388 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:52,388 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-6563C72880A4-PendingRequests: sendNotLeaderResponses
2022-11-08 19:11:52,388 [s0@group-6563C72880A4->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-6563C72880A4->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:52,388 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:52,388 [s0@group-6563C72880A4->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-6563C72880A4->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:52,388 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:52,388 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:52,388 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:52,389 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-6563C72880A4: shutdown
2022-11-08 19:11:52,389 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6563C72880A4,id=s1
2022-11-08 19:11:52,389 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-6563C72880A4-FollowerState
2022-11-08 19:11:52,389 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-6563C72880A4-StateMachineUpdater: set stopIndex = 5
2022-11-08 19:11:52,389 [s1@group-6563C72880A4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-6563C72880A4-FollowerState was interrupted
2022-11-08 19:11:52,389 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-6563C72880A4: applyIndex: 5
2022-11-08 19:11:52,389 [s1@group-6563C72880A4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s1@group-6563C72880A4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:52,389 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-6563C72880A4-StateMachineUpdater: set stopIndex = 5
2022-11-08 19:11:52,389 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-6563C72880A4: applyIndex: 5
2022-11-08 19:11:52,390 [s0@group-6563C72880A4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s0@group-6563C72880A4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:52,390 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-6563C72880A4-SegmentedRaftLogWorker close()
2022-11-08 19:11:52,390 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-6563C72880A4-SegmentedRaftLogWorker close()
2022-11-08 19:11:52,391 [JvmPauseMonitor40] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-08 19:11:52,391 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:52,391 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:52,391 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:52,391 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:52,391 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:52,391 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:52,392 [JvmPauseMonitor41] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-08 19:11:52,392 [MiniRaftCluster-54] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-08 19:11:52,392 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-6563C72880A4: shutdown
2022-11-08 19:11:52,392 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6563C72880A4,id=s2
2022-11-08 19:11:52,392 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-6563C72880A4-FollowerState
2022-11-08 19:11:52,392 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-6563C72880A4-StateMachineUpdater: set stopIndex = 5
2022-11-08 19:11:52,392 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:52,393 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:52,393 [s2@group-6563C72880A4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-6563C72880A4-FollowerState was interrupted
2022-11-08 19:11:52,393 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:52,393 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:52,393 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:52,393 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:52,393 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-6563C72880A4: applyIndex: 5
2022-11-08 19:11:52,393 [s2@group-6563C72880A4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s2@group-6563C72880A4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:52,394 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-6563C72880A4-SegmentedRaftLogWorker close()
2022-11-08 19:11:52,394 [JvmPauseMonitor42] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-08 19:11:52,395 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-08 19:11:52,395 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-08 19:11:52,395 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-08 19:11:52,395 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:52,395 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-08 19:11:52,395 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-08 19:11:52,395 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED    LEADER s0@group-6563C72880A4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6563C72880A4-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-6563C72880A4:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-6563C72880A4-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-6563C72880A4:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-6563C72880A4-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s1|rpc:localhost:34839|admin:localhost:44361|client:localhost:38009|dataStream:localhost:40261|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:42525|admin:localhost:33259|client:localhost:33465|dataStream:localhost:40859|priority:0|startupRole:FOLLOWER], old=null CLOSED
2022-11-08 19:11:52,395 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-08 19:11:52,396 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-08 19:11:52,396 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-08 19:11:52,396 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-08 19:11:52,396 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-08 19:11:52,398 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-08 19:11:52,398 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-E34D2003D5AB:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]
2022-11-08 19:11:52,398 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-08 19:11:52,398 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-08 19:11:52,398 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:52,398 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-08 19:11:52,398 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-08 19:11:52,398 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-08 19:11:52,398 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-E34D2003D5AB:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:52,398 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s0
2022-11-08 19:11:52,399 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s0 does not exist.
2022-11-08 19:11:52,399 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s0
2022-11-08 19:11:52,399 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:52,399 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:52,399 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:52,399 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:52,399 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:52,399 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:52,399 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s0] (custom)
2022-11-08 19:11:52,400 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-E34D2003D5AB:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER] returns group-E34D2003D5AB:java.util.concurrent.CompletableFuture@3d99bcdf[Not completed]
2022-11-08 19:11:52,400 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-E34D2003D5AB:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:52,400 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s1
2022-11-08 19:11:52,400 [pool-44-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-E34D2003D5AB:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:52,400 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:52,400 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:52,400 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:52,400 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:52,400 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:52,400 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:52,400 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s1 does not exist.
2022-11-08 19:11:52,400 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s1
2022-11-08 19:11:52,400 [pool-44-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-E34D2003D5AB: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:52,400 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:52,401 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:52,401 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:52,401 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:52,401 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:52,401 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:52,401 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s1] (custom)
2022-11-08 19:11:52,400 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:52,401 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:52,401 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:52,401 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:52,401 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:52,402 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:52,402 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:52,402 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:52,402 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:52,402 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:52,403 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-E34D2003D5AB:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER] returns group-E34D2003D5AB:java.util.concurrent.CompletableFuture@492939b0[Not completed]
2022-11-08 19:11:52,403 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-E34D2003D5AB:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:52,403 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s2
2022-11-08 19:11:52,403 [pool-45-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-E34D2003D5AB:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:52,403 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s2 does not exist.
2022-11-08 19:11:52,403 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s2
2022-11-08 19:11:52,403 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:52,403 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:52,403 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:52,403 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:52,404 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:52,404 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:52,404 [pool-45-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-E34D2003D5AB: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:52,404 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:52,404 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:52,404 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:52,404 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:52,404 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:52,404 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:52,404 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:52,404 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:52,404 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:52,404 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:52,404 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:52,404 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s2] (custom)
2022-11-08 19:11:52,405 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:52,405 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:52,405 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:52,405 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:52,405 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:52,412 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-E34D2003D5AB:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER] returns group-E34D2003D5AB:java.util.concurrent.CompletableFuture@2bb17edb[Not completed]
2022-11-08 19:11:52,412 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:52,412 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:52,412 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s0] (custom)
2022-11-08 19:11:52,412 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s0/be458992-c577-4271-ac75-e34d2003d5ab does not exist. Creating ...
2022-11-08 19:11:52,413 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s0/be458992-c577-4271-ac75-e34d2003d5ab
2022-11-08 19:11:52,413 [pool-46-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-E34D2003D5AB:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:52,413 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:52,413 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:52,413 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:52,413 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:52,413 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:52,413 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:52,413 [pool-46-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-E34D2003D5AB: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:52,413 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:52,413 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:52,413 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:52,413 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:52,413 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:52,414 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s0/be458992-c577-4271-ac75-e34d2003d5ab/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:52,416 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s0/be458992-c577-4271-ac75-e34d2003d5ab/current
2022-11-08 19:11:52,416 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s0/be458992-c577-4271-ac75-e34d2003d5ab/sm
2022-11-08 19:11:52,416 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s0/be458992-c577-4271-ac75-e34d2003d5ab has been successfully formatted.
2022-11-08 19:11:52,416 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:52,417 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:52,417 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:52,417 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:52,417 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:52,417 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:52,417 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:52,417 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:52,417 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-E34D2003D5AB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s0/be458992-c577-4271-ac75-e34d2003d5ab
2022-11-08 19:11:52,417 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:52,417 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:52,417 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:52,417 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:52,417 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:52,417 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:52,417 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:52,417 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:52,418 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:52,414 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:52,418 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:52,418 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:52,420 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:52,420 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:52,420 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:52,420 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-E34D2003D5AB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:52,420 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-E34D2003D5AB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:52,420 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:52,420 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:52,420 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:52,423 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-E34D2003D5AB: start as a follower, conf=-1: peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:52,424 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-E34D2003D5AB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:52,424 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E34D2003D5AB-FollowerState
2022-11-08 19:11:52,428 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E34D2003D5AB,id=s0
2022-11-08 19:11:52,428 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:52,428 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:52,428 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:52,428 [s0@group-E34D2003D5AB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:52,428 [s0@group-E34D2003D5AB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:52,428 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-08 19:11:52,429 [JvmPauseMonitor43] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-08 19:11:52,429 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:52,429 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:52,429 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s1] (custom)
2022-11-08 19:11:52,429 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s1/be458992-c577-4271-ac75-e34d2003d5ab does not exist. Creating ...
2022-11-08 19:11:52,429 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s1/be458992-c577-4271-ac75-e34d2003d5ab
2022-11-08 19:11:52,430 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s1/be458992-c577-4271-ac75-e34d2003d5ab/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:52,430 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s1/be458992-c577-4271-ac75-e34d2003d5ab/current
2022-11-08 19:11:52,430 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s1/be458992-c577-4271-ac75-e34d2003d5ab/sm
2022-11-08 19:11:52,431 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s1/be458992-c577-4271-ac75-e34d2003d5ab has been successfully formatted.
2022-11-08 19:11:52,431 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:52,431 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:52,431 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:52,431 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:52,431 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:52,432 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:52,432 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:52,432 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:52,432 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-E34D2003D5AB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s1/be458992-c577-4271-ac75-e34d2003d5ab
2022-11-08 19:11:52,432 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:52,432 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:52,432 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:52,432 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:52,432 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:52,432 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:52,432 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:52,432 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:52,432 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:52,432 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:52,432 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:52,432 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:52,432 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:52,432 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-E34D2003D5AB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:52,432 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-E34D2003D5AB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:52,433 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-E34D2003D5AB: start as a follower, conf=-1: peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:52,433 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-E34D2003D5AB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:52,433 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E34D2003D5AB-FollowerState
2022-11-08 19:11:52,433 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E34D2003D5AB,id=s1
2022-11-08 19:11:52,433 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:52,433 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:52,433 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:52,433 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-08 19:11:52,433 [s1@group-E34D2003D5AB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:52,433 [s1@group-E34D2003D5AB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:52,434 [JvmPauseMonitor44] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-08 19:11:52,434 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:52,434 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:52,434 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s2] (custom)
2022-11-08 19:11:52,434 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s2/be458992-c577-4271-ac75-e34d2003d5ab does not exist. Creating ...
2022-11-08 19:11:52,434 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s2/be458992-c577-4271-ac75-e34d2003d5ab
2022-11-08 19:11:52,435 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s2/be458992-c577-4271-ac75-e34d2003d5ab/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:52,435 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s2/be458992-c577-4271-ac75-e34d2003d5ab/current
2022-11-08 19:11:52,435 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s2/be458992-c577-4271-ac75-e34d2003d5ab/sm
2022-11-08 19:11:52,436 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s2/be458992-c577-4271-ac75-e34d2003d5ab has been successfully formatted.
2022-11-08 19:11:52,436 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:52,436 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:52,436 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:52,436 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:52,436 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:52,437 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:52,437 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:52,437 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:52,437 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-E34D2003D5AB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s2/be458992-c577-4271-ac75-e34d2003d5ab
2022-11-08 19:11:52,437 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:52,437 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:52,437 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:52,437 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:52,437 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:52,437 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:52,437 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:52,437 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:52,437 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:52,437 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:52,437 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:52,437 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:52,437 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:52,437 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-E34D2003D5AB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:52,437 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-E34D2003D5AB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:52,437 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-E34D2003D5AB: start as a follower, conf=-1: peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:52,438 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-E34D2003D5AB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:52,438 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E34D2003D5AB-FollowerState
2022-11-08 19:11:52,438 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E34D2003D5AB,id=s2
2022-11-08 19:11:52,438 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:52,438 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:52,438 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:52,438 [s2@group-E34D2003D5AB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:52,438 [s2@group-E34D2003D5AB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:52,443 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-08 19:11:52,444 [JvmPauseMonitor45] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-08 19:11:52,444 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:52,444 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E34D2003D5AB:t0, leader=null, voted=, raftlog=Memoized:s0@group-E34D2003D5AB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E34D2003D5AB:t0, leader=null, voted=, raftlog=Memoized:s1@group-E34D2003D5AB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E34D2003D5AB:t0, leader=null, voted=, raftlog=Memoized:s2@group-E34D2003D5AB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:52,445 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E34D2003D5AB:t0, leader=null, voted=, raftlog=Memoized:s0@group-E34D2003D5AB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E34D2003D5AB:t0, leader=null, voted=, raftlog=Memoized:s1@group-E34D2003D5AB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E34D2003D5AB:t0, leader=null, voted=, raftlog=Memoized:s2@group-E34D2003D5AB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E34D2003D5AB:t0, leader=null, voted=, raftlog=Memoized:s0@group-E34D2003D5AB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E34D2003D5AB:t0, leader=null, voted=, raftlog=Memoized:s1@group-E34D2003D5AB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E34D2003D5AB:t0, leader=null, voted=, raftlog=Memoized:s2@group-E34D2003D5AB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testTransferLeader(LeaderElectionTests.java:180)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:52,620 [s2@group-E34D2003D5AB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-E34D2003D5AB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:182709064ns, electionTimeout:182ms
2022-11-08 19:11:52,620 [s2@group-E34D2003D5AB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E34D2003D5AB-FollowerState
2022-11-08 19:11:52,620 [s2@group-E34D2003D5AB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-E34D2003D5AB: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-08 19:11:52,620 [s2@group-E34D2003D5AB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:52,620 [s2@group-E34D2003D5AB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E34D2003D5AB-LeaderElection86
2022-11-08 19:11:52,621 [s2@group-E34D2003D5AB-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-E34D2003D5AB-LeaderElection86 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:52,621 [s2@group-E34D2003D5AB-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:52,621 [s2@group-E34D2003D5AB-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:52,621 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-E34D2003D5AB: receive requestVote(PRE_VOTE, s2, group-E34D2003D5AB, 0, (t:0, i:0))
2022-11-08 19:11:52,621 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-E34D2003D5AB-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:52,621 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-E34D2003D5AB replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-E34D2003D5AB:t0, leader=null, voted=, raftlog=Memoized:s0@group-E34D2003D5AB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:52,621 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-E34D2003D5AB: receive requestVote(PRE_VOTE, s2, group-E34D2003D5AB, 0, (t:0, i:0))
2022-11-08 19:11:52,621 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-E34D2003D5AB-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:52,621 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-E34D2003D5AB replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-E34D2003D5AB:t0, leader=null, voted=, raftlog=Memoized:s1@group-E34D2003D5AB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:52,622 [s2@group-E34D2003D5AB-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-E34D2003D5AB-LeaderElection86: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:52,622 [s2@group-E34D2003D5AB-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t0
2022-11-08 19:11:52,622 [s2@group-E34D2003D5AB-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-E34D2003D5AB-LeaderElection86 PRE_VOTE round 0: result PASSED
2022-11-08 19:11:52,623 [s2@group-E34D2003D5AB-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-E34D2003D5AB-LeaderElection86 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:52,623 [s2@group-E34D2003D5AB-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:52,623 [s2@group-E34D2003D5AB-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:52,623 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-E34D2003D5AB: receive requestVote(ELECTION, s2, group-E34D2003D5AB, 1, (t:0, i:0))
2022-11-08 19:11:52,623 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-E34D2003D5AB-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:52,623 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-E34D2003D5AB: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-11-08 19:11:52,623 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-E34D2003D5AB-FollowerState
2022-11-08 19:11:52,623 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E34D2003D5AB-FollowerState
2022-11-08 19:11:52,623 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-E34D2003D5AB: receive requestVote(ELECTION, s2, group-E34D2003D5AB, 1, (t:0, i:0))
2022-11-08 19:11:52,623 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-E34D2003D5AB-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:52,623 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-E34D2003D5AB: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-11-08 19:11:52,623 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E34D2003D5AB-FollowerState
2022-11-08 19:11:52,623 [s0@group-E34D2003D5AB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-E34D2003D5AB-FollowerState was interrupted
2022-11-08 19:11:52,623 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E34D2003D5AB-FollowerState
2022-11-08 19:11:52,624 [s0@group-E34D2003D5AB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:52,624 [s0@group-E34D2003D5AB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:52,624 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-E34D2003D5AB replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-E34D2003D5AB:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-E34D2003D5AB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:52,625 [s1@group-E34D2003D5AB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:52,625 [s1@group-E34D2003D5AB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:52,625 [s1@group-E34D2003D5AB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-E34D2003D5AB-FollowerState was interrupted
2022-11-08 19:11:52,625 [s2@group-E34D2003D5AB-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-E34D2003D5AB-LeaderElection86: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:52,625 [s2@group-E34D2003D5AB-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2022-11-08 19:11:52,625 [s2@group-E34D2003D5AB-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-E34D2003D5AB-LeaderElection86 ELECTION round 0: result PASSED
2022-11-08 19:11:52,625 [s2@group-E34D2003D5AB-LeaderElection86] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-E34D2003D5AB-LeaderElection86
2022-11-08 19:11:52,625 [s2@group-E34D2003D5AB-LeaderElection86] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-E34D2003D5AB: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-08 19:11:52,625 [s2@group-E34D2003D5AB-LeaderElection86] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-E34D2003D5AB: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 211ms
2022-11-08 19:11:52,625 [s2@group-E34D2003D5AB-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:11:52,625 [s2@group-E34D2003D5AB-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:52,625 [s2@group-E34D2003D5AB-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:52,625 [s2@group-E34D2003D5AB-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:11:52,625 [s2@group-E34D2003D5AB-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:11:52,625 [s2@group-E34D2003D5AB-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:11:52,625 [s2@group-E34D2003D5AB-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:52,626 [s2@group-E34D2003D5AB-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:11:52,626 [s2@group-E34D2003D5AB-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:52,626 [s2@group-E34D2003D5AB-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:52,626 [s2@group-E34D2003D5AB-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:52,626 [s2@group-E34D2003D5AB-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:52,626 [s2@group-E34D2003D5AB-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:52,626 [s2@group-E34D2003D5AB-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:52,626 [s2@group-E34D2003D5AB-LeaderElection86] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E34D2003D5AB-LeaderStateImpl
2022-11-08 19:11:52,626 [s2@group-E34D2003D5AB-LeaderElection86] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-E34D2003D5AB-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:52,630 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-E34D2003D5AB replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-E34D2003D5AB:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-E34D2003D5AB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:52,631 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-E34D2003D5AB: change Leader from null to s2 at term 1 for appendEntries, leader elected after 230ms
2022-11-08 19:11:52,631 [s2@group-E34D2003D5AB-LeaderElection86] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-E34D2003D5AB: set configuration 0: peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:52,631 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-E34D2003D5AB: change Leader from null to s2 at term 1 for appendEntries, leader elected after 227ms
2022-11-08 19:11:52,633 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-E34D2003D5AB: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1], cId:2258, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40165"
dataStreamAddress: "localhost:39813"
clientAddress: "localhost:33729"
adminAddress: "localhost:41747"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46511"
dataStreamAddress: "localhost:38955"
clientAddress: "localhost:43441"
adminAddress: "localhost:43041"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:45989"
dataStreamAddress: "localhost:43433"
clientAddress: "localhost:40371"
adminAddress: "localhost:41757"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:52,633 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-E34D2003D5AB: set configuration 0: peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:52,633 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-E34D2003D5AB-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:52,634 [s2@group-E34D2003D5AB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-E34D2003D5AB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s2/be458992-c577-4271-ac75-e34d2003d5ab/current/log_inprogress_0
2022-11-08 19:11:52,639 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-E34D2003D5AB: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1], cId:2257, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40165"
dataStreamAddress: "localhost:39813"
clientAddress: "localhost:33729"
adminAddress: "localhost:41747"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46511"
dataStreamAddress: "localhost:38955"
clientAddress: "localhost:43441"
adminAddress: "localhost:43041"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:45989"
dataStreamAddress: "localhost:43433"
clientAddress: "localhost:40371"
adminAddress: "localhost:41757"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:52,639 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-E34D2003D5AB: set configuration 0: peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:52,639 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-E34D2003D5AB-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:52,650 [s0@group-E34D2003D5AB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-E34D2003D5AB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s0/be458992-c577-4271-ac75-e34d2003d5ab/current/log_inprogress_0
2022-11-08 19:11:52,652 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-E34D2003D5AB: succeeded to handle AppendEntries. Reply: s2<-s0#2257:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:11:52,652 [s1@group-E34D2003D5AB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-E34D2003D5AB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s1/be458992-c577-4271-ac75-e34d2003d5ab/current/log_inprogress_0
2022-11-08 19:11:52,662 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-E34D2003D5AB: succeeded to handle AppendEntries. Reply: s2<-s1#2258:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:11:52,895 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E34D2003D5AB:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-E34D2003D5AB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E34D2003D5AB:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-E34D2003D5AB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E34D2003D5AB:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-E34D2003D5AB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:52,895 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:52,896 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s2@group-E34D2003D5AB: receive client request(RaftClientRequest:client-C22EC626EEC5->s2@group-E34D2003D5AB, cid=2283, seq=0, RW, message)
2022-11-08 19:11:52,896 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(410)) - s2@group-E34D2003D5AB-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-C22EC626EEC5->s2@group-E34D2003D5AB, cid=2283, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 2283@client-C22EC626EEC5
2022-11-08 19:11:52,896 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-E34D2003D5AB: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits:[s2:c0, s0:c0, s1:c0], cId:2284, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2283@client-C22EC626EEC5]
2022-11-08 19:11:52,896 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-E34D2003D5AB: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits:[s2:c0, s0:c0, s1:c0], cId:2285, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2283@client-C22EC626EEC5]
2022-11-08 19:11:52,897 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-E34D2003D5AB: succeeded to handle AppendEntries. Reply: s2<-s0#2284:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-08 19:11:52,898 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-E34D2003D5AB: succeeded to handle AppendEntries. Reply: s2<-s1#2285:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-08 19:11:52,899 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-E34D2003D5AB: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits:[s2:c1, s0:c0, s1:c0], cId:2286, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-08 19:11:52,899 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-E34D2003D5AB: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits:[s2:c1, s0:c0, s1:c0], cId:2287, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-08 19:11:52,899 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-E34D2003D5AB: succeeded to handle AppendEntries. Reply: s2<-s1#2286:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-08 19:11:52,900 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-E34D2003D5AB: succeeded to handle AppendEntries. Reply: s2<-s0#2287:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-08 19:11:52,901 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1188)) - s2@group-E34D2003D5AB: receive setConfiguration SetConfigurationRequest:client-C22EC626EEC5->s2@group-E34D2003D5AB, cid=2288, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER], listeners:[]
2022-11-08 19:11:52,901 [s2-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(377)) - s2@group-E34D2003D5AB-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-C22EC626EEC5->s2@group-E34D2003D5AB, cid=2288, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER], listeners:[]
2022-11-08 19:11:52,901 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-E34D2003D5AB: set configuration 3: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-08 19:11:52,902 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-E34D2003D5AB: receive appendEntries(s2, 1, (t:1, i:2), 2, true, commits:[s2:c2, s0:c1, s1:c1], cId:2293, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:40165"
dataStreamAddress: "localhost:39813"
clientAddress: "localhost:33729"
adminAddress: "localhost:41747"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46511"
dataStreamAddress: "localhost:38955"
clientAddress: "localhost:43441"
adminAddress: "localhost:43041"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:45989"
dataStreamAddress: "localhost:43433"
clientAddress: "localhost:40371"
adminAddress: "localhost:41757"
startupRole: FOLLOWER
)]
2022-11-08 19:11:52,902 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-E34D2003D5AB: receive appendEntries(s2, 1, (t:1, i:2), 2, true, commits:[s2:c2, s0:c1, s1:c1], cId:2294, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:40165"
dataStreamAddress: "localhost:39813"
clientAddress: "localhost:33729"
adminAddress: "localhost:41747"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46511"
dataStreamAddress: "localhost:38955"
clientAddress: "localhost:43441"
adminAddress: "localhost:43041"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:45989"
dataStreamAddress: "localhost:43433"
clientAddress: "localhost:40371"
adminAddress: "localhost:41757"
startupRole: FOLLOWER
)]
2022-11-08 19:11:52,902 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-E34D2003D5AB: set configuration 3: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-08 19:11:52,902 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-E34D2003D5AB: set configuration 3: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:40165|admin:localhost:41747|client:localhost:33729|dataStream:localhost:39813|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46511|admin:localhost:43041|client:localhost:43441|dataStream:localhost:38955|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45989|admin:localhost:41757|client:localhost:40371|dataStream:localhost:43433|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-08 19:11:52,902 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-E34D2003D5AB: succeeded to handle AppendEntries. Reply: s2<-s0#2293:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-08 19:11:52,902 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-E34D2003D5AB: succeeded to handle AppendEntries. Reply: s2<-s1#2294:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-08 19:11:52,903 [s2@group-E34D2003D5AB-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-E34D2003D5AB: set configuration 5: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:52,904 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-E34D2003D5AB: receive appendEntries(s2, 1, (t:1, i:3), 3, true, commits:[s2:c3, s0:c1, s1:c2], cId:2295, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:52,904 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-E34D2003D5AB: set configuration 5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:52,904 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-E34D2003D5AB: succeeded to handle AppendEntries. Reply: s2<-s1#2295:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-08 19:11:52,905 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-E34D2003D5AB: receive appendEntries(s2, 1, (t:1, i:3), 3, true, commits:[s2:c3, s0:c2, s1:c2], cId:2296, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:52,905 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-E34D2003D5AB: set configuration 5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:52,905 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-E34D2003D5AB: receive appendEntries(s2, 1, (t:1, i:5), 5, true, commits:[s2:c5, s0:c2, s1:c3], cId:2297, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-08 19:11:52,905 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-E34D2003D5AB: succeeded to handle AppendEntries. Reply: s2<-s0#2296:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-08 19:11:52,905 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-E34D2003D5AB: succeeded to handle AppendEntries. Reply: s2<-s1#2297:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-08 19:11:52,905 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-E34D2003D5AB: receive appendEntries(s2, 1, (t:1, i:5), 5, true, commits:[s2:c5, s0:c3, s1:c3], cId:2298, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-08 19:11:52,911 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-E34D2003D5AB: succeeded to handle AppendEntries. Reply: s2<-s0#2298:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-08 19:11:52,916 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(1080)) - s2@group-E34D2003D5AB: receive transferLeadership TransferLeadershipRequest:client-C22EC626EEC5->s2@group-E34D2003D5AB, cid=2299, seq=0, RO, null
2022-11-08 19:11:53,216 [s2@group-E34D2003D5AB-LeaderStateImpl] INFO  server.RaftServer$Division (LeaderStateImpl.java:yieldLeaderToHigherPriorityPeer(1020)) - s2@group-E34D2003D5AB-LeaderStateImpl send StartLeaderElectionRequest to follower:s0 on term:1 because follower's priority:2 is higher than leader's:1 and follower's lastEntry index:6 catch up with leader's:6
2022-11-08 19:11:53,219 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:startLeaderElection(1658)) - s0@group-E34D2003D5AB: receive startLeaderElection from:s2, leaderLastEntry:term: 1
index: 6
,
2022-11-08 19:11:53,219 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-E34D2003D5AB-FollowerState
2022-11-08 19:11:53,219 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-E34D2003D5AB: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:53,219 [s0@group-E34D2003D5AB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-E34D2003D5AB-FollowerState was interrupted
2022-11-08 19:11:53,219 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E34D2003D5AB-LeaderElection87
2022-11-08 19:11:53,220 [s0@group-E34D2003D5AB-LeaderElection87] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-E34D2003D5AB: change Leader from s2 to null at term 1 for ELECTION
2022-11-08 19:11:53,221 [Thread-1193] INFO  server.RaftServer$Division (LeaderStateImpl.java:lambda$sendStartLeaderElectionToHigherPriorityPeer$9(602)) - s2@group-E34D2003D5AB-LeaderStateImpl received success reply of StartLeaderElectionRequest from follower:s0
2022-11-08 19:11:53,222 [s0@group-E34D2003D5AB-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-E34D2003D5AB-LeaderElection87 ELECTION round 0: submit vote requests at term 2 for 5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:53,222 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-E34D2003D5AB: receive requestVote(ELECTION, s0, group-E34D2003D5AB, 2, (t:1, i:6))
2022-11-08 19:11:53,222 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-E34D2003D5AB-FOLLOWER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2022-11-08 19:11:53,222 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-E34D2003D5AB: change Leader from s2 to null at term 2 for updateCurrentTerm
2022-11-08 19:11:53,222 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-E34D2003D5AB: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-11-08 19:11:53,222 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E34D2003D5AB-FollowerState
2022-11-08 19:11:53,222 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-E34D2003D5AB: receive requestVote(ELECTION, s0, group-E34D2003D5AB, 2, (t:1, i:6))
2022-11-08 19:11:53,222 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E34D2003D5AB-FollowerState
2022-11-08 19:11:53,222 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-E34D2003D5AB-LEADER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2022-11-08 19:11:53,222 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-E34D2003D5AB: change Leader from s2 to null at term 2 for updateCurrentTerm
2022-11-08 19:11:53,222 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-E34D2003D5AB: changes role from    LEADER to FOLLOWER at term 2 for candidate:s0
2022-11-08 19:11:53,222 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-E34D2003D5AB-LeaderStateImpl
2022-11-08 19:11:53,222 [s1@group-E34D2003D5AB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-E34D2003D5AB-FollowerState was interrupted
2022-11-08 19:11:53,222 [s2@group-E34D2003D5AB->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s2@group-E34D2003D5AB->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:53,222 [HandlerDaemon-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-E34D2003D5AB-PendingRequests: sendNotLeaderResponses
2022-11-08 19:11:53,222 [s2@group-E34D2003D5AB->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s2@group-E34D2003D5AB->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:53,224 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E34D2003D5AB-FollowerState
2022-11-08 19:11:53,224 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-E34D2003D5AB replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-E34D2003D5AB:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-E34D2003D5AB-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:53,224 [s0@group-E34D2003D5AB-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-E34D2003D5AB-LeaderElection87: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:53,224 [s0@group-E34D2003D5AB-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t2
2022-11-08 19:11:53,224 [s0@group-E34D2003D5AB-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-E34D2003D5AB-LeaderElection87 ELECTION round 0: result PASSED
2022-11-08 19:11:53,224 [s0@group-E34D2003D5AB-LeaderElection87] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-E34D2003D5AB-LeaderElection87
2022-11-08 19:11:53,224 [s0@group-E34D2003D5AB-LeaderElection87] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-E34D2003D5AB: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-11-08 19:11:53,224 [s0@group-E34D2003D5AB-LeaderElection87] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-E34D2003D5AB: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 3ms
2022-11-08 19:11:53,224 [s0@group-E34D2003D5AB-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:11:53,224 [s0@group-E34D2003D5AB-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:53,224 [s0@group-E34D2003D5AB-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:53,225 [s0@group-E34D2003D5AB-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:11:53,225 [s0@group-E34D2003D5AB-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:11:53,225 [s0@group-E34D2003D5AB-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:11:53,225 [s0@group-E34D2003D5AB-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:53,225 [s0@group-E34D2003D5AB-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:11:53,225 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-E34D2003D5AB replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-E34D2003D5AB:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-E34D2003D5AB-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:53,225 [s0@group-E34D2003D5AB-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:53,225 [s0@group-E34D2003D5AB-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:53,225 [s0@group-E34D2003D5AB-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:53,225 [s0@group-E34D2003D5AB-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:53,225 [s0@group-E34D2003D5AB-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:53,225 [s0@group-E34D2003D5AB-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:53,225 [s0@group-E34D2003D5AB-LeaderElection87] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E34D2003D5AB-LeaderStateImpl
2022-11-08 19:11:53,226 [s0@group-E34D2003D5AB-LeaderElection87] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-E34D2003D5AB-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-11-08 19:11:53,226 [s0@group-E34D2003D5AB-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s0/be458992-c577-4271-ac75-e34d2003d5ab/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s0/be458992-c577-4271-ac75-e34d2003d5ab/current/log_0-6
2022-11-08 19:11:53,226 [s0@group-E34D2003D5AB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-E34D2003D5AB-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s0/be458992-c577-4271-ac75-e34d2003d5ab/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s0/be458992-c577-4271-ac75-e34d2003d5ab/current/log_0-6
2022-11-08 19:11:53,230 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-E34D2003D5AB: change Leader from null to s0 at term 2 for appendEntries, leader elected after 7ms
2022-11-08 19:11:53,230 [s0@group-E34D2003D5AB-LeaderElection87] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-E34D2003D5AB: set configuration 7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:53,230 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-E34D2003D5AB: change Leader from null to s0 at term 2 for appendEntries, leader elected after 8ms
2022-11-08 19:11:53,230 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-E34D2003D5AB: receive appendEntries(s0, 2, (t:1, i:6), 6, true, commits:[s0:c6, s1:c6, s2:c6], cId:2334, entries: [(t:2, i:7), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:53,231 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-E34D2003D5AB: set configuration 7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:53,231 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-E34D2003D5AB-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-11-08 19:11:53,231 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:53,231 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E34D2003D5AB:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-E34D2003D5AB-SegmentedRaftLog:OPENED:c6, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E34D2003D5AB:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-E34D2003D5AB-SegmentedRaftLog:OPENED:c6, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E34D2003D5AB:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-E34D2003D5AB-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:53,231 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s0@group-E34D2003D5AB not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s0@group-E34D2003D5AB not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testTransferLeader(LeaderElectionTests.java:196)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:53,232 [s1@group-E34D2003D5AB-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s1/be458992-c577-4271-ac75-e34d2003d5ab/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s1/be458992-c577-4271-ac75-e34d2003d5ab/current/log_0-6
2022-11-08 19:11:53,232 [s1@group-E34D2003D5AB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-E34D2003D5AB-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s1/be458992-c577-4271-ac75-e34d2003d5ab/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s1/be458992-c577-4271-ac75-e34d2003d5ab/current/log_0-6
2022-11-08 19:11:53,235 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-E34D2003D5AB: receive appendEntries(s0, 2, (t:1, i:6), 6, true, commits:[s0:c6, s1:c6, s2:c6], cId:2337, entries: [(t:2, i:7), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:53,235 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-E34D2003D5AB: set configuration 7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:53,235 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-E34D2003D5AB-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-11-08 19:11:53,239 [s0@group-E34D2003D5AB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-E34D2003D5AB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s0/be458992-c577-4271-ac75-e34d2003d5ab/current/log_inprogress_7
2022-11-08 19:11:53,239 [s1@group-E34D2003D5AB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-E34D2003D5AB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s1/be458992-c577-4271-ac75-e34d2003d5ab/current/log_inprogress_7
2022-11-08 19:11:53,239 [s2@group-E34D2003D5AB-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s2/be458992-c577-4271-ac75-e34d2003d5ab/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s2/be458992-c577-4271-ac75-e34d2003d5ab/current/log_0-6
2022-11-08 19:11:53,239 [s2@group-E34D2003D5AB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-E34D2003D5AB-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s2/be458992-c577-4271-ac75-e34d2003d5ab/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s2/be458992-c577-4271-ac75-e34d2003d5ab/current/log_0-6
2022-11-08 19:11:53,242 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-E34D2003D5AB: succeeded to handle AppendEntries. Reply: s0<-s1#2334:OK-t2,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2022-11-08 19:11:53,244 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-E34D2003D5AB: receive appendEntries(s0, 2, (t:2, i:7), 7, true, commits:[s0:c7, s1:c6, s2:c6], cId:2338, entries: [(t:2, i:8), METADATAENTRY(c:7)]
2022-11-08 19:11:53,246 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-E34D2003D5AB: succeeded to handle AppendEntries. Reply: s0<-s1#2338:OK-t2,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2022-11-08 19:11:53,247 [s2@group-E34D2003D5AB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-E34D2003D5AB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc88fd181d/s2/be458992-c577-4271-ac75-e34d2003d5ab/current/log_inprogress_7
2022-11-08 19:11:53,247 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-E34D2003D5AB: succeeded to handle AppendEntries. Reply: s0<-s2#2337:OK-t2,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2022-11-08 19:11:53,247 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-E34D2003D5AB: receive appendEntries(s0, 2, (t:2, i:7), 8, true, commits:[s0:c8, s1:c7, s2:c6], cId:2339, entries: [(t:2, i:8), METADATAENTRY(c:7)]
2022-11-08 19:11:53,247 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-E34D2003D5AB: succeeded to handle AppendEntries. Reply: s0<-s2#2339:OK-t2,SUCCESS,nextIndex=9,followerCommit=8,matchIndex=8
2022-11-08 19:11:53,682 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E34D2003D5AB:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-E34D2003D5AB-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E34D2003D5AB:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-E34D2003D5AB-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E34D2003D5AB:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-E34D2003D5AB-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:53,682 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s2@group-E34D2003D5AB: receive client request(RaftClientRequest:client-C22EC626EEC5->s2@group-E34D2003D5AB, cid=2384, seq=0, RW, message)
2022-11-08 19:11:53,682 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-C22EC626EEC5: suggested new leader: s0. Failed RaftClientRequest:client-C22EC626EEC5->s2@group-E34D2003D5AB, cid=2384, seq=0, RW, message with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-E34D2003D5AB is not the leader s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:732)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:697)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:839)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:819)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:819)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:53,683 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-C22EC626EEC5: oldLeader=s2,  curLeader=s2, newLeader=s0
2022-11-08 19:11:53,683 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-E34D2003D5AB client-C22EC626EEC5: client change Leader from s2 to s0 ex=org.apache.ratis.protocol.exceptions.NotLeaderException
2022-11-08 19:11:53,783 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s0@group-E34D2003D5AB: receive client request(RaftClientRequest:client-C22EC626EEC5->s0@group-E34D2003D5AB, cid=2384, seq=0, RW, message)
2022-11-08 19:11:53,784 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(410)) - s0@group-E34D2003D5AB-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-C22EC626EEC5->s0@group-E34D2003D5AB, cid=2384, seq=0, RW, message, entry=(t:2, i:9), STATEMACHINELOGENTRY, 2384@client-C22EC626EEC5
2022-11-08 19:11:53,784 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-E34D2003D5AB: receive appendEntries(s0, 2, (t:2, i:8), 8, true, commits:[s0:c8, s1:c8, s2:c8], cId:2397, entries: [(t:2, i:9), STATEMACHINELOGENTRY, 2384@client-C22EC626EEC5]
2022-11-08 19:11:53,784 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-E34D2003D5AB: receive appendEntries(s0, 2, (t:2, i:8), 8, true, commits:[s0:c8, s1:c8, s2:c8], cId:2398, entries: [(t:2, i:9), STATEMACHINELOGENTRY, 2384@client-C22EC626EEC5]
2022-11-08 19:11:53,784 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-E34D2003D5AB: succeeded to handle AppendEntries. Reply: s0<-s2#2398:OK-t2,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2022-11-08 19:11:53,784 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-E34D2003D5AB: succeeded to handle AppendEntries. Reply: s0<-s1#2397:OK-t2,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2022-11-08 19:11:53,785 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-E34D2003D5AB: receive appendEntries(s0, 2, (t:2, i:9), 9, true, commits:[s0:c9, s1:c8, s2:c8], cId:2399, entries: [(t:2, i:10), METADATAENTRY(c:9)]
2022-11-08 19:11:53,785 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-08 19:11:53,785 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-08 19:11:53,785 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:53,785 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-08 19:11:53,785 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-08 19:11:53,785 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E34D2003D5AB:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-E34D2003D5AB-SegmentedRaftLog:OPENED:c9, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E34D2003D5AB:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-E34D2003D5AB-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E34D2003D5AB:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-E34D2003D5AB-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:53,786 [MiniRaftCluster-58] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-08 19:11:53,786 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-E34D2003D5AB: receive appendEntries(s0, 2, (t:2, i:9), 9, true, commits:[s0:c9, s1:c8, s2:c8], cId:2400, entries: [(t:2, i:10), METADATAENTRY(c:9)]
2022-11-08 19:11:53,786 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-E34D2003D5AB: succeeded to handle AppendEntries. Reply: s0<-s1#2400:OK-t2,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2022-11-08 19:11:53,787 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-E34D2003D5AB: succeeded to handle AppendEntries. Reply: s0<-s2#2399:OK-t2,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2022-11-08 19:11:53,787 [MiniRaftCluster-59] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-08 19:11:53,791 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-E34D2003D5AB: shutdown
2022-11-08 19:11:53,791 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-E34D2003D5AB: shutdown
2022-11-08 19:11:53,791 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E34D2003D5AB,id=s0
2022-11-08 19:11:53,792 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-E34D2003D5AB-LeaderStateImpl
2022-11-08 19:11:53,792 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E34D2003D5AB,id=s1
2022-11-08 19:11:53,792 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E34D2003D5AB-FollowerState
2022-11-08 19:11:53,792 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-E34D2003D5AB-PendingRequests: sendNotLeaderResponses
2022-11-08 19:11:53,792 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-E34D2003D5AB-StateMachineUpdater: set stopIndex = 9
2022-11-08 19:11:53,792 [s1@group-E34D2003D5AB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-E34D2003D5AB-FollowerState was interrupted
2022-11-08 19:11:53,792 [s0@group-E34D2003D5AB->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-E34D2003D5AB->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:53,792 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:53,792 [s0@group-E34D2003D5AB->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-E34D2003D5AB->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:53,792 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:53,792 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-E34D2003D5AB: applyIndex: 9
2022-11-08 19:11:53,792 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:53,792 [s1@group-E34D2003D5AB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s1@group-E34D2003D5AB-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:53,792 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:53,792 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:53,793 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-E34D2003D5AB-SegmentedRaftLogWorker close()
2022-11-08 19:11:53,794 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-E34D2003D5AB-StateMachineUpdater: set stopIndex = 10
2022-11-08 19:11:53,794 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-E34D2003D5AB: applyIndex: 10
2022-11-08 19:11:53,794 [s0@group-E34D2003D5AB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s0@group-E34D2003D5AB-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:53,794 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:53,795 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-E34D2003D5AB-SegmentedRaftLogWorker close()
2022-11-08 19:11:53,795 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:53,795 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:53,795 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:53,795 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:53,795 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:53,796 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:53,796 [JvmPauseMonitor44] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-08 19:11:53,796 [MiniRaftCluster-60] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-08 19:11:53,796 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:53,796 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-E34D2003D5AB: shutdown
2022-11-08 19:11:53,796 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E34D2003D5AB,id=s2
2022-11-08 19:11:53,796 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E34D2003D5AB-FollowerState
2022-11-08 19:11:53,796 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:53,796 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-E34D2003D5AB-StateMachineUpdater: set stopIndex = 9
2022-11-08 19:11:53,796 [s2@group-E34D2003D5AB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-E34D2003D5AB-FollowerState was interrupted
2022-11-08 19:11:53,796 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:53,796 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-E34D2003D5AB: applyIndex: 9
2022-11-08 19:11:53,796 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:53,796 [s2@group-E34D2003D5AB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s2@group-E34D2003D5AB-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:53,796 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:53,796 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:53,797 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-E34D2003D5AB-SegmentedRaftLogWorker close()
2022-11-08 19:11:53,797 [JvmPauseMonitor45] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-08 19:11:53,798 [JvmPauseMonitor43] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-08 19:11:53,798 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-08 19:11:53,798 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-08 19:11:53,798 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-08 19:11:53,798 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:53,798 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-08 19:11:53,798 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-08 19:11:53,798 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED    LEADER s0@group-E34D2003D5AB:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-E34D2003D5AB-SegmentedRaftLog:CLOSED:c10, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-E34D2003D5AB:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-E34D2003D5AB-SegmentedRaftLog:CLOSED:c9, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-E34D2003D5AB:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-E34D2003D5AB-SegmentedRaftLog:CLOSED:c9, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2022-11-08 19:11:53,800 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-08 19:11:53,801 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-08 19:11:53,801 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-08 19:11:53,801 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-08 19:11:53,801 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-08 19:11:53,801 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-11-08 19:11:53,801 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-08 19:11:53,802 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-69C538A3F5CB:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]
2022-11-08 19:11:53,802 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-08 19:11:53,802 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-08 19:11:53,802 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:53,802 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-08 19:11:53,802 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-08 19:11:53,802 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-08 19:11:53,802 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-69C538A3F5CB:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:53,802 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s0
2022-11-08 19:11:53,802 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s0 does not exist.
2022-11-08 19:11:53,802 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s0
2022-11-08 19:11:53,802 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:53,802 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:53,803 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:53,803 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:53,803 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:53,803 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:53,803 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s0] (custom)
2022-11-08 19:11:53,803 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-69C538A3F5CB:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER] returns group-69C538A3F5CB:java.util.concurrent.CompletableFuture@4be358d7[Not completed]
2022-11-08 19:11:53,803 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-69C538A3F5CB:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:53,803 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s1
2022-11-08 19:11:53,803 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s1 does not exist.
2022-11-08 19:11:53,803 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s1
2022-11-08 19:11:53,803 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:53,804 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:53,804 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:53,804 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:53,804 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:53,804 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:53,804 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s1] (custom)
2022-11-08 19:11:53,804 [pool-47-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-69C538A3F5CB:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:53,804 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:53,804 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:53,804 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:53,804 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:53,804 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:53,804 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:53,804 [pool-47-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-69C538A3F5CB: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:53,804 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:53,804 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:53,804 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:53,804 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:53,804 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:53,805 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:53,805 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:53,805 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:53,805 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:53,805 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:53,805 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-69C538A3F5CB:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER] returns group-69C538A3F5CB:java.util.concurrent.CompletableFuture@7a387de8[Not completed]
2022-11-08 19:11:53,806 [pool-48-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-69C538A3F5CB:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:53,806 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-69C538A3F5CB:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:53,806 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s2
2022-11-08 19:11:53,806 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:53,806 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:53,806 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s2 does not exist.
2022-11-08 19:11:53,806 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:53,806 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s2
2022-11-08 19:11:53,806 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:53,806 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:53,806 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:53,806 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:53,806 [pool-48-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-69C538A3F5CB: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:53,806 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:53,806 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:53,806 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:53,806 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:53,806 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:53,806 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:53,806 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:53,806 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:53,806 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:53,806 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:53,806 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s2] (custom)
2022-11-08 19:11:53,807 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:53,807 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:53,807 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:53,807 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:53,807 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:53,810 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-69C538A3F5CB:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER] returns group-69C538A3F5CB:java.util.concurrent.CompletableFuture@58d282e2[Not completed]
2022-11-08 19:11:53,810 [pool-49-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-69C538A3F5CB:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:53,811 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:53,811 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:53,811 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s0] (custom)
2022-11-08 19:11:53,811 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s0/aa367706-25fe-43b2-8e83-69c538a3f5cb does not exist. Creating ...
2022-11-08 19:11:53,811 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s0/aa367706-25fe-43b2-8e83-69c538a3f5cb
2022-11-08 19:11:53,811 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:53,811 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:53,811 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:53,811 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:53,811 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:53,812 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:53,812 [pool-49-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-69C538A3F5CB: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:53,812 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:53,812 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:53,812 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:53,812 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:53,812 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:53,812 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s0/aa367706-25fe-43b2-8e83-69c538a3f5cb/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:53,812 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s0/aa367706-25fe-43b2-8e83-69c538a3f5cb/current
2022-11-08 19:11:53,812 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s0/aa367706-25fe-43b2-8e83-69c538a3f5cb/sm
2022-11-08 19:11:53,813 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:53,813 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:53,813 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:53,813 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:53,813 [pool-49-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:53,813 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s0/aa367706-25fe-43b2-8e83-69c538a3f5cb has been successfully formatted.
2022-11-08 19:11:53,813 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:53,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:53,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:53,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:53,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:53,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:53,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:53,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:53,814 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-69C538A3F5CB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s0/aa367706-25fe-43b2-8e83-69c538a3f5cb
2022-11-08 19:11:53,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:53,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:53,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:53,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:53,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:53,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:53,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:53,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:53,815 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:53,815 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:53,815 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:53,815 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:53,815 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:53,815 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-69C538A3F5CB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:53,815 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-69C538A3F5CB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:53,815 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-69C538A3F5CB: start as a follower, conf=-1: peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:53,815 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-69C538A3F5CB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:53,815 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-69C538A3F5CB-FollowerState
2022-11-08 19:11:53,815 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-69C538A3F5CB,id=s0
2022-11-08 19:11:53,815 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:53,815 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:53,815 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:53,815 [s0@group-69C538A3F5CB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:53,816 [s0@group-69C538A3F5CB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:53,819 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-08 19:11:53,820 [JvmPauseMonitor46] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-08 19:11:53,823 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:53,824 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:53,824 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s1] (custom)
2022-11-08 19:11:53,824 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s1/aa367706-25fe-43b2-8e83-69c538a3f5cb does not exist. Creating ...
2022-11-08 19:11:53,825 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s1/aa367706-25fe-43b2-8e83-69c538a3f5cb
2022-11-08 19:11:53,825 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s1/aa367706-25fe-43b2-8e83-69c538a3f5cb/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:53,826 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s1/aa367706-25fe-43b2-8e83-69c538a3f5cb/current
2022-11-08 19:11:53,826 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s1/aa367706-25fe-43b2-8e83-69c538a3f5cb/sm
2022-11-08 19:11:53,827 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s1/aa367706-25fe-43b2-8e83-69c538a3f5cb has been successfully formatted.
2022-11-08 19:11:53,827 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:53,827 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:53,827 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:53,827 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:53,827 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:53,828 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:53,828 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:53,828 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:53,828 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-69C538A3F5CB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s1/aa367706-25fe-43b2-8e83-69c538a3f5cb
2022-11-08 19:11:53,828 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:53,828 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:53,828 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:53,828 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:53,828 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:53,828 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:53,828 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:53,828 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:53,829 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:53,829 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:53,829 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:53,829 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:53,829 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:53,829 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-69C538A3F5CB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:53,829 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-69C538A3F5CB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:53,832 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-69C538A3F5CB: start as a follower, conf=-1: peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:53,832 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-69C538A3F5CB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:53,832 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-69C538A3F5CB-FollowerState
2022-11-08 19:11:53,833 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-69C538A3F5CB,id=s1
2022-11-08 19:11:53,833 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:53,833 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:53,833 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:53,833 [s1@group-69C538A3F5CB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:53,833 [s1@group-69C538A3F5CB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:53,833 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-08 19:11:53,840 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:53,840 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:53,840 [JvmPauseMonitor47] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-08 19:11:53,840 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s2] (custom)
2022-11-08 19:11:53,840 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s2/aa367706-25fe-43b2-8e83-69c538a3f5cb does not exist. Creating ...
2022-11-08 19:11:53,840 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s2/aa367706-25fe-43b2-8e83-69c538a3f5cb
2022-11-08 19:11:53,841 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s2/aa367706-25fe-43b2-8e83-69c538a3f5cb/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:53,841 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s2/aa367706-25fe-43b2-8e83-69c538a3f5cb/current
2022-11-08 19:11:53,841 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s2/aa367706-25fe-43b2-8e83-69c538a3f5cb/sm
2022-11-08 19:11:53,841 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s2/aa367706-25fe-43b2-8e83-69c538a3f5cb has been successfully formatted.
2022-11-08 19:11:53,842 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:53,842 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:53,842 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:53,842 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:53,842 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:53,842 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:53,842 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:53,842 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:53,842 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-69C538A3F5CB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s2/aa367706-25fe-43b2-8e83-69c538a3f5cb
2022-11-08 19:11:53,842 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:53,842 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:53,843 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:53,843 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:53,843 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:53,843 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:53,843 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:53,843 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:53,843 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:53,843 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:53,843 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:53,843 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:53,843 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:53,843 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-69C538A3F5CB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:53,843 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-69C538A3F5CB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:53,843 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-69C538A3F5CB: start as a follower, conf=-1: peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:53,844 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-69C538A3F5CB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:53,844 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-69C538A3F5CB-FollowerState
2022-11-08 19:11:53,844 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-69C538A3F5CB,id=s2
2022-11-08 19:11:53,844 [s2@group-69C538A3F5CB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:53,844 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:53,844 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:53,844 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:53,844 [s2@group-69C538A3F5CB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:53,844 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-08 19:11:53,845 [JvmPauseMonitor48] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-08 19:11:53,845 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:53,845 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-69C538A3F5CB:t0, leader=null, voted=, raftlog=Memoized:s0@group-69C538A3F5CB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-69C538A3F5CB:t0, leader=null, voted=, raftlog=Memoized:s1@group-69C538A3F5CB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-69C538A3F5CB:t0, leader=null, voted=, raftlog=Memoized:s2@group-69C538A3F5CB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:53,845 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-69C538A3F5CB:t0, leader=null, voted=, raftlog=Memoized:s0@group-69C538A3F5CB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-69C538A3F5CB:t0, leader=null, voted=, raftlog=Memoized:s1@group-69C538A3F5CB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-69C538A3F5CB:t0, leader=null, voted=, raftlog=Memoized:s2@group-69C538A3F5CB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-69C538A3F5CB:t0, leader=null, voted=, raftlog=Memoized:s0@group-69C538A3F5CB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-69C538A3F5CB:t0, leader=null, voted=, raftlog=Memoized:s1@group-69C538A3F5CB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-69C538A3F5CB:t0, leader=null, voted=, raftlog=Memoized:s2@group-69C538A3F5CB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:566)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:561)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:54,022 [s1@group-69C538A3F5CB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-69C538A3F5CB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:190201563ns, electionTimeout:189ms
2022-11-08 19:11:54,022 [s1@group-69C538A3F5CB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-69C538A3F5CB-FollowerState
2022-11-08 19:11:54,023 [s1@group-69C538A3F5CB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-69C538A3F5CB: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-08 19:11:54,023 [s1@group-69C538A3F5CB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:54,023 [s1@group-69C538A3F5CB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-69C538A3F5CB-LeaderElection88
2022-11-08 19:11:54,023 [s1@group-69C538A3F5CB-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-69C538A3F5CB-LeaderElection88 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:54,023 [s1@group-69C538A3F5CB-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:54,023 [s1@group-69C538A3F5CB-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:54,023 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-69C538A3F5CB: receive requestVote(PRE_VOTE, s1, group-69C538A3F5CB, 0, (t:0, i:0))
2022-11-08 19:11:54,023 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-69C538A3F5CB-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:54,023 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-69C538A3F5CB replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-69C538A3F5CB:t0, leader=null, voted=, raftlog=Memoized:s0@group-69C538A3F5CB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:54,023 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-69C538A3F5CB: receive requestVote(PRE_VOTE, s1, group-69C538A3F5CB, 0, (t:0, i:0))
2022-11-08 19:11:54,024 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-69C538A3F5CB-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:54,024 [s1@group-69C538A3F5CB-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-69C538A3F5CB-LeaderElection88: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:54,024 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-69C538A3F5CB replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-69C538A3F5CB:t0, leader=null, voted=, raftlog=Memoized:s2@group-69C538A3F5CB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:54,024 [s1@group-69C538A3F5CB-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2022-11-08 19:11:54,024 [s1@group-69C538A3F5CB-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-69C538A3F5CB-LeaderElection88 PRE_VOTE round 0: result PASSED
2022-11-08 19:11:54,025 [s1@group-69C538A3F5CB-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-69C538A3F5CB-LeaderElection88 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:54,025 [s1@group-69C538A3F5CB-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:54,025 [s1@group-69C538A3F5CB-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:54,025 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-69C538A3F5CB: receive requestVote(ELECTION, s1, group-69C538A3F5CB, 1, (t:0, i:0))
2022-11-08 19:11:54,025 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-69C538A3F5CB-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:54,025 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-69C538A3F5CB: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-11-08 19:11:54,025 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-69C538A3F5CB-FollowerState
2022-11-08 19:11:54,025 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-69C538A3F5CB-FollowerState
2022-11-08 19:11:54,025 [s0@group-69C538A3F5CB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-69C538A3F5CB-FollowerState was interrupted
2022-11-08 19:11:54,026 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-69C538A3F5CB: receive requestVote(ELECTION, s1, group-69C538A3F5CB, 1, (t:0, i:0))
2022-11-08 19:11:54,026 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-69C538A3F5CB-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:54,026 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-69C538A3F5CB: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-11-08 19:11:54,026 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-69C538A3F5CB-FollowerState
2022-11-08 19:11:54,026 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-69C538A3F5CB-FollowerState
2022-11-08 19:11:54,026 [s2@group-69C538A3F5CB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-69C538A3F5CB-FollowerState was interrupted
2022-11-08 19:11:54,026 [s0@group-69C538A3F5CB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:54,026 [s0@group-69C538A3F5CB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:54,027 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-69C538A3F5CB replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-69C538A3F5CB:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-69C538A3F5CB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:54,027 [s1@group-69C538A3F5CB-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-69C538A3F5CB-LeaderElection88: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:54,027 [s1@group-69C538A3F5CB-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2022-11-08 19:11:54,027 [s1@group-69C538A3F5CB-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-69C538A3F5CB-LeaderElection88 ELECTION round 0: result PASSED
2022-11-08 19:11:54,027 [s1@group-69C538A3F5CB-LeaderElection88] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-69C538A3F5CB-LeaderElection88
2022-11-08 19:11:54,027 [s1@group-69C538A3F5CB-LeaderElection88] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-69C538A3F5CB: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-08 19:11:54,027 [s1@group-69C538A3F5CB-LeaderElection88] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-69C538A3F5CB: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 221ms
2022-11-08 19:11:54,027 [s1@group-69C538A3F5CB-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:11:54,028 [s1@group-69C538A3F5CB-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:54,028 [s1@group-69C538A3F5CB-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:54,028 [s1@group-69C538A3F5CB-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:11:54,028 [s1@group-69C538A3F5CB-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:11:54,028 [s1@group-69C538A3F5CB-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:11:54,028 [s1@group-69C538A3F5CB-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:54,028 [s1@group-69C538A3F5CB-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:11:54,028 [s2@group-69C538A3F5CB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:54,028 [s2@group-69C538A3F5CB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:54,028 [s1@group-69C538A3F5CB-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:54,028 [s1@group-69C538A3F5CB-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:54,028 [s1@group-69C538A3F5CB-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:54,028 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-69C538A3F5CB replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-69C538A3F5CB:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-69C538A3F5CB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:54,028 [s1@group-69C538A3F5CB-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:54,028 [s1@group-69C538A3F5CB-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:54,029 [s1@group-69C538A3F5CB-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:54,029 [s1@group-69C538A3F5CB-LeaderElection88] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-69C538A3F5CB-LeaderStateImpl
2022-11-08 19:11:54,029 [s1@group-69C538A3F5CB-LeaderElection88] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-69C538A3F5CB-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:54,032 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-69C538A3F5CB: change Leader from null to s1 at term 1 for appendEntries, leader elected after 228ms
2022-11-08 19:11:54,033 [s1@group-69C538A3F5CB-LeaderElection88] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-69C538A3F5CB: set configuration 0: peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:54,033 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-69C538A3F5CB: change Leader from null to s1 at term 1 for appendEntries, leader elected after 221ms
2022-11-08 19:11:54,033 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-69C538A3F5CB: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:2421, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:35075"
dataStreamAddress: "localhost:37083"
clientAddress: "localhost:38885"
adminAddress: "localhost:40415"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42407"
dataStreamAddress: "localhost:41479"
clientAddress: "localhost:36017"
adminAddress: "localhost:41755"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:39941"
dataStreamAddress: "localhost:45895"
clientAddress: "localhost:36925"
adminAddress: "localhost:38113"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:54,033 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-69C538A3F5CB: set configuration 0: peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:54,033 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-69C538A3F5CB-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:54,037 [s1@group-69C538A3F5CB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-69C538A3F5CB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s1/aa367706-25fe-43b2-8e83-69c538a3f5cb/current/log_inprogress_0
2022-11-08 19:11:54,037 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-69C538A3F5CB: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:2422, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:35075"
dataStreamAddress: "localhost:37083"
clientAddress: "localhost:38885"
adminAddress: "localhost:40415"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42407"
dataStreamAddress: "localhost:41479"
clientAddress: "localhost:36017"
adminAddress: "localhost:41755"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:39941"
dataStreamAddress: "localhost:45895"
clientAddress: "localhost:36925"
adminAddress: "localhost:38113"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:54,037 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-69C538A3F5CB: set configuration 0: peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:54,037 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-69C538A3F5CB-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:54,047 [s0@group-69C538A3F5CB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-69C538A3F5CB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s0/aa367706-25fe-43b2-8e83-69c538a3f5cb/current/log_inprogress_0
2022-11-08 19:11:54,052 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-69C538A3F5CB: succeeded to handle AppendEntries. Reply: s1<-s0#2421:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:11:54,052 [s2@group-69C538A3F5CB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-69C538A3F5CB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s2/aa367706-25fe-43b2-8e83-69c538a3f5cb/current/log_inprogress_0
2022-11-08 19:11:54,054 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-69C538A3F5CB: succeeded to handle AppendEntries. Reply: s1<-s2#2422:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:11:54,296 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-69C538A3F5CB:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-69C538A3F5CB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-69C538A3F5CB:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-69C538A3F5CB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-69C538A3F5CB:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-69C538A3F5CB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:54,296 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:54,298 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:leaderElectionManagementAsync(1153)) - s0@group-69C538A3F5CB receive leaderElectionManagement request LeaderElectionManagementRequest:client-A7BA234927CF->s0@group-69C538A3F5CB, cid=2447, seq=0, RO, null, Pause:
2022-11-08 19:11:54,298 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s0@group-69C538A3F5CB: receive client request(RaftClientRequest:client-A7BA234927CF->s0@group-69C538A3F5CB, cid=2448, seq=0, RW, message)
2022-11-08 19:11:54,299 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-A7BA234927CF: suggested new leader: s1. Failed RaftClientRequest:client-A7BA234927CF->s0@group-69C538A3F5CB, cid=2448, seq=0, RW, message with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-69C538A3F5CB is not the leader s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:732)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:697)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:839)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:819)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:819)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:54,299 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-A7BA234927CF: oldLeader=s0,  curLeader=s0, newLeader=s1
2022-11-08 19:11:54,299 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-69C538A3F5CB client-A7BA234927CF: client change Leader from s0 to s1 ex=org.apache.ratis.protocol.exceptions.NotLeaderException
2022-11-08 19:11:54,400 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s1@group-69C538A3F5CB: receive client request(RaftClientRequest:client-A7BA234927CF->s1@group-69C538A3F5CB, cid=2448, seq=0, RW, message)
2022-11-08 19:11:54,400 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(410)) - s1@group-69C538A3F5CB-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-A7BA234927CF->s1@group-69C538A3F5CB, cid=2448, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 2448@client-A7BA234927CF
2022-11-08 19:11:54,401 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-69C538A3F5CB: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:2458, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2448@client-A7BA234927CF]
2022-11-08 19:11:54,401 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-69C538A3F5CB: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:2457, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2448@client-A7BA234927CF]
2022-11-08 19:11:54,401 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-69C538A3F5CB: succeeded to handle AppendEntries. Reply: s1<-s0#2458:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-08 19:11:54,402 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-69C538A3F5CB: succeeded to handle AppendEntries. Reply: s1<-s2#2457:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-08 19:11:54,402 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-69C538A3F5CB: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:2459, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-08 19:11:54,402 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-69C538A3F5CB: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:2460, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-08 19:11:54,403 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-69C538A3F5CB: succeeded to handle AppendEntries. Reply: s1<-s2#2459:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-08 19:11:54,403 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-69C538A3F5CB: succeeded to handle AppendEntries. Reply: s1<-s0#2460:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-08 19:11:54,403 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1188)) - s1@group-69C538A3F5CB: receive setConfiguration SetConfigurationRequest:client-A7BA234927CF->s1@group-69C538A3F5CB, cid=2461, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER], listeners:[]
2022-11-08 19:11:54,404 [s1-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(377)) - s1@group-69C538A3F5CB-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-A7BA234927CF->s1@group-69C538A3F5CB, cid=2461, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER], listeners:[]
2022-11-08 19:11:54,405 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-69C538A3F5CB: set configuration 3: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-08 19:11:54,405 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-69C538A3F5CB: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits:[s1:c2, s0:c1, s2:c1], cId:2462, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:35075"
dataStreamAddress: "localhost:37083"
clientAddress: "localhost:38885"
adminAddress: "localhost:40415"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42407"
dataStreamAddress: "localhost:41479"
clientAddress: "localhost:36017"
adminAddress: "localhost:41755"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:39941"
dataStreamAddress: "localhost:45895"
clientAddress: "localhost:36925"
adminAddress: "localhost:38113"
startupRole: FOLLOWER
)]
2022-11-08 19:11:54,405 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-69C538A3F5CB: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits:[s1:c2, s0:c1, s2:c1], cId:2463, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:35075"
dataStreamAddress: "localhost:37083"
clientAddress: "localhost:38885"
adminAddress: "localhost:40415"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42407"
dataStreamAddress: "localhost:41479"
clientAddress: "localhost:36017"
adminAddress: "localhost:41755"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:39941"
dataStreamAddress: "localhost:45895"
clientAddress: "localhost:36925"
adminAddress: "localhost:38113"
startupRole: FOLLOWER
)]
2022-11-08 19:11:54,406 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-69C538A3F5CB: set configuration 3: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-08 19:11:54,406 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-69C538A3F5CB: set configuration 3: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:35075|admin:localhost:40415|client:localhost:38885|dataStream:localhost:37083|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42407|admin:localhost:41755|client:localhost:36017|dataStream:localhost:41479|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39941|admin:localhost:38113|client:localhost:36925|dataStream:localhost:45895|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-11-08 19:11:54,408 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-69C538A3F5CB: succeeded to handle AppendEntries. Reply: s1<-s2#2463:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-08 19:11:54,408 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-69C538A3F5CB: succeeded to handle AppendEntries. Reply: s1<-s0#2462:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-08 19:11:54,409 [s1@group-69C538A3F5CB-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-69C538A3F5CB: set configuration 5: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:54,410 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-69C538A3F5CB: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c1, s2:c2], cId:2468, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:54,410 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-69C538A3F5CB: set configuration 5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:54,411 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-69C538A3F5CB: succeeded to handle AppendEntries. Reply: s1<-s2#2468:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-08 19:11:54,411 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-69C538A3F5CB: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c2, s2:c2], cId:2469, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:54,411 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-69C538A3F5CB: set configuration 5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:54,412 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-69C538A3F5CB: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits:[s1:c5, s0:c2, s2:c3], cId:2470, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-08 19:11:54,412 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-69C538A3F5CB: succeeded to handle AppendEntries. Reply: s1<-s0#2469:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-08 19:11:54,413 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-69C538A3F5CB: succeeded to handle AppendEntries. Reply: s1<-s2#2470:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-08 19:11:54,413 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-69C538A3F5CB: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits:[s1:c5, s0:c3, s2:c5], cId:2471, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-08 19:11:54,413 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-69C538A3F5CB: succeeded to handle AppendEntries. Reply: s1<-s0#2471:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-08 19:11:54,415 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:leaderElectionManagementAsync(1153)) - s0@group-69C538A3F5CB receive leaderElectionManagement request LeaderElectionManagementRequest:client-A7BA234927CF->s0@group-69C538A3F5CB, cid=2472, seq=0, RO, null, Resume:
2022-11-08 19:11:54,416 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(217)) - FAILED "check new leader", attempt #1/20: java.lang.AssertionError: expected:<s0> but was:<s1>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s1>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:585)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:231)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:585)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:561)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:54,516 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(217)) - FAILED "check new leader", attempt #2/20: java.lang.AssertionError: expected:<s0> but was:<s1>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s1>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:585)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:231)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:585)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:561)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:54,617 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(217)) - FAILED "check new leader", attempt #3/20: java.lang.AssertionError: expected:<s0> but was:<s1>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s1>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:585)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:231)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:585)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:561)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:54,714 [s1@group-69C538A3F5CB-LeaderStateImpl] INFO  server.RaftServer$Division (LeaderStateImpl.java:yieldLeaderToHigherPriorityPeer(1020)) - s1@group-69C538A3F5CB-LeaderStateImpl send StartLeaderElectionRequest to follower:s0 on term:1 because follower's priority:2 is higher than leader's:1 and follower's lastEntry index:6 catch up with leader's:6
2022-11-08 19:11:54,714 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:startLeaderElection(1658)) - s0@group-69C538A3F5CB: receive startLeaderElection from:s1, leaderLastEntry:term: 1
index: 6
,
2022-11-08 19:11:54,714 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-69C538A3F5CB-FollowerState
2022-11-08 19:11:54,714 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-69C538A3F5CB: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:54,714 [s0@group-69C538A3F5CB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-69C538A3F5CB-FollowerState was interrupted
2022-11-08 19:11:54,714 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-69C538A3F5CB-LeaderElection89
2022-11-08 19:11:54,714 [Thread-1262] INFO  server.RaftServer$Division (LeaderStateImpl.java:lambda$sendStartLeaderElectionToHigherPriorityPeer$9(602)) - s1@group-69C538A3F5CB-LeaderStateImpl received success reply of StartLeaderElectionRequest from follower:s0
2022-11-08 19:11:54,715 [s0@group-69C538A3F5CB-LeaderElection89] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-69C538A3F5CB: change Leader from s1 to null at term 1 for ELECTION
2022-11-08 19:11:54,716 [s0@group-69C538A3F5CB-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-69C538A3F5CB-LeaderElection89 ELECTION round 0: submit vote requests at term 2 for 5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:54,716 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1484)) - s0@group-69C538A3F5CB: Not recognize s1 (term=1) as leader, state: s0@group-69C538A3F5CB:t2, leader=null, voted=s0, raftlog=Memoized:s0@group-69C538A3F5CB-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null reply: s1<-s0#2503:FAIL-t2,NOT_LEADER,nextIndex=7,followerCommit=6,matchIndex=-1
2022-11-08 19:11:54,716 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-69C538A3F5CB: receive requestVote(ELECTION, s0, group-69C538A3F5CB, 2, (t:1, i:6))
2022-11-08 19:11:54,716 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-69C538A3F5CB-LEADER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2022-11-08 19:11:54,716 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-69C538A3F5CB: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-11-08 19:11:54,716 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-69C538A3F5CB: changes role from    LEADER to FOLLOWER at term 2 for candidate:s0
2022-11-08 19:11:54,716 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-69C538A3F5CB-LeaderStateImpl
2022-11-08 19:11:54,716 [s1@group-69C538A3F5CB->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-69C538A3F5CB->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:54,716 [HandlerDaemon-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-69C538A3F5CB-PendingRequests: sendNotLeaderResponses
2022-11-08 19:11:54,717 [s1@group-69C538A3F5CB->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-69C538A3F5CB->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:54,721 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(217)) - FAILED "check new leader", attempt #4/20: java.lang.NullPointerException, sleep 100ms and then retry.
java.lang.NullPointerException
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:585)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:231)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:585)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:561)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:54,721 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-69C538A3F5CB-FollowerState
2022-11-08 19:11:54,722 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-69C538A3F5CB: receive requestVote(ELECTION, s0, group-69C538A3F5CB, 2, (t:1, i:6))
2022-11-08 19:11:54,722 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-69C538A3F5CB-FOLLOWER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2022-11-08 19:11:54,722 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-69C538A3F5CB: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-11-08 19:11:54,722 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-69C538A3F5CB: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-11-08 19:11:54,722 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-69C538A3F5CB-FollowerState
2022-11-08 19:11:54,722 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-69C538A3F5CB-FollowerState
2022-11-08 19:11:54,722 [s2@group-69C538A3F5CB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-69C538A3F5CB-FollowerState was interrupted
2022-11-08 19:11:54,722 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-69C538A3F5CB replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-69C538A3F5CB:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-69C538A3F5CB-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:54,723 [s0@group-69C538A3F5CB-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-69C538A3F5CB-LeaderElection89: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:54,723 [s0@group-69C538A3F5CB-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t2
2022-11-08 19:11:54,723 [s0@group-69C538A3F5CB-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-69C538A3F5CB-LeaderElection89 ELECTION round 0: result PASSED
2022-11-08 19:11:54,723 [s0@group-69C538A3F5CB-LeaderElection89] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-69C538A3F5CB-LeaderElection89
2022-11-08 19:11:54,723 [s0@group-69C538A3F5CB-LeaderElection89] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-69C538A3F5CB: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-11-08 19:11:54,723 [s0@group-69C538A3F5CB-LeaderElection89] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-69C538A3F5CB: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 8ms
2022-11-08 19:11:54,723 [s0@group-69C538A3F5CB-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:11:54,726 [s0@group-69C538A3F5CB-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:54,726 [s0@group-69C538A3F5CB-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:54,726 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-69C538A3F5CB replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-69C538A3F5CB:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-69C538A3F5CB-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:54,726 [s0@group-69C538A3F5CB-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:11:54,727 [s0@group-69C538A3F5CB-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:11:54,727 [s0@group-69C538A3F5CB-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:11:54,727 [s0@group-69C538A3F5CB-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:54,727 [s0@group-69C538A3F5CB-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:11:54,727 [s0@group-69C538A3F5CB-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:54,727 [s0@group-69C538A3F5CB-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:54,727 [s0@group-69C538A3F5CB-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:54,727 [s0@group-69C538A3F5CB-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:54,727 [s0@group-69C538A3F5CB-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:54,727 [s0@group-69C538A3F5CB-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:54,727 [s0@group-69C538A3F5CB-LeaderElection89] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-69C538A3F5CB-LeaderStateImpl
2022-11-08 19:11:54,727 [s0@group-69C538A3F5CB-LeaderElection89] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-69C538A3F5CB-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-11-08 19:11:54,728 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-69C538A3F5CB: change Leader from null to s0 at term 2 for appendEntries, leader elected after 11ms
2022-11-08 19:11:54,728 [s0@group-69C538A3F5CB-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s0/aa367706-25fe-43b2-8e83-69c538a3f5cb/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s0/aa367706-25fe-43b2-8e83-69c538a3f5cb/current/log_0-6
2022-11-08 19:11:54,728 [s0@group-69C538A3F5CB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-69C538A3F5CB-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s0/aa367706-25fe-43b2-8e83-69c538a3f5cb/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s0/aa367706-25fe-43b2-8e83-69c538a3f5cb/current/log_0-6
2022-11-08 19:11:54,732 [s0@group-69C538A3F5CB-LeaderElection89] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-69C538A3F5CB: set configuration 7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:54,732 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-69C538A3F5CB: receive appendEntries(s0, 2, (t:1, i:6), 6, true, commits:[s0:c6, s1:c6, s2:c6], cId:2507, entries: [(t:2, i:7), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:54,732 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-69C538A3F5CB: set configuration 7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:54,732 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-69C538A3F5CB-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-11-08 19:11:54,732 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-69C538A3F5CB: change Leader from null to s0 at term 2 for appendEntries, leader elected after 10ms
2022-11-08 19:11:54,733 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-69C538A3F5CB: receive appendEntries(s0, 2, (t:1, i:6), 6, true, commits:[s0:c6, s1:c6, s2:c6], cId:2510, entries: [(t:2, i:7), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:54,733 [s1@group-69C538A3F5CB-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s1/aa367706-25fe-43b2-8e83-69c538a3f5cb/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s1/aa367706-25fe-43b2-8e83-69c538a3f5cb/current/log_0-6
2022-11-08 19:11:54,733 [s1@group-69C538A3F5CB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-69C538A3F5CB-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s1/aa367706-25fe-43b2-8e83-69c538a3f5cb/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s1/aa367706-25fe-43b2-8e83-69c538a3f5cb/current/log_0-6
2022-11-08 19:11:54,733 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-69C538A3F5CB: set configuration 7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:54,733 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-69C538A3F5CB-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-11-08 19:11:54,734 [s2@group-69C538A3F5CB-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s2/aa367706-25fe-43b2-8e83-69c538a3f5cb/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s2/aa367706-25fe-43b2-8e83-69c538a3f5cb/current/log_0-6
2022-11-08 19:11:54,734 [s2@group-69C538A3F5CB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-69C538A3F5CB-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s2/aa367706-25fe-43b2-8e83-69c538a3f5cb/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s2/aa367706-25fe-43b2-8e83-69c538a3f5cb/current/log_0-6
2022-11-08 19:11:54,740 [s0@group-69C538A3F5CB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-69C538A3F5CB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s0/aa367706-25fe-43b2-8e83-69c538a3f5cb/current/log_inprogress_7
2022-11-08 19:11:54,742 [s1@group-69C538A3F5CB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-69C538A3F5CB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s1/aa367706-25fe-43b2-8e83-69c538a3f5cb/current/log_inprogress_7
2022-11-08 19:11:54,743 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-69C538A3F5CB: succeeded to handle AppendEntries. Reply: s0<-s1#2507:OK-t2,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2022-11-08 19:11:54,744 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-69C538A3F5CB: receive appendEntries(s0, 2, (t:2, i:7), 7, true, commits:[s0:c7, s1:c6, s2:c6], cId:2511, entries: [(t:2, i:8), METADATAENTRY(c:7)]
2022-11-08 19:11:54,746 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-69C538A3F5CB: succeeded to handle AppendEntries. Reply: s0<-s1#2511:OK-t2,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2022-11-08 19:11:54,747 [s2@group-69C538A3F5CB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-69C538A3F5CB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc90e542c6/s2/aa367706-25fe-43b2-8e83-69c538a3f5cb/current/log_inprogress_7
2022-11-08 19:11:54,747 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-69C538A3F5CB: succeeded to handle AppendEntries. Reply: s0<-s2#2510:OK-t2,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2022-11-08 19:11:54,747 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-69C538A3F5CB: receive appendEntries(s0, 2, (t:2, i:7), 8, true, commits:[s0:c8, s1:c7, s2:c6], cId:2512, entries: [(t:2, i:8), METADATAENTRY(c:7)]
2022-11-08 19:11:54,747 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-69C538A3F5CB: succeeded to handle AppendEntries. Reply: s0<-s2#2512:OK-t2,SUCCESS,nextIndex=9,followerCommit=8,matchIndex=8
2022-11-08 19:11:54,821 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-08 19:11:54,821 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-08 19:11:54,821 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:54,821 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-08 19:11:54,821 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-08 19:11:54,821 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-69C538A3F5CB:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-69C538A3F5CB-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-69C538A3F5CB:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-69C538A3F5CB-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-69C538A3F5CB:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-69C538A3F5CB-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:54,822 [MiniRaftCluster-65] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-08 19:11:54,822 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:54,822 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:54,822 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:54,823 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:54,823 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:54,823 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-69C538A3F5CB: shutdown
2022-11-08 19:11:54,824 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-69C538A3F5CB,id=s1
2022-11-08 19:11:54,824 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-69C538A3F5CB-FollowerState
2022-11-08 19:11:54,824 [s1@group-69C538A3F5CB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-69C538A3F5CB-FollowerState was interrupted
2022-11-08 19:11:54,824 [MiniRaftCluster-64] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-08 19:11:54,824 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:54,824 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-69C538A3F5CB: shutdown
2022-11-08 19:11:54,824 [MiniRaftCluster-66] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-08 19:11:54,826 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-69C538A3F5CB-StateMachineUpdater: set stopIndex = 8
2022-11-08 19:11:54,824 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-69C538A3F5CB,id=s0
2022-11-08 19:11:54,826 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-69C538A3F5CB-LeaderStateImpl
2022-11-08 19:11:54,826 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-69C538A3F5CB: shutdown
2022-11-08 19:11:54,826 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-69C538A3F5CB-PendingRequests: sendNotLeaderResponses
2022-11-08 19:11:54,826 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-69C538A3F5CB,id=s2
2022-11-08 19:11:54,826 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-69C538A3F5CB-FollowerState
2022-11-08 19:11:54,826 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-69C538A3F5CB-StateMachineUpdater: set stopIndex = 8
2022-11-08 19:11:54,826 [s2@group-69C538A3F5CB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-69C538A3F5CB-FollowerState was interrupted
2022-11-08 19:11:54,827 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-69C538A3F5CB-StateMachineUpdater: set stopIndex = 8
2022-11-08 19:11:54,827 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:54,827 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:54,827 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:54,827 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:54,827 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:54,827 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-69C538A3F5CB: applyIndex: 8
2022-11-08 19:11:54,827 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:54,827 [s0@group-69C538A3F5CB->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-69C538A3F5CB->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:54,827 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-69C538A3F5CB: applyIndex: 8
2022-11-08 19:11:54,826 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-69C538A3F5CB: applyIndex: 8
2022-11-08 19:11:54,827 [s0@group-69C538A3F5CB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s0@group-69C538A3F5CB-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:54,827 [s1@group-69C538A3F5CB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s1@group-69C538A3F5CB-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:54,827 [s0@group-69C538A3F5CB->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-69C538A3F5CB->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:11:54,828 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-69C538A3F5CB-SegmentedRaftLogWorker close()
2022-11-08 19:11:54,828 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-69C538A3F5CB-SegmentedRaftLogWorker close()
2022-11-08 19:11:54,829 [JvmPauseMonitor47] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-08 19:11:54,829 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:54,829 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:54,829 [JvmPauseMonitor46] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-08 19:11:54,829 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:54,829 [s2@group-69C538A3F5CB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s2@group-69C538A3F5CB-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:11:54,829 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:11:54,830 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-69C538A3F5CB-SegmentedRaftLogWorker close()
2022-11-08 19:11:54,830 [JvmPauseMonitor48] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-08 19:11:54,831 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-08 19:11:54,831 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-08 19:11:54,831 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-08 19:11:54,831 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-08 19:11:54,831 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-08 19:11:54,832 [Time-limited test] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker log level to TRACE
2022-11-08 19:11:54,832 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testChangeLeader(102)) - Running testChangeLeader
2022-11-08 19:11:54,832 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-08 19:11:54,832 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-65D5618A404C:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]
2022-11-08 19:11:54,832 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-08 19:11:54,832 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-08 19:11:54,833 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-08 19:11:54,833 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-08 19:11:54,833 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-08 19:11:54,833 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-08 19:11:54,833 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-65D5618A404C:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:54,833 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0
2022-11-08 19:11:54,833 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0 does not exist.
2022-11-08 19:11:54,833 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0
2022-11-08 19:11:54,833 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:54,833 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:54,833 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:54,833 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:54,833 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:54,833 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:54,833 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0] (custom)
2022-11-08 19:11:54,834 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-65D5618A404C:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER] returns group-65D5618A404C:java.util.concurrent.CompletableFuture@16870fd1[Not completed]
2022-11-08 19:11:54,834 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-65D5618A404C:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:54,834 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1
2022-11-08 19:11:54,834 [pool-50-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-65D5618A404C:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:54,834 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1 does not exist.
2022-11-08 19:11:54,834 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1
2022-11-08 19:11:54,834 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:54,834 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:54,834 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:54,834 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:54,834 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:54,834 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:54,834 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:54,834 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:54,835 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:54,835 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:54,835 [pool-50-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-65D5618A404C: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:54,835 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:54,835 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:54,835 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:54,835 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:54,835 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1] (custom)
2022-11-08 19:11:54,835 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:54,835 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:54,835 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:54,835 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-65D5618A404C:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER] returns group-65D5618A404C:java.util.concurrent.CompletableFuture@587f95c7[Not completed]
2022-11-08 19:11:54,835 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-65D5618A404C:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:11:54,835 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2
2022-11-08 19:11:54,835 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2 does not exist.
2022-11-08 19:11:54,835 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2
2022-11-08 19:11:54,836 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:11:54,836 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:11:54,836 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:11:54,836 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:11:54,836 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:54,836 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:54,836 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2] (custom)
2022-11-08 19:11:54,836 [pool-51-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-65D5618A404C:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:54,836 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:54,836 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:54,836 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:54,836 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:54,836 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:54,836 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:54,836 [pool-51-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-65D5618A404C: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:54,836 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:54,836 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:54,836 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:54,836 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:54,836 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:54,837 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:54,837 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:54,837 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:54,837 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:54,838 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:54,838 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:54,838 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:54,839 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:54,839 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:54,839 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:54,839 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-65D5618A404C:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER] returns group-65D5618A404C:java.util.concurrent.CompletableFuture@678e3ee5[Not completed]
2022-11-08 19:11:54,839 [pool-52-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-65D5618A404C:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:11:54,839 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:54,839 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:54,839 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0] (custom)
2022-11-08 19:11:54,839 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c does not exist. Creating ...
2022-11-08 19:11:54,840 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c
2022-11-08 19:11:54,840 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:11:54,840 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:54,840 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:11:54,840 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:11:54,840 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:11:54,840 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:11:54,840 [pool-52-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-65D5618A404C: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:11:54,840 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:11:54,840 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:11:54,840 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:11:54,840 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:11:54,840 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:11:54,840 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:54,841 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current
2022-11-08 19:11:54,841 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/sm
2022-11-08 19:11:54,841 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:11:54,841 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:11:54,841 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:11:54,842 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c has been successfully formatted.
2022-11-08 19:11:54,842 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:54,842 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:54,842 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:54,842 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:54,842 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:54,842 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:54,842 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:54,842 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:54,842 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-65D5618A404C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c
2022-11-08 19:11:54,842 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:54,842 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:54,843 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:54,843 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:54,843 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:54,843 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:54,843 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:54,843 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:54,843 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:54,843 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:54,843 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:54,843 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:54,843 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:54,843 [s0-impl-thread1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(225)) - s0@group-65D5618A404C-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2022-11-08 19:11:54,843 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:54,843 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:54,843 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:11:54,843 [pool-52-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:11:54,843 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-65D5618A404C: start as a follower, conf=-1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:54,843 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-65D5618A404C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:54,843 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-65D5618A404C-FollowerState
2022-11-08 19:11:54,848 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-65D5618A404C,id=s0
2022-11-08 19:11:54,848 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:54,848 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:54,848 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:54,848 [s0@group-65D5618A404C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:54,848 [s0@group-65D5618A404C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:54,852 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-08 19:11:54,852 [JvmPauseMonitor49] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-08 19:11:54,852 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:54,852 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:54,852 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1] (custom)
2022-11-08 19:11:54,852 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c does not exist. Creating ...
2022-11-08 19:11:54,853 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c
2022-11-08 19:11:54,853 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:54,854 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current
2022-11-08 19:11:54,854 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/sm
2022-11-08 19:11:54,855 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c has been successfully formatted.
2022-11-08 19:11:54,855 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:54,855 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:54,855 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:54,855 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:54,855 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:54,856 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:54,856 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:54,856 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:54,856 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-65D5618A404C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c
2022-11-08 19:11:54,856 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:54,856 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:54,856 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:54,856 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:54,856 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:54,856 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:54,856 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:54,856 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:54,856 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:54,856 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:54,856 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:54,856 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:54,856 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:54,856 [s1-impl-thread1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(225)) - s1@group-65D5618A404C-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2022-11-08 19:11:54,856 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:54,857 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:54,857 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-65D5618A404C: start as a follower, conf=-1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:54,857 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-65D5618A404C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:54,857 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-65D5618A404C-FollowerState
2022-11-08 19:11:54,857 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-65D5618A404C,id=s1
2022-11-08 19:11:54,857 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:54,857 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:54,857 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:54,857 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-08 19:11:54,857 [s1@group-65D5618A404C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:54,857 [s1@group-65D5618A404C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:54,858 [JvmPauseMonitor50] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-08 19:11:54,858 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:11:54,858 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:11:54,858 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2] (custom)
2022-11-08 19:11:54,858 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c does not exist. Creating ...
2022-11-08 19:11:54,858 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c
2022-11-08 19:11:54,859 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:11:54,859 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current
2022-11-08 19:11:54,859 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/sm
2022-11-08 19:11:54,860 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c has been successfully formatted.
2022-11-08 19:11:54,860 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:11:54,860 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:11:54,860 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:54,860 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:11:54,860 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:11:54,861 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:54,861 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:11:54,861 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:11:54,861 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-65D5618A404C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c
2022-11-08 19:11:54,861 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:54,861 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:11:54,861 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:11:54,861 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:11:54,861 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:11:54,861 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:11:54,861 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:11:54,861 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:11:54,861 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:11:54,861 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:54,861 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:11:54,861 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:11:54,861 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:11:54,862 [s2-impl-thread1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(225)) - s2@group-65D5618A404C-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2022-11-08 19:11:54,862 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:54,862 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:11:54,862 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-65D5618A404C: start as a follower, conf=-1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:54,862 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-65D5618A404C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:11:54,862 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-65D5618A404C-FollowerState
2022-11-08 19:11:54,863 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-65D5618A404C,id=s2
2022-11-08 19:11:54,863 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:11:54,863 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:11:54,863 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:11:54,863 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-08 19:11:54,863 [s2@group-65D5618A404C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:54,863 [s2@group-65D5618A404C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:54,863 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:54,868 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t0, leader=null, voted=, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t0, leader=null, voted=, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t0, leader=null, voted=, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:54,868 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t0, leader=null, voted=, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t0, leader=null, voted=, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t0, leader=null, voted=, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t0, leader=null, voted=, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t0, leader=null, voted=, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t0, leader=null, voted=, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:54,863 [JvmPauseMonitor51] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-08 19:11:55,018 [s1@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-65D5618A404C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:160891668ns, electionTimeout:160ms
2022-11-08 19:11:55,018 [s1@group-65D5618A404C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-65D5618A404C-FollowerState
2022-11-08 19:11:55,018 [s1@group-65D5618A404C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-65D5618A404C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-08 19:11:55,018 [s1@group-65D5618A404C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:55,018 [s1@group-65D5618A404C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-65D5618A404C-LeaderElection90
2022-11-08 19:11:55,018 [s1@group-65D5618A404C-LeaderElection90] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-65D5618A404C-LeaderElection90 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:55,018 [s1@group-65D5618A404C-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:55,019 [s1@group-65D5618A404C-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:55,019 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-65D5618A404C: receive requestVote(PRE_VOTE, s1, group-65D5618A404C, 0, (t:0, i:0))
2022-11-08 19:11:55,019 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-65D5618A404C-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:55,019 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-65D5618A404C replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-65D5618A404C:t0, leader=null, voted=, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:55,019 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-65D5618A404C: receive requestVote(PRE_VOTE, s1, group-65D5618A404C, 0, (t:0, i:0))
2022-11-08 19:11:55,019 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-65D5618A404C-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:55,019 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-65D5618A404C replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-65D5618A404C:t0, leader=null, voted=, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:55,019 [s1@group-65D5618A404C-LeaderElection90] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-65D5618A404C-LeaderElection90: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:55,019 [s1@group-65D5618A404C-LeaderElection90] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t0
2022-11-08 19:11:55,019 [s1@group-65D5618A404C-LeaderElection90] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-65D5618A404C-LeaderElection90 PRE_VOTE round 0: result PASSED
2022-11-08 19:11:55,020 [s1@group-65D5618A404C-LeaderElection90] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-65D5618A404C-LeaderElection90 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:55,020 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-65D5618A404C: receive requestVote(ELECTION, s1, group-65D5618A404C, 1, (t:0, i:0))
2022-11-08 19:11:55,020 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-65D5618A404C-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:55,020 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-65D5618A404C: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-11-08 19:11:55,020 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-65D5618A404C-FollowerState
2022-11-08 19:11:55,020 [s1@group-65D5618A404C-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:55,020 [s1@group-65D5618A404C-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:55,020 [s0@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-65D5618A404C-FollowerState was interrupted
2022-11-08 19:11:55,020 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-65D5618A404C-FollowerState
2022-11-08 19:11:55,021 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-65D5618A404C: receive requestVote(ELECTION, s1, group-65D5618A404C, 1, (t:0, i:0))
2022-11-08 19:11:55,021 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-65D5618A404C-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:55,021 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-65D5618A404C: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-11-08 19:11:55,021 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-65D5618A404C-FollowerState
2022-11-08 19:11:55,021 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-65D5618A404C-FollowerState
2022-11-08 19:11:55,021 [s2@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-65D5618A404C-FollowerState was interrupted
2022-11-08 19:11:55,021 [s0@group-65D5618A404C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:55,021 [s0@group-65D5618A404C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:55,022 [s2@group-65D5618A404C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:11:55,022 [s2@group-65D5618A404C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:11:55,022 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-65D5618A404C replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-65D5618A404C:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:55,022 [s1@group-65D5618A404C-LeaderElection90] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-65D5618A404C-LeaderElection90: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:55,022 [s1@group-65D5618A404C-LeaderElection90] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2022-11-08 19:11:55,022 [s1@group-65D5618A404C-LeaderElection90] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-65D5618A404C-LeaderElection90 ELECTION round 0: result PASSED
2022-11-08 19:11:55,022 [s1@group-65D5618A404C-LeaderElection90] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-65D5618A404C-LeaderElection90
2022-11-08 19:11:55,022 [s1@group-65D5618A404C-LeaderElection90] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-65D5618A404C: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-08 19:11:55,022 [s1@group-65D5618A404C-LeaderElection90] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-65D5618A404C: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 185ms
2022-11-08 19:11:55,022 [s1@group-65D5618A404C-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:11:55,022 [s1@group-65D5618A404C-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:55,022 [s1@group-65D5618A404C-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:55,022 [s1@group-65D5618A404C-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:11:55,022 [s1@group-65D5618A404C-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:11:55,022 [s1@group-65D5618A404C-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:11:55,022 [s1@group-65D5618A404C-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:55,022 [s1@group-65D5618A404C-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:11:55,023 [s1@group-65D5618A404C-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:55,023 [s1@group-65D5618A404C-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:55,023 [s1@group-65D5618A404C-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:55,023 [s1@group-65D5618A404C-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:55,023 [s1@group-65D5618A404C-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:55,023 [s1@group-65D5618A404C-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:55,023 [s1@group-65D5618A404C-LeaderElection90] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-65D5618A404C-LeaderStateImpl
2022-11-08 19:11:55,023 [s1@group-65D5618A404C-LeaderElection90] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:55,023 [s1@group-65D5618A404C-LeaderElection90] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2022-11-08 19:11:55,024 [s1@group-65D5618A404C-LeaderElection90] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:55,024 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-65D5618A404C replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-65D5618A404C:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:55,028 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-65D5618A404C: change Leader from null to s1 at term 1 for appendEntries, leader elected after 193ms
2022-11-08 19:11:55,028 [s1@group-65D5618A404C-LeaderElection90] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-65D5618A404C: set configuration 0: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:55,029 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-65D5618A404C: change Leader from null to s1 at term 1 for appendEntries, leader elected after 188ms
2022-11-08 19:11:55,033 [s1@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_0
2022-11-08 19:11:55,038 [s1@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_0)
2022-11-08 19:11:55,038 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-65D5618A404C: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:2537, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:55,038 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-65D5618A404C: set configuration 0: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:55,038 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:55,038 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2022-11-08 19:11:55,039 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:55,042 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2022-11-08 19:11:55,044 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:2538, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:55,044 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-65D5618A404C: set configuration 0: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:55,044 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:11:55,044 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2022-11-08 19:11:55,044 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:55,046 [s0@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_0
2022-11-08 19:11:55,048 [s0@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_0)
2022-11-08 19:11:55,048 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2022-11-08 19:11:55,048 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s1<-s0#2537:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:11:55,054 [s2@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_0
2022-11-08 19:11:55,055 [s2@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_0)
2022-11-08 19:11:55,055 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2022-11-08 19:11:55,055 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s1<-s2#2538:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:11:55,318 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-65D5618A404C:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:55,319 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:55,319 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-65D5618A404C:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:55,319 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-65D5618A404C:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:55,319 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:55,420 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:55,420 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-65D5618A404C:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:55,420 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-65D5618A404C:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:55,420 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:55,452 [s0@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-65D5618A404C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:177191865ns, electionTimeout:177ms
2022-11-08 19:11:55,452 [s0@group-65D5618A404C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-65D5618A404C-FollowerState
2022-11-08 19:11:55,452 [s0@group-65D5618A404C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-65D5618A404C: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-11-08 19:11:55,453 [s0@group-65D5618A404C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:55,453 [s0@group-65D5618A404C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-65D5618A404C-LeaderElection91
2022-11-08 19:11:55,453 [s0@group-65D5618A404C-LeaderElection91] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-65D5618A404C: change Leader from s1 to null at term 1 for PRE_VOTE
2022-11-08 19:11:55,453 [s0@group-65D5618A404C-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-65D5618A404C-LeaderElection91 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:55,453 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-65D5618A404C: receive requestVote(PRE_VOTE, s0, group-65D5618A404C, 1, (t:1, i:0))
2022-11-08 19:11:55,453 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-65D5618A404C: receive requestVote(PRE_VOTE, s0, group-65D5618A404C, 1, (t:1, i:0))
2022-11-08 19:11:55,453 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-65D5618A404C-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:55,453 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-65D5618A404C-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:55,453 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-65D5618A404C replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-65D5618A404C:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:55,453 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-65D5618A404C replies to PRE_VOTE vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-65D5618A404C:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:55,454 [s0@group-65D5618A404C-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-65D5618A404C-LeaderElection91: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:55,454 [s0@group-65D5618A404C-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-11-08 19:11:55,454 [s0@group-65D5618A404C-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:OK-t1
2022-11-08 19:11:55,454 [s0@group-65D5618A404C-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-65D5618A404C-LeaderElection91 PRE_VOTE round 0: result PASSED
2022-11-08 19:11:55,455 [s0@group-65D5618A404C-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-65D5618A404C-LeaderElection91 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:55,455 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-65D5618A404C: receive requestVote(ELECTION, s0, group-65D5618A404C, 2, (t:1, i:0))
2022-11-08 19:11:55,455 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-65D5618A404C-LEADER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:55,455 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-65D5618A404C: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-11-08 19:11:55,455 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-65D5618A404C: changes role from    LEADER to FOLLOWER at term 2 for candidate:s0
2022-11-08 19:11:55,455 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-65D5618A404C-LeaderStateImpl
2022-11-08 19:11:55,455 [s1@group-65D5618A404C->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-65D5618A404C->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-08 19:11:55,455 [s1@group-65D5618A404C->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-65D5618A404C->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-08 19:11:55,455 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-65D5618A404C: receive requestVote(ELECTION, s0, group-65D5618A404C, 2, (t:1, i:0))
2022-11-08 19:11:55,456 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-65D5618A404C-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:55,456 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-65D5618A404C: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-11-08 19:11:55,456 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-65D5618A404C: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-11-08 19:11:55,456 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-65D5618A404C-FollowerState
2022-11-08 19:11:55,456 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-65D5618A404C-FollowerState
2022-11-08 19:11:55,456 [s2@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-65D5618A404C-FollowerState was interrupted
2022-11-08 19:11:55,456 [HandlerDaemon-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-65D5618A404C-PendingRequests: sendNotLeaderResponses
2022-11-08 19:11:55,456 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-65D5618A404C-FollowerState
2022-11-08 19:11:55,457 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-65D5618A404C replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-65D5618A404C:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:55,457 [s0@group-65D5618A404C-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-65D5618A404C-LeaderElection91: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:55,457 [s0@group-65D5618A404C-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t2
2022-11-08 19:11:55,457 [s0@group-65D5618A404C-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-65D5618A404C-LeaderElection91 ELECTION round 0: result PASSED
2022-11-08 19:11:55,457 [s0@group-65D5618A404C-LeaderElection91] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-65D5618A404C-LeaderElection91
2022-11-08 19:11:55,457 [s0@group-65D5618A404C-LeaderElection91] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-65D5618A404C: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-11-08 19:11:55,457 [s0@group-65D5618A404C-LeaderElection91] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-65D5618A404C: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 4ms
2022-11-08 19:11:55,457 [s0@group-65D5618A404C-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:11:55,457 [s0@group-65D5618A404C-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:55,457 [s0@group-65D5618A404C-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:55,457 [s0@group-65D5618A404C-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:11:55,457 [s0@group-65D5618A404C-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:11:55,457 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-65D5618A404C replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-65D5618A404C:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:55,457 [s0@group-65D5618A404C-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:11:55,458 [s0@group-65D5618A404C-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:55,458 [s0@group-65D5618A404C-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:11:55,458 [s0@group-65D5618A404C-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:55,458 [s0@group-65D5618A404C-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:55,458 [s0@group-65D5618A404C-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:55,458 [s0@group-65D5618A404C-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:55,458 [s0@group-65D5618A404C-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:55,458 [s0@group-65D5618A404C-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:55,458 [s0@group-65D5618A404C-LeaderElection91] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-65D5618A404C-LeaderStateImpl
2022-11-08 19:11:55,458 [s0@group-65D5618A404C-LeaderElection91] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-11-08 19:11:55,458 [s0@group-65D5618A404C-LeaderElection91] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2022-11-08 19:11:55,458 [s0@group-65D5618A404C-LeaderElection91] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2022-11-08 19:11:55,459 [s0@group-65D5618A404C-LeaderElection91] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:55,459 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_0-0
2022-11-08 19:11:55,460 [s0@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_0-0
2022-11-08 19:11:55,460 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 0
2022-11-08 19:11:55,460 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2022-11-08 19:11:55,463 [s0@group-65D5618A404C-LeaderElection91] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-65D5618A404C: set configuration 1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:55,463 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-65D5618A404C: change Leader from null to s0 at term 2 for appendEntries, leader elected after 7ms
2022-11-08 19:11:55,463 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-65D5618A404C: change Leader from null to s0 at term 2 for appendEntries, leader elected after 8ms
2022-11-08 19:11:55,464 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: receive appendEntries(s0, 2, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:2579, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:55,464 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-65D5618A404C: set configuration 1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:55,464 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-11-08 19:11:55,464 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2022-11-08 19:11:55,464 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2022-11-08 19:11:55,465 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:55,464 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: receive appendEntries(s0, 2, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:2580, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:55,467 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-65D5618A404C: set configuration 1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:55,467 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-11-08 19:11:55,467 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2022-11-08 19:11:55,467 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2022-11-08 19:11:55,467 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:55,468 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_0-0
2022-11-08 19:11:55,468 [s2@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_0-0
2022-11-08 19:11:55,468 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 0
2022-11-08 19:11:55,468 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2022-11-08 19:11:55,468 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_0-0
2022-11-08 19:11:55,468 [s1@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_0-0
2022-11-08 19:11:55,468 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 0
2022-11-08 19:11:55,468 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2022-11-08 19:11:55,467 [s0@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_1
2022-11-08 19:11:55,472 [s0@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_1)
2022-11-08 19:11:55,476 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2022-11-08 19:11:55,479 [s2@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_1
2022-11-08 19:11:55,479 [s2@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_1)
2022-11-08 19:11:55,479 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2022-11-08 19:11:55,479 [s1@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_1
2022-11-08 19:11:55,479 [s1@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_1)
2022-11-08 19:11:55,479 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s0<-s2#2579:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-08 19:11:55,479 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2022-11-08 19:11:55,480 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s0<-s1#2580:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-08 19:11:55,480 [s0@group-65D5618A404C-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2022-11-08 19:11:55,480 [s0@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_1)
2022-11-08 19:11:55,480 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2022-11-08 19:11:55,480 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: receive appendEntries(s0, 2, (t:2, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:2585, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2022-11-08 19:11:55,480 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2022-11-08 19:11:55,481 [s1@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_1)
2022-11-08 19:11:55,481 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: receive appendEntries(s0, 2, (t:2, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:2586, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2022-11-08 19:11:55,481 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2022-11-08 19:11:55,481 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2022-11-08 19:11:55,481 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s0<-s1#2585:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-08 19:11:55,482 [s2@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_1)
2022-11-08 19:11:55,483 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2022-11-08 19:11:55,483 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s0<-s2#2586:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-08 19:11:55,521 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:55,521 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:55,521 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:55,521 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s0
2022-11-08 19:11:55,521 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:55,521 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:55,522 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:55,522 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:55,622 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:55,622 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:55,623 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:55,623 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:55,723 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:55,723 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:55,724 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:55,724 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:55,824 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:55,824 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:55,825 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:55,825 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:55,895 [s2@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-65D5618A404C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:412193118ns, electionTimeout:191ms
2022-11-08 19:11:55,895 [s2@group-65D5618A404C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-65D5618A404C-FollowerState
2022-11-08 19:11:55,895 [s2@group-65D5618A404C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-65D5618A404C: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2022-11-08 19:11:55,895 [s2@group-65D5618A404C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:55,895 [s2@group-65D5618A404C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-65D5618A404C-LeaderElection92
2022-11-08 19:11:55,895 [s2@group-65D5618A404C-LeaderElection92] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-65D5618A404C: change Leader from s0 to null at term 2 for PRE_VOTE
2022-11-08 19:11:55,895 [s2@group-65D5618A404C-LeaderElection92] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-65D5618A404C-LeaderElection92 PRE_VOTE round 0: submit vote requests at term 2 for 1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:55,896 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-65D5618A404C: receive requestVote(PRE_VOTE, s2, group-65D5618A404C, 2, (t:2, i:2))
2022-11-08 19:11:55,896 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-65D5618A404C: receive requestVote(PRE_VOTE, s2, group-65D5618A404C, 2, (t:2, i:2))
2022-11-08 19:11:55,896 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1063)) - s0@group-65D5618A404C-LeaderStateImpl: Lost leadership on term: 2. Election timeout: 300ms. In charge for: 438ms. Conf: 1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:55,896 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-65D5618A404C-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:55,896 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s0@group-65D5618A404C->s1(c1,m2,n3, attendVote=true, lastRpcSendTime=339, lastRpcResponseTime=414)
2022-11-08 19:11:55,896 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s0@group-65D5618A404C->s2(c1,m2,n3, attendVote=true, lastRpcSendTime=337, lastRpcResponseTime=413)
2022-11-08 19:11:55,896 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-65D5618A404C: changes role from    LEADER to FOLLOWER at term 2 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-11-08 19:11:55,896 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-65D5618A404C-LeaderStateImpl
2022-11-08 19:11:55,896 [HandlerDaemon-2] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-65D5618A404C-PendingRequests: sendNotLeaderResponses
2022-11-08 19:11:55,896 [s0@group-65D5618A404C->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-65D5618A404C->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-08 19:11:55,896 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-65D5618A404C replies to PRE_VOTE vote request: s2<-s1#0:OK-t2. Peer's state: s1@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:55,896 [s2@group-65D5618A404C-LeaderElection92] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-65D5618A404C-LeaderElection92: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:55,896 [s2@group-65D5618A404C-LeaderElection92] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t2
2022-11-08 19:11:55,896 [s2@group-65D5618A404C-LeaderElection92] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-65D5618A404C-LeaderElection92 PRE_VOTE round 0: result PASSED
2022-11-08 19:11:55,897 [s0@group-65D5618A404C->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-65D5618A404C->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-08 19:11:55,896 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-65D5618A404C-FollowerState
2022-11-08 19:11:55,897 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-65D5618A404C-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s0
2022-11-08 19:11:55,897 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-65D5618A404C replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t2. Peer's state: s0@group-65D5618A404C:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:55,898 [s2@group-65D5618A404C-LeaderElection92] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-65D5618A404C-LeaderElection92 ELECTION round 0: submit vote requests at term 3 for 1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:55,900 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-65D5618A404C: receive requestVote(ELECTION, s2, group-65D5618A404C, 3, (t:2, i:2))
2022-11-08 19:11:55,900 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-65D5618A404C-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:55,900 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-65D5618A404C: change Leader from s0 to null at term 3 for updateCurrentTerm
2022-11-08 19:11:55,900 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-65D5618A404C: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s2
2022-11-08 19:11:55,900 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-65D5618A404C-FollowerState
2022-11-08 19:11:55,900 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-65D5618A404C-FollowerState
2022-11-08 19:11:55,900 [s0@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-65D5618A404C-FollowerState was interrupted
2022-11-08 19:11:55,900 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-65D5618A404C: receive requestVote(ELECTION, s2, group-65D5618A404C, 3, (t:2, i:2))
2022-11-08 19:11:55,900 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-65D5618A404C-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:55,900 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-65D5618A404C: change Leader from s0 to null at term 3 for updateCurrentTerm
2022-11-08 19:11:55,900 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-65D5618A404C: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s2
2022-11-08 19:11:55,900 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-65D5618A404C-FollowerState
2022-11-08 19:11:55,900 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-65D5618A404C-FollowerState
2022-11-08 19:11:55,900 [s1@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-65D5618A404C-FollowerState was interrupted
2022-11-08 19:11:55,901 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-65D5618A404C replies to ELECTION vote request: s2<-s0#0:OK-t3. Peer's state: s0@group-65D5618A404C:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:55,901 [s2@group-65D5618A404C-LeaderElection92] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-65D5618A404C-LeaderElection92: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:55,901 [s2@group-65D5618A404C-LeaderElection92] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t3
2022-11-08 19:11:55,901 [s2@group-65D5618A404C-LeaderElection92] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-65D5618A404C-LeaderElection92 ELECTION round 0: result PASSED
2022-11-08 19:11:55,901 [s2@group-65D5618A404C-LeaderElection92] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-65D5618A404C-LeaderElection92
2022-11-08 19:11:55,901 [s2@group-65D5618A404C-LeaderElection92] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-65D5618A404C: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2022-11-08 19:11:55,901 [s2@group-65D5618A404C-LeaderElection92] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-65D5618A404C: change Leader from null to s2 at term 3 for becomeLeader, leader elected after 5ms
2022-11-08 19:11:55,901 [s2@group-65D5618A404C-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:11:55,901 [s2@group-65D5618A404C-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:55,901 [s2@group-65D5618A404C-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:55,901 [s2@group-65D5618A404C-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:11:55,901 [s2@group-65D5618A404C-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:11:55,901 [s2@group-65D5618A404C-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:11:55,901 [s2@group-65D5618A404C-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:55,902 [s2@group-65D5618A404C-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:11:55,902 [s2@group-65D5618A404C-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:55,902 [s2@group-65D5618A404C-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:55,902 [s2@group-65D5618A404C-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:55,902 [s2@group-65D5618A404C-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:55,902 [s2@group-65D5618A404C-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:55,902 [s2@group-65D5618A404C-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:55,902 [s2@group-65D5618A404C-LeaderElection92] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-65D5618A404C-LeaderStateImpl
2022-11-08 19:11:55,902 [s2@group-65D5618A404C-LeaderElection92] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-11-08 19:11:55,902 [s2@group-65D5618A404C-LeaderElection92] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2022-11-08 19:11:55,902 [s2@group-65D5618A404C-LeaderElection92] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2022-11-08 19:11:55,903 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-65D5618A404C replies to ELECTION vote request: s2<-s1#0:OK-t3. Peer's state: s1@group-65D5618A404C:t3, leader=null, voted=s2, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:55,903 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_1-2
2022-11-08 19:11:55,903 [s2@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_1-2
2022-11-08 19:11:55,903 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 2
2022-11-08 19:11:55,903 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2022-11-08 19:11:55,907 [s2@group-65D5618A404C-LeaderElection92] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:55,907 [s2@group-65D5618A404C-LeaderElection92] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-65D5618A404C: set configuration 3: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:55,907 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-65D5618A404C: change Leader from null to s2 at term 3 for appendEntries, leader elected after 7ms
2022-11-08 19:11:55,908 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-65D5618A404C: change Leader from null to s2 at term 3 for appendEntries, leader elected after 7ms
2022-11-08 19:11:55,908 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: receive appendEntries(s2, 3, (t:2, i:2), 1, true, commits:[s2:c1, s0:c2, s1:c1], cId:2615, entries: [(t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:55,908 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-65D5618A404C: set configuration 3: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:55,908 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-11-08 19:11:55,908 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2022-11-08 19:11:55,908 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2022-11-08 19:11:55,909 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_1-2
2022-11-08 19:11:55,909 [s1@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_1-2
2022-11-08 19:11:55,910 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 2
2022-11-08 19:11:55,910 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2022-11-08 19:11:55,913 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:55,913 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-65D5618A404C: receive appendEntries(s2, 3, (t:2, i:2), 1, true, commits:[s2:c1, s0:c2, s1:c1], cId:2616, entries: [(t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:55,913 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-65D5618A404C: set configuration 3: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:55,913 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-11-08 19:11:55,913 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2022-11-08 19:11:55,913 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2022-11-08 19:11:55,913 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:55,917 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_1-2
2022-11-08 19:11:55,917 [s0@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_1-2
2022-11-08 19:11:55,917 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 2
2022-11-08 19:11:55,917 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2022-11-08 19:11:55,920 [s2@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_3
2022-11-08 19:11:55,920 [s2@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_3)
2022-11-08 19:11:55,920 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2022-11-08 19:11:55,924 [s1@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_3
2022-11-08 19:11:55,924 [s1@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_3)
2022-11-08 19:11:55,924 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2022-11-08 19:11:55,925 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s2<-s1#2615:OK-t3,SUCCESS,nextIndex=4,followerCommit=1,matchIndex=3
2022-11-08 19:11:55,925 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:55,925 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c2, conf=3: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t3, leader=s2, voted=s2, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c1, conf=3: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-65D5618A404C:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c1, conf=3: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:55,925 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s2@group-65D5618A404C not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s2@group-65D5618A404C not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:55,926 [s2@group-65D5618A404C-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2022-11-08 19:11:55,926 [s2@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_3)
2022-11-08 19:11:55,926 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2022-11-08 19:11:55,926 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: receive appendEntries(s2, 3, (t:3, i:3), 3, true, commits:[s2:c3, s0:c2, s1:c1], cId:2621, entries: [(t:3, i:4), METADATAENTRY(c:3)]
2022-11-08 19:11:55,926 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2022-11-08 19:11:55,926 [s1@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_3)
2022-11-08 19:11:55,926 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2022-11-08 19:11:55,927 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s2<-s1#2621:OK-t3,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-11-08 19:11:55,927 [s0@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_3
2022-11-08 19:11:55,928 [s0@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_3)
2022-11-08 19:11:55,928 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2022-11-08 19:11:55,928 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s2<-s0#2616:OK-t3,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-08 19:11:55,928 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-65D5618A404C: receive appendEntries(s2, 3, (t:3, i:3), 4, true, commits:[s2:c4, s0:c2, s1:c3], cId:2622, entries: [(t:3, i:4), METADATAENTRY(c:3)]
2022-11-08 19:11:55,928 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2022-11-08 19:11:55,928 [s0@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_3)
2022-11-08 19:11:55,928 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2022-11-08 19:11:55,929 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s2<-s0#2622:OK-t3,SUCCESS,nextIndex=5,followerCommit=4,matchIndex=4
2022-11-08 19:11:56,376 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t3, leader=s2, voted=s2, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-65D5618A404C:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:56,376 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s2
2022-11-08 19:11:56,376 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:56,376 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t3, leader=s2, voted=s2, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-65D5618A404C:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:56,376 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t3, leader=s2, voted=s2, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-65D5618A404C:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:56,376 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:56,476 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:56,477 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t3, leader=s2, voted=s2, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-65D5618A404C:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:56,477 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t3, leader=s2, voted=s2, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-65D5618A404C:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:56,477 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:56,510 [s0@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-65D5618A404C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:204747959ns, electionTimeout:166ms
2022-11-08 19:11:56,510 [s0@group-65D5618A404C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-65D5618A404C-FollowerState
2022-11-08 19:11:56,510 [s0@group-65D5618A404C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-65D5618A404C: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-11-08 19:11:56,510 [s0@group-65D5618A404C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:56,510 [s0@group-65D5618A404C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-65D5618A404C-LeaderElection93
2022-11-08 19:11:56,510 [s0@group-65D5618A404C-LeaderElection93] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-65D5618A404C: change Leader from s2 to null at term 3 for PRE_VOTE
2022-11-08 19:11:56,510 [s0@group-65D5618A404C-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-65D5618A404C-LeaderElection93 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:56,511 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-65D5618A404C: receive requestVote(PRE_VOTE, s0, group-65D5618A404C, 3, (t:3, i:4))
2022-11-08 19:11:56,511 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-65D5618A404C-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:56,511 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-65D5618A404C: receive requestVote(PRE_VOTE, s0, group-65D5618A404C, 3, (t:3, i:4))
2022-11-08 19:11:56,511 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-65D5618A404C replies to PRE_VOTE vote request: s0<-s1#0:OK-t3. Peer's state: s1@group-65D5618A404C:t3, leader=s2, voted=s2, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:56,511 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-65D5618A404C-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:56,511 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-65D5618A404C replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t3. Peer's state: s2@group-65D5618A404C:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:56,511 [s0@group-65D5618A404C-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-65D5618A404C-LeaderElection93: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:56,511 [s0@group-65D5618A404C-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t3
2022-11-08 19:11:56,511 [s0@group-65D5618A404C-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-65D5618A404C-LeaderElection93 PRE_VOTE round 0: result PASSED
2022-11-08 19:11:56,512 [s0@group-65D5618A404C-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-65D5618A404C-LeaderElection93 ELECTION round 0: submit vote requests at term 4 for 3: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:56,512 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-65D5618A404C: receive requestVote(ELECTION, s0, group-65D5618A404C, 4, (t:3, i:4))
2022-11-08 19:11:56,512 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-65D5618A404C-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:56,512 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-65D5618A404C: receive requestVote(ELECTION, s0, group-65D5618A404C, 4, (t:3, i:4))
2022-11-08 19:11:56,512 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-65D5618A404C-LEADER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:56,512 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-65D5618A404C: change Leader from s2 to null at term 4 for updateCurrentTerm
2022-11-08 19:11:56,512 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-65D5618A404C: changes role from    LEADER to FOLLOWER at term 4 for candidate:s0
2022-11-08 19:11:56,512 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-65D5618A404C-LeaderStateImpl
2022-11-08 19:11:56,512 [HandlerDaemon-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-65D5618A404C-PendingRequests: sendNotLeaderResponses
2022-11-08 19:11:56,513 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-65D5618A404C-FollowerState
2022-11-08 19:11:56,513 [s2@group-65D5618A404C->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-65D5618A404C->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-08 19:11:56,513 [s2@group-65D5618A404C->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-65D5618A404C->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-08 19:11:56,514 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-65D5618A404C replies to ELECTION vote request: s0<-s2#0:OK-t4. Peer's state: s2@group-65D5618A404C:t4, leader=null, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:56,514 [s0@group-65D5618A404C-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-65D5618A404C-LeaderElection93: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:56,514 [s0@group-65D5618A404C-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t4
2022-11-08 19:11:56,514 [s0@group-65D5618A404C-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-65D5618A404C-LeaderElection93 ELECTION round 0: result PASSED
2022-11-08 19:11:56,514 [s0@group-65D5618A404C-LeaderElection93] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-65D5618A404C-LeaderElection93
2022-11-08 19:11:56,514 [s0@group-65D5618A404C-LeaderElection93] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-65D5618A404C: changes role from CANDIDATE to LEADER at term 4 for changeToLeader
2022-11-08 19:11:56,514 [s0@group-65D5618A404C-LeaderElection93] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-65D5618A404C: change Leader from null to s0 at term 4 for becomeLeader, leader elected after 3ms
2022-11-08 19:11:56,514 [s0@group-65D5618A404C-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:11:56,514 [s0@group-65D5618A404C-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:56,514 [s0@group-65D5618A404C-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:56,514 [s0@group-65D5618A404C-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:11:56,514 [s0@group-65D5618A404C-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:11:56,514 [s0@group-65D5618A404C-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:11:56,514 [s0@group-65D5618A404C-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:56,514 [s0@group-65D5618A404C-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:11:56,514 [s0@group-65D5618A404C-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:56,514 [s0@group-65D5618A404C-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:56,514 [s0@group-65D5618A404C-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:56,515 [s0@group-65D5618A404C-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:56,515 [s0@group-65D5618A404C-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:56,515 [s0@group-65D5618A404C-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:56,515 [s0@group-65D5618A404C-LeaderElection93] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-65D5618A404C-LeaderStateImpl
2022-11-08 19:11:56,515 [s0@group-65D5618A404C-LeaderElection93] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2022-11-08 19:11:56,515 [s0@group-65D5618A404C-LeaderElection93] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2022-11-08 19:11:56,515 [s0@group-65D5618A404C-LeaderElection93] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2022-11-08 19:11:56,515 [s0@group-65D5618A404C-LeaderElection93] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:56,516 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_3-4
2022-11-08 19:11:56,516 [s0@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_3-4
2022-11-08 19:11:56,516 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 4
2022-11-08 19:11:56,516 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2022-11-08 19:11:56,512 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-65D5618A404C: change Leader from s2 to null at term 4 for updateCurrentTerm
2022-11-08 19:11:56,519 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-65D5618A404C: changes role from  FOLLOWER to FOLLOWER at term 4 for candidate:s0
2022-11-08 19:11:56,519 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-65D5618A404C-FollowerState
2022-11-08 19:11:56,519 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-65D5618A404C-FollowerState
2022-11-08 19:11:56,519 [s1@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-65D5618A404C-FollowerState was interrupted
2022-11-08 19:11:56,520 [s0@group-65D5618A404C-LeaderElection93] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-65D5618A404C: set configuration 5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:56,520 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-65D5618A404C: change Leader from null to s0 at term 4 for appendEntries, leader elected after 7ms
2022-11-08 19:11:56,522 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: receive appendEntries(s0, 4, (t:3, i:4), 4, true, commits:[s0:c4, s1:c4, s2:c4], cId:2679, entries: [(t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:56,523 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-65D5618A404C: set configuration 5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:56,523 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2022-11-08 19:11:56,523 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2022-11-08 19:11:56,523 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2022-11-08 19:11:56,524 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:56,524 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_3-4
2022-11-08 19:11:56,524 [s2@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_3-4
2022-11-08 19:11:56,524 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 4
2022-11-08 19:11:56,524 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2022-11-08 19:11:56,523 [s0@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_5
2022-11-08 19:11:56,524 [s0@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_5)
2022-11-08 19:11:56,525 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2022-11-08 19:11:56,523 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-65D5618A404C replies to ELECTION vote request: s0<-s1#0:OK-t4. Peer's state: s1@group-65D5618A404C:t4, leader=null, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:56,527 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-65D5618A404C: change Leader from null to s0 at term 4 for appendEntries, leader elected after 15ms
2022-11-08 19:11:56,528 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: receive appendEntries(s0, 4, (t:3, i:4), 4, true, commits:[s0:c4, s1:c4, s2:c4], cId:2684, entries: [(t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:56,528 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-65D5618A404C: set configuration 5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:56,528 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2022-11-08 19:11:56,528 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2022-11-08 19:11:56,528 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2022-11-08 19:11:56,528 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:56,530 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_3-4
2022-11-08 19:11:56,530 [s1@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_3-4
2022-11-08 19:11:56,530 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 4
2022-11-08 19:11:56,530 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2022-11-08 19:11:56,531 [s2@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_5
2022-11-08 19:11:56,532 [s2@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_5)
2022-11-08 19:11:56,532 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2022-11-08 19:11:56,532 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s0<-s2#2679:OK-t4,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2022-11-08 19:11:56,532 [s0@group-65D5618A404C-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2022-11-08 19:11:56,532 [s0@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_5)
2022-11-08 19:11:56,533 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2022-11-08 19:11:56,533 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: receive appendEntries(s0, 4, (t:4, i:5), 5, true, commits:[s0:c5, s1:c4, s2:c4], cId:2685, entries: [(t:4, i:6), METADATAENTRY(c:5)]
2022-11-08 19:11:56,533 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2022-11-08 19:11:56,534 [s2@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_5)
2022-11-08 19:11:56,537 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2022-11-08 19:11:56,537 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s0<-s2#2685:OK-t4,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-08 19:11:56,538 [s1@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_5
2022-11-08 19:11:56,538 [s1@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_5)
2022-11-08 19:11:56,538 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2022-11-08 19:11:56,538 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s0<-s1#2684:OK-t4,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2022-11-08 19:11:56,538 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: receive appendEntries(s0, 4, (t:4, i:5), 6, true, commits:[s0:c6, s1:c4, s2:c5], cId:2686, entries: [(t:4, i:6), METADATAENTRY(c:5)]
2022-11-08 19:11:56,539 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2022-11-08 19:11:56,539 [s1@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_5)
2022-11-08 19:11:56,539 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2022-11-08 19:11:56,539 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s0<-s1#2686:OK-t4,SUCCESS,nextIndex=7,followerCommit=6,matchIndex=6
2022-11-08 19:11:56,577 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:56,577 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:56,578 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:56,578 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s0
2022-11-08 19:11:56,578 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:56,578 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:56,578 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:56,578 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:56,678 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:56,678 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:56,678 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:56,679 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:56,779 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:56,779 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:56,779 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:56,779 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:56,880 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:56,881 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:56,881 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:56,881 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:56,972 [s2@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-65D5618A404C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:434106816ns, electionTimeout:180ms
2022-11-08 19:11:56,972 [s2@group-65D5618A404C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-65D5618A404C-FollowerState
2022-11-08 19:11:56,972 [s2@group-65D5618A404C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-65D5618A404C: changes role from  FOLLOWER to CANDIDATE at term 4 for changeToCandidate
2022-11-08 19:11:56,972 [s2@group-65D5618A404C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:56,972 [s2@group-65D5618A404C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-65D5618A404C-LeaderElection94
2022-11-08 19:11:56,972 [s2@group-65D5618A404C-LeaderElection94] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-65D5618A404C: change Leader from s0 to null at term 4 for PRE_VOTE
2022-11-08 19:11:56,972 [s2@group-65D5618A404C-LeaderElection94] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-65D5618A404C-LeaderElection94 PRE_VOTE round 0: submit vote requests at term 4 for 5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:56,972 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-65D5618A404C: receive requestVote(PRE_VOTE, s2, group-65D5618A404C, 4, (t:4, i:6))
2022-11-08 19:11:56,972 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-65D5618A404C: receive requestVote(PRE_VOTE, s2, group-65D5618A404C, 4, (t:4, i:6))
2022-11-08 19:11:56,973 [HandlerDaemon-1] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1063)) - s0@group-65D5618A404C-LeaderStateImpl: Lost leadership on term: 4. Election timeout: 300ms. In charge for: 458ms. Conf: 5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:56,973 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-65D5618A404C-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:56,973 [HandlerDaemon-1] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s0@group-65D5618A404C->s1(c6,m6,n7, attendVote=true, lastRpcSendTime=358, lastRpcResponseTime=433)
2022-11-08 19:11:56,973 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-65D5618A404C replies to PRE_VOTE vote request: s2<-s1#0:OK-t4. Peer's state: s1@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:56,973 [HandlerDaemon-1] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s0@group-65D5618A404C->s2(c5,m6,n7, attendVote=true, lastRpcSendTime=359, lastRpcResponseTime=435)
2022-11-08 19:11:56,973 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-65D5618A404C: changes role from    LEADER to FOLLOWER at term 4 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-11-08 19:11:56,973 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-65D5618A404C-LeaderStateImpl
2022-11-08 19:11:56,973 [HandlerDaemon-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-65D5618A404C-PendingRequests: sendNotLeaderResponses
2022-11-08 19:11:56,973 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-65D5618A404C-FollowerState
2022-11-08 19:11:56,973 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-65D5618A404C-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s0
2022-11-08 19:11:56,973 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-65D5618A404C replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t4. Peer's state: s0@group-65D5618A404C:t4, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:56,974 [s0@group-65D5618A404C->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-65D5618A404C->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-08 19:11:56,974 [s0@group-65D5618A404C->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-65D5618A404C->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-08 19:11:56,974 [s2@group-65D5618A404C-LeaderElection94] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-65D5618A404C-LeaderElection94: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:56,974 [s2@group-65D5618A404C-LeaderElection94] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:FAIL-t4
2022-11-08 19:11:56,974 [s2@group-65D5618A404C-LeaderElection94] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s1#0:OK-t4
2022-11-08 19:11:56,974 [s2@group-65D5618A404C-LeaderElection94] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-65D5618A404C-LeaderElection94 PRE_VOTE round 0: result PASSED
2022-11-08 19:11:56,976 [s2@group-65D5618A404C-LeaderElection94] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-65D5618A404C-LeaderElection94 ELECTION round 0: submit vote requests at term 5 for 5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:56,977 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-65D5618A404C: receive requestVote(ELECTION, s2, group-65D5618A404C, 5, (t:4, i:6))
2022-11-08 19:11:56,978 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-65D5618A404C-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:56,978 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-65D5618A404C: change Leader from s0 to null at term 5 for updateCurrentTerm
2022-11-08 19:11:56,978 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-65D5618A404C: changes role from  FOLLOWER to FOLLOWER at term 5 for candidate:s2
2022-11-08 19:11:56,978 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-65D5618A404C-FollowerState
2022-11-08 19:11:56,978 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-65D5618A404C-FollowerState
2022-11-08 19:11:56,978 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-65D5618A404C: receive requestVote(ELECTION, s2, group-65D5618A404C, 5, (t:4, i:6))
2022-11-08 19:11:56,978 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-65D5618A404C-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:56,978 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-65D5618A404C: change Leader from s0 to null at term 5 for updateCurrentTerm
2022-11-08 19:11:56,978 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-65D5618A404C: changes role from  FOLLOWER to FOLLOWER at term 5 for candidate:s2
2022-11-08 19:11:56,978 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-65D5618A404C-FollowerState
2022-11-08 19:11:56,978 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-65D5618A404C-FollowerState
2022-11-08 19:11:56,978 [s1@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-65D5618A404C-FollowerState was interrupted
2022-11-08 19:11:56,978 [s0@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-65D5618A404C-FollowerState was interrupted
2022-11-08 19:11:56,979 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-65D5618A404C replies to ELECTION vote request: s2<-s0#0:OK-t5. Peer's state: s0@group-65D5618A404C:t5, leader=null, voted=s2, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:56,979 [s2@group-65D5618A404C-LeaderElection94] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-65D5618A404C-LeaderElection94: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:56,979 [s2@group-65D5618A404C-LeaderElection94] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t5
2022-11-08 19:11:56,979 [s2@group-65D5618A404C-LeaderElection94] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-65D5618A404C-LeaderElection94 ELECTION round 0: result PASSED
2022-11-08 19:11:56,979 [s2@group-65D5618A404C-LeaderElection94] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-65D5618A404C-LeaderElection94
2022-11-08 19:11:56,979 [s2@group-65D5618A404C-LeaderElection94] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-65D5618A404C: changes role from CANDIDATE to LEADER at term 5 for changeToLeader
2022-11-08 19:11:56,979 [s2@group-65D5618A404C-LeaderElection94] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-65D5618A404C: change Leader from null to s2 at term 5 for becomeLeader, leader elected after 7ms
2022-11-08 19:11:56,979 [s2@group-65D5618A404C-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:11:56,979 [s2@group-65D5618A404C-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:56,979 [s2@group-65D5618A404C-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:56,980 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-65D5618A404C replies to ELECTION vote request: s2<-s1#0:OK-t5. Peer's state: s1@group-65D5618A404C:t5, leader=null, voted=s2, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:56,980 [s2@group-65D5618A404C-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:11:56,980 [s2@group-65D5618A404C-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:11:56,980 [s2@group-65D5618A404C-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:11:56,980 [s2@group-65D5618A404C-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:56,980 [s2@group-65D5618A404C-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:11:56,980 [s2@group-65D5618A404C-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:56,980 [s2@group-65D5618A404C-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:56,980 [s2@group-65D5618A404C-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:56,980 [s2@group-65D5618A404C-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:56,980 [s2@group-65D5618A404C-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:56,980 [s2@group-65D5618A404C-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:56,981 [s2@group-65D5618A404C-LeaderElection94] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-65D5618A404C-LeaderStateImpl
2022-11-08 19:11:56,981 [s2@group-65D5618A404C-LeaderElection94] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2022-11-08 19:11:56,981 [s2@group-65D5618A404C-LeaderElection94] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2022-11-08 19:11:56,981 [s2@group-65D5618A404C-LeaderElection94] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2022-11-08 19:11:56,981 [s2@group-65D5618A404C-LeaderElection94] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:56,981 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:56,981 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t5, leader=null, voted=s2, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t5, leader=null, voted=s2, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-65D5618A404C:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:56,981 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s2@group-65D5618A404C not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s2@group-65D5618A404C not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:56,982 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_5-6
2022-11-08 19:11:56,982 [s2@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_5-6
2022-11-08 19:11:56,982 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 6
2022-11-08 19:11:56,982 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2022-11-08 19:11:56,985 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-65D5618A404C: change Leader from null to s2 at term 5 for appendEntries, leader elected after 7ms
2022-11-08 19:11:56,986 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-65D5618A404C: receive appendEntries(s2, 5, (t:4, i:6), 5, true, commits:[s2:c5, s0:c6, s1:c4], cId:2717, entries: [(t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:56,986 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-65D5618A404C: set configuration 7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:56,986 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2022-11-08 19:11:56,986 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2022-11-08 19:11:56,986 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2022-11-08 19:11:56,986 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:56,986 [s2@group-65D5618A404C-LeaderElection94] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-65D5618A404C: set configuration 7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:56,986 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-65D5618A404C: change Leader from null to s2 at term 5 for appendEntries, leader elected after 8ms
2022-11-08 19:11:56,987 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_5-6
2022-11-08 19:11:56,987 [s0@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_5-6
2022-11-08 19:11:56,987 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 6
2022-11-08 19:11:56,987 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2022-11-08 19:11:56,991 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: receive appendEntries(s2, 5, (t:4, i:6), 5, true, commits:[s2:c5, s0:c6, s1:c6], cId:2720, entries: [(t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:56,991 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-65D5618A404C: set configuration 7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:56,991 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2022-11-08 19:11:56,991 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2022-11-08 19:11:56,991 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2022-11-08 19:11:56,991 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:56,994 [s2@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_7
2022-11-08 19:11:56,994 [s2@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_7)
2022-11-08 19:11:56,994 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2022-11-08 19:11:56,995 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_5-6
2022-11-08 19:11:56,995 [s1@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_5-6
2022-11-08 19:11:56,995 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 6
2022-11-08 19:11:56,995 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2022-11-08 19:11:57,002 [s0@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_7
2022-11-08 19:11:57,002 [s0@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_7)
2022-11-08 19:11:57,002 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2022-11-08 19:11:57,002 [s1@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_7
2022-11-08 19:11:57,002 [s1@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_7)
2022-11-08 19:11:57,003 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s2<-s0#2717:OK-t5,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2022-11-08 19:11:57,003 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2022-11-08 19:11:57,003 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s2<-s1#2720:OK-t5,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2022-11-08 19:11:57,003 [s2@group-65D5618A404C-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2022-11-08 19:11:57,003 [s2@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_7)
2022-11-08 19:11:57,004 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-65D5618A404C: receive appendEntries(s2, 5, (t:5, i:7), 7, true, commits:[s2:c7, s0:c6, s1:c6], cId:2721, entries: [(t:5, i:8), METADATAENTRY(c:7)]
2022-11-08 19:11:57,004 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2022-11-08 19:11:57,004 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: receive appendEntries(s2, 5, (t:5, i:7), 7, true, commits:[s2:c7, s0:c6, s1:c6], cId:2722, entries: [(t:5, i:8), METADATAENTRY(c:7)]
2022-11-08 19:11:57,004 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2022-11-08 19:11:57,010 [s1@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_7)
2022-11-08 19:11:57,010 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2022-11-08 19:11:57,010 [s0@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_7)
2022-11-08 19:11:57,010 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2022-11-08 19:11:57,010 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s2<-s1#2722:OK-t5,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2022-11-08 19:11:57,011 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2022-11-08 19:11:57,012 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s2<-s0#2721:OK-t5,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2022-11-08 19:11:57,432 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-65D5618A404C:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:57,432 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s2
2022-11-08 19:11:57,432 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:57,432 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-65D5618A404C:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:57,432 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-65D5618A404C:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:57,432 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:57,532 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:57,532 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-65D5618A404C:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:57,533 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-65D5618A404C:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:57,533 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:57,633 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:57,633 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-65D5618A404C:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:57,633 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-65D5618A404C:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:57,633 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:57,661 [s0@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-65D5618A404C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:272617848ns, electionTimeout:151ms
2022-11-08 19:11:57,662 [s0@group-65D5618A404C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-65D5618A404C-FollowerState
2022-11-08 19:11:57,662 [s0@group-65D5618A404C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-65D5618A404C: changes role from  FOLLOWER to CANDIDATE at term 5 for changeToCandidate
2022-11-08 19:11:57,662 [s0@group-65D5618A404C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:57,662 [s0@group-65D5618A404C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-65D5618A404C-LeaderElection95
2022-11-08 19:11:57,662 [s0@group-65D5618A404C-LeaderElection95] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-65D5618A404C: change Leader from s2 to null at term 5 for PRE_VOTE
2022-11-08 19:11:57,662 [s0@group-65D5618A404C-LeaderElection95] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-65D5618A404C-LeaderElection95 PRE_VOTE round 0: submit vote requests at term 5 for 7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:57,662 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-65D5618A404C: receive requestVote(PRE_VOTE, s0, group-65D5618A404C, 5, (t:5, i:8))
2022-11-08 19:11:57,662 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-65D5618A404C-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:57,662 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-65D5618A404C: receive requestVote(PRE_VOTE, s0, group-65D5618A404C, 5, (t:5, i:8))
2022-11-08 19:11:57,662 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-65D5618A404C replies to PRE_VOTE vote request: s0<-s1#0:OK-t5. Peer's state: s1@group-65D5618A404C:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:57,662 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-65D5618A404C-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-11-08 19:11:57,663 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-65D5618A404C replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t5. Peer's state: s2@group-65D5618A404C:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:57,663 [s0@group-65D5618A404C-LeaderElection95] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-65D5618A404C-LeaderElection95: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:57,663 [s0@group-65D5618A404C-LeaderElection95] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t5
2022-11-08 19:11:57,663 [s0@group-65D5618A404C-LeaderElection95] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-65D5618A404C-LeaderElection95 PRE_VOTE round 0: result PASSED
2022-11-08 19:11:57,664 [s0@group-65D5618A404C-LeaderElection95] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-65D5618A404C-LeaderElection95 ELECTION round 0: submit vote requests at term 6 for 7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:57,664 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-65D5618A404C: receive requestVote(ELECTION, s0, group-65D5618A404C, 6, (t:5, i:8))
2022-11-08 19:11:57,664 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-65D5618A404C-LEADER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:57,664 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-65D5618A404C: change Leader from s2 to null at term 6 for updateCurrentTerm
2022-11-08 19:11:57,664 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-65D5618A404C: changes role from    LEADER to FOLLOWER at term 6 for candidate:s0
2022-11-08 19:11:57,664 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-65D5618A404C-LeaderStateImpl
2022-11-08 19:11:57,665 [HandlerDaemon-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-65D5618A404C-PendingRequests: sendNotLeaderResponses
2022-11-08 19:11:57,665 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-65D5618A404C-FollowerState
2022-11-08 19:11:57,665 [s2@group-65D5618A404C->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-65D5618A404C->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-08 19:11:57,665 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-65D5618A404C: receive requestVote(ELECTION, s0, group-65D5618A404C, 6, (t:5, i:8))
2022-11-08 19:11:57,665 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-65D5618A404C-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:57,665 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-65D5618A404C: change Leader from s2 to null at term 6 for updateCurrentTerm
2022-11-08 19:11:57,665 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-65D5618A404C: changes role from  FOLLOWER to FOLLOWER at term 6 for candidate:s0
2022-11-08 19:11:57,665 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-65D5618A404C-FollowerState
2022-11-08 19:11:57,666 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-65D5618A404C-FollowerState
2022-11-08 19:11:57,666 [s1@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-65D5618A404C-FollowerState was interrupted
2022-11-08 19:11:57,666 [s2@group-65D5618A404C->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-65D5618A404C->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-08 19:11:57,669 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-65D5618A404C replies to ELECTION vote request: s0<-s2#0:OK-t6. Peer's state: s2@group-65D5618A404C:t6, leader=null, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:57,669 [s0@group-65D5618A404C-LeaderElection95] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-65D5618A404C-LeaderElection95: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:57,669 [s0@group-65D5618A404C-LeaderElection95] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t6
2022-11-08 19:11:57,669 [s0@group-65D5618A404C-LeaderElection95] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-65D5618A404C-LeaderElection95 ELECTION round 0: result PASSED
2022-11-08 19:11:57,669 [s0@group-65D5618A404C-LeaderElection95] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-65D5618A404C-LeaderElection95
2022-11-08 19:11:57,669 [s0@group-65D5618A404C-LeaderElection95] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-65D5618A404C: changes role from CANDIDATE to LEADER at term 6 for changeToLeader
2022-11-08 19:11:57,669 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-65D5618A404C replies to ELECTION vote request: s0<-s1#0:OK-t6. Peer's state: s1@group-65D5618A404C:t6, leader=null, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:57,669 [s0@group-65D5618A404C-LeaderElection95] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-65D5618A404C: change Leader from null to s0 at term 6 for becomeLeader, leader elected after 6ms
2022-11-08 19:11:57,669 [s0@group-65D5618A404C-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:11:57,669 [s0@group-65D5618A404C-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:57,669 [s0@group-65D5618A404C-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:57,669 [s0@group-65D5618A404C-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:11:57,669 [s0@group-65D5618A404C-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:11:57,669 [s0@group-65D5618A404C-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:11:57,669 [s0@group-65D5618A404C-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:57,669 [s0@group-65D5618A404C-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:11:57,669 [s0@group-65D5618A404C-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:57,670 [s0@group-65D5618A404C-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:57,670 [s0@group-65D5618A404C-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:57,670 [s0@group-65D5618A404C-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:57,670 [s0@group-65D5618A404C-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:57,670 [s0@group-65D5618A404C-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:57,670 [s0@group-65D5618A404C-LeaderElection95] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-65D5618A404C-LeaderStateImpl
2022-11-08 19:11:57,670 [s0@group-65D5618A404C-LeaderElection95] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2022-11-08 19:11:57,670 [s0@group-65D5618A404C-LeaderElection95] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2022-11-08 19:11:57,670 [s0@group-65D5618A404C-LeaderElection95] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2022-11-08 19:11:57,670 [s0@group-65D5618A404C-LeaderElection95] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:57,671 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_7-8
2022-11-08 19:11:57,671 [s0@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_7-8
2022-11-08 19:11:57,671 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 8
2022-11-08 19:11:57,671 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2022-11-08 19:11:57,675 [s0@group-65D5618A404C-LeaderElection95] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-65D5618A404C: set configuration 9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:57,675 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-65D5618A404C: change Leader from null to s0 at term 6 for appendEntries, leader elected after 10ms
2022-11-08 19:11:57,675 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-65D5618A404C: change Leader from null to s0 at term 6 for appendEntries, leader elected after 9ms
2022-11-08 19:11:57,679 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: receive appendEntries(s0, 6, (t:5, i:8), 8, true, commits:[s0:c8, s1:c8, s2:c8], cId:2787, entries: [(t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:57,679 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: receive appendEntries(s0, 6, (t:5, i:8), 8, true, commits:[s0:c8, s1:c8, s2:c8], cId:2788, entries: [(t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:57,679 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-65D5618A404C: set configuration 9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:57,679 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2022-11-08 19:11:57,679 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2022-11-08 19:11:57,679 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2022-11-08 19:11:57,680 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:57,680 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_7-8
2022-11-08 19:11:57,680 [s2@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_7-8
2022-11-08 19:11:57,680 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 8
2022-11-08 19:11:57,680 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2022-11-08 19:11:57,679 [s0@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_9
2022-11-08 19:11:57,684 [s0@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_9)
2022-11-08 19:11:57,679 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-65D5618A404C: set configuration 9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:57,684 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2022-11-08 19:11:57,684 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2022-11-08 19:11:57,684 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2022-11-08 19:11:57,684 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:57,685 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_7-8
2022-11-08 19:11:57,685 [s1@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_7-8
2022-11-08 19:11:57,685 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 8
2022-11-08 19:11:57,685 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2022-11-08 19:11:57,686 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2022-11-08 19:11:57,692 [s2@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_9
2022-11-08 19:11:57,693 [s2@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_9)
2022-11-08 19:11:57,693 [s1@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_9
2022-11-08 19:11:57,693 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2022-11-08 19:11:57,693 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s0<-s2#2788:OK-t6,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2022-11-08 19:11:57,693 [s1@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_9)
2022-11-08 19:11:57,693 [s0@group-65D5618A404C-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2022-11-08 19:11:57,693 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2022-11-08 19:11:57,693 [s0@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_9)
2022-11-08 19:11:57,693 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s0<-s1#2787:OK-t6,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2022-11-08 19:11:57,693 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2022-11-08 19:11:57,694 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: receive appendEntries(s0, 6, (t:6, i:9), 9, true, commits:[s0:c9, s1:c8, s2:c8], cId:2790, entries: [(t:6, i:10), METADATAENTRY(c:9)]
2022-11-08 19:11:57,694 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2022-11-08 19:11:57,694 [s2@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_9)
2022-11-08 19:11:57,694 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: receive appendEntries(s0, 6, (t:6, i:9), 9, true, commits:[s0:c9, s1:c8, s2:c8], cId:2789, entries: [(t:6, i:10), METADATAENTRY(c:9)]
2022-11-08 19:11:57,694 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2022-11-08 19:11:57,694 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2022-11-08 19:11:57,694 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s0<-s2#2790:OK-t6,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2022-11-08 19:11:57,694 [s1@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_9)
2022-11-08 19:11:57,694 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2022-11-08 19:11:57,695 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s0<-s1#2789:OK-t6,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2022-11-08 19:11:57,733 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:57,734 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:57,734 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:57,734 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s0
2022-11-08 19:11:57,734 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:57,734 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:57,734 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:57,734 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:57,834 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:57,834 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:57,835 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:57,835 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:57,935 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:57,935 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:57,935 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:57,935 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:58,035 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:58,036 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:58,036 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:58,036 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:58,136 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:58,136 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:58,136 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:58,136 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #5/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:58,142 [s1@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-65D5618A404C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:447731816ns, electionTimeout:261ms
2022-11-08 19:11:58,142 [s1@group-65D5618A404C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-65D5618A404C-FollowerState
2022-11-08 19:11:58,142 [s1@group-65D5618A404C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-65D5618A404C: changes role from  FOLLOWER to CANDIDATE at term 6 for changeToCandidate
2022-11-08 19:11:58,142 [s1@group-65D5618A404C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:58,142 [s1@group-65D5618A404C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-65D5618A404C-LeaderElection96
2022-11-08 19:11:58,143 [s1@group-65D5618A404C-LeaderElection96] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-65D5618A404C: change Leader from s0 to null at term 6 for PRE_VOTE
2022-11-08 19:11:58,143 [s1@group-65D5618A404C-LeaderElection96] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-65D5618A404C-LeaderElection96 PRE_VOTE round 0: submit vote requests at term 6 for 9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:58,143 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-65D5618A404C: receive requestVote(PRE_VOTE, s1, group-65D5618A404C, 6, (t:6, i:10))
2022-11-08 19:11:58,143 [HandlerDaemon-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1063)) - s0@group-65D5618A404C-LeaderStateImpl: Lost leadership on term: 6. Election timeout: 300ms. In charge for: 474ms. Conf: 9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:58,143 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-65D5618A404C: receive requestVote(PRE_VOTE, s1, group-65D5618A404C, 6, (t:6, i:10))
2022-11-08 19:11:58,143 [HandlerDaemon-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s0@group-65D5618A404C->s1(c9,m10,n11, attendVote=true, lastRpcSendTime=373, lastRpcResponseTime=448)
2022-11-08 19:11:58,143 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-65D5618A404C-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:58,143 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-65D5618A404C replies to PRE_VOTE vote request: s1<-s2#0:OK-t6. Peer's state: s2@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:58,143 [HandlerDaemon-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s0@group-65D5618A404C->s2(c9,m10,n11, attendVote=true, lastRpcSendTime=373, lastRpcResponseTime=448)
2022-11-08 19:11:58,144 [s1@group-65D5618A404C-LeaderElection96] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-65D5618A404C-LeaderElection96: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:58,144 [s1@group-65D5618A404C-LeaderElection96] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t6
2022-11-08 19:11:58,144 [s1@group-65D5618A404C-LeaderElection96] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-65D5618A404C-LeaderElection96 PRE_VOTE round 0: result PASSED
2022-11-08 19:11:58,144 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-65D5618A404C: changes role from    LEADER to FOLLOWER at term 6 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-11-08 19:11:58,144 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-65D5618A404C-LeaderStateImpl
2022-11-08 19:11:58,144 [s0@group-65D5618A404C->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-65D5618A404C->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-08 19:11:58,144 [s0@group-65D5618A404C->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-65D5618A404C->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-08 19:11:58,144 [HandlerDaemon-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-65D5618A404C-PendingRequests: sendNotLeaderResponses
2022-11-08 19:11:58,145 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-65D5618A404C-FollowerState
2022-11-08 19:11:58,145 [s1@group-65D5618A404C-LeaderElection96] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-65D5618A404C-LeaderElection96 ELECTION round 0: submit vote requests at term 7 for 9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:58,145 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-65D5618A404C-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-11-08 19:11:58,145 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-65D5618A404C replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t6. Peer's state: s0@group-65D5618A404C:t6, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:58,145 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-65D5618A404C: receive requestVote(ELECTION, s1, group-65D5618A404C, 7, (t:6, i:10))
2022-11-08 19:11:58,145 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-65D5618A404C: receive requestVote(ELECTION, s1, group-65D5618A404C, 7, (t:6, i:10))
2022-11-08 19:11:58,145 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-65D5618A404C-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:58,145 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-65D5618A404C-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:58,145 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-65D5618A404C: change Leader from s0 to null at term 7 for updateCurrentTerm
2022-11-08 19:11:58,145 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-65D5618A404C: changes role from  FOLLOWER to FOLLOWER at term 7 for candidate:s1
2022-11-08 19:11:58,145 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-65D5618A404C-FollowerState
2022-11-08 19:11:58,145 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-65D5618A404C: change Leader from s0 to null at term 7 for updateCurrentTerm
2022-11-08 19:11:58,145 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-65D5618A404C: changes role from  FOLLOWER to FOLLOWER at term 7 for candidate:s1
2022-11-08 19:11:58,145 [s2@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-65D5618A404C-FollowerState was interrupted
2022-11-08 19:11:58,145 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-65D5618A404C-FollowerState
2022-11-08 19:11:58,145 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-65D5618A404C-FollowerState
2022-11-08 19:11:58,146 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-65D5618A404C-FollowerState
2022-11-08 19:11:58,146 [s0@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-65D5618A404C-FollowerState was interrupted
2022-11-08 19:11:58,146 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-65D5618A404C replies to ELECTION vote request: s1<-s2#0:OK-t7. Peer's state: s2@group-65D5618A404C:t7, leader=null, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:58,146 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-65D5618A404C replies to ELECTION vote request: s1<-s0#0:OK-t7. Peer's state: s0@group-65D5618A404C:t7, leader=null, voted=s1, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:58,147 [s1@group-65D5618A404C-LeaderElection96] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-65D5618A404C-LeaderElection96: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:58,147 [s1@group-65D5618A404C-LeaderElection96] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t7
2022-11-08 19:11:58,147 [s1@group-65D5618A404C-LeaderElection96] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-65D5618A404C-LeaderElection96 ELECTION round 0: result PASSED
2022-11-08 19:11:58,147 [s1@group-65D5618A404C-LeaderElection96] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-65D5618A404C-LeaderElection96
2022-11-08 19:11:58,147 [s1@group-65D5618A404C-LeaderElection96] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-65D5618A404C: changes role from CANDIDATE to LEADER at term 7 for changeToLeader
2022-11-08 19:11:58,147 [s1@group-65D5618A404C-LeaderElection96] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-65D5618A404C: change Leader from null to s1 at term 7 for becomeLeader, leader elected after 4ms
2022-11-08 19:11:58,147 [s1@group-65D5618A404C-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:11:58,147 [s1@group-65D5618A404C-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:58,147 [s1@group-65D5618A404C-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:58,147 [s1@group-65D5618A404C-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:11:58,147 [s1@group-65D5618A404C-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:11:58,147 [s1@group-65D5618A404C-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:11:58,147 [s1@group-65D5618A404C-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:58,147 [s1@group-65D5618A404C-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:11:58,147 [s1@group-65D5618A404C-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:58,147 [s1@group-65D5618A404C-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:58,147 [s1@group-65D5618A404C-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:58,148 [s1@group-65D5618A404C-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:58,148 [s1@group-65D5618A404C-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:58,148 [s1@group-65D5618A404C-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:58,148 [s1@group-65D5618A404C-LeaderElection96] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-65D5618A404C-LeaderStateImpl
2022-11-08 19:11:58,148 [s1@group-65D5618A404C-LeaderElection96] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2022-11-08 19:11:58,148 [s1@group-65D5618A404C-LeaderElection96] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2022-11-08 19:11:58,148 [s1@group-65D5618A404C-LeaderElection96] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2022-11-08 19:11:58,148 [s1@group-65D5618A404C-LeaderElection96] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:58,149 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_9-10
2022-11-08 19:11:58,149 [s1@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_9-10
2022-11-08 19:11:58,149 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 10
2022-11-08 19:11:58,149 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2022-11-08 19:11:58,152 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-65D5618A404C: change Leader from null to s1 at term 7 for appendEntries, leader elected after 6ms
2022-11-08 19:11:58,152 [s1@group-65D5618A404C-LeaderElection96] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-65D5618A404C: set configuration 11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:58,152 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-65D5618A404C: change Leader from null to s1 at term 7 for appendEntries, leader elected after 7ms
2022-11-08 19:11:58,153 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-65D5618A404C: receive appendEntries(s1, 7, (t:6, i:10), 9, true, commits:[s1:c9, s0:c10, s2:c8], cId:2821, entries: [(t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:58,153 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-65D5618A404C: set configuration 11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:58,153 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2022-11-08 19:11:58,153 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2022-11-08 19:11:58,153 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2022-11-08 19:11:58,153 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:58,154 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_9-10
2022-11-08 19:11:58,154 [s0@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_9-10
2022-11-08 19:11:58,154 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 10
2022-11-08 19:11:58,154 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2022-11-08 19:11:58,156 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: receive appendEntries(s1, 7, (t:6, i:10), 9, true, commits:[s1:c9, s0:c10, s2:c9], cId:2824, entries: [(t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:58,156 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-65D5618A404C: set configuration 11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:58,156 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2022-11-08 19:11:58,156 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2022-11-08 19:11:58,156 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2022-11-08 19:11:58,156 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:58,157 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_9-10
2022-11-08 19:11:58,157 [s2@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_9-10
2022-11-08 19:11:58,157 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 10
2022-11-08 19:11:58,157 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2022-11-08 19:11:58,157 [s1@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_11
2022-11-08 19:11:58,159 [s1@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_11)
2022-11-08 19:11:58,159 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2022-11-08 19:11:58,168 [s0@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_11
2022-11-08 19:11:58,168 [s0@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_11)
2022-11-08 19:11:58,169 [s2@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_11
2022-11-08 19:11:58,169 [s2@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_11)
2022-11-08 19:11:58,169 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2022-11-08 19:11:58,169 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s1<-s0#2821:OK-t7,SUCCESS,nextIndex=12,followerCommit=10,matchIndex=11
2022-11-08 19:11:58,169 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2022-11-08 19:11:58,169 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s1<-s2#2824:OK-t7,SUCCESS,nextIndex=12,followerCommit=9,matchIndex=11
2022-11-08 19:11:58,169 [s1@group-65D5618A404C-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:7, i:12), METADATAENTRY(c:11)
2022-11-08 19:11:58,169 [s1@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_11)
2022-11-08 19:11:58,170 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2022-11-08 19:11:58,170 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-65D5618A404C: receive appendEntries(s1, 7, (t:7, i:11), 11, true, commits:[s1:c11, s0:c10, s2:c9], cId:2825, entries: [(t:7, i:12), METADATAENTRY(c:11)]
2022-11-08 19:11:58,170 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: receive appendEntries(s1, 7, (t:7, i:11), 11, true, commits:[s1:c11, s0:c10, s2:c9], cId:2826, entries: [(t:7, i:12), METADATAENTRY(c:11)]
2022-11-08 19:11:58,170 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:7, i:12), METADATAENTRY(c:11)
2022-11-08 19:11:58,170 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:7, i:12), METADATAENTRY(c:11)
2022-11-08 19:11:58,171 [s2@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_11)
2022-11-08 19:11:58,171 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2022-11-08 19:11:58,171 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s1<-s2#2826:OK-t7,SUCCESS,nextIndex=13,followerCommit=11,matchIndex=12
2022-11-08 19:11:58,171 [s0@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_11)
2022-11-08 19:11:58,172 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2022-11-08 19:11:58,172 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s1<-s0#2825:OK-t7,SUCCESS,nextIndex=13,followerCommit=11,matchIndex=12
2022-11-08 19:11:58,237 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:58,237 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:58,237 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:58,237 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s1
2022-11-08 19:11:58,237 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:58,237 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:58,237 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:58,237 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:58,338 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:58,338 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:58,338 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:58,338 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:58,438 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:58,438 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:58,439 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:58,439 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:58,478 [s1@group-65D5618A404C-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1063)) - s1@group-65D5618A404C-LeaderStateImpl: Lost leadership on term: 7. Election timeout: 300ms. In charge for: 331ms. Conf: 11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:58,478 [s1@group-65D5618A404C-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s1@group-65D5618A404C->s0(c11,m12,n13, attendVote=true, lastRpcSendTime=230, lastRpcResponseTime=306)
2022-11-08 19:11:58,478 [s1@group-65D5618A404C-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s1@group-65D5618A404C->s2(c11,m12,n13, attendVote=true, lastRpcSendTime=227, lastRpcResponseTime=302)
2022-11-08 19:11:58,478 [s1@group-65D5618A404C-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-65D5618A404C: changes role from    LEADER to FOLLOWER at term 7 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-11-08 19:11:58,478 [s1@group-65D5618A404C-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-65D5618A404C-LeaderStateImpl
2022-11-08 19:11:58,478 [s1@group-65D5618A404C->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-65D5618A404C->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-08 19:11:58,479 [s1@group-65D5618A404C-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-65D5618A404C-PendingRequests: sendNotLeaderResponses
2022-11-08 19:11:58,479 [s1@group-65D5618A404C-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-65D5618A404C-FollowerState
2022-11-08 19:11:58,479 [s1@group-65D5618A404C->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-65D5618A404C->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-08 19:11:58,539 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:58,539 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:58,539 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:58,605 [s0@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-65D5618A404C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:433368818ns, electionTimeout:197ms
2022-11-08 19:11:58,605 [s0@group-65D5618A404C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-65D5618A404C-FollowerState
2022-11-08 19:11:58,605 [s0@group-65D5618A404C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-65D5618A404C: changes role from  FOLLOWER to CANDIDATE at term 7 for changeToCandidate
2022-11-08 19:11:58,605 [s0@group-65D5618A404C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:58,605 [s0@group-65D5618A404C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-65D5618A404C-LeaderElection97
2022-11-08 19:11:58,606 [s0@group-65D5618A404C-LeaderElection97] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-65D5618A404C: change Leader from s1 to null at term 7 for PRE_VOTE
2022-11-08 19:11:58,606 [s0@group-65D5618A404C-LeaderElection97] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-65D5618A404C-LeaderElection97 PRE_VOTE round 0: submit vote requests at term 7 for 11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:58,606 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-65D5618A404C: receive requestVote(PRE_VOTE, s0, group-65D5618A404C, 7, (t:7, i:12))
2022-11-08 19:11:58,606 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-65D5618A404C-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:11:58,606 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-65D5618A404C: receive requestVote(PRE_VOTE, s0, group-65D5618A404C, 7, (t:7, i:12))
2022-11-08 19:11:58,606 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-65D5618A404C replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t7. Peer's state: s1@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:58,606 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-65D5618A404C-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:58,606 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-65D5618A404C replies to PRE_VOTE vote request: s0<-s2#0:OK-t7. Peer's state: s2@group-65D5618A404C:t7, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:58,606 [s0@group-65D5618A404C-LeaderElection97] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-65D5618A404C-LeaderElection97: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:58,606 [s0@group-65D5618A404C-LeaderElection97] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t7
2022-11-08 19:11:58,606 [s0@group-65D5618A404C-LeaderElection97] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:OK-t7
2022-11-08 19:11:58,606 [s0@group-65D5618A404C-LeaderElection97] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-65D5618A404C-LeaderElection97 PRE_VOTE round 0: result PASSED
2022-11-08 19:11:58,607 [s0@group-65D5618A404C-LeaderElection97] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-65D5618A404C-LeaderElection97 ELECTION round 0: submit vote requests at term 8 for 11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:58,608 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-65D5618A404C: receive requestVote(ELECTION, s0, group-65D5618A404C, 8, (t:7, i:12))
2022-11-08 19:11:58,608 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-65D5618A404C-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:58,608 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-65D5618A404C: change Leader from s1 to null at term 8 for updateCurrentTerm
2022-11-08 19:11:58,608 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-65D5618A404C: receive requestVote(ELECTION, s0, group-65D5618A404C, 8, (t:7, i:12))
2022-11-08 19:11:58,608 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-65D5618A404C: changes role from  FOLLOWER to FOLLOWER at term 8 for candidate:s0
2022-11-08 19:11:58,608 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-65D5618A404C-FollowerState
2022-11-08 19:11:58,608 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-65D5618A404C-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:11:58,608 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-65D5618A404C: change Leader from s1 to null at term 8 for updateCurrentTerm
2022-11-08 19:11:58,608 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-65D5618A404C-FollowerState
2022-11-08 19:11:58,608 [s1@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-65D5618A404C-FollowerState was interrupted
2022-11-08 19:11:58,608 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-65D5618A404C: changes role from  FOLLOWER to FOLLOWER at term 8 for candidate:s0
2022-11-08 19:11:58,609 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-65D5618A404C-FollowerState
2022-11-08 19:11:58,609 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-65D5618A404C replies to ELECTION vote request: s0<-s1#0:OK-t8. Peer's state: s1@group-65D5618A404C:t8, leader=null, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:58,609 [s2@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-65D5618A404C-FollowerState was interrupted
2022-11-08 19:11:58,609 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-65D5618A404C-FollowerState
2022-11-08 19:11:58,610 [s0@group-65D5618A404C-LeaderElection97] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-65D5618A404C-LeaderElection97: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:58,610 [s0@group-65D5618A404C-LeaderElection97] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t8
2022-11-08 19:11:58,610 [s0@group-65D5618A404C-LeaderElection97] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-65D5618A404C-LeaderElection97 ELECTION round 0: result PASSED
2022-11-08 19:11:58,610 [s0@group-65D5618A404C-LeaderElection97] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-65D5618A404C-LeaderElection97
2022-11-08 19:11:58,610 [s0@group-65D5618A404C-LeaderElection97] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-65D5618A404C: changes role from CANDIDATE to LEADER at term 8 for changeToLeader
2022-11-08 19:11:58,610 [s0@group-65D5618A404C-LeaderElection97] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-65D5618A404C: change Leader from null to s0 at term 8 for becomeLeader, leader elected after 4ms
2022-11-08 19:11:58,610 [s0@group-65D5618A404C-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:11:58,610 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-65D5618A404C replies to ELECTION vote request: s0<-s2#0:OK-t8. Peer's state: s2@group-65D5618A404C:t8, leader=null, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:58,610 [s0@group-65D5618A404C-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:58,610 [s0@group-65D5618A404C-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:58,610 [s0@group-65D5618A404C-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:11:58,610 [s0@group-65D5618A404C-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:11:58,610 [s0@group-65D5618A404C-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:11:58,611 [s0@group-65D5618A404C-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:58,611 [s0@group-65D5618A404C-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:11:58,611 [s0@group-65D5618A404C-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:58,611 [s0@group-65D5618A404C-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:58,611 [s0@group-65D5618A404C-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:58,611 [s0@group-65D5618A404C-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:58,611 [s0@group-65D5618A404C-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:58,611 [s0@group-65D5618A404C-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:58,611 [s0@group-65D5618A404C-LeaderElection97] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-65D5618A404C-LeaderStateImpl
2022-11-08 19:11:58,611 [s0@group-65D5618A404C-LeaderElection97] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-11_12 to index:12
2022-11-08 19:11:58,611 [s0@group-65D5618A404C-LeaderElection97] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:12: startIndex=11 endIndex=12
2022-11-08 19:11:58,611 [s0@group-65D5618A404C-LeaderElection97] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:13
2022-11-08 19:11:58,612 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_11-12
2022-11-08 19:11:58,612 [s0@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_11-12
2022-11-08 19:11:58,612 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 12
2022-11-08 19:11:58,612 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=10, new=12, updated? true
2022-11-08 19:11:58,617 [s0@group-65D5618A404C-LeaderElection97] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:58,617 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-65D5618A404C: change Leader from null to s0 at term 8 for appendEntries, leader elected after 9ms
2022-11-08 19:11:58,617 [s0@group-65D5618A404C-LeaderElection97] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-65D5618A404C: set configuration 13: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:58,617 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-65D5618A404C: change Leader from null to s0 at term 8 for appendEntries, leader elected after 9ms
2022-11-08 19:11:58,618 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: receive appendEntries(s0, 8, (t:7, i:12), 11, true, commits:[s0:c11, s1:c12, s2:c9], cId:2859, entries: [(t:8, i:13), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:58,618 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: receive appendEntries(s0, 8, (t:7, i:12), 11, true, commits:[s0:c11, s1:c12, s2:c11], cId:2860, entries: [(t:8, i:13), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:58,618 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-65D5618A404C: set configuration 13: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:58,618 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-65D5618A404C: set configuration 13: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:58,618 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-11_12 to index:12
2022-11-08 19:11:58,618 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:12: startIndex=11 endIndex=12
2022-11-08 19:11:58,618 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:13
2022-11-08 19:11:58,618 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:58,618 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-11_12 to index:12
2022-11-08 19:11:58,620 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:12: startIndex=11 endIndex=12
2022-11-08 19:11:58,620 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:13
2022-11-08 19:11:58,620 [s0@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_13
2022-11-08 19:11:58,620 [s0@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_13)
2022-11-08 19:11:58,620 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_11-12
2022-11-08 19:11:58,620 [s2@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_11-12
2022-11-08 19:11:58,620 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 12
2022-11-08 19:11:58,620 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=10, new=12, updated? true
2022-11-08 19:11:58,620 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_11-12
2022-11-08 19:11:58,621 [s1@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_11-12
2022-11-08 19:11:58,621 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 12
2022-11-08 19:11:58,621 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=10, new=12, updated? true
2022-11-08 19:11:58,623 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2022-11-08 19:11:58,624 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:58,631 [s2@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_13
2022-11-08 19:11:58,631 [s1@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_13
2022-11-08 19:11:58,632 [s2@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_13)
2022-11-08 19:11:58,632 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2022-11-08 19:11:58,632 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s0<-s2#2860:OK-t8,SUCCESS,nextIndex=14,followerCommit=11,matchIndex=13
2022-11-08 19:11:58,633 [s1@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_13)
2022-11-08 19:11:58,633 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2022-11-08 19:11:58,633 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s0<-s1#2859:OK-t8,SUCCESS,nextIndex=14,followerCommit=12,matchIndex=13
2022-11-08 19:11:58,640 [s0@group-65D5618A404C-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:8, i:14), METADATAENTRY(c:13)
2022-11-08 19:11:58,640 [s0@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_13)
2022-11-08 19:11:58,640 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: receive appendEntries(s0, 8, (t:8, i:13), 13, true, commits:[s0:c13, s1:c12, s2:c11], cId:2865, entries: [(t:8, i:14), METADATAENTRY(c:13)]
2022-11-08 19:11:58,640 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: receive appendEntries(s0, 8, (t:8, i:13), 13, true, commits:[s0:c13, s1:c12, s2:c11], cId:2866, entries: [(t:8, i:14), METADATAENTRY(c:13)]
2022-11-08 19:11:58,640 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:8, i:14), METADATAENTRY(c:13)
2022-11-08 19:11:58,640 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:8, i:14), METADATAENTRY(c:13)
2022-11-08 19:11:58,640 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2022-11-08 19:11:58,640 [s2@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_13)
2022-11-08 19:11:58,640 [s1@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_13)
2022-11-08 19:11:58,640 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2022-11-08 19:11:58,640 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s0<-s2#2865:OK-t8,SUCCESS,nextIndex=15,followerCommit=13,matchIndex=14
2022-11-08 19:11:58,641 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2022-11-08 19:11:58,641 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s0<-s1#2866:OK-t8,SUCCESS,nextIndex=15,followerCommit=13,matchIndex=14
2022-11-08 19:11:58,990 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t8, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t8, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t8, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:58,990 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s0
2022-11-08 19:11:58,990 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:58,990 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t8, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t8, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t8, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:58,990 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t8, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t8, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t8, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:58,990 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:59,090 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:59,090 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t8, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t8, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t8, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:59,091 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t8, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t8, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t8, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:59,091 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:59,170 [s2@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-65D5618A404C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:227579157ns, electionTimeout:202ms
2022-11-08 19:11:59,170 [s2@group-65D5618A404C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-65D5618A404C-FollowerState
2022-11-08 19:11:59,170 [s2@group-65D5618A404C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-65D5618A404C: changes role from  FOLLOWER to CANDIDATE at term 8 for changeToCandidate
2022-11-08 19:11:59,170 [s2@group-65D5618A404C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:59,170 [s2@group-65D5618A404C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-65D5618A404C-LeaderElection98
2022-11-08 19:11:59,170 [s2@group-65D5618A404C-LeaderElection98] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-65D5618A404C: change Leader from s0 to null at term 8 for PRE_VOTE
2022-11-08 19:11:59,170 [s2@group-65D5618A404C-LeaderElection98] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-65D5618A404C-LeaderElection98 PRE_VOTE round 0: submit vote requests at term 8 for 13: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:59,171 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-65D5618A404C: receive requestVote(PRE_VOTE, s2, group-65D5618A404C, 8, (t:8, i:14))
2022-11-08 19:11:59,171 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-65D5618A404C-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-11-08 19:11:59,171 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-65D5618A404C replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t8. Peer's state: s0@group-65D5618A404C:t8, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:59,171 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-65D5618A404C: receive requestVote(PRE_VOTE, s2, group-65D5618A404C, 8, (t:8, i:14))
2022-11-08 19:11:59,171 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-65D5618A404C-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:59,171 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-65D5618A404C replies to PRE_VOTE vote request: s2<-s1#0:OK-t8. Peer's state: s1@group-65D5618A404C:t8, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:59,171 [s2@group-65D5618A404C-LeaderElection98] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-65D5618A404C-LeaderElection98: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:59,171 [s2@group-65D5618A404C-LeaderElection98] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:FAIL-t8
2022-11-08 19:11:59,171 [s2@group-65D5618A404C-LeaderElection98] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s1#0:OK-t8
2022-11-08 19:11:59,171 [s2@group-65D5618A404C-LeaderElection98] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-65D5618A404C-LeaderElection98 PRE_VOTE round 0: result PASSED
2022-11-08 19:11:59,172 [s2@group-65D5618A404C-LeaderElection98] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-65D5618A404C-LeaderElection98 ELECTION round 0: submit vote requests at term 9 for 13: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:59,172 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-65D5618A404C: receive requestVote(ELECTION, s2, group-65D5618A404C, 9, (t:8, i:14))
2022-11-08 19:11:59,173 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-65D5618A404C-LEADER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:59,173 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-65D5618A404C: change Leader from s0 to null at term 9 for updateCurrentTerm
2022-11-08 19:11:59,173 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-65D5618A404C: changes role from    LEADER to FOLLOWER at term 9 for candidate:s2
2022-11-08 19:11:59,173 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-65D5618A404C-LeaderStateImpl
2022-11-08 19:11:59,173 [s0@group-65D5618A404C->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-65D5618A404C->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-08 19:11:59,173 [HandlerDaemon-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-65D5618A404C-PendingRequests: sendNotLeaderResponses
2022-11-08 19:11:59,173 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-65D5618A404C-FollowerState
2022-11-08 19:11:59,173 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-65D5618A404C: receive requestVote(ELECTION, s2, group-65D5618A404C, 9, (t:8, i:14))
2022-11-08 19:11:59,173 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-65D5618A404C-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-11-08 19:11:59,173 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-65D5618A404C: change Leader from s0 to null at term 9 for updateCurrentTerm
2022-11-08 19:11:59,173 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-65D5618A404C: changes role from  FOLLOWER to FOLLOWER at term 9 for candidate:s2
2022-11-08 19:11:59,173 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-65D5618A404C-FollowerState
2022-11-08 19:11:59,173 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-65D5618A404C-FollowerState
2022-11-08 19:11:59,173 [s1@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-65D5618A404C-FollowerState was interrupted
2022-11-08 19:11:59,173 [s0@group-65D5618A404C->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-65D5618A404C->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-08 19:11:59,174 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-65D5618A404C replies to ELECTION vote request: s2<-s0#0:OK-t9. Peer's state: s0@group-65D5618A404C:t9, leader=null, voted=s2, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:59,174 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-65D5618A404C replies to ELECTION vote request: s2<-s1#0:OK-t9. Peer's state: s1@group-65D5618A404C:t9, leader=null, voted=s2, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:59,175 [s2@group-65D5618A404C-LeaderElection98] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-65D5618A404C-LeaderElection98: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:59,175 [s2@group-65D5618A404C-LeaderElection98] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t9
2022-11-08 19:11:59,175 [s2@group-65D5618A404C-LeaderElection98] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-65D5618A404C-LeaderElection98 ELECTION round 0: result PASSED
2022-11-08 19:11:59,175 [s2@group-65D5618A404C-LeaderElection98] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-65D5618A404C-LeaderElection98
2022-11-08 19:11:59,175 [s2@group-65D5618A404C-LeaderElection98] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-65D5618A404C: changes role from CANDIDATE to LEADER at term 9 for changeToLeader
2022-11-08 19:11:59,175 [s2@group-65D5618A404C-LeaderElection98] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-65D5618A404C: change Leader from null to s2 at term 9 for becomeLeader, leader elected after 4ms
2022-11-08 19:11:59,175 [s2@group-65D5618A404C-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:11:59,175 [s2@group-65D5618A404C-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:59,175 [s2@group-65D5618A404C-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:59,175 [s2@group-65D5618A404C-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:11:59,175 [s2@group-65D5618A404C-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:11:59,175 [s2@group-65D5618A404C-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:11:59,175 [s2@group-65D5618A404C-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:59,175 [s2@group-65D5618A404C-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:11:59,175 [s2@group-65D5618A404C-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:59,175 [s2@group-65D5618A404C-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:59,175 [s2@group-65D5618A404C-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:59,176 [s2@group-65D5618A404C-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:59,176 [s2@group-65D5618A404C-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:59,176 [s2@group-65D5618A404C-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:59,176 [s2@group-65D5618A404C-LeaderElection98] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-65D5618A404C-LeaderStateImpl
2022-11-08 19:11:59,176 [s2@group-65D5618A404C-LeaderElection98] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-13_14 to index:14
2022-11-08 19:11:59,176 [s2@group-65D5618A404C-LeaderElection98] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:14: startIndex=13 endIndex=14
2022-11-08 19:11:59,176 [s2@group-65D5618A404C-LeaderElection98] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:15
2022-11-08 19:11:59,176 [s2@group-65D5618A404C-LeaderElection98] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:59,178 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_13-14
2022-11-08 19:11:59,178 [s2@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_13-14
2022-11-08 19:11:59,179 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 14
2022-11-08 19:11:59,179 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=12, new=14, updated? true
2022-11-08 19:11:59,183 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-65D5618A404C: change Leader from null to s2 at term 9 for appendEntries, leader elected after 10ms
2022-11-08 19:11:59,183 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-65D5618A404C: receive appendEntries(s2, 9, (t:8, i:14), 14, true, commits:[s2:c14, s0:c14, s1:c14], cId:2917, entries: [(t:9, i:15), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:59,183 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-65D5618A404C: set configuration 15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:59,183 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-13_14 to index:14
2022-11-08 19:11:59,183 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:14: startIndex=13 endIndex=14
2022-11-08 19:11:59,183 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:15
2022-11-08 19:11:59,184 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:59,184 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_13-14
2022-11-08 19:11:59,184 [s0@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_13-14
2022-11-08 19:11:59,184 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 14
2022-11-08 19:11:59,184 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=12, new=14, updated? true
2022-11-08 19:11:59,191 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:59,191 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c14, conf=15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t9, leader=null, voted=s2, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-65D5618A404C:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:59,191 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s2@group-65D5618A404C not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s2@group-65D5618A404C not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:59,192 [s2@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_15
2022-11-08 19:11:59,192 [s2@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_15)
2022-11-08 19:11:59,192 [s2@group-65D5618A404C-LeaderElection98] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-65D5618A404C: set configuration 15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:59,192 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-65D5618A404C: change Leader from null to s2 at term 9 for appendEntries, leader elected after 19ms
2022-11-08 19:11:59,193 [s0@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_15
2022-11-08 19:11:59,194 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: receive appendEntries(s2, 9, (t:8, i:14), 14, true, commits:[s2:c14, s0:c14, s1:c14], cId:2920, entries: [(t:9, i:15), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:59,194 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-65D5618A404C: set configuration 15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:59,194 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-13_14 to index:14
2022-11-08 19:11:59,194 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:14: startIndex=13 endIndex=14
2022-11-08 19:11:59,194 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:15
2022-11-08 19:11:59,194 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:59,195 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_13-14
2022-11-08 19:11:59,195 [s1@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_13-14
2022-11-08 19:11:59,195 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 14
2022-11-08 19:11:59,195 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=12, new=14, updated? true
2022-11-08 19:11:59,195 [s0@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_15)
2022-11-08 19:11:59,196 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2022-11-08 19:11:59,198 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s2<-s0#2917:OK-t9,SUCCESS,nextIndex=16,followerCommit=14,matchIndex=15
2022-11-08 19:11:59,194 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2022-11-08 19:11:59,198 [s2@group-65D5618A404C-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:9, i:16), METADATAENTRY(c:15)
2022-11-08 19:11:59,199 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-65D5618A404C: receive appendEntries(s2, 9, (t:9, i:15), 15, true, commits:[s2:c15, s0:c14, s1:c14], cId:2921, entries: [(t:9, i:16), METADATAENTRY(c:15)]
2022-11-08 19:11:59,199 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:9, i:16), METADATAENTRY(c:15)
2022-11-08 19:11:59,199 [s2@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_15)
2022-11-08 19:11:59,199 [s0@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_15)
2022-11-08 19:11:59,202 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2022-11-08 19:11:59,202 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2022-11-08 19:11:59,202 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s2<-s0#2921:OK-t9,SUCCESS,nextIndex=17,followerCommit=15,matchIndex=16
2022-11-08 19:11:59,202 [s1@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_15
2022-11-08 19:11:59,202 [s1@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_15)
2022-11-08 19:11:59,203 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2022-11-08 19:11:59,203 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s2<-s1#2920:OK-t9,SUCCESS,nextIndex=16,followerCommit=14,matchIndex=15
2022-11-08 19:11:59,203 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: receive appendEntries(s2, 9, (t:9, i:15), 16, true, commits:[s2:c16, s0:c15, s1:c14], cId:2922, entries: [(t:9, i:16), METADATAENTRY(c:15)]
2022-11-08 19:11:59,203 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:9, i:16), METADATAENTRY(c:15)
2022-11-08 19:11:59,203 [s1@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_15)
2022-11-08 19:11:59,204 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2022-11-08 19:11:59,204 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s2<-s1#2922:OK-t9,SUCCESS,nextIndex=17,followerCommit=16,matchIndex=16
2022-11-08 19:11:59,642 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-65D5618A404C:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:59,642 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s2
2022-11-08 19:11:59,642 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:59,642 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-65D5618A404C:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:59,642 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-65D5618A404C:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:59,642 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:59,742 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:59,743 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-65D5618A404C:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:59,743 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-65D5618A404C:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:59,743 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:59,844 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:59,844 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-65D5618A404C:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:59,844 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-65D5618A404C:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:59,844 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:59,924 [s1@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-65D5618A404C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:343523735ns, electionTimeout:232ms
2022-11-08 19:11:59,924 [s1@group-65D5618A404C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-65D5618A404C-FollowerState
2022-11-08 19:11:59,924 [s1@group-65D5618A404C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-65D5618A404C: changes role from  FOLLOWER to CANDIDATE at term 9 for changeToCandidate
2022-11-08 19:11:59,924 [s1@group-65D5618A404C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:11:59,924 [s1@group-65D5618A404C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-65D5618A404C-LeaderElection99
2022-11-08 19:11:59,924 [s1@group-65D5618A404C-LeaderElection99] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-65D5618A404C: change Leader from s2 to null at term 9 for PRE_VOTE
2022-11-08 19:11:59,925 [s1@group-65D5618A404C-LeaderElection99] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-65D5618A404C-LeaderElection99 PRE_VOTE round 0: submit vote requests at term 9 for 15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:59,925 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-65D5618A404C: receive requestVote(PRE_VOTE, s1, group-65D5618A404C, 9, (t:9, i:16))
2022-11-08 19:11:59,925 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-65D5618A404C-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:59,925 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-65D5618A404C: receive requestVote(PRE_VOTE, s1, group-65D5618A404C, 9, (t:9, i:16))
2022-11-08 19:11:59,925 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-65D5618A404C replies to PRE_VOTE vote request: s1<-s0#0:OK-t9. Peer's state: s0@group-65D5618A404C:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:59,928 [HandlerDaemon-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1063)) - s2@group-65D5618A404C-LeaderStateImpl: Lost leadership on term: 9. Election timeout: 300ms. In charge for: 753ms. Conf: 15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:59,928 [HandlerDaemon-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s2@group-65D5618A404C->s0(c16,m16,n17, attendVote=true, lastRpcSendTime=273, lastRpcResponseTime=348)
2022-11-08 19:11:59,928 [HandlerDaemon-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s2@group-65D5618A404C->s1(c16,m16,n17, attendVote=true, lastRpcSendTime=272, lastRpcResponseTime=347)
2022-11-08 19:11:59,928 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-65D5618A404C: changes role from    LEADER to FOLLOWER at term 9 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-11-08 19:11:59,928 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-65D5618A404C-LeaderStateImpl
2022-11-08 19:11:59,928 [HandlerDaemon-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-65D5618A404C-PendingRequests: sendNotLeaderResponses
2022-11-08 19:11:59,929 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-65D5618A404C-FollowerState
2022-11-08 19:11:59,929 [s2@group-65D5618A404C->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-65D5618A404C->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-08 19:11:59,929 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-65D5618A404C-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s2
2022-11-08 19:11:59,929 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-65D5618A404C replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t9. Peer's state: s2@group-65D5618A404C:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:59,929 [s2@group-65D5618A404C->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-65D5618A404C->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-08 19:11:59,932 [s1@group-65D5618A404C-LeaderElection99] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-65D5618A404C-LeaderElection99: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-11-08 19:11:59,932 [s1@group-65D5618A404C-LeaderElection99] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t9
2022-11-08 19:11:59,932 [s1@group-65D5618A404C-LeaderElection99] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:FAIL-t9
2022-11-08 19:11:59,932 [s1@group-65D5618A404C-LeaderElection99] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-65D5618A404C-LeaderElection99 PRE_VOTE round 0: result PASSED
2022-11-08 19:11:59,934 [s1@group-65D5618A404C-LeaderElection99] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-65D5618A404C-LeaderElection99 ELECTION round 0: submit vote requests at term 10 for 15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:59,935 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-65D5618A404C: receive requestVote(ELECTION, s1, group-65D5618A404C, 10, (t:9, i:16))
2022-11-08 19:11:59,935 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-65D5618A404C-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:59,935 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-65D5618A404C: change Leader from s2 to null at term 10 for updateCurrentTerm
2022-11-08 19:11:59,935 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-65D5618A404C: changes role from  FOLLOWER to FOLLOWER at term 10 for candidate:s1
2022-11-08 19:11:59,935 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-65D5618A404C-FollowerState
2022-11-08 19:11:59,935 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-65D5618A404C-FollowerState
2022-11-08 19:11:59,935 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-65D5618A404C: receive requestVote(ELECTION, s1, group-65D5618A404C, 10, (t:9, i:16))
2022-11-08 19:11:59,935 [s0@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-65D5618A404C-FollowerState was interrupted
2022-11-08 19:11:59,935 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-65D5618A404C-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:11:59,935 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-65D5618A404C: change Leader from s2 to null at term 10 for updateCurrentTerm
2022-11-08 19:11:59,935 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-65D5618A404C: changes role from  FOLLOWER to FOLLOWER at term 10 for candidate:s1
2022-11-08 19:11:59,935 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-65D5618A404C-FollowerState
2022-11-08 19:11:59,935 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-65D5618A404C-FollowerState
2022-11-08 19:11:59,935 [s2@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-65D5618A404C-FollowerState was interrupted
2022-11-08 19:11:59,937 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-65D5618A404C replies to ELECTION vote request: s1<-s0#0:OK-t10. Peer's state: s0@group-65D5618A404C:t10, leader=null, voted=s1, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:59,937 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-65D5618A404C replies to ELECTION vote request: s1<-s2#0:OK-t10. Peer's state: s2@group-65D5618A404C:t10, leader=null, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:59,937 [s1@group-65D5618A404C-LeaderElection99] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-65D5618A404C-LeaderElection99: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:11:59,937 [s1@group-65D5618A404C-LeaderElection99] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t10
2022-11-08 19:11:59,937 [s1@group-65D5618A404C-LeaderElection99] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-65D5618A404C-LeaderElection99 ELECTION round 0: result PASSED
2022-11-08 19:11:59,937 [s1@group-65D5618A404C-LeaderElection99] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-65D5618A404C-LeaderElection99
2022-11-08 19:11:59,937 [s1@group-65D5618A404C-LeaderElection99] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-65D5618A404C: changes role from CANDIDATE to LEADER at term 10 for changeToLeader
2022-11-08 19:11:59,937 [s1@group-65D5618A404C-LeaderElection99] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-65D5618A404C: change Leader from null to s1 at term 10 for becomeLeader, leader elected after 12ms
2022-11-08 19:11:59,937 [s1@group-65D5618A404C-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:11:59,937 [s1@group-65D5618A404C-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:59,937 [s1@group-65D5618A404C-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:11:59,937 [s1@group-65D5618A404C-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:11:59,937 [s1@group-65D5618A404C-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:11:59,937 [s1@group-65D5618A404C-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:11:59,937 [s1@group-65D5618A404C-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:11:59,937 [s1@group-65D5618A404C-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:11:59,938 [s1@group-65D5618A404C-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:59,938 [s1@group-65D5618A404C-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:59,938 [s1@group-65D5618A404C-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:59,938 [s1@group-65D5618A404C-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:11:59,938 [s1@group-65D5618A404C-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:11:59,938 [s1@group-65D5618A404C-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:11:59,938 [s1@group-65D5618A404C-LeaderElection99] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-65D5618A404C-LeaderStateImpl
2022-11-08 19:11:59,938 [s1@group-65D5618A404C-LeaderElection99] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-15_16 to index:16
2022-11-08 19:11:59,938 [s1@group-65D5618A404C-LeaderElection99] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:16: startIndex=15 endIndex=16
2022-11-08 19:11:59,938 [s1@group-65D5618A404C-LeaderElection99] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:17
2022-11-08 19:11:59,938 [s1@group-65D5618A404C-LeaderElection99] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:59,939 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_15-16
2022-11-08 19:11:59,939 [s1@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_15-16
2022-11-08 19:11:59,939 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 16
2022-11-08 19:11:59,939 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=14, new=16, updated? true
2022-11-08 19:11:59,944 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-65D5618A404C: change Leader from null to s1 at term 10 for appendEntries, leader elected after 8ms
2022-11-08 19:11:59,944 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-65D5618A404C: receive appendEntries(s1, 10, (t:9, i:16), 16, true, commits:[s1:c16, s0:c16, s2:c16], cId:2989, entries: [(t:10, i:17), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:59,944 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-65D5618A404C: set configuration 17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:59,944 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-15_16 to index:16
2022-11-08 19:11:59,944 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:11:59,945 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c16, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t10, leader=null, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:11:59,945 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s1@group-65D5618A404C not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s1@group-65D5618A404C not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:11:59,945 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:16: startIndex=15 endIndex=16
2022-11-08 19:11:59,945 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:17
2022-11-08 19:11:59,945 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:59,947 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_15-16
2022-11-08 19:11:59,947 [s0@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_15-16
2022-11-08 19:11:59,947 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 16
2022-11-08 19:11:59,947 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=14, new=16, updated? true
2022-11-08 19:11:59,948 [s1@group-65D5618A404C-LeaderElection99] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-65D5618A404C: set configuration 17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:59,948 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-65D5618A404C: change Leader from null to s1 at term 10 for appendEntries, leader elected after 12ms
2022-11-08 19:11:59,948 [s1@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_17
2022-11-08 19:11:59,948 [s1@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_17)
2022-11-08 19:11:59,949 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2022-11-08 19:11:59,957 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: receive appendEntries(s1, 10, (t:9, i:16), 16, true, commits:[s1:c16, s0:c16, s2:c16], cId:2992, entries: [(t:10, i:17), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:11:59,957 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-65D5618A404C: set configuration 17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:11:59,958 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-15_16 to index:16
2022-11-08 19:11:59,958 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:16: startIndex=15 endIndex=16
2022-11-08 19:11:59,958 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:17
2022-11-08 19:11:59,958 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:11:59,958 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_15-16
2022-11-08 19:11:59,959 [s2@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_15-16
2022-11-08 19:11:59,959 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 16
2022-11-08 19:11:59,959 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=14, new=16, updated? true
2022-11-08 19:11:59,962 [s0@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_17
2022-11-08 19:11:59,962 [s0@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_17)
2022-11-08 19:11:59,966 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2022-11-08 19:11:59,966 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s1<-s0#2989:OK-t10,SUCCESS,nextIndex=18,followerCommit=16,matchIndex=17
2022-11-08 19:11:59,966 [s2@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_17
2022-11-08 19:11:59,966 [s2@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_17)
2022-11-08 19:11:59,966 [s1@group-65D5618A404C-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:10, i:18), METADATAENTRY(c:17)
2022-11-08 19:11:59,967 [s1@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_17)
2022-11-08 19:11:59,967 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-65D5618A404C: receive appendEntries(s1, 10, (t:10, i:17), 17, true, commits:[s1:c17, s0:c16, s2:c16], cId:2993, entries: [(t:10, i:18), METADATAENTRY(c:17)]
2022-11-08 19:11:59,967 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:10, i:18), METADATAENTRY(c:17)
2022-11-08 19:11:59,967 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2022-11-08 19:11:59,967 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2022-11-08 19:11:59,967 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s1<-s2#2992:OK-t10,SUCCESS,nextIndex=18,followerCommit=16,matchIndex=17
2022-11-08 19:11:59,967 [s0@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_17)
2022-11-08 19:11:59,967 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2022-11-08 19:11:59,967 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s1<-s0#2993:OK-t10,SUCCESS,nextIndex=19,followerCommit=17,matchIndex=18
2022-11-08 19:11:59,970 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: receive appendEntries(s1, 10, (t:10, i:17), 17, true, commits:[s1:c17, s0:c16, s2:c16], cId:2994, entries: [(t:10, i:18), METADATAENTRY(c:17)]
2022-11-08 19:11:59,970 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:10, i:18), METADATAENTRY(c:17)
2022-11-08 19:11:59,971 [s2@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_17)
2022-11-08 19:11:59,971 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2022-11-08 19:11:59,971 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s1<-s2#2994:OK-t10,SUCCESS,nextIndex=19,followerCommit=17,matchIndex=18
2022-11-08 19:12:00,395 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:12:00,395 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s1
2022-11-08 19:12:00,395 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:12:00,395 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:12:00,395 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:12:00,396 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:12:00,496 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:12:00,496 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:12:00,496 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:12:00,496 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:12:00,596 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:12:00,597 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:12:00,597 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:12:00,597 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:12:00,695 [s0@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-65D5618A404C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:349166034ns, electionTimeout:226ms
2022-11-08 19:12:00,695 [s0@group-65D5618A404C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-65D5618A404C-FollowerState
2022-11-08 19:12:00,695 [s0@group-65D5618A404C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-65D5618A404C: changes role from  FOLLOWER to CANDIDATE at term 10 for changeToCandidate
2022-11-08 19:12:00,695 [s0@group-65D5618A404C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:12:00,695 [s0@group-65D5618A404C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-65D5618A404C-LeaderElection100
2022-11-08 19:12:00,695 [s0@group-65D5618A404C-LeaderElection100] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-65D5618A404C: change Leader from s1 to null at term 10 for PRE_VOTE
2022-11-08 19:12:00,695 [s0@group-65D5618A404C-LeaderElection100] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-65D5618A404C-LeaderElection100 PRE_VOTE round 0: submit vote requests at term 10 for 17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:00,696 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-65D5618A404C: receive requestVote(PRE_VOTE, s0, group-65D5618A404C, 10, (t:10, i:18))
2022-11-08 19:12:00,696 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-65D5618A404C: receive requestVote(PRE_VOTE, s0, group-65D5618A404C, 10, (t:10, i:18))
2022-11-08 19:12:00,696 [HandlerDaemon-1] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1063)) - s1@group-65D5618A404C-LeaderStateImpl: Lost leadership on term: 10. Election timeout: 300ms. In charge for: 758ms. Conf: 17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:00,696 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-65D5618A404C-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:12:00,696 [HandlerDaemon-1] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s1@group-65D5618A404C->s0(c18,m18,n19, attendVote=true, lastRpcSendTime=274, lastRpcResponseTime=350)
2022-11-08 19:12:00,696 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-65D5618A404C replies to PRE_VOTE vote request: s0<-s2#0:OK-t10. Peer's state: s2@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:00,696 [HandlerDaemon-1] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s1@group-65D5618A404C->s2(c18,m18,n19, attendVote=true, lastRpcSendTime=272, lastRpcResponseTime=347)
2022-11-08 19:12:00,696 [s0@group-65D5618A404C-LeaderElection100] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-65D5618A404C-LeaderElection100: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:12:00,696 [s0@group-65D5618A404C-LeaderElection100] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t10
2022-11-08 19:12:00,696 [s0@group-65D5618A404C-LeaderElection100] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-65D5618A404C-LeaderElection100 PRE_VOTE round 0: result PASSED
2022-11-08 19:12:00,696 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-65D5618A404C: changes role from    LEADER to FOLLOWER at term 10 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-11-08 19:12:00,696 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-65D5618A404C-LeaderStateImpl
2022-11-08 19:12:00,696 [HandlerDaemon-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-65D5618A404C-PendingRequests: sendNotLeaderResponses
2022-11-08 19:12:00,696 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-65D5618A404C-FollowerState
2022-11-08 19:12:00,696 [s1@group-65D5618A404C->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-65D5618A404C->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-08 19:12:00,696 [s1@group-65D5618A404C->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-65D5618A404C->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-11-08 19:12:00,697 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-65D5618A404C-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-11-08 19:12:00,697 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-65D5618A404C replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t10. Peer's state: s1@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:00,697 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:12:00,697 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-65D5618A404C:t11, leader=null, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:12:00,700 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-65D5618A404C:t11, leader=null, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-65D5618A404C:t11, leader=null, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:12:00,697 [s0@group-65D5618A404C-LeaderElection100] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-65D5618A404C-LeaderElection100 ELECTION round 0: submit vote requests at term 11 for 17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:00,700 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-65D5618A404C: receive requestVote(ELECTION, s0, group-65D5618A404C, 11, (t:10, i:18))
2022-11-08 19:12:00,700 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-65D5618A404C-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:12:00,700 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-65D5618A404C: change Leader from s1 to null at term 11 for updateCurrentTerm
2022-11-08 19:12:00,700 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-65D5618A404C: changes role from  FOLLOWER to FOLLOWER at term 11 for candidate:s0
2022-11-08 19:12:00,700 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-65D5618A404C-FollowerState
2022-11-08 19:12:00,700 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-65D5618A404C-FollowerState
2022-11-08 19:12:00,700 [s1@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-65D5618A404C-FollowerState was interrupted
2022-11-08 19:12:00,701 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-65D5618A404C: receive requestVote(ELECTION, s0, group-65D5618A404C, 11, (t:10, i:18))
2022-11-08 19:12:00,701 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-65D5618A404C-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:12:00,701 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-65D5618A404C: change Leader from s1 to null at term 11 for updateCurrentTerm
2022-11-08 19:12:00,701 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-65D5618A404C: changes role from  FOLLOWER to FOLLOWER at term 11 for candidate:s0
2022-11-08 19:12:00,701 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-65D5618A404C-FollowerState
2022-11-08 19:12:00,701 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-65D5618A404C-FollowerState
2022-11-08 19:12:00,701 [s2@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-65D5618A404C-FollowerState was interrupted
2022-11-08 19:12:00,701 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-65D5618A404C replies to ELECTION vote request: s0<-s1#0:OK-t11. Peer's state: s1@group-65D5618A404C:t11, leader=null, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:00,701 [s0@group-65D5618A404C-LeaderElection100] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-65D5618A404C-LeaderElection100: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:12:00,702 [s0@group-65D5618A404C-LeaderElection100] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t11
2022-11-08 19:12:00,702 [s0@group-65D5618A404C-LeaderElection100] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-65D5618A404C-LeaderElection100 ELECTION round 0: result PASSED
2022-11-08 19:12:00,702 [s0@group-65D5618A404C-LeaderElection100] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-65D5618A404C-LeaderElection100
2022-11-08 19:12:00,702 [s0@group-65D5618A404C-LeaderElection100] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-65D5618A404C: changes role from CANDIDATE to LEADER at term 11 for changeToLeader
2022-11-08 19:12:00,702 [s0@group-65D5618A404C-LeaderElection100] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-65D5618A404C: change Leader from null to s0 at term 11 for becomeLeader, leader elected after 6ms
2022-11-08 19:12:00,702 [s0@group-65D5618A404C-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:12:00,702 [s0@group-65D5618A404C-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:12:00,702 [s0@group-65D5618A404C-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:12:00,702 [s0@group-65D5618A404C-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:12:00,702 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-65D5618A404C replies to ELECTION vote request: s0<-s2#0:OK-t11. Peer's state: s2@group-65D5618A404C:t11, leader=null, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:00,702 [s0@group-65D5618A404C-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:12:00,702 [s0@group-65D5618A404C-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:12:00,702 [s0@group-65D5618A404C-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:12:00,702 [s0@group-65D5618A404C-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:12:00,702 [s0@group-65D5618A404C-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:12:00,702 [s0@group-65D5618A404C-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:00,702 [s0@group-65D5618A404C-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:12:00,702 [s0@group-65D5618A404C-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:12:00,703 [s0@group-65D5618A404C-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:00,703 [s0@group-65D5618A404C-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:12:00,703 [s0@group-65D5618A404C-LeaderElection100] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-65D5618A404C-LeaderStateImpl
2022-11-08 19:12:00,703 [s0@group-65D5618A404C-LeaderElection100] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-17_18 to index:18
2022-11-08 19:12:00,703 [s0@group-65D5618A404C-LeaderElection100] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:18: startIndex=17 endIndex=18
2022-11-08 19:12:00,703 [s0@group-65D5618A404C-LeaderElection100] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:19
2022-11-08 19:12:00,703 [s0@group-65D5618A404C-LeaderElection100] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:12:00,704 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_17-18
2022-11-08 19:12:00,704 [s0@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_17-18
2022-11-08 19:12:00,704 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 18
2022-11-08 19:12:00,704 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=16, new=18, updated? true
2022-11-08 19:12:00,707 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-65D5618A404C: change Leader from null to s0 at term 11 for appendEntries, leader elected after 7ms
2022-11-08 19:12:00,707 [s0@group-65D5618A404C-LeaderElection100] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-65D5618A404C: set configuration 19: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:00,708 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-65D5618A404C: change Leader from null to s0 at term 11 for appendEntries, leader elected after 7ms
2022-11-08 19:12:00,708 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: receive appendEntries(s0, 11, (t:10, i:18), 18, true, commits:[s0:c18, s1:c18, s2:c18], cId:3061, entries: [(t:11, i:19), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:12:00,708 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-65D5618A404C: set configuration 19: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:00,708 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-17_18 to index:18
2022-11-08 19:12:00,708 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:18: startIndex=17 endIndex=18
2022-11-08 19:12:00,708 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:19
2022-11-08 19:12:00,708 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:12:00,710 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_17-18
2022-11-08 19:12:00,710 [s1@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_17-18
2022-11-08 19:12:00,710 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 18
2022-11-08 19:12:00,710 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=16, new=18, updated? true
2022-11-08 19:12:00,716 [s0@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_19
2022-11-08 19:12:00,716 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: receive appendEntries(s0, 11, (t:10, i:18), 18, true, commits:[s0:c18, s1:c18, s2:c18], cId:3064, entries: [(t:11, i:19), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:12:00,716 [s0@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_19)
2022-11-08 19:12:00,716 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-65D5618A404C: set configuration 19: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:00,716 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: Rolling segment log-17_18 to index:18
2022-11-08 19:12:00,716 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:18: startIndex=17 endIndex=18
2022-11-08 19:12:00,716 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task StartLogSegment:19
2022-11-08 19:12:00,716 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2022-11-08 19:12:00,716 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34087"
dataStreamAddress: "localhost:46725"
clientAddress: "localhost:44579"
adminAddress: "localhost:43451"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35487"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:36475"
adminAddress: "localhost:40383"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40803"
dataStreamAddress: "localhost:41813"
clientAddress: "localhost:39987"
adminAddress: "localhost:45663"
startupRole: FOLLOWER
, old:)
2022-11-08 19:12:00,717 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_17-18
2022-11-08 19:12:00,717 [s2@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_17-18
2022-11-08 19:12:00,717 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 18
2022-11-08 19:12:00,717 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=16, new=18, updated? true
2022-11-08 19:12:00,725 [s1@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_19
2022-11-08 19:12:00,726 [s1@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_19)
2022-11-08 19:12:00,726 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2022-11-08 19:12:00,726 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s0<-s1#3061:OK-t11,SUCCESS,nextIndex=20,followerCommit=18,matchIndex=19
2022-11-08 19:12:00,726 [s2@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_19
2022-11-08 19:12:00,726 [s2@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_19)
2022-11-08 19:12:00,726 [s0@group-65D5618A404C-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:20: (t:11, i:20), METADATAENTRY(c:19)
2022-11-08 19:12:00,726 [s0@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s0/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_19)
2022-11-08 19:12:00,726 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2022-11-08 19:12:00,727 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s0<-s2#3064:OK-t11,SUCCESS,nextIndex=20,followerCommit=18,matchIndex=19
2022-11-08 19:12:00,727 [s0@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 19 -> 20
2022-11-08 19:12:00,727 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: receive appendEntries(s0, 11, (t:11, i:19), 19, true, commits:[s0:c19, s1:c18, s2:c18], cId:3065, entries: [(t:11, i:20), METADATAENTRY(c:19)]
2022-11-08 19:12:00,727 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:20: (t:11, i:20), METADATAENTRY(c:19)
2022-11-08 19:12:00,728 [s1@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s1/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_19)
2022-11-08 19:12:00,728 [s1@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 19 -> 20
2022-11-08 19:12:00,728 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s0<-s1#3065:OK-t11,SUCCESS,nextIndex=21,followerCommit=19,matchIndex=20
2022-11-08 19:12:00,728 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: receive appendEntries(s0, 11, (t:11, i:19), 20, true, commits:[s0:c20, s1:c19, s2:c18], cId:3066, entries: [(t:11, i:20), METADATAENTRY(c:19)]
2022-11-08 19:12:00,728 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-65D5618A404C-SegmentedRaftLogWorker adds IO task WriteLog:20: (t:11, i:20), METADATAENTRY(c:19)
2022-11-08 19:12:00,728 [s2@group-65D5618A404C-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(362)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpcfb79a2d8/s2/c486a03f-ddaa-41a1-9a1f-65d5618a404c/current/log_inprogress_19)
2022-11-08 19:12:00,729 [s2@group-65D5618A404C-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-65D5618A404C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 19 -> 20
2022-11-08 19:12:00,729 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-65D5618A404C: succeeded to handle AppendEntries. Reply: s0<-s2#3066:OK-t11,SUCCESS,nextIndex=21,followerCommit=20,matchIndex=20
2022-11-08 19:12:01,150 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t11, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c20, conf=19: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t11, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c20, conf=19: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t11, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c20, conf=19: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:12:01,150 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s0
2022-11-08 19:12:01,150 [Time-limited test] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker log level to INFO
2022-11-08 19:12:01,150 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-08 19:12:01,150 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-08 19:12:01,150 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-08 19:12:01,150 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-08 19:12:01,150 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-08 19:12:01,150 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-65D5618A404C:t11, leader=s0, voted=s0, raftlog=Memoized:s0@group-65D5618A404C-SegmentedRaftLog:OPENED:c20, conf=19: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-65D5618A404C:t11, leader=s0, voted=s0, raftlog=Memoized:s1@group-65D5618A404C-SegmentedRaftLog:OPENED:c20, conf=19: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-65D5618A404C:t11, leader=s0, voted=s0, raftlog=Memoized:s2@group-65D5618A404C-SegmentedRaftLog:OPENED:c20, conf=19: peers:[s0|rpc:localhost:34087|admin:localhost:43451|client:localhost:44579|dataStream:localhost:46725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35487|admin:localhost:40383|client:localhost:36475|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40803|admin:localhost:45663|client:localhost:39987|dataStream:localhost:41813|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:12:01,151 [MiniRaftCluster-67] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-08 19:12:01,151 [MiniRaftCluster-68] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-08 19:12:01,151 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-65D5618A404C: shutdown
2022-11-08 19:12:01,151 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,151 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-65D5618A404C,id=s1
2022-11-08 19:12:01,151 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-65D5618A404C-FollowerState
2022-11-08 19:12:01,151 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,151 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,151 [MiniRaftCluster-69] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-08 19:12:01,151 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,152 [s1@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-65D5618A404C-FollowerState was interrupted
2022-11-08 19:12:01,152 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-65D5618A404C-StateMachineUpdater: set stopIndex = 20
2022-11-08 19:12:01,152 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-65D5618A404C: shutdown
2022-11-08 19:12:01,151 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,152 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,152 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,152 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,152 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,152 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,151 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-65D5618A404C: shutdown
2022-11-08 19:12:01,152 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-65D5618A404C,id=s0
2022-11-08 19:12:01,152 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-65D5618A404C-LeaderStateImpl
2022-11-08 19:12:01,152 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-65D5618A404C-PendingRequests: sendNotLeaderResponses
2022-11-08 19:12:01,151 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,152 [s0@group-65D5618A404C->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-65D5618A404C->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:12:01,152 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,152 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-65D5618A404C,id=s2
2022-11-08 19:12:01,152 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-65D5618A404C-FollowerState
2022-11-08 19:12:01,152 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-65D5618A404C-StateMachineUpdater: set stopIndex = 20
2022-11-08 19:12:01,152 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-65D5618A404C-StateMachineUpdater: set stopIndex = 20
2022-11-08 19:12:01,152 [s0@group-65D5618A404C->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-65D5618A404C->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:12:01,153 [s2@group-65D5618A404C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-65D5618A404C-FollowerState was interrupted
2022-11-08 19:12:01,153 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,153 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-65D5618A404C: applyIndex: 20
2022-11-08 19:12:01,153 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,153 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,154 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,155 [s2@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s2@group-65D5618A404C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:12:01,153 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,153 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,156 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-65D5618A404C: applyIndex: 20
2022-11-08 19:12:01,156 [s1@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s1@group-65D5618A404C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:12:01,157 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-65D5618A404C-SegmentedRaftLogWorker close()
2022-11-08 19:12:01,157 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-65D5618A404C-SegmentedRaftLogWorker close()
2022-11-08 19:12:01,157 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-65D5618A404C: applyIndex: 20
2022-11-08 19:12:01,157 [s0@group-65D5618A404C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s0@group-65D5618A404C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:12:01,158 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-65D5618A404C-SegmentedRaftLogWorker close()
2022-11-08 19:12:01,158 [JvmPauseMonitor49] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-08 19:12:01,158 [JvmPauseMonitor51] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-08 19:12:01,158 [JvmPauseMonitor50] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-08 19:12:01,158 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-08 19:12:01,159 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-08 19:12:01,159 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-08 19:12:01,159 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-08 19:12:01,159 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-08 19:12:01,163 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-08 19:12:01,163 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-43D494F41C81:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER]
2022-11-08 19:12:01,163 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-08 19:12:01,163 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-08 19:12:01,163 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-08 19:12:01,164 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-08 19:12:01,164 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-08 19:12:01,164 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-08 19:12:01,164 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-43D494F41C81:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER], format? true
2022-11-08 19:12:01,164 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s0
2022-11-08 19:12:01,164 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s0 does not exist.
2022-11-08 19:12:01,164 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s0
2022-11-08 19:12:01,164 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:12:01,164 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:12:01,164 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:12:01,164 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:12:01,164 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:12:01,164 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:12:01,165 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s0] (custom)
2022-11-08 19:12:01,165 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-43D494F41C81:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER] returns group-43D494F41C81:java.util.concurrent.CompletableFuture@728f608f[Not completed]
2022-11-08 19:12:01,165 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-43D494F41C81:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER], format? true
2022-11-08 19:12:01,165 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s1
2022-11-08 19:12:01,165 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s1 does not exist.
2022-11-08 19:12:01,165 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s1
2022-11-08 19:12:01,165 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:12:01,165 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:12:01,165 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:12:01,165 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:12:01,165 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:12:01,165 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:12:01,165 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s1] (custom)
2022-11-08 19:12:01,166 [pool-53-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-43D494F41C81:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER] with BaseStateMachine:uninitialized
2022-11-08 19:12:01,166 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:12:01,166 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:12:01,166 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:12:01,166 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:12:01,166 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:12:01,166 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:12:01,166 [pool-53-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-43D494F41C81: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-08 19:12:01,166 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:12:01,166 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:12:01,166 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:12:01,166 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-43D494F41C81:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER] returns group-43D494F41C81:java.util.concurrent.CompletableFuture@6f035d8[Not completed]
2022-11-08 19:12:01,166 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-43D494F41C81:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER], format? true
2022-11-08 19:12:01,166 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s2
2022-11-08 19:12:01,166 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:12:01,166 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s2 does not exist.
2022-11-08 19:12:01,166 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s2
2022-11-08 19:12:01,166 [pool-54-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-43D494F41C81:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER] with BaseStateMachine:uninitialized
2022-11-08 19:12:01,167 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:12:01,167 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:12:01,167 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:12:01,167 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:12:01,167 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:12:01,167 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:12:01,167 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:12:01,167 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s2] (custom)
2022-11-08 19:12:01,167 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:12:01,168 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:12:01,168 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:12:01,168 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:12:01,168 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:12:01,168 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:12:01,168 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:12:01,168 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:12:01,168 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:12:01,168 [pool-54-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-43D494F41C81: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-08 19:12:01,168 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:12:01,168 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:12:01,168 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:12:01,168 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:12:01,168 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:12:01,168 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:12:01,168 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:12:01,169 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:12:01,169 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:12:01,169 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:12:01,169 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:12:01,169 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:12:01,170 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-43D494F41C81:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER] returns group-43D494F41C81:java.util.concurrent.CompletableFuture@9f30f43[Not completed]
2022-11-08 19:12:01,170 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-43D494F41C81:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER] with BaseStateMachine:uninitialized
2022-11-08 19:12:01,170 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:12:01,170 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:12:01,170 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:12:01,170 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:12:01,170 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:12:01,170 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:12:01,170 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s0] (custom)
2022-11-08 19:12:01,170 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:12:01,170 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:12:01,170 [pool-55-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-43D494F41C81: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-08 19:12:01,170 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:12:01,170 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:12:01,170 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s0/846978e7-0517-4309-a72a-43d494f41c81 does not exist. Creating ...
2022-11-08 19:12:01,170 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:12:01,170 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:12:01,170 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:12:01,170 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s0/846978e7-0517-4309-a72a-43d494f41c81
2022-11-08 19:12:01,171 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:12:01,171 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:12:01,171 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:12:01,171 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:12:01,171 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:12:01,171 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s0/846978e7-0517-4309-a72a-43d494f41c81/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:12:01,172 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s0/846978e7-0517-4309-a72a-43d494f41c81/current
2022-11-08 19:12:01,172 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s0/846978e7-0517-4309-a72a-43d494f41c81/sm
2022-11-08 19:12:01,172 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s0/846978e7-0517-4309-a72a-43d494f41c81 has been successfully formatted.
2022-11-08 19:12:01,173 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:12:01,173 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:12:01,173 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:01,173 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:12:01,173 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:12:01,173 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:12:01,173 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:12:01,173 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:12:01,173 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-43D494F41C81-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s0/846978e7-0517-4309-a72a-43d494f41c81
2022-11-08 19:12:01,173 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:12:01,173 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:12:01,173 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:12:01,173 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:12:01,173 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:12:01,173 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:12:01,173 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:12:01,173 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:12:01,174 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:12:01,174 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:01,174 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:12:01,174 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:12:01,174 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:12:01,174 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-43D494F41C81-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:12:01,174 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-43D494F41C81-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:12:01,174 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-43D494F41C81: start as a follower, conf=-1: peers:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:12:01,174 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-43D494F41C81: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:12:01,174 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-43D494F41C81-FollowerState
2022-11-08 19:12:01,174 [s0@group-43D494F41C81-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:12:01,174 [s0@group-43D494F41C81-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:12:01,175 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-43D494F41C81,id=s0
2022-11-08 19:12:01,175 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:12:01,175 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:12:01,175 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:12:01,175 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-08 19:12:01,176 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:12:01,176 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:12:01,176 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s1] (custom)
2022-11-08 19:12:01,176 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s1/846978e7-0517-4309-a72a-43d494f41c81 does not exist. Creating ...
2022-11-08 19:12:01,176 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s1/846978e7-0517-4309-a72a-43d494f41c81
2022-11-08 19:12:01,176 [JvmPauseMonitor52] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-08 19:12:01,177 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s1/846978e7-0517-4309-a72a-43d494f41c81/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:12:01,177 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s1/846978e7-0517-4309-a72a-43d494f41c81/current
2022-11-08 19:12:01,177 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s1/846978e7-0517-4309-a72a-43d494f41c81/sm
2022-11-08 19:12:01,179 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s1/846978e7-0517-4309-a72a-43d494f41c81 has been successfully formatted.
2022-11-08 19:12:01,179 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:12:01,179 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:12:01,179 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:01,179 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:12:01,179 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:12:01,179 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:12:01,179 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:12:01,180 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:12:01,180 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-43D494F41C81-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s1/846978e7-0517-4309-a72a-43d494f41c81
2022-11-08 19:12:01,180 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:12:01,180 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:12:01,180 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:12:01,180 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:12:01,180 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:12:01,180 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:12:01,180 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:12:01,180 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:12:01,180 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:12:01,180 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:01,180 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:12:01,180 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:12:01,180 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:12:01,180 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-43D494F41C81-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:12:01,180 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-43D494F41C81-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:12:01,180 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-43D494F41C81: start as a follower, conf=-1: peers:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:12:01,180 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-43D494F41C81: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:12:01,180 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-43D494F41C81-FollowerState
2022-11-08 19:12:01,181 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-43D494F41C81,id=s1
2022-11-08 19:12:01,181 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:12:01,181 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:12:01,181 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:12:01,181 [s1@group-43D494F41C81-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:12:01,181 [s1@group-43D494F41C81-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:12:01,184 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-08 19:12:01,185 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:12:01,185 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:12:01,185 [JvmPauseMonitor53] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-08 19:12:01,185 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s2] (custom)
2022-11-08 19:12:01,185 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s2/846978e7-0517-4309-a72a-43d494f41c81 does not exist. Creating ...
2022-11-08 19:12:01,185 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s2/846978e7-0517-4309-a72a-43d494f41c81
2022-11-08 19:12:01,186 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s2/846978e7-0517-4309-a72a-43d494f41c81/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:12:01,186 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s2/846978e7-0517-4309-a72a-43d494f41c81/current
2022-11-08 19:12:01,186 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s2/846978e7-0517-4309-a72a-43d494f41c81/sm
2022-11-08 19:12:01,187 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s2/846978e7-0517-4309-a72a-43d494f41c81 has been successfully formatted.
2022-11-08 19:12:01,187 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:12:01,187 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:12:01,187 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:01,187 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:12:01,187 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:12:01,188 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:12:01,188 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:12:01,188 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:12:01,188 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-43D494F41C81-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s2/846978e7-0517-4309-a72a-43d494f41c81
2022-11-08 19:12:01,188 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:12:01,188 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:12:01,188 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:12:01,188 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:12:01,188 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:12:01,188 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:12:01,188 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:12:01,188 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:12:01,188 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:12:01,188 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:01,188 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:12:01,188 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:12:01,188 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:12:01,188 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-43D494F41C81-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:12:01,188 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-43D494F41C81-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:12:01,188 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(341)) - s2@group-43D494F41C81: start as a listener, conf=-1: peers:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:12:01,188 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-43D494F41C81: changes role from      null to LISTENER at term 0 for startAsListener
2022-11-08 19:12:01,188 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-43D494F41C81-FollowerState
2022-11-08 19:12:01,189 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-43D494F41C81,id=s2
2022-11-08 19:12:01,189 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:12:01,189 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:12:01,189 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:12:01,189 [s2@group-43D494F41C81-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:12:01,189 [s2@group-43D494F41C81-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:12:01,189 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-08 19:12:01,190 [JvmPauseMonitor54] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-08 19:12:01,190 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:12:01,190 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-43D494F41C81:t0, leader=null, voted=, raftlog=Memoized:s0@group-43D494F41C81-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-43D494F41C81:t0, leader=null, voted=, raftlog=Memoized:s1@group-43D494F41C81-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  LISTENER s2@group-43D494F41C81:t0, leader=null, voted=, raftlog=Memoized:s2@group-43D494F41C81-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER], old=null RUNNING
2022-11-08 19:12:01,190 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-43D494F41C81:t0, leader=null, voted=, raftlog=Memoized:s0@group-43D494F41C81-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-43D494F41C81:t0, leader=null, voted=, raftlog=Memoized:s1@group-43D494F41C81-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  LISTENER s2@group-43D494F41C81:t0, leader=null, voted=, raftlog=Memoized:s2@group-43D494F41C81-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-43D494F41C81:t0, leader=null, voted=, raftlog=Memoized:s0@group-43D494F41C81-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-43D494F41C81:t0, leader=null, voted=, raftlog=Memoized:s1@group-43D494F41C81-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  LISTENER s2@group-43D494F41C81:t0, leader=null, voted=, raftlog=Memoized:s2@group-43D494F41C81-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeListenerToFollower(LeaderElectionTests.java:432)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:12:01,340 [s1@group-43D494F41C81-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-43D494F41C81-FollowerState: change to CANDIDATE, lastRpcElapsedTime:159771170ns, electionTimeout:159ms
2022-11-08 19:12:01,340 [s1@group-43D494F41C81-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-43D494F41C81-FollowerState
2022-11-08 19:12:01,340 [s1@group-43D494F41C81-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-43D494F41C81: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-08 19:12:01,341 [s1@group-43D494F41C81-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:12:01,341 [s1@group-43D494F41C81-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-43D494F41C81-LeaderElection101
2022-11-08 19:12:01,341 [s1@group-43D494F41C81-LeaderElection101] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-43D494F41C81-LeaderElection101 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:12:01,341 [s1@group-43D494F41C81-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:12:01,341 [s1@group-43D494F41C81-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:12:01,341 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-43D494F41C81: receive requestVote(PRE_VOTE, s1, group-43D494F41C81, 0, (t:0, i:0))
2022-11-08 19:12:01,341 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-43D494F41C81-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:12:01,341 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-43D494F41C81 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-43D494F41C81:t0, leader=null, voted=, raftlog=Memoized:s0@group-43D494F41C81-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:12:01,342 [s1@group-43D494F41C81-LeaderElection101] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-43D494F41C81-LeaderElection101: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:12:01,342 [s1@group-43D494F41C81-LeaderElection101] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2022-11-08 19:12:01,342 [s1@group-43D494F41C81-LeaderElection101] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-43D494F41C81-LeaderElection101 PRE_VOTE round 0: result PASSED
2022-11-08 19:12:01,343 [s1@group-43D494F41C81-LeaderElection101] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-43D494F41C81-LeaderElection101 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:12:01,343 [s1@group-43D494F41C81-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:12:01,343 [s1@group-43D494F41C81-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:12:01,343 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-43D494F41C81: receive requestVote(ELECTION, s1, group-43D494F41C81, 1, (t:0, i:0))
2022-11-08 19:12:01,343 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-43D494F41C81-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:12:01,343 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-43D494F41C81: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-11-08 19:12:01,343 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-43D494F41C81-FollowerState
2022-11-08 19:12:01,343 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-43D494F41C81-FollowerState
2022-11-08 19:12:01,343 [s0@group-43D494F41C81-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-43D494F41C81-FollowerState was interrupted
2022-11-08 19:12:01,344 [s0@group-43D494F41C81-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:12:01,344 [s0@group-43D494F41C81-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:12:01,344 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-43D494F41C81 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-43D494F41C81:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-43D494F41C81-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:12:01,344 [s1@group-43D494F41C81-LeaderElection101] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-43D494F41C81-LeaderElection101: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:12:01,344 [s1@group-43D494F41C81-LeaderElection101] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2022-11-08 19:12:01,344 [s1@group-43D494F41C81-LeaderElection101] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-43D494F41C81-LeaderElection101 ELECTION round 0: result PASSED
2022-11-08 19:12:01,344 [s1@group-43D494F41C81-LeaderElection101] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-43D494F41C81-LeaderElection101
2022-11-08 19:12:01,344 [s1@group-43D494F41C81-LeaderElection101] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-43D494F41C81: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-08 19:12:01,344 [s1@group-43D494F41C81-LeaderElection101] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-43D494F41C81: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 176ms
2022-11-08 19:12:01,344 [s1@group-43D494F41C81-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:12:01,345 [s1@group-43D494F41C81-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:12:01,345 [s1@group-43D494F41C81-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:12:01,345 [s1@group-43D494F41C81-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:12:01,345 [s1@group-43D494F41C81-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:12:01,345 [s1@group-43D494F41C81-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:12:01,345 [s1@group-43D494F41C81-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:12:01,345 [s1@group-43D494F41C81-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:12:01,345 [s1@group-43D494F41C81-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:12:01,345 [s1@group-43D494F41C81-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:01,345 [s1@group-43D494F41C81-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:12:01,345 [s1@group-43D494F41C81-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:12:01,345 [s1@group-43D494F41C81-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:01,345 [s1@group-43D494F41C81-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:12:01,345 [s1@group-43D494F41C81-LeaderElection101] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-43D494F41C81-LeaderStateImpl
2022-11-08 19:12:01,345 [s1@group-43D494F41C81-LeaderElection101] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-43D494F41C81-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:12:01,349 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-43D494F41C81: change Leader from null to s1 at term 1 for appendEntries, leader elected after 183ms
2022-11-08 19:12:01,349 [s1@group-43D494F41C81-LeaderElection101] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-43D494F41C81: set configuration 0: peers:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:12:01,350 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-43D494F41C81: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:3127, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40041"
dataStreamAddress: "localhost:36413"
clientAddress: "localhost:38735"
adminAddress: "localhost:34001"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:40139"
dataStreamAddress: "localhost:42003"
clientAddress: "localhost:42395"
adminAddress: "localhost:34967"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:12:01,350 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-43D494F41C81: set configuration 0: peers:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:12:01,350 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-43D494F41C81-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:12:01,353 [s1@group-43D494F41C81-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-43D494F41C81-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s1/846978e7-0517-4309-a72a-43d494f41c81/current/log_inprogress_0
2022-11-08 19:12:01,358 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-43D494F41C81: change Leader from null to s1 at term 1 for appendEntries, leader elected after 188ms
2022-11-08 19:12:01,364 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-43D494F41C81: receive appendEntries(s1, 1, null, 0, false, commits:[s1:c0, s0:c-1, s2:c-1], cId:3128, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40041"
dataStreamAddress: "localhost:36413"
clientAddress: "localhost:38735"
adminAddress: "localhost:34001"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:40139"
dataStreamAddress: "localhost:42003"
clientAddress: "localhost:42395"
adminAddress: "localhost:34967"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:12:01,364 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-43D494F41C81: set configuration 0: peers:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:12:01,364 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-43D494F41C81-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:12:01,371 [s0@group-43D494F41C81-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-43D494F41C81-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s0/846978e7-0517-4309-a72a-43d494f41c81/current/log_inprogress_0
2022-11-08 19:12:01,372 [s2@group-43D494F41C81-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-43D494F41C81-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc317bac0/s2/846978e7-0517-4309-a72a-43d494f41c81/current/log_inprogress_0
2022-11-08 19:12:01,379 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-43D494F41C81: succeeded to handle AppendEntries. Reply: s1<-s0#3127:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:12:01,381 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-43D494F41C81: succeeded to handle AppendEntries. Reply: s1<-s2#3128:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-08 19:12:01,640 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-43D494F41C81:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-43D494F41C81-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-43D494F41C81:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-43D494F41C81-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  LISTENER s2@group-43D494F41C81:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-43D494F41C81-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER], old=null RUNNING
2022-11-08 19:12:01,640 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:12:01,641 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s1@group-43D494F41C81: receive client request(RaftClientRequest:client-FA9375069774->s1@group-43D494F41C81, cid=3153, seq=0, RW, message)
2022-11-08 19:12:01,641 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(410)) - s1@group-43D494F41C81-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-FA9375069774->s1@group-43D494F41C81, cid=3153, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 3153@client-FA9375069774
2022-11-08 19:12:01,642 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-43D494F41C81: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:3155, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 3153@client-FA9375069774]
2022-11-08 19:12:01,642 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-43D494F41C81: receive appendEntries(s1, 1, (t:1, i:0), 0, false, commits:[s1:c0, s0:c0, s2:c0], cId:3154, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 3153@client-FA9375069774]
2022-11-08 19:12:01,642 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-43D494F41C81: succeeded to handle AppendEntries. Reply: s1<-s0#3155:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-08 19:12:01,642 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-43D494F41C81: succeeded to handle AppendEntries. Reply: s1<-s2#3154:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-08 19:12:01,643 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-43D494F41C81: receive appendEntries(s1, 1, (t:1, i:1), 1, false, commits:[s1:c1, s0:c0, s2:c0], cId:3156, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-08 19:12:01,643 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-43D494F41C81: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:3157, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-08 19:12:01,643 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-43D494F41C81: succeeded to handle AppendEntries. Reply: s1<-s2#3156:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-08 19:12:01,643 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-43D494F41C81: succeeded to handle AppendEntries. Reply: s1<-s0#3157:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-08 19:12:01,644 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1188)) - s1@group-43D494F41C81: receive setConfiguration SetConfigurationRequest:client-FA9375069774->s1@group-43D494F41C81, cid=3158, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER], listeners:[]
2022-11-08 19:12:01,644 [s1-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(377)) - s1@group-43D494F41C81-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-FA9375069774->s1@group-43D494F41C81, cid=3158, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER], listeners:[]
2022-11-08 19:12:01,644 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-43D494F41C81: set configuration 3: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER]
2022-11-08 19:12:01,644 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-43D494F41C81: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits:[s1:c2, s0:c1, s2:c1], cId:3163, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:40041"
dataStreamAddress: "localhost:36413"
clientAddress: "localhost:38735"
adminAddress: "localhost:34001"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:40139"
dataStreamAddress: "localhost:42003"
clientAddress: "localhost:42395"
adminAddress: "localhost:34967"
startupRole: FOLLOWER
)]
2022-11-08 19:12:01,644 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-43D494F41C81: receive appendEntries(s1, 1, (t:1, i:2), 2, false, commits:[s1:c2, s0:c1, s2:c1], cId:3164, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:40041"
dataStreamAddress: "localhost:36413"
clientAddress: "localhost:38735"
adminAddress: "localhost:34001"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:40139"
dataStreamAddress: "localhost:42003"
clientAddress: "localhost:42395"
adminAddress: "localhost:34967"
startupRole: FOLLOWER
)]
2022-11-08 19:12:01,645 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-43D494F41C81: set configuration 3: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER]
2022-11-08 19:12:01,645 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-43D494F41C81: set configuration 3: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:40041|admin:localhost:34001|client:localhost:38735|dataStream:localhost:36413|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40139|admin:localhost:34967|client:localhost:42395|dataStream:localhost:42003|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37539|admin:localhost:41957|client:localhost:38633|dataStream:localhost:40209|priority:0|startupRole:LISTENER]
2022-11-08 19:12:01,645 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-43D494F41C81: succeeded to handle AppendEntries. Reply: s1<-s0#3163:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-08 19:12:01,645 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-43D494F41C81: succeeded to handle AppendEntries. Reply: s1<-s2#3164:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-08 19:12:01,645 [s1@group-43D494F41C81-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-43D494F41C81: set configuration 5: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:01,646 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-43D494F41C81: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c2, s2:c2], cId:3165, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:12:01,646 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-43D494F41C81: set configuration 5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:01,646 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-43D494F41C81: receive appendEntries(s1, 1, (t:1, i:3), 3, false, commits:[s1:c3, s0:c2, s2:c2], cId:3166, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:12:01,646 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-43D494F41C81: set configuration 5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:01,646 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-43D494F41C81: succeeded to handle AppendEntries. Reply: s1<-s2#3166:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-08 19:12:01,646 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-43D494F41C81: succeeded to handle AppendEntries. Reply: s1<-s0#3165:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-08 19:12:01,647 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-43D494F41C81: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits:[s1:c5, s0:c3, s2:c3], cId:3167, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-08 19:12:01,647 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-43D494F41C81: receive appendEntries(s1, 1, (t:1, i:5), 5, false, commits:[s1:c5, s0:c3, s2:c3], cId:3168, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-08 19:12:01,647 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-43D494F41C81: succeeded to handle AppendEntries. Reply: s1<-s0#3167:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-08 19:12:01,648 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-43D494F41C81: succeeded to handle AppendEntries. Reply: s1<-s2#3168:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-08 19:12:01,648 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-08 19:12:01,648 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-08 19:12:01,648 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-08 19:12:01,648 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-08 19:12:01,648 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-08 19:12:01,648 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-43D494F41C81:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-43D494F41C81-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-43D494F41C81:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-43D494F41C81-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  LISTENER s2@group-43D494F41C81:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-43D494F41C81-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:12:01,648 [MiniRaftCluster-71] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-08 19:12:01,648 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-43D494F41C81: shutdown
2022-11-08 19:12:01,648 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-43D494F41C81,id=s1
2022-11-08 19:12:01,648 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-43D494F41C81-LeaderStateImpl
2022-11-08 19:12:01,649 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-43D494F41C81-PendingRequests: sendNotLeaderResponses
2022-11-08 19:12:01,649 [s1@group-43D494F41C81->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-43D494F41C81->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:12:01,649 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,649 [MiniRaftCluster-70] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-08 19:12:01,649 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,649 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,649 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-43D494F41C81: shutdown
2022-11-08 19:12:01,649 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,649 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-43D494F41C81,id=s0
2022-11-08 19:12:01,649 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-43D494F41C81-FollowerState
2022-11-08 19:12:01,649 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,649 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-43D494F41C81-StateMachineUpdater: set stopIndex = 5
2022-11-08 19:12:01,649 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,649 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,649 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,650 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,650 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,650 [s0@group-43D494F41C81-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-43D494F41C81-FollowerState was interrupted
2022-11-08 19:12:01,650 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,650 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,650 [s1@group-43D494F41C81->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-43D494F41C81->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:12:01,650 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-43D494F41C81: applyIndex: 5
2022-11-08 19:12:01,650 [s0@group-43D494F41C81-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s0@group-43D494F41C81-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:12:01,650 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-43D494F41C81-SegmentedRaftLogWorker close()
2022-11-08 19:12:01,651 [JvmPauseMonitor52] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-08 19:12:01,652 [MiniRaftCluster-72] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-08 19:12:01,652 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-43D494F41C81: shutdown
2022-11-08 19:12:01,652 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-43D494F41C81,id=s2
2022-11-08 19:12:01,652 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-43D494F41C81-FollowerState
2022-11-08 19:12:01,652 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-43D494F41C81-StateMachineUpdater: set stopIndex = 5
2022-11-08 19:12:01,652 [s2@group-43D494F41C81-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-43D494F41C81-FollowerState was interrupted
2022-11-08 19:12:01,653 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-43D494F41C81-StateMachineUpdater: set stopIndex = 6
2022-11-08 19:12:01,653 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-43D494F41C81: applyIndex: 6
2022-11-08 19:12:01,653 [s1@group-43D494F41C81-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s1@group-43D494F41C81-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:12:01,653 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-43D494F41C81-SegmentedRaftLogWorker close()
2022-11-08 19:12:01,653 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-43D494F41C81: applyIndex: 5
2022-11-08 19:12:01,654 [s2@group-43D494F41C81-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s2@group-43D494F41C81-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:12:01,654 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-43D494F41C81-SegmentedRaftLogWorker close()
2022-11-08 19:12:01,654 [JvmPauseMonitor53] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-08 19:12:01,655 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,655 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,655 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,655 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,655 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,655 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:01,655 [JvmPauseMonitor54] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-08 19:12:01,655 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-08 19:12:01,655 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-08 19:12:01,655 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-08 19:12:01,655 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-08 19:12:01,655 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-08 19:12:01,655 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-08 19:12:01,656 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-43D494F41C81:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-43D494F41C81-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-43D494F41C81:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-43D494F41C81-SegmentedRaftLog:CLOSED:c6, conf=5: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED  LISTENER s2@group-43D494F41C81:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-43D494F41C81-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2022-11-08 19:12:01,659 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-08 19:12:01,660 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-08 19:12:01,660 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-08 19:12:01,660 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-08 19:12:01,660 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-08 19:12:03,266 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:12:03,266 [Time-limited test] INFO  impl.LeaderElection (LeaderElection.java:startIfNew(215)) - any@group-8CE9B90FD882-LeaderElection102: skip starting since this is already CLOSED
2022-11-08 19:12:03,267 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-08 19:12:03,268 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-08 19:12:03,268 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-08 19:12:03,268 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-08 19:12:03,276 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-11-08 19:12:03,276 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-08 19:12:03,277 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-D9F281D26034:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER, s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]
2022-11-08 19:12:03,278 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-08 19:12:03,278 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-08 19:12:03,278 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-08 19:12:03,278 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-08 19:12:03,278 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-08 19:12:03,278 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-08 19:12:03,278 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-D9F281D26034:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER, s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:12:03,278 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s3
2022-11-08 19:12:03,279 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s3 does not exist.
2022-11-08 19:12:03,279 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s3
2022-11-08 19:12:03,280 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:12:03,288 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:12:03,288 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:12:03,288 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:12:03,288 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:12:03,289 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:12:03,290 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s3] (custom)
2022-11-08 19:12:03,298 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-D9F281D26034:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER, s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER] returns group-D9F281D26034:java.util.concurrent.CompletableFuture@cef9626[Not completed]
2022-11-08 19:12:03,298 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s4, group-D9F281D26034:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER, s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:12:03,298 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s4
2022-11-08 19:12:03,299 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s4 does not exist.
2022-11-08 19:12:03,299 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s4
2022-11-08 19:12:03,300 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:12:03,300 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:12:03,300 [pool-56-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-D9F281D26034:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER, s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:12:03,300 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:12:03,300 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:12:03,301 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:12:03,301 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:12:03,301 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s4] (custom)
2022-11-08 19:12:03,301 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s4: addNew group-D9F281D26034:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER, s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER] returns group-D9F281D26034:java.util.concurrent.CompletableFuture@4b857103[Not completed]
2022-11-08 19:12:03,302 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-D9F281D26034:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER, s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:12:03,302 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s0
2022-11-08 19:12:03,302 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s0 does not exist.
2022-11-08 19:12:03,302 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s0
2022-11-08 19:12:03,302 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:12:03,302 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:12:03,303 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:12:03,303 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:12:03,303 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:12:03,303 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:12:03,303 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s0] (custom)
2022-11-08 19:12:03,300 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:12:03,304 [pool-57-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s4: new RaftServerImpl for group-D9F281D26034:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER, s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:12:03,304 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:12:03,308 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:12:03,308 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:12:03,308 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:12:03,304 [pool-58-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-D9F281D26034:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER, s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:12:03,304 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-D9F281D26034:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER, s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER] returns group-D9F281D26034:java.util.concurrent.CompletableFuture@6599dc08[Not completed]
2022-11-08 19:12:03,308 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-D9F281D26034:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER, s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:12:03,309 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s1
2022-11-08 19:12:03,309 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s1 does not exist.
2022-11-08 19:12:03,309 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s1
2022-11-08 19:12:03,304 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:12:03,309 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:12:03,309 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:12:03,309 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:12:03,310 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:12:03,310 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:12:03,310 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:12:03,310 [pool-58-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-D9F281D26034: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-08 19:12:03,310 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:12:03,310 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:12:03,310 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:12:03,311 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:12:03,311 [pool-56-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-D9F281D26034: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-08 19:12:03,311 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:12:03,311 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:12:03,312 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:12:03,312 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:12:03,312 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:12:03,312 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:12:03,312 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:12:03,312 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s1] (custom)
2022-11-08 19:12:03,311 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:12:03,313 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:12:03,313 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:12:03,313 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:12:03,313 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:12:03,313 [pool-57-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-D9F281D26034: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-08 19:12:03,313 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:12:03,313 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:12:03,313 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:12:03,314 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:12:03,314 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:12:03,315 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:12:03,315 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:12:03,319 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:12:03,320 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:12:03,320 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:12:03,320 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:12:03,327 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-D9F281D26034:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER, s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER] returns group-D9F281D26034:java.util.concurrent.CompletableFuture@3cf202f3[Not completed]
2022-11-08 19:12:03,328 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-D9F281D26034:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER, s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:12:03,328 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s2
2022-11-08 19:12:03,328 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s2 does not exist.
2022-11-08 19:12:03,328 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s2
2022-11-08 19:12:03,328 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:12:03,328 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:12:03,329 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:12:03,329 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:12:03,329 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:12:03,329 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:12:03,329 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s2] (custom)
2022-11-08 19:12:03,331 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:12:03,336 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:12:03,336 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:12:03,336 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:12:03,337 [pool-58-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:12:03,336 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:12:03,335 [pool-59-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-D9F281D26034:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER, s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:12:03,337 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:12:03,332 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:12:03,337 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:12:03,337 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:12:03,337 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:12:03,337 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:12:03,338 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:12:03,338 [pool-59-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-D9F281D26034: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-08 19:12:03,338 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:12:03,338 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:12:03,338 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:12:03,338 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:12:03,338 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:12:03,337 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:12:03,340 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:12:03,340 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:12:03,340 [pool-56-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:12:03,337 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:12:03,340 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:12:03,340 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:12:03,340 [pool-57-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:12:03,341 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:12:03,341 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:12:03,341 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:12:03,341 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:12:03,341 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:12:03,342 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-D9F281D26034:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER, s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER] returns group-D9F281D26034:java.util.concurrent.CompletableFuture@3260e3d7[Not completed]
2022-11-08 19:12:03,343 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:12:03,343 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:12:03,344 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s3] (custom)
2022-11-08 19:12:03,344 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s3/61a90cdf-f390-4dd9-8618-d9f281d26034 does not exist. Creating ...
2022-11-08 19:12:03,344 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s3/61a90cdf-f390-4dd9-8618-d9f281d26034
2022-11-08 19:12:03,346 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s3/61a90cdf-f390-4dd9-8618-d9f281d26034/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:12:03,346 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s3/61a90cdf-f390-4dd9-8618-d9f281d26034/current
2022-11-08 19:12:03,346 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s3/61a90cdf-f390-4dd9-8618-d9f281d26034/sm
2022-11-08 19:12:03,342 [pool-60-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-D9F281D26034:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER, s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:12:03,347 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:12:03,347 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s3/61a90cdf-f390-4dd9-8618-d9f281d26034 has been successfully formatted.
2022-11-08 19:12:03,349 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:12:03,349 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:12:03,349 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:03,349 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:12:03,349 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:12:03,350 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:12:03,351 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:12:03,351 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:12:03,351 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s3@group-D9F281D26034-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s3/61a90cdf-f390-4dd9-8618-d9f281d26034
2022-11-08 19:12:03,351 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:12:03,351 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:12:03,351 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:12:03,351 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:12:03,351 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:12:03,351 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:12:03,351 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:12:03,351 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:12:03,352 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:12:03,352 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:03,352 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:12:03,352 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:12:03,352 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:12:03,353 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-D9F281D26034-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:12:03,353 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-D9F281D26034-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:12:03,353 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:12:03,353 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:12:03,353 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:12:03,353 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:12:03,353 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:12:03,353 [pool-60-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-D9F281D26034: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-11-08 19:12:03,354 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:12:03,354 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:12:03,354 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:12:03,354 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:12:03,361 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:12:03,363 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:12:03,361 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(341)) - s3@group-D9F281D26034: start as a listener, conf=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:12:03,364 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-D9F281D26034: changes role from      null to LISTENER at term 0 for startAsListener
2022-11-08 19:12:03,364 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-D9F281D26034-FollowerState
2022-11-08 19:12:03,364 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:12:03,364 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:12:03,364 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:12:03,364 [pool-60-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:12:03,368 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D9F281D26034,id=s3
2022-11-08 19:12:03,368 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:12:03,368 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:12:03,368 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:12:03,372 [s3@group-D9F281D26034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:12:03,372 [s3@group-D9F281D26034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:12:03,378 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s3: start RPC server
2022-11-08 19:12:03,388 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:12:03,388 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:12:03,388 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s4] (custom)
2022-11-08 19:12:03,388 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s4/61a90cdf-f390-4dd9-8618-d9f281d26034 does not exist. Creating ...
2022-11-08 19:12:03,389 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s4/61a90cdf-f390-4dd9-8618-d9f281d26034
2022-11-08 19:12:03,390 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s4/61a90cdf-f390-4dd9-8618-d9f281d26034/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:12:03,390 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s4/61a90cdf-f390-4dd9-8618-d9f281d26034/current
2022-11-08 19:12:03,390 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s4/61a90cdf-f390-4dd9-8618-d9f281d26034/sm
2022-11-08 19:12:03,391 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s4/61a90cdf-f390-4dd9-8618-d9f281d26034 has been successfully formatted.
2022-11-08 19:12:03,391 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:12:03,391 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:12:03,391 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:03,391 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:12:03,392 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:12:03,393 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:12:03,393 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:12:03,393 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:12:03,393 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s4@group-D9F281D26034-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s4/61a90cdf-f390-4dd9-8618-d9f281d26034
2022-11-08 19:12:03,393 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:12:03,393 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:12:03,393 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:12:03,393 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:12:03,393 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:12:03,393 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:12:03,394 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:12:03,394 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:12:03,394 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:12:03,394 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:03,394 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:12:03,394 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:12:03,394 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:12:03,394 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-D9F281D26034-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:12:03,395 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-D9F281D26034-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:12:03,395 [JvmPauseMonitor55] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s3: Started
2022-11-08 19:12:03,397 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(341)) - s4@group-D9F281D26034: start as a listener, conf=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:12:03,397 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-D9F281D26034: changes role from      null to LISTENER at term 0 for startAsListener
2022-11-08 19:12:03,397 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-D9F281D26034-FollowerState
2022-11-08 19:12:03,404 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D9F281D26034,id=s4
2022-11-08 19:12:03,404 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:12:03,404 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:12:03,404 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:12:03,404 [s4@group-D9F281D26034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:12:03,404 [s4@group-D9F281D26034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:12:03,412 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s4: start RPC server
2022-11-08 19:12:03,416 [JvmPauseMonitor56] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s4: Started
2022-11-08 19:12:03,416 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:12:03,417 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:12:03,417 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s0] (custom)
2022-11-08 19:12:03,417 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s0/61a90cdf-f390-4dd9-8618-d9f281d26034 does not exist. Creating ...
2022-11-08 19:12:03,418 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s0/61a90cdf-f390-4dd9-8618-d9f281d26034
2022-11-08 19:12:03,420 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s0/61a90cdf-f390-4dd9-8618-d9f281d26034/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:12:03,420 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s0/61a90cdf-f390-4dd9-8618-d9f281d26034/current
2022-11-08 19:12:03,420 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s0/61a90cdf-f390-4dd9-8618-d9f281d26034/sm
2022-11-08 19:12:03,421 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s0/61a90cdf-f390-4dd9-8618-d9f281d26034 has been successfully formatted.
2022-11-08 19:12:03,421 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:12:03,421 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:12:03,421 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:03,422 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:12:03,422 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:12:03,422 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:12:03,423 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:12:03,423 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:12:03,423 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-D9F281D26034-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s0/61a90cdf-f390-4dd9-8618-d9f281d26034
2022-11-08 19:12:03,423 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:12:03,423 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:12:03,423 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:12:03,423 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:12:03,423 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:12:03,423 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:12:03,423 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:12:03,423 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:12:03,423 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:12:03,423 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:03,424 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:12:03,424 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:12:03,424 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:12:03,424 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-D9F281D26034-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:12:03,424 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-D9F281D26034-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:12:03,424 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-D9F281D26034: start as a follower, conf=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:12:03,424 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-D9F281D26034: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:12:03,424 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D9F281D26034-FollowerState
2022-11-08 19:12:03,425 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D9F281D26034,id=s0
2022-11-08 19:12:03,425 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:12:03,425 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:12:03,425 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:12:03,425 [s0@group-D9F281D26034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:12:03,425 [s0@group-D9F281D26034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:12:03,425 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-08 19:12:03,426 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:12:03,426 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:12:03,426 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s1] (custom)
2022-11-08 19:12:03,427 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s1/61a90cdf-f390-4dd9-8618-d9f281d26034 does not exist. Creating ...
2022-11-08 19:12:03,427 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s1/61a90cdf-f390-4dd9-8618-d9f281d26034
2022-11-08 19:12:03,427 [JvmPauseMonitor57] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-08 19:12:03,428 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s1/61a90cdf-f390-4dd9-8618-d9f281d26034/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:12:03,428 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s1/61a90cdf-f390-4dd9-8618-d9f281d26034/current
2022-11-08 19:12:03,428 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s1/61a90cdf-f390-4dd9-8618-d9f281d26034/sm
2022-11-08 19:12:03,429 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s1/61a90cdf-f390-4dd9-8618-d9f281d26034 has been successfully formatted.
2022-11-08 19:12:03,429 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:12:03,429 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:12:03,429 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:03,429 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:12:03,429 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:12:03,430 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:12:03,430 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:12:03,430 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:12:03,430 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-D9F281D26034-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s1/61a90cdf-f390-4dd9-8618-d9f281d26034
2022-11-08 19:12:03,430 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:12:03,430 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:12:03,430 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:12:03,431 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:12:03,431 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:12:03,431 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:12:03,431 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:12:03,431 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:12:03,431 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:12:03,431 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:03,431 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:12:03,431 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:12:03,431 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:12:03,431 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-D9F281D26034-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:12:03,431 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-D9F281D26034-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:12:03,431 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-D9F281D26034: start as a follower, conf=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:12:03,432 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-D9F281D26034: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:12:03,432 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-D9F281D26034-FollowerState
2022-11-08 19:12:03,432 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D9F281D26034,id=s1
2022-11-08 19:12:03,432 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:12:03,432 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:12:03,432 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:12:03,432 [s1@group-D9F281D26034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:12:03,432 [s1@group-D9F281D26034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:12:03,433 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-08 19:12:03,434 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:12:03,434 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:12:03,434 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s2] (custom)
2022-11-08 19:12:03,434 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s2/61a90cdf-f390-4dd9-8618-d9f281d26034 does not exist. Creating ...
2022-11-08 19:12:03,434 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s2/61a90cdf-f390-4dd9-8618-d9f281d26034
2022-11-08 19:12:03,434 [JvmPauseMonitor58] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-08 19:12:03,435 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s2/61a90cdf-f390-4dd9-8618-d9f281d26034/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:12:03,435 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s2/61a90cdf-f390-4dd9-8618-d9f281d26034/current
2022-11-08 19:12:03,435 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s2/61a90cdf-f390-4dd9-8618-d9f281d26034/sm
2022-11-08 19:12:03,436 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s2/61a90cdf-f390-4dd9-8618-d9f281d26034 has been successfully formatted.
2022-11-08 19:12:03,436 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:12:03,436 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:12:03,436 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:03,436 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:12:03,436 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:12:03,437 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:12:03,437 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:12:03,437 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:12:03,438 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-D9F281D26034-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s2/61a90cdf-f390-4dd9-8618-d9f281d26034
2022-11-08 19:12:03,438 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:12:03,438 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:12:03,438 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:12:03,438 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:12:03,438 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:12:03,438 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:12:03,438 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:12:03,438 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:12:03,438 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:12:03,438 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:03,438 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:12:03,438 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:12:03,438 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:12:03,438 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-D9F281D26034-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:12:03,438 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-D9F281D26034-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:12:03,441 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-D9F281D26034: start as a follower, conf=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:12:03,441 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-D9F281D26034: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:12:03,441 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-D9F281D26034-FollowerState
2022-11-08 19:12:03,444 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D9F281D26034,id=s2
2022-11-08 19:12:03,444 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:12:03,444 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:12:03,444 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:12:03,444 [s2@group-D9F281D26034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:12:03,444 [s2@group-D9F281D26034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:12:03,446 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-08 19:12:03,460 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:12:03,460 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-D9F281D26034:t0, leader=null, voted=, raftlog=Memoized:s3@group-D9F281D26034-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-D9F281D26034:t0, leader=null, voted=, raftlog=Memoized:s4@group-D9F281D26034-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-D9F281D26034:t0, leader=null, voted=, raftlog=Memoized:s0@group-D9F281D26034-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D9F281D26034:t0, leader=null, voted=, raftlog=Memoized:s1@group-D9F281D26034-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D9F281D26034:t0, leader=null, voted=, raftlog=Memoized:s2@group-D9F281D26034-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null RUNNING
2022-11-08 19:12:03,460 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-D9F281D26034:t0, leader=null, voted=, raftlog=Memoized:s3@group-D9F281D26034-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-D9F281D26034:t0, leader=null, voted=, raftlog=Memoized:s4@group-D9F281D26034-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-D9F281D26034:t0, leader=null, voted=, raftlog=Memoized:s0@group-D9F281D26034-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D9F281D26034:t0, leader=null, voted=, raftlog=Memoized:s1@group-D9F281D26034-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D9F281D26034:t0, leader=null, voted=, raftlog=Memoized:s2@group-D9F281D26034-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-D9F281D26034:t0, leader=null, voted=, raftlog=Memoized:s3@group-D9F281D26034-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-D9F281D26034:t0, leader=null, voted=, raftlog=Memoized:s4@group-D9F281D26034-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-D9F281D26034:t0, leader=null, voted=, raftlog=Memoized:s0@group-D9F281D26034-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D9F281D26034:t0, leader=null, voted=, raftlog=Memoized:s1@group-D9F281D26034-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D9F281D26034:t0, leader=null, voted=, raftlog=Memoized:s2@group-D9F281D26034-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestLeaderNotCountListenerForMajority(LeaderElectionTests.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:129)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLeaderNotCountListenerForMajority(LeaderElectionTests.java:135)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:12:03,461 [JvmPauseMonitor59] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-08 19:12:03,558 [s3@group-D9F281D26034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:12:03,558 [s3@group-D9F281D26034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:12:03,566 [s4@group-D9F281D26034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:12:03,566 [s4@group-D9F281D26034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:12:03,582 [s0@group-D9F281D26034-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-D9F281D26034-FollowerState: change to CANDIDATE, lastRpcElapsedTime:157168470ns, electionTimeout:156ms
2022-11-08 19:12:03,582 [s0@group-D9F281D26034-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-D9F281D26034-FollowerState
2022-11-08 19:12:03,582 [s0@group-D9F281D26034-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-D9F281D26034: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-08 19:12:03,582 [s0@group-D9F281D26034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:12:03,582 [s0@group-D9F281D26034-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D9F281D26034-LeaderElection103
2022-11-08 19:12:03,583 [s0@group-D9F281D26034-LeaderElection103] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-D9F281D26034-LeaderElection103 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:12:03,584 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-D9F281D26034: receive requestVote(PRE_VOTE, s0, group-D9F281D26034, 0, (t:0, i:0))
2022-11-08 19:12:03,584 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-D9F281D26034-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:12:03,585 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-D9F281D26034 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-D9F281D26034:t0, leader=null, voted=, raftlog=Memoized:s1@group-D9F281D26034-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:12:03,587 [s0@group-D9F281D26034-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:12:03,587 [s0@group-D9F281D26034-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:12:03,587 [s0@group-D9F281D26034-LeaderElection103] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-D9F281D26034-LeaderElection103: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:12:03,587 [s0@group-D9F281D26034-LeaderElection103] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2022-11-08 19:12:03,587 [s0@group-D9F281D26034-LeaderElection103] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-D9F281D26034-LeaderElection103 PRE_VOTE round 0: result PASSED
2022-11-08 19:12:03,588 [s0@group-D9F281D26034-LeaderElection103] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-D9F281D26034-LeaderElection103 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:12:03,589 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-D9F281D26034: receive requestVote(PRE_VOTE, s0, group-D9F281D26034, 0, (t:0, i:0))
2022-11-08 19:12:03,589 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-D9F281D26034-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:12:03,589 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-D9F281D26034 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-D9F281D26034:t0, leader=null, voted=, raftlog=Memoized:s2@group-D9F281D26034-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:12:03,591 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-D9F281D26034: receive requestVote(ELECTION, s0, group-D9F281D26034, 1, (t:0, i:0))
2022-11-08 19:12:03,591 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-D9F281D26034-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:12:03,591 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-D9F281D26034: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-11-08 19:12:03,591 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-D9F281D26034-FollowerState
2022-11-08 19:12:03,591 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-D9F281D26034-FollowerState
2022-11-08 19:12:03,591 [s1@group-D9F281D26034-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-D9F281D26034-FollowerState was interrupted
2022-11-08 19:12:03,591 [s0@group-D9F281D26034-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:12:03,591 [s0@group-D9F281D26034-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:12:03,592 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-D9F281D26034: receive requestVote(ELECTION, s0, group-D9F281D26034, 1, (t:0, i:0))
2022-11-08 19:12:03,592 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-D9F281D26034-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-11-08 19:12:03,592 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-D9F281D26034: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-11-08 19:12:03,592 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-D9F281D26034-FollowerState
2022-11-08 19:12:03,592 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-D9F281D26034-FollowerState
2022-11-08 19:12:03,592 [s2@group-D9F281D26034-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-D9F281D26034-FollowerState was interrupted
2022-11-08 19:12:03,594 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-D9F281D26034 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-D9F281D26034:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-D9F281D26034-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:12:03,594 [s0@group-D9F281D26034-LeaderElection103] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-D9F281D26034-LeaderElection103: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:12:03,594 [s0@group-D9F281D26034-LeaderElection103] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2022-11-08 19:12:03,594 [s0@group-D9F281D26034-LeaderElection103] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-D9F281D26034-LeaderElection103 ELECTION round 0: result PASSED
2022-11-08 19:12:03,594 [s0@group-D9F281D26034-LeaderElection103] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-D9F281D26034-LeaderElection103
2022-11-08 19:12:03,595 [s0@group-D9F281D26034-LeaderElection103] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-D9F281D26034: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-08 19:12:03,595 [s0@group-D9F281D26034-LeaderElection103] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-D9F281D26034: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 284ms
2022-11-08 19:12:03,595 [s0@group-D9F281D26034-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:12:03,595 [s0@group-D9F281D26034-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:12:03,595 [s0@group-D9F281D26034-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:12:03,595 [s0@group-D9F281D26034-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:12:03,595 [s0@group-D9F281D26034-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:12:03,595 [s0@group-D9F281D26034-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:12:03,595 [s0@group-D9F281D26034-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:12:03,595 [s0@group-D9F281D26034-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:12:03,596 [s0@group-D9F281D26034-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:12:03,596 [s0@group-D9F281D26034-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:03,596 [s0@group-D9F281D26034-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:12:03,596 [s0@group-D9F281D26034-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:12:03,596 [s0@group-D9F281D26034-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:03,596 [s0@group-D9F281D26034-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:12:03,596 [s0@group-D9F281D26034-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:12:03,596 [s0@group-D9F281D26034-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:03,596 [s0@group-D9F281D26034-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:12:03,597 [s0@group-D9F281D26034-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:12:03,597 [s0@group-D9F281D26034-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:03,597 [s0@group-D9F281D26034-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:12:03,597 [s0@group-D9F281D26034-LeaderElection103] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D9F281D26034-LeaderStateImpl
2022-11-08 19:12:03,597 [s0@group-D9F281D26034-LeaderElection103] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-D9F281D26034-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:12:03,603 [s1@group-D9F281D26034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:12:03,603 [s1@group-D9F281D26034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:12:03,604 [s2@group-D9F281D26034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:12:03,604 [s2@group-D9F281D26034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:12:03,605 [s0@group-D9F281D26034-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-D9F281D26034-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s0/61a90cdf-f390-4dd9-8618-d9f281d26034/current/log_inprogress_0
2022-11-08 19:12:03,605 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-D9F281D26034 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-D9F281D26034:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-D9F281D26034-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:12:03,610 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-D9F281D26034: change Leader from null to s0 at term 1 for appendEntries, leader elected after 271ms
2022-11-08 19:12:03,610 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-D9F281D26034: change Leader from null to s0 at term 1 for appendEntries, leader elected after 256ms
2022-11-08 19:12:03,611 [s0@group-D9F281D26034-LeaderElection103] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-D9F281D26034: set configuration 0: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:12:03,612 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s3@group-D9F281D26034: change Leader from null to s0 at term 1 for appendEntries, leader elected after 300ms
2022-11-08 19:12:03,622 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-D9F281D26034: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1, s4:c-1], cId:3277, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:45417"
dataStreamAddress: "localhost:35581"
clientAddress: "localhost:33081"
adminAddress: "localhost:46027"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41033"
dataStreamAddress: "localhost:41981"
clientAddress: "localhost:41975"
adminAddress: "localhost:40623"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:45563"
dataStreamAddress: "localhost:42169"
clientAddress: "localhost:42571"
adminAddress: "localhost:38407"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:12:03,623 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-D9F281D26034: set configuration 0: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:12:03,623 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-D9F281D26034-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:12:03,631 [s2@group-D9F281D26034-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-D9F281D26034-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s2/61a90cdf-f390-4dd9-8618-d9f281d26034/current/log_inprogress_0
2022-11-08 19:12:03,633 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s4@group-D9F281D26034: change Leader from null to s0 at term 1 for appendEntries, leader elected after 319ms
2022-11-08 19:12:03,634 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-D9F281D26034: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1, s4:c-1], cId:3283, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:45417"
dataStreamAddress: "localhost:35581"
clientAddress: "localhost:33081"
adminAddress: "localhost:46027"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41033"
dataStreamAddress: "localhost:41981"
clientAddress: "localhost:41975"
adminAddress: "localhost:40623"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:45563"
dataStreamAddress: "localhost:42169"
clientAddress: "localhost:42571"
adminAddress: "localhost:38407"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:12:03,634 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s3@group-D9F281D26034: set configuration 0: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:12:03,634 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s3@group-D9F281D26034-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:12:03,636 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D9F281D26034: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1, s4:c-1], cId:3282, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:45417"
dataStreamAddress: "localhost:35581"
clientAddress: "localhost:33081"
adminAddress: "localhost:46027"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41033"
dataStreamAddress: "localhost:41981"
clientAddress: "localhost:41975"
adminAddress: "localhost:40623"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:45563"
dataStreamAddress: "localhost:42169"
clientAddress: "localhost:42571"
adminAddress: "localhost:38407"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:12:03,636 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-D9F281D26034: set configuration 0: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:12:03,636 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-D9F281D26034-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:12:03,643 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-D9F281D26034: succeeded to handle AppendEntries. Reply: s0<-s2#3277:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:12:03,651 [s3@group-D9F281D26034-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s3@group-D9F281D26034-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s3/61a90cdf-f390-4dd9-8618-d9f281d26034/current/log_inprogress_0
2022-11-08 19:12:03,652 [s1@group-D9F281D26034-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-D9F281D26034-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s1/61a90cdf-f390-4dd9-8618-d9f281d26034/current/log_inprogress_0
2022-11-08 19:12:03,667 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D9F281D26034: succeeded to handle AppendEntries. Reply: s0<-s1#3282:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:12:03,668 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-D9F281D26034: succeeded to handle AppendEntries. Reply: s0<-s3#3283:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:12:03,669 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-D9F281D26034: receive appendEntries(s0, 1, null, 0, false, commits:[s0:c0, s1:c-1, s2:c-1, s3:c-1, s4:c-1], cId:3284, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:45417"
dataStreamAddress: "localhost:35581"
clientAddress: "localhost:33081"
adminAddress: "localhost:46027"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41033"
dataStreamAddress: "localhost:41981"
clientAddress: "localhost:41975"
adminAddress: "localhost:40623"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:45563"
dataStreamAddress: "localhost:42169"
clientAddress: "localhost:42571"
adminAddress: "localhost:38407"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:12:03,669 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s4@group-D9F281D26034: set configuration 0: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null
2022-11-08 19:12:03,669 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s4@group-D9F281D26034-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:12:03,677 [s4@group-D9F281D26034-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s4@group-D9F281D26034-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc32355f1a/s4/61a90cdf-f390-4dd9-8618-d9f281d26034/current/log_inprogress_0
2022-11-08 19:12:03,680 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-D9F281D26034: succeeded to handle AppendEntries. Reply: s0<-s4#3284:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-11-08 19:12:03,911 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-D9F281D26034:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-D9F281D26034-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-D9F281D26034:t1, leader=s0, voted=null, raftlog=Memoized:s4@group-D9F281D26034-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-D9F281D26034:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-D9F281D26034-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D9F281D26034:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-D9F281D26034-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D9F281D26034:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-D9F281D26034-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER], old=null RUNNING
2022-11-08 19:12:03,912 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:12:03,914 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(827)) - s0@group-D9F281D26034: receive client request(RaftClientRequest:client-97EBFE13C566->s0@group-D9F281D26034, cid=3321, seq=0, RW, message)
2022-11-08 19:12:03,915 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(410)) - s0@group-D9F281D26034-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-97EBFE13C566->s0@group-D9F281D26034, cid=3321, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 3321@client-97EBFE13C566
2022-11-08 19:12:03,915 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D9F281D26034: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0, s3:c0, s4:c0], cId:3322, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 3321@client-97EBFE13C566]
2022-11-08 19:12:03,915 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-D9F281D26034: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0, s3:c0, s4:c0], cId:3323, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 3321@client-97EBFE13C566]
2022-11-08 19:12:03,916 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-D9F281D26034: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits:[s0:c0, s1:c0, s2:c0, s3:c0, s4:c0], cId:3324, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 3321@client-97EBFE13C566]
2022-11-08 19:12:03,916 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-D9F281D26034: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits:[s0:c0, s1:c0, s2:c0, s3:c0, s4:c0], cId:3325, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 3321@client-97EBFE13C566]
2022-11-08 19:12:03,917 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-D9F281D26034: succeeded to handle AppendEntries. Reply: s0<-s3#3324:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-08 19:12:03,917 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-D9F281D26034: succeeded to handle AppendEntries. Reply: s0<-s2#3323:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-08 19:12:03,917 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-D9F281D26034: succeeded to handle AppendEntries. Reply: s0<-s4#3325:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-08 19:12:03,917 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D9F281D26034: succeeded to handle AppendEntries. Reply: s0<-s1#3322:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-11-08 19:12:03,918 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-D9F281D26034: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits:[s0:c1, s1:c0, s2:c0, s3:c0, s4:c0], cId:3326, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-08 19:12:03,919 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D9F281D26034: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0, s3:c0, s4:c0], cId:3328, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-08 19:12:03,919 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-D9F281D26034: succeeded to handle AppendEntries. Reply: s0<-s3#3326:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-08 19:12:03,921 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D9F281D26034: succeeded to handle AppendEntries. Reply: s0<-s1#3328:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-08 19:12:03,922 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-D9F281D26034: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits:[s0:c1, s1:c0, s2:c0, s3:c0, s4:c0], cId:3327, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-08 19:12:03,923 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-D9F281D26034: succeeded to handle AppendEntries. Reply: s0<-s4#3327:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-11-08 19:12:03,924 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-D9F281D26034: receive appendEntries(s0, 1, (t:1, i:1), 2, true, commits:[s0:c2, s1:c1, s2:c0, s3:c1, s4:c1], cId:3329, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-11-08 19:12:03,925 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-D9F281D26034: succeeded to handle AppendEntries. Reply: s0<-s2#3329:OK-t1,SUCCESS,nextIndex=3,followerCommit=2,matchIndex=2
2022-11-08 19:12:03,940 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1188)) - s0@group-D9F281D26034: receive setConfiguration SetConfigurationRequest:client-97EBFE13C566->s0@group-D9F281D26034, cid=3330, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s3|priority:0|startupRole:FOLLOWER, s4|priority:0|startupRole:FOLLOWER, s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER], listeners:[]
2022-11-08 19:12:03,940 [s0-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(377)) - s0@group-D9F281D26034-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-97EBFE13C566->s0@group-D9F281D26034, cid=3330, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s3|priority:0|startupRole:FOLLOWER, s4|priority:0|startupRole:FOLLOWER, s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER], listeners:[]
2022-11-08 19:12:03,941 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-D9F281D26034: set configuration 3: peers:[s3|priority:0|startupRole:FOLLOWER, s4|priority:0|startupRole:FOLLOWER, s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER]
2022-11-08 19:12:03,941 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-D9F281D26034: receive appendEntries(s0, 1, (t:1, i:2), 2, false, commits:[s0:c2, s1:c1, s2:c2, s3:c1, s4:c1], cId:3336, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:45417"
dataStreamAddress: "localhost:35581"
clientAddress: "localhost:33081"
adminAddress: "localhost:46027"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41033"
dataStreamAddress: "localhost:41981"
clientAddress: "localhost:41975"
adminAddress: "localhost:40623"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:45563"
dataStreamAddress: "localhost:42169"
clientAddress: "localhost:42571"
adminAddress: "localhost:38407"
startupRole: FOLLOWER
)]
2022-11-08 19:12:03,942 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D9F281D26034: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits:[s0:c2, s1:c1, s2:c2, s3:c1, s4:c1], cId:3335, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:45417"
dataStreamAddress: "localhost:35581"
clientAddress: "localhost:33081"
adminAddress: "localhost:46027"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41033"
dataStreamAddress: "localhost:41981"
clientAddress: "localhost:41975"
adminAddress: "localhost:40623"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:45563"
dataStreamAddress: "localhost:42169"
clientAddress: "localhost:42571"
adminAddress: "localhost:38407"
startupRole: FOLLOWER
)]
2022-11-08 19:12:03,942 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s4@group-D9F281D26034: set configuration 3: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER]
2022-11-08 19:12:03,942 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-D9F281D26034: set configuration 3: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER]
2022-11-08 19:12:03,942 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-D9F281D26034: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits:[s0:c2, s1:c1, s2:c2, s3:c1, s4:c1], cId:3337, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:45417"
dataStreamAddress: "localhost:35581"
clientAddress: "localhost:33081"
adminAddress: "localhost:46027"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41033"
dataStreamAddress: "localhost:41981"
clientAddress: "localhost:41975"
adminAddress: "localhost:40623"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:45563"
dataStreamAddress: "localhost:42169"
clientAddress: "localhost:42571"
adminAddress: "localhost:38407"
startupRole: FOLLOWER
)]
2022-11-08 19:12:03,943 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-D9F281D26034: receive appendEntries(s0, 1, (t:1, i:2), 2, false, commits:[s0:c2, s1:c1, s2:c2, s3:c1, s4:c1], cId:3338, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:45417"
dataStreamAddress: "localhost:35581"
clientAddress: "localhost:33081"
adminAddress: "localhost:46027"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41033"
dataStreamAddress: "localhost:41981"
clientAddress: "localhost:41975"
adminAddress: "localhost:40623"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:45563"
dataStreamAddress: "localhost:42169"
clientAddress: "localhost:42571"
adminAddress: "localhost:38407"
startupRole: FOLLOWER
)]
2022-11-08 19:12:03,943 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-D9F281D26034: set configuration 3: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER]
2022-11-08 19:12:03,943 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s3@group-D9F281D26034: set configuration 3: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:45417|admin:localhost:46027|client:localhost:33081|dataStream:localhost:35581|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41033|admin:localhost:40623|client:localhost:41975|dataStream:localhost:41981|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45563|admin:localhost:38407|client:localhost:42571|dataStream:localhost:42169|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:39151|admin:localhost:41615|client:localhost:46819|dataStream:localhost:39189|priority:0|startupRole:LISTENER, s4|rpc:localhost:36165|admin:localhost:37801|client:localhost:33053|dataStream:localhost:45049|priority:0|startupRole:LISTENER]
2022-11-08 19:12:03,944 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-D9F281D26034: succeeded to handle AppendEntries. Reply: s0<-s4#3336:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-08 19:12:03,944 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-D9F281D26034: succeeded to handle AppendEntries. Reply: s0<-s2#3337:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-08 19:12:03,944 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-D9F281D26034: succeeded to handle AppendEntries. Reply: s0<-s3#3338:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-08 19:12:03,944 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D9F281D26034: succeeded to handle AppendEntries. Reply: s0<-s1#3335:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-11-08 19:12:03,945 [s0@group-D9F281D26034-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-D9F281D26034: set configuration 5: peers:[s3|priority:0|startupRole:FOLLOWER, s4|priority:0|startupRole:FOLLOWER, s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:03,946 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-D9F281D26034: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits:[s0:c3, s1:c1, s2:c2, s3:c1, s4:c2], cId:3340, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:12:03,946 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-D9F281D26034: set configuration 5: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:03,946 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-D9F281D26034: succeeded to handle AppendEntries. Reply: s0<-s2#3340:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-08 19:12:03,946 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-D9F281D26034: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits:[s0:c3, s1:c1, s2:c2, s3:c1, s4:c2], cId:3339, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:12:03,947 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s4@group-D9F281D26034: set configuration 5: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:03,947 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-D9F281D26034: succeeded to handle AppendEntries. Reply: s0<-s4#3339:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-08 19:12:03,948 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-D9F281D26034: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits:[s0:c3, s1:c1, s2:c3, s3:c2, s4:c2], cId:3341, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:12:03,948 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s3@group-D9F281D26034: set configuration 5: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:03,949 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-D9F281D26034: succeeded to handle AppendEntries. Reply: s0<-s3#3341:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-11-08 19:12:03,949 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-D9F281D26034: receive appendEntries(s0, 1, (t:1, i:5), 5, false, commits:[s0:c5, s1:c1, s2:c3, s3:c2, s4:c3], cId:3342, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-08 19:12:03,950 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-D9F281D26034: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits:[s0:c5, s1:c1, s2:c3, s3:c2, s4:c3], cId:3343, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-08 19:12:03,950 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s4@group-D9F281D26034: succeeded to handle AppendEntries. Reply: s0<-s4#3342:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-08 19:12:03,951 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-D9F281D26034: succeeded to handle AppendEntries. Reply: s0<-s2#3343:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-08 19:12:03,951 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-D9F281D26034: receive appendEntries(s0, 1, (t:1, i:5), 5, false, commits:[s0:c5, s1:c1, s2:c3, s3:c3, s4:c5], cId:3344, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-11-08 19:12:03,952 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s3@group-D9F281D26034: succeeded to handle AppendEntries. Reply: s0<-s3#3344:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-11-08 19:12:03,952 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D9F281D26034: receive appendEntries(s0, 1, (t:1, i:3), 6, true, commits:[s0:c6, s1:c2, s2:c5, s3:c5, s4:c5], cId:3345, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:), (t:1, i:6), METADATAENTRY(c:5)]
2022-11-08 19:12:03,953 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-D9F281D26034: set configuration 5: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:03,953 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s1@group-D9F281D26034: succeeded to handle AppendEntries. Reply: s0<-s1#3345:OK-t1,SUCCESS,nextIndex=7,followerCommit=6,matchIndex=6
2022-11-08 19:12:03,957 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-11-08 19:12:03,957 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-11-08 19:12:03,957 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-11-08 19:12:03,957 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-11-08 19:12:03,957 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-11-08 19:12:03,957 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-D9F281D26034:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-D9F281D26034-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-D9F281D26034:t1, leader=s0, voted=null, raftlog=Memoized:s4@group-D9F281D26034-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-D9F281D26034:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-D9F281D26034-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s3|priority:0|startupRole:FOLLOWER, s4|priority:0|startupRole:FOLLOWER, s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D9F281D26034:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-D9F281D26034-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D9F281D26034:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-D9F281D26034-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:12:03,958 [MiniRaftCluster-76] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s3: close
2022-11-08 19:12:03,958 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s3@group-D9F281D26034: shutdown
2022-11-08 19:12:03,958 [MiniRaftCluster-77] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s4: close
2022-11-08 19:12:03,959 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,959 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,959 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,959 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,959 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,959 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,959 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,959 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D9F281D26034,id=s3
2022-11-08 19:12:03,959 [MiniRaftCluster-78] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-11-08 19:12:03,959 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,959 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,959 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s4@group-D9F281D26034: shutdown
2022-11-08 19:12:03,959 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,959 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D9F281D26034,id=s4
2022-11-08 19:12:03,959 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-D9F281D26034-FollowerState
2022-11-08 19:12:03,959 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,959 [s4@group-D9F281D26034-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-D9F281D26034-FollowerState was interrupted
2022-11-08 19:12:03,959 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,959 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,960 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-D9F281D26034: shutdown
2022-11-08 19:12:03,960 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D9F281D26034,id=s0
2022-11-08 19:12:03,960 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-D9F281D26034-LeaderStateImpl
2022-11-08 19:12:03,960 [s0@group-D9F281D26034->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-D9F281D26034->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:12:03,960 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,960 [s0@group-D9F281D26034->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-D9F281D26034->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:12:03,960 [s0@group-D9F281D26034->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-D9F281D26034->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:12:03,960 [MiniRaftCluster-79] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-11-08 19:12:03,960 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,960 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-D9F281D26034: shutdown
2022-11-08 19:12:03,960 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D9F281D26034,id=s1
2022-11-08 19:12:03,960 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-D9F281D26034-FollowerState
2022-11-08 19:12:03,960 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-D9F281D26034-StateMachineUpdater: set stopIndex = 6
2022-11-08 19:12:03,960 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,960 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,960 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-D9F281D26034: applyIndex: 6
2022-11-08 19:12:03,960 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,960 [s1@group-D9F281D26034-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s1@group-D9F281D26034-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:12:03,961 [s1@group-D9F281D26034-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-D9F281D26034-FollowerState was interrupted
2022-11-08 19:12:03,959 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-D9F281D26034-FollowerState
2022-11-08 19:12:03,961 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-D9F281D26034-StateMachineUpdater: set stopIndex = 5
2022-11-08 19:12:03,961 [s3@group-D9F281D26034-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-D9F281D26034-FollowerState was interrupted
2022-11-08 19:12:03,960 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,961 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-D9F281D26034-SegmentedRaftLogWorker close()
2022-11-08 19:12:03,960 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,960 [s0@group-D9F281D26034->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-D9F281D26034->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-11-08 19:12:03,960 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-D9F281D26034-PendingRequests: sendNotLeaderResponses
2022-11-08 19:12:03,959 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s4@group-D9F281D26034-StateMachineUpdater: set stopIndex = 5
2022-11-08 19:12:03,963 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s4@group-D9F281D26034: applyIndex: 5
2022-11-08 19:12:03,959 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,963 [s4@group-D9F281D26034-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s4@group-D9F281D26034-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:12:03,963 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s3@group-D9F281D26034: applyIndex: 5
2022-11-08 19:12:03,963 [s3@group-D9F281D26034-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s3@group-D9F281D26034-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:12:03,964 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s3@group-D9F281D26034-SegmentedRaftLogWorker close()
2022-11-08 19:12:03,965 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s4@group-D9F281D26034-SegmentedRaftLogWorker close()
2022-11-08 19:12:03,962 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-D9F281D26034-StateMachineUpdater: set stopIndex = 6
2022-11-08 19:12:03,965 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-D9F281D26034: applyIndex: 6
2022-11-08 19:12:03,965 [s0@group-D9F281D26034-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s0@group-D9F281D26034-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:12:03,966 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-D9F281D26034-SegmentedRaftLogWorker close()
2022-11-08 19:12:03,966 [JvmPauseMonitor55] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s3: Stopped
2022-11-08 19:12:03,967 [JvmPauseMonitor56] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s4: Stopped
2022-11-08 19:12:03,967 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,967 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,967 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,968 [JvmPauseMonitor58] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-11-08 19:12:03,968 [JvmPauseMonitor57] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-11-08 19:12:03,968 [MiniRaftCluster-80] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-11-08 19:12:03,968 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-D9F281D26034: shutdown
2022-11-08 19:12:03,968 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D9F281D26034,id=s2
2022-11-08 19:12:03,968 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-D9F281D26034-FollowerState
2022-11-08 19:12:03,968 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-D9F281D26034-StateMachineUpdater: set stopIndex = 5
2022-11-08 19:12:03,969 [s2@group-D9F281D26034-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-D9F281D26034-FollowerState was interrupted
2022-11-08 19:12:03,969 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-D9F281D26034: applyIndex: 5
2022-11-08 19:12:03,969 [s2@group-D9F281D26034-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(333)) - s2@group-D9F281D26034-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-11-08 19:12:03,969 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-D9F281D26034-SegmentedRaftLogWorker close()
2022-11-08 19:12:03,970 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,970 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,970 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,970 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,970 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,971 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-11-08 19:12:03,971 [JvmPauseMonitor59] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-11-08 19:12:03,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-11-08 19:12:03,972 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-08 19:12:03,972 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-08 19:12:03,972 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-08 19:12:03,972 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-08 19:12:03,978 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:12:03,979 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-11-08 19:12:03,979 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-11-08 19:12:03,979 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-11-08 19:12:03,979 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(33)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-11-08 19:12:03,981 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-11-08 19:12:03,982 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-527B857AF82B:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER]
2022-11-08 19:12:03,982 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-11-08 19:12:03,982 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-11-08 19:12:03,982 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-11-08 19:12:03,983 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-11-08 19:12:03,983 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-11-08 19:12:03,983 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-11-08 19:12:03,983 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-527B857AF82B:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:12:03,983 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s0
2022-11-08 19:12:03,983 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s0 does not exist.
2022-11-08 19:12:03,983 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s0
2022-11-08 19:12:03,984 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:12:03,984 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:12:03,984 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:12:03,984 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:12:03,984 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:12:03,985 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:12:03,985 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s0] (custom)
2022-11-08 19:12:03,985 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-527B857AF82B:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER] returns group-527B857AF82B:java.util.concurrent.CompletableFuture@3bfddbdf[Not completed]
2022-11-08 19:12:03,985 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-527B857AF82B:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:12:03,985 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s1
2022-11-08 19:12:03,986 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s1 does not exist.
2022-11-08 19:12:03,986 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s1
2022-11-08 19:12:03,986 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:12:03,986 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:12:03,986 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:12:03,986 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:12:03,986 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:12:03,986 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:12:03,986 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s1] (custom)
2022-11-08 19:12:03,989 [pool-61-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-527B857AF82B:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:12:03,990 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:12:03,990 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:12:03,990 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:12:03,990 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:12:03,990 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:12:03,990 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:12:03,990 [pool-61-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-527B857AF82B: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:12:03,991 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:12:03,991 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:12:03,991 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:12:03,992 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:12:03,992 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:12:03,994 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-527B857AF82B:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER] returns group-527B857AF82B:java.util.concurrent.CompletableFuture@512d851e[Not completed]
2022-11-08 19:12:03,994 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-527B857AF82B:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER], format? true
2022-11-08 19:12:03,994 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(170)) - deleteFully target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s2
2022-11-08 19:12:03,994 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully: target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s2 does not exist.
2022-11-08 19:12:03,994 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s2
2022-11-08 19:12:03,995 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-11-08 19:12:03,995 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-11-08 19:12:03,995 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-11-08 19:12:03,995 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-11-08 19:12:03,995 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:12:03,995 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:12:03,995 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s2] (custom)
2022-11-08 19:12:03,995 [pool-62-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-527B857AF82B:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:12:03,995 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:12:03,996 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:12:03,996 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:12:03,996 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:12:03,996 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:12:03,996 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:12:03,996 [pool-62-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-527B857AF82B: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:12:03,996 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:12:03,996 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:12:03,996 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:12:03,996 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:12:03,996 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:12:03,998 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:12:03,998 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:12:04,000 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:12:04,001 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:12:04,001 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:12:04,001 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:12:04,001 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:12:04,001 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:12:04,001 [pool-61-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:12:04,001 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:12:04,004 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-527B857AF82B:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER] returns group-527B857AF82B:java.util.concurrent.CompletableFuture@3d2d9de2[Not completed]
2022-11-08 19:12:04,004 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:12:04,004 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:12:04,008 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s0] (custom)
2022-11-08 19:12:04,008 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s0/d10dce03-881d-4cb2-9145-527b857af82b does not exist. Creating ...
2022-11-08 19:12:04,008 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s0/d10dce03-881d-4cb2-9145-527b857af82b
2022-11-08 19:12:04,008 [pool-63-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-527B857AF82B:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-11-08 19:12:04,008 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-11-08 19:12:04,009 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:12:04,009 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-11-08 19:12:04,009 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-11-08 19:12:04,009 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-11-08 19:12:04,009 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-11-08 19:12:04,009 [pool-63-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-527B857AF82B: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-11-08 19:12:04,009 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s0/d10dce03-881d-4cb2-9145-527b857af82b/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:12:04,009 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s0/d10dce03-881d-4cb2-9145-527b857af82b/current
2022-11-08 19:12:04,009 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s0/d10dce03-881d-4cb2-9145-527b857af82b/sm
2022-11-08 19:12:04,010 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-11-08 19:12:04,010 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-11-08 19:12:04,010 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-11-08 19:12:04,010 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-11-08 19:12:04,010 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-11-08 19:12:04,010 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s0/d10dce03-881d-4cb2-9145-527b857af82b has been successfully formatted.
2022-11-08 19:12:04,010 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:12:04,010 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:12:04,010 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:04,011 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:12:04,011 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:12:04,011 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:12:04,011 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:12:04,011 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:12:04,011 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-527B857AF82B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s0/d10dce03-881d-4cb2-9145-527b857af82b
2022-11-08 19:12:04,011 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:12:04,012 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:12:04,012 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:12:04,012 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:12:04,012 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:12:04,012 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:12:04,012 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:12:04,012 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:12:04,012 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:12:04,012 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:04,012 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:12:04,012 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:12:04,012 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:12:04,012 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-527B857AF82B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:12:04,012 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-527B857AF82B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:12:04,013 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-11-08 19:12:04,013 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-11-08 19:12:04,014 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-11-08 19:12:04,014 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-11-08 19:12:04,014 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-11-08 19:12:04,014 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-527B857AF82B: start as a follower, conf=-1: peers:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:04,014 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-527B857AF82B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:12:04,014 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-527B857AF82B-FollowerState
2022-11-08 19:12:04,014 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-527B857AF82B,id=s0
2022-11-08 19:12:04,014 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:12:04,014 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:12:04,014 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:12:04,015 [s0@group-527B857AF82B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:12:04,015 [s0@group-527B857AF82B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:12:04,015 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-11-08 19:12:04,016 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:12:04,016 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:12:04,016 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s1] (custom)
2022-11-08 19:12:04,016 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s1/d10dce03-881d-4cb2-9145-527b857af82b does not exist. Creating ...
2022-11-08 19:12:04,016 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s1/d10dce03-881d-4cb2-9145-527b857af82b
2022-11-08 19:12:04,017 [JvmPauseMonitor60] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-11-08 19:12:04,017 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s1/d10dce03-881d-4cb2-9145-527b857af82b/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:12:04,017 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s1/d10dce03-881d-4cb2-9145-527b857af82b/current
2022-11-08 19:12:04,017 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s1/d10dce03-881d-4cb2-9145-527b857af82b/sm
2022-11-08 19:12:04,018 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s1/d10dce03-881d-4cb2-9145-527b857af82b has been successfully formatted.
2022-11-08 19:12:04,018 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:12:04,018 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:12:04,018 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:04,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:12:04,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:12:04,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:12:04,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:12:04,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:12:04,019 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-527B857AF82B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s1/d10dce03-881d-4cb2-9145-527b857af82b
2022-11-08 19:12:04,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:12:04,020 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:12:04,020 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:12:04,020 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:12:04,020 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:12:04,020 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:12:04,020 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:12:04,020 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:12:04,020 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:12:04,020 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:04,020 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:12:04,020 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:12:04,020 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:12:04,020 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-527B857AF82B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:12:04,020 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-527B857AF82B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:12:04,020 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-527B857AF82B: start as a follower, conf=-1: peers:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:04,020 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-527B857AF82B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:12:04,020 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-527B857AF82B-FollowerState
2022-11-08 19:12:04,021 [s1@group-527B857AF82B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:12:04,021 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-527B857AF82B,id=s1
2022-11-08 19:12:04,021 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:12:04,021 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:12:04,021 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:12:04,021 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-11-08 19:12:04,021 [s1@group-527B857AF82B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:12:04,022 [JvmPauseMonitor61] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-11-08 19:12:04,022 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-11-08 19:12:04,022 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-11-08 19:12:04,022 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s2] (custom)
2022-11-08 19:12:04,022 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s2/d10dce03-881d-4cb2-9145-527b857af82b does not exist. Creating ...
2022-11-08 19:12:04,022 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s2/d10dce03-881d-4cb2-9145-527b857af82b
2022-11-08 19:12:04,023 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s2/d10dce03-881d-4cb2-9145-527b857af82b/in_use.lock acquired by nodename 5573@fv-az206-447
2022-11-08 19:12:04,023 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s2/d10dce03-881d-4cb2-9145-527b857af82b/current
2022-11-08 19:12:04,023 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s2/d10dce03-881d-4cb2-9145-527b857af82b/sm
2022-11-08 19:12:04,024 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s2/d10dce03-881d-4cb2-9145-527b857af82b has been successfully formatted.
2022-11-08 19:12:04,024 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-11-08 19:12:04,024 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-11-08 19:12:04,024 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:04,024 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-11-08 19:12:04,024 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-11-08 19:12:04,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:12:04,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-11-08 19:12:04,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-11-08 19:12:04,025 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-527B857AF82B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s2/d10dce03-881d-4cb2-9145-527b857af82b
2022-11-08 19:12:04,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:12:04,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-11-08 19:12:04,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-11-08 19:12:04,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-11-08 19:12:04,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-11-08 19:12:04,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-11-08 19:12:04,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-11-08 19:12:04,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-11-08 19:12:04,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-11-08 19:12:04,026 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:04,026 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-11-08 19:12:04,026 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-11-08 19:12:04,026 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-11-08 19:12:04,026 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-527B857AF82B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-11-08 19:12:04,026 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-527B857AF82B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-11-08 19:12:04,026 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-527B857AF82B: start as a follower, conf=-1: peers:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:04,026 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-527B857AF82B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-11-08 19:12:04,026 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-527B857AF82B-FollowerState
2022-11-08 19:12:04,026 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-527B857AF82B,id=s2
2022-11-08 19:12:04,026 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-11-08 19:12:04,026 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-11-08 19:12:04,026 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-11-08 19:12:04,027 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-11-08 19:12:04,026 [s2@group-527B857AF82B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:12:04,027 [s2@group-527B857AF82B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:12:04,027 [JvmPauseMonitor62] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-11-08 19:12:04,027 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-11-08 19:12:04,028 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-527B857AF82B:t0, leader=null, voted=, raftlog=Memoized:s0@group-527B857AF82B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-527B857AF82B:t0, leader=null, voted=, raftlog=Memoized:s1@group-527B857AF82B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-527B857AF82B:t0, leader=null, voted=, raftlog=Memoized:s2@group-527B857AF82B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-11-08 19:12:04,028 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-527B857AF82B:t0, leader=null, voted=, raftlog=Memoized:s0@group-527B857AF82B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-527B857AF82B:t0, leader=null, voted=, raftlog=Memoized:s1@group-527B857AF82B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-527B857AF82B:t0, leader=null, voted=, raftlog=Memoized:s2@group-527B857AF82B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-527B857AF82B:t0, leader=null, voted=, raftlog=Memoized:s0@group-527B857AF82B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-527B857AF82B:t0, leader=null, voted=, raftlog=Memoized:s1@group-527B857AF82B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-527B857AF82B:t0, leader=null, voted=, raftlog=Memoized:s2@group-527B857AF82B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLeaderElectionMetrics(LeaderElectionTests.java:452)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-11-08 19:12:04,182 [s1@group-527B857AF82B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-527B857AF82B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:161971570ns, electionTimeout:161ms
2022-11-08 19:12:04,183 [s1@group-527B857AF82B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-527B857AF82B-FollowerState
2022-11-08 19:12:04,183 [s1@group-527B857AF82B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-527B857AF82B: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-11-08 19:12:04,183 [s1@group-527B857AF82B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-11-08 19:12:04,183 [s1@group-527B857AF82B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-527B857AF82B-LeaderElection105
2022-11-08 19:12:04,183 [s1@group-527B857AF82B-LeaderElection105] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-527B857AF82B-LeaderElection105 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:04,184 [s1@group-527B857AF82B-LeaderElection105] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:12:04,184 [s1@group-527B857AF82B-LeaderElection105] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:12:04,184 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-527B857AF82B: receive requestVote(PRE_VOTE, s1, group-527B857AF82B, 0, (t:0, i:0))
2022-11-08 19:12:04,184 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-527B857AF82B-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:12:04,184 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-527B857AF82B replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-527B857AF82B:t0, leader=null, voted=, raftlog=Memoized:s0@group-527B857AF82B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:04,184 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-527B857AF82B: receive requestVote(PRE_VOTE, s1, group-527B857AF82B, 0, (t:0, i:0))
2022-11-08 19:12:04,184 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-527B857AF82B-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:12:04,184 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-527B857AF82B replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-527B857AF82B:t0, leader=null, voted=, raftlog=Memoized:s2@group-527B857AF82B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:04,185 [s1@group-527B857AF82B-LeaderElection105] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-527B857AF82B-LeaderElection105: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:12:04,185 [s1@group-527B857AF82B-LeaderElection105] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2022-11-08 19:12:04,185 [s1@group-527B857AF82B-LeaderElection105] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-527B857AF82B-LeaderElection105 PRE_VOTE round 0: result PASSED
2022-11-08 19:12:04,186 [s1@group-527B857AF82B-LeaderElection105] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-527B857AF82B-LeaderElection105 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:04,187 [s2@group-527B857AF82B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:12:04,187 [s2@group-527B857AF82B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:12:04,187 [s1@group-527B857AF82B-LeaderElection105] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:12:04,187 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-527B857AF82B: receive requestVote(ELECTION, s1, group-527B857AF82B, 1, (t:0, i:0))
2022-11-08 19:12:04,187 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-527B857AF82B-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:12:04,187 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-527B857AF82B: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-11-08 19:12:04,188 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-527B857AF82B-FollowerState
2022-11-08 19:12:04,188 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-527B857AF82B-FollowerState
2022-11-08 19:12:04,188 [s0@group-527B857AF82B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-527B857AF82B-FollowerState was interrupted
2022-11-08 19:12:04,187 [s1@group-527B857AF82B-LeaderElection105] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:12:04,188 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-527B857AF82B: receive requestVote(ELECTION, s1, group-527B857AF82B, 1, (t:0, i:0))
2022-11-08 19:12:04,188 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-527B857AF82B-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-11-08 19:12:04,188 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-527B857AF82B: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-11-08 19:12:04,188 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-527B857AF82B-FollowerState
2022-11-08 19:12:04,188 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-527B857AF82B-FollowerState
2022-11-08 19:12:04,188 [s2@group-527B857AF82B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-527B857AF82B-FollowerState was interrupted
2022-11-08 19:12:04,190 [s0@group-527B857AF82B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:12:04,190 [s0@group-527B857AF82B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:12:04,190 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-527B857AF82B replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-527B857AF82B:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-527B857AF82B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:04,191 [s1@group-527B857AF82B-LeaderElection105] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-527B857AF82B-LeaderElection105: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-11-08 19:12:04,191 [s1@group-527B857AF82B-LeaderElection105] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2022-11-08 19:12:04,191 [s1@group-527B857AF82B-LeaderElection105] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-527B857AF82B-LeaderElection105 ELECTION round 0: result PASSED
2022-11-08 19:12:04,191 [s1@group-527B857AF82B-LeaderElection105] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-527B857AF82B-LeaderElection105
2022-11-08 19:12:04,191 [s1@group-527B857AF82B-LeaderElection105] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-527B857AF82B: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-11-08 19:12:04,191 [s1@group-527B857AF82B-LeaderElection105] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-527B857AF82B: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 194ms
2022-11-08 19:12:04,191 [s1@group-527B857AF82B-LeaderElection105] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-11-08 19:12:04,191 [s2@group-527B857AF82B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-11-08 19:12:04,191 [s2@group-527B857AF82B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-11-08 19:12:04,191 [s1@group-527B857AF82B-LeaderElection105] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:12:04,191 [s1@group-527B857AF82B-LeaderElection105] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-11-08 19:12:04,191 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-527B857AF82B replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-527B857AF82B:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-527B857AF82B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:04,192 [s1@group-527B857AF82B-LeaderElection105] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-11-08 19:12:04,192 [s1@group-527B857AF82B-LeaderElection105] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-11-08 19:12:04,192 [s1@group-527B857AF82B-LeaderElection105] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-11-08 19:12:04,192 [s1@group-527B857AF82B-LeaderElection105] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-11-08 19:12:04,192 [s1@group-527B857AF82B-LeaderElection105] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-11-08 19:12:04,193 [s1@group-527B857AF82B-LeaderElection105] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:12:04,193 [s1@group-527B857AF82B-LeaderElection105] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:04,193 [s1@group-527B857AF82B-LeaderElection105] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:12:04,193 [s1@group-527B857AF82B-LeaderElection105] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-11-08 19:12:04,193 [s1@group-527B857AF82B-LeaderElection105] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-11-08 19:12:04,193 [s1@group-527B857AF82B-LeaderElection105] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-11-08 19:12:04,193 [s1@group-527B857AF82B-LeaderElection105] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-527B857AF82B-LeaderStateImpl
2022-11-08 19:12:04,193 [s1@group-527B857AF82B-LeaderElection105] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-527B857AF82B-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:12:04,197 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-527B857AF82B: change Leader from null to s1 at term 1 for appendEntries, leader elected after 207ms
2022-11-08 19:12:04,198 [s1@group-527B857AF82B-LeaderElection105] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-527B857AF82B: set configuration 0: peers:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:04,198 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-527B857AF82B: change Leader from null to s1 at term 1 for appendEntries, leader elected after 188ms
2022-11-08 19:12:04,199 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-527B857AF82B: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:3362, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:36043"
dataStreamAddress: "localhost:44805"
clientAddress: "localhost:35497"
adminAddress: "localhost:37259"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:33647"
dataStreamAddress: "localhost:40307"
clientAddress: "localhost:41843"
adminAddress: "localhost:44463"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:38907"
dataStreamAddress: "localhost:44133"
clientAddress: "localhost:32867"
adminAddress: "localhost:37187"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:12:04,199 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-527B857AF82B: set configuration 0: peers:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:04,199 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-527B857AF82B-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:12:04,201 [s1@group-527B857AF82B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-527B857AF82B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s1/d10dce03-881d-4cb2-9145-527b857af82b/current/log_inprogress_0
2022-11-08 19:12:04,216 [s0@group-527B857AF82B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-527B857AF82B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s0/d10dce03-881d-4cb2-9145-527b857af82b/current/log_inprogress_0
2022-11-08 19:12:04,220 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-527B857AF82B: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:3363, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:36043"
dataStreamAddress: "localhost:44805"
clientAddress: "localhost:35497"
adminAddress: "localhost:37259"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:33647"
dataStreamAddress: "localhost:40307"
clientAddress: "localhost:41843"
adminAddress: "localhost:44463"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:38907"
dataStreamAddress: "localhost:44133"
clientAddress: "localhost:32867"
adminAddress: "localhost:37187"
startupRole: FOLLOWER
, old:)]
2022-11-08 19:12:04,220 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-527B857AF82B: set configuration 0: peers:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-11-08 19:12:04,221 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-527B857AF82B-SegmentedRaftLogWorker: Starting segment from index:0
2022-11-08 19:12:04,227 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s0@group-527B857AF82B: succeeded to handle AppendEntries. Reply: s1<-s0#3362:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:12:04,232 [s2@group-527B857AF82B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-527B857AF82B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/57858a89/MiniRaftClusterWithSimulatedRpc3603842f/s2/d10dce03-881d-4cb2-9145-527b857af82b/current/log_inprogress_0
2022-11-08 19:12:04,234 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1421)) - s2@group-527B857AF82B: succeeded to handle AppendEntries. Reply: s1<-s2#3363:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-11-08 19:12:04,478 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-527B857AF82B:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-527B857AF82B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-527B857AF82B:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-527B857AF82B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-527B857AF82B:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-527B857AF82B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36043|admin:localhost:37259|client:localhost:35497|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33647|admin:localhost:44463|client:localhost:41843|dataStream:localhost:40307|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38907|admin:localhost:37187|client:localhost:32867|dataStream:localhost:44133|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
