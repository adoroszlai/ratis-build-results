SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/runner/.m2/repository/org/slf4j/slf4j-log4j12/1.7.29/slf4j-log4j12-1.7.29.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/runner/.m2/repository/org/slf4j/slf4j-simple/1.7.29/slf4j-simple-1.7.29.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
SLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]
2022-08-16 16:31:39,266 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-16 16:31:39,268 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-16 16:31:39,272 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-16 16:31:39,290 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(132)) - Running runWithNewCluster
2022-08-16 16:31:39,333 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(303)) - new MiniRaftClusterWithGrpc with group-AA788A0054ED:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]
2022-08-16 16:31:39,334 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(336)) - .............................................................. 
2022-08-16 16:31:39,334 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - ... 
2022-08-16 16:31:39,334 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-16 16:31:39,334 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2022-08-16 16:31:39,334 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - .............................................................. 
2022-08-16 16:31:39,334 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(315)) - servers = {}
2022-08-16 16:31:39,340 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s0, group-AA788A0054ED:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER], format? true
2022-08-16 16:31:39,342 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s0
2022-08-16 16:31:39,344 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s0 does not exist.
2022-08-16 16:31:39,344 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s0
2022-08-16 16:31:39,368 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-16 16:31:39,418 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:39,421 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 40279 (custom)
2022-08-16 16:31:39,421 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:39,422 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45189 (custom)
2022-08-16 16:31:39,422 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:31:39,423 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 45523 (custom)
2022-08-16 16:31:39,423 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:39,425 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:39,426 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:39,427 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:39,444 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-16 16:31:39,447 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:31:39,448 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:31:39,617 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-16 16:31:39,621 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-16 16:31:39,622 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-16 16:31:39,623 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:39,623 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:39,630 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s0] (custom)
2022-08-16 16:31:39,641 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-AA788A0054ED:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER] returns group-AA788A0054ED:java.util.concurrent.CompletableFuture@5e04de1[Not completed]
2022-08-16 16:31:39,641 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s1, group-AA788A0054ED:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER], format? true
2022-08-16 16:31:39,641 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s1
2022-08-16 16:31:39,641 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s1 does not exist.
2022-08-16 16:31:39,641 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s1
2022-08-16 16:31:39,642 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-16 16:31:39,643 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:39,643 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39801 (custom)
2022-08-16 16:31:39,643 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:39,644 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43707 (custom)
2022-08-16 16:31:39,644 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:31:39,644 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 32919 (custom)
2022-08-16 16:31:39,645 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:39,646 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:39,646 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:39,647 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:39,647 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-16 16:31:39,647 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:31:39,647 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:31:39,652 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-16 16:31:39,652 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-16 16:31:39,653 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-16 16:31:39,654 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:39,654 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:39,654 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s1] (custom)
2022-08-16 16:31:39,669 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-AA788A0054ED:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER] returns group-AA788A0054ED:java.util.concurrent.CompletableFuture@65dd5687[Not completed]
2022-08-16 16:31:39,669 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:39,669 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s2, group-AA788A0054ED:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER], format? true
2022-08-16 16:31:39,670 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s2
2022-08-16 16:31:39,670 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s2 does not exist.
2022-08-16 16:31:39,670 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s2
2022-08-16 16:31:39,670 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:39,670 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-16 16:31:39,670 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:39,671 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41679 (custom)
2022-08-16 16:31:39,671 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:39,671 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:39,673 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37231 (custom)
2022-08-16 16:31:39,673 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:31:39,673 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35999 (custom)
2022-08-16 16:31:39,674 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:39,674 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:39,674 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:39,674 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:39,674 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-16 16:31:39,674 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:31:39,674 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:31:39,676 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-16 16:31:39,676 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-16 16:31:39,676 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-16 16:31:39,677 [pool-1-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-AA788A0054ED:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:39,677 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:39,678 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:39,678 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s2] (custom)
2022-08-16 16:31:39,678 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-16 16:31:39,679 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:39,679 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-16 16:31:39,679 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:39,679 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:39,679 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-16 16:31:39,681 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:39,681 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:39,681 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:39,682 [pool-2-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s1: new RaftServerImpl for group-AA788A0054ED:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:39,682 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-16 16:31:39,682 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:39,682 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-16 16:31:39,683 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:39,683 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:39,683 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-16 16:31:39,685 [pool-1-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-AA788A0054ED: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-16 16:31:39,685 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s0] (custom)
2022-08-16 16:31:39,685 [pool-2-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s1@group-AA788A0054ED: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-16 16:31:39,688 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s1] (custom)
2022-08-16 16:31:39,691 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-16 16:31:39,691 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-16 16:31:39,691 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-16 16:31:39,691 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-16 16:31:39,692 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-AA788A0054ED:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER] returns group-AA788A0054ED:java.util.concurrent.CompletableFuture@30b1b8ff[Not completed]
2022-08-16 16:31:39,696 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-16 16:31:39,697 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-16 16:31:39,700 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-16 16:31:39,700 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-16 16:31:39,703 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:39,703 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:39,703 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:39,703 [pool-3-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s2: new RaftServerImpl for group-AA788A0054ED:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:39,703 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-16 16:31:39,703 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:39,703 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-16 16:31:39,704 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:39,704 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:39,705 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-16 16:31:39,705 [pool-3-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s2@group-AA788A0054ED: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-16 16:31:39,705 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s2] (custom)
2022-08-16 16:31:39,705 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-16 16:31:39,706 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-16 16:31:39,706 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-16 16:31:39,699 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-16 16:31:39,708 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-16 16:31:39,708 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-16 16:31:39,709 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-16 16:31:39,723 [pool-1-thread-1] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2022-08-16 16:31:39,780 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:39,781 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:39,781 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-16 16:31:39,780 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:39,782 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-16 16:31:39,782 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-16 16:31:39,782 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-16 16:31:39,783 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-16 16:31:39,783 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-16 16:31:39,783 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-16 16:31:39,783 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-16 16:31:39,783 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-16 16:31:39,783 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-16 16:31:39,784 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s0/101ab5c0-0020-4632-8073-aa788a0054ed does not exist. Creating ...
2022-08-16 16:31:39,784 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-16 16:31:39,785 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-16 16:31:39,785 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s0/101ab5c0-0020-4632-8073-aa788a0054ed
2022-08-16 16:31:39,788 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s0/101ab5c0-0020-4632-8073-aa788a0054ed/in_use.lock acquired by nodename 21594@fv-az459-523.1d4eecmzj5luvpyspzf3bgtdve.dx.internal.cloudapp.net
2022-08-16 16:31:39,789 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s0/101ab5c0-0020-4632-8073-aa788a0054ed/current
2022-08-16 16:31:39,790 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s0/101ab5c0-0020-4632-8073-aa788a0054ed/sm
2022-08-16 16:31:39,796 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s0/101ab5c0-0020-4632-8073-aa788a0054ed has been successfully formatted.
2022-08-16 16:31:39,797 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:39,798 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-16 16:31:39,799 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-16 16:31:39,805 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-16 16:31:39,805 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:39,806 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-16 16:31:39,807 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-16 16:31:39,808 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:39,813 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-16 16:31:39,813 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-16 16:31:39,816 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-AA788A0054ED-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s0/101ab5c0-0020-4632-8073-aa788a0054ed
2022-08-16 16:31:39,817 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-16 16:31:39,817 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-16 16:31:39,818 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:39,818 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:39,819 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-16 16:31:39,819 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-16 16:31:39,819 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-16 16:31:39,820 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-16 16:31:39,827 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:39,828 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-16 16:31:39,828 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-16 16:31:39,829 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-16 16:31:39,834 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-AA788A0054ED-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:39,834 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-AA788A0054ED-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:39,835 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-AA788A0054ED: start as a follower, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:39,835 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-AA788A0054ED: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-16 16:31:39,836 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AA788A0054ED-FollowerState
2022-08-16 16:31:39,837 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AA788A0054ED,id=s0
2022-08-16 16:31:39,839 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-16 16:31:39,840 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-16 16:31:39,840 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-16 16:31:39,842 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s0: start RPC server
2022-08-16 16:31:39,878 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 45189
2022-08-16 16:31:39,879 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 45523
2022-08-16 16:31:39,880 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 40279
2022-08-16 16:31:39,881 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s1/101ab5c0-0020-4632-8073-aa788a0054ed does not exist. Creating ...
2022-08-16 16:31:39,882 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s1/101ab5c0-0020-4632-8073-aa788a0054ed
2022-08-16 16:31:39,882 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@add4805] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-16 16:31:39,883 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s1/101ab5c0-0020-4632-8073-aa788a0054ed/in_use.lock acquired by nodename 21594@fv-az459-523.1d4eecmzj5luvpyspzf3bgtdve.dx.internal.cloudapp.net
2022-08-16 16:31:39,884 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s1/101ab5c0-0020-4632-8073-aa788a0054ed/current
2022-08-16 16:31:39,884 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s1/101ab5c0-0020-4632-8073-aa788a0054ed/sm
2022-08-16 16:31:39,887 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s1/101ab5c0-0020-4632-8073-aa788a0054ed has been successfully formatted.
2022-08-16 16:31:39,887 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:39,887 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-16 16:31:39,887 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-16 16:31:39,887 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-16 16:31:39,887 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:39,887 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-16 16:31:39,887 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-16 16:31:39,888 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:39,888 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-16 16:31:39,888 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-16 16:31:39,888 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-AA788A0054ED-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s1/101ab5c0-0020-4632-8073-aa788a0054ed
2022-08-16 16:31:39,888 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-16 16:31:39,889 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-16 16:31:39,889 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:39,889 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:39,889 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-16 16:31:39,889 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-16 16:31:39,889 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-16 16:31:39,889 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-16 16:31:39,890 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:39,890 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-16 16:31:39,890 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-16 16:31:39,890 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-16 16:31:39,891 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-AA788A0054ED-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:39,891 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-AA788A0054ED-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:39,892 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s1@group-AA788A0054ED: start as a follower, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:39,893 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-AA788A0054ED: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-16 16:31:39,893 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AA788A0054ED-FollowerState
2022-08-16 16:31:39,893 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AA788A0054ED,id=s1
2022-08-16 16:31:39,893 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-16 16:31:39,893 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-16 16:31:39,893 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-16 16:31:39,896 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s1: start RPC server
2022-08-16 16:31:39,897 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 43707
2022-08-16 16:31:39,897 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 32919
2022-08-16 16:31:39,898 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 39801
2022-08-16 16:31:39,898 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@5119e20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-16 16:31:39,898 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s2/101ab5c0-0020-4632-8073-aa788a0054ed does not exist. Creating ...
2022-08-16 16:31:39,898 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s2/101ab5c0-0020-4632-8073-aa788a0054ed
2022-08-16 16:31:39,900 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s2/101ab5c0-0020-4632-8073-aa788a0054ed/in_use.lock acquired by nodename 21594@fv-az459-523.1d4eecmzj5luvpyspzf3bgtdve.dx.internal.cloudapp.net
2022-08-16 16:31:39,900 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s2/101ab5c0-0020-4632-8073-aa788a0054ed/current
2022-08-16 16:31:39,900 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s2/101ab5c0-0020-4632-8073-aa788a0054ed/sm
2022-08-16 16:31:39,903 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s2/101ab5c0-0020-4632-8073-aa788a0054ed has been successfully formatted.
2022-08-16 16:31:39,903 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:39,903 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-16 16:31:39,903 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-16 16:31:39,904 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-16 16:31:39,904 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:39,904 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-16 16:31:39,904 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-16 16:31:39,904 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:39,904 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-16 16:31:39,905 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-16 16:31:39,905 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-AA788A0054ED-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s2/101ab5c0-0020-4632-8073-aa788a0054ed
2022-08-16 16:31:39,905 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-16 16:31:39,905 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-16 16:31:39,905 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:39,905 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:39,905 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-16 16:31:39,905 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-16 16:31:39,905 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-16 16:31:39,905 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-16 16:31:39,906 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:39,906 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-16 16:31:39,906 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-16 16:31:39,906 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-16 16:31:39,907 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-AA788A0054ED-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:39,907 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-AA788A0054ED-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:39,908 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s2@group-AA788A0054ED: start as a follower, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:39,908 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-AA788A0054ED: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-16 16:31:39,908 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-AA788A0054ED-FollowerState
2022-08-16 16:31:39,909 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AA788A0054ED,id=s2
2022-08-16 16:31:39,909 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-16 16:31:39,909 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-16 16:31:39,909 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-16 16:31:39,916 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s2: start RPC server
2022-08-16 16:31:39,917 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 37231
2022-08-16 16:31:39,918 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 35999
2022-08-16 16:31:39,918 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 41679
2022-08-16 16:31:39,920 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@65ec63e7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-16 16:31:39,923 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:39,925 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-AA788A0054ED:t0, leader=null, voted=, raftlog=Memoized:s0@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-AA788A0054ED:t0, leader=null, voted=, raftlog=Memoized:s1@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AA788A0054ED:t0, leader=null, voted=, raftlog=Memoized:s2@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:39,935 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-AA788A0054ED:t0, leader=null, voted=, raftlog=Memoized:s0@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-AA788A0054ED:t0, leader=null, voted=, raftlog=Memoized:s1@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AA788A0054ED:t0, leader=null, voted=, raftlog=Memoized:s2@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-AA788A0054ED:t0, leader=null, voted=, raftlog=Memoized:s0@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-AA788A0054ED:t0, leader=null, voted=, raftlog=Memoized:s1@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AA788A0054ED:t0, leader=null, voted=, raftlog=Memoized:s2@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:577)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:611)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:604)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:311)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:216)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:40,104 [s1@group-AA788A0054ED-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-AA788A0054ED-FollowerState: change to CANDIDATE, lastRpcElapsedTime:211103999ns, electionTimeout:207ms
2022-08-16 16:31:40,105 [s1@group-AA788A0054ED-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-AA788A0054ED-FollowerState
2022-08-16 16:31:40,105 [s1@group-AA788A0054ED-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-AA788A0054ED: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-16 16:31:40,107 [s1@group-AA788A0054ED-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-16 16:31:40,108 [s1@group-AA788A0054ED-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AA788A0054ED-LeaderElection1
2022-08-16 16:31:40,109 [s1@group-AA788A0054ED-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-AA788A0054ED-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,145 [s0@group-AA788A0054ED-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-AA788A0054ED-FollowerState: change to CANDIDATE, lastRpcElapsedTime:309046235ns, electionTimeout:291ms
2022-08-16 16:31:40,145 [s0@group-AA788A0054ED-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-AA788A0054ED-FollowerState
2022-08-16 16:31:40,146 [s0@group-AA788A0054ED-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-AA788A0054ED: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-16 16:31:40,146 [s0@group-AA788A0054ED-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-16 16:31:40,146 [s0@group-AA788A0054ED-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AA788A0054ED-LeaderElection2
2022-08-16 16:31:40,147 [s0@group-AA788A0054ED-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-AA788A0054ED-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,182 [s0@group-AA788A0054ED-LeaderElection2-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-16 16:31:40,186 [s0@group-AA788A0054ED-LeaderElection2-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-16 16:31:40,187 [s1@group-AA788A0054ED-LeaderElection1-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-08-16 16:31:40,188 [s1@group-AA788A0054ED-LeaderElection1-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-16 16:31:40,191 [s2@group-AA788A0054ED-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-AA788A0054ED-FollowerState: change to CANDIDATE, lastRpcElapsedTime:283382616ns, electionTimeout:279ms
2022-08-16 16:31:40,192 [s2@group-AA788A0054ED-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-AA788A0054ED-FollowerState
2022-08-16 16:31:40,192 [s2@group-AA788A0054ED-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-AA788A0054ED: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-16 16:31:40,192 [s2@group-AA788A0054ED-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-16 16:31:40,192 [s2@group-AA788A0054ED-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-AA788A0054ED-LeaderElection3
2022-08-16 16:31:40,197 [s2@group-AA788A0054ED-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-AA788A0054ED-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,197 [s2@group-AA788A0054ED-LeaderElection3-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-08-16 16:31:40,197 [s2@group-AA788A0054ED-LeaderElection3-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-16 16:31:40,378 [s2@group-AA788A0054ED-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-AA788A0054ED-LeaderElection3: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-16 16:31:40,378 [s2@group-AA788A0054ED-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-AA788A0054ED-LeaderElection3 PRE_VOTE round 0: result TIMEOUT
2022-08-16 16:31:40,378 [s2@group-AA788A0054ED-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-AA788A0054ED-LeaderElection3 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,388 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-AA788A0054ED:t0, leader=null, voted=, raftlog=Memoized:s0@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-AA788A0054ED:t0, leader=null, voted=, raftlog=Memoized:s1@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-AA788A0054ED:t0, leader=null, voted=, raftlog=Memoized:s2@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-AA788A0054ED:t0, leader=null, voted=, raftlog=Memoized:s0@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-AA788A0054ED:t0, leader=null, voted=, raftlog=Memoized:s1@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-AA788A0054ED:t0, leader=null, voted=, raftlog=Memoized:s2@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:577)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:611)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:604)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:311)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:216)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:40,399 [s0@group-AA788A0054ED-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-AA788A0054ED-LeaderElection2: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-16 16:31:40,399 [s0@group-AA788A0054ED-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-AA788A0054ED-LeaderElection2 PRE_VOTE round 0: result TIMEOUT
2022-08-16 16:31:40,399 [s0@group-AA788A0054ED-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-AA788A0054ED-LeaderElection2 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,437 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-AA788A0054ED: receive requestVote(PRE_VOTE, s1, group-AA788A0054ED, 0, (t:0, i:0))
2022-08-16 16:31:40,437 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-AA788A0054ED: receive requestVote(PRE_VOTE, s2, group-AA788A0054ED, 0, (t:0, i:0))
2022-08-16 16:31:40,438 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AA788A0054ED-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-16 16:31:40,440 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-AA788A0054ED: receive requestVote(PRE_VOTE, s2, group-AA788A0054ED, 0, (t:0, i:0))
2022-08-16 16:31:40,441 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-AA788A0054ED: receive requestVote(PRE_VOTE, s0, group-AA788A0054ED, 0, (t:0, i:0))
2022-08-16 16:31:40,442 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AA788A0054ED-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-16 16:31:40,442 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-AA788A0054ED: receive requestVote(PRE_VOTE, s0, group-AA788A0054ED, 0, (t:0, i:0))
2022-08-16 16:31:40,442 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AA788A0054ED-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-16 16:31:40,443 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-AA788A0054ED replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-AA788A0054ED:t0, leader=null, voted=, raftlog=Memoized:s2@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,444 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-AA788A0054ED replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-AA788A0054ED:t0, leader=null, voted=, raftlog=Memoized:s1@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,445 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AA788A0054ED-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-16 16:31:40,445 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-AA788A0054ED replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-AA788A0054ED:t0, leader=null, voted=, raftlog=Memoized:s1@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,445 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-AA788A0054ED replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-AA788A0054ED:t0, leader=null, voted=, raftlog=Memoized:s0@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,445 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AA788A0054ED-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-16 16:31:40,445 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-AA788A0054ED replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-AA788A0054ED:t0, leader=null, voted=, raftlog=Memoized:s0@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,447 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-AA788A0054ED: receive requestVote(PRE_VOTE, s2, group-AA788A0054ED, 0, (t:0, i:0))
2022-08-16 16:31:40,447 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AA788A0054ED-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-16 16:31:40,447 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-AA788A0054ED replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-AA788A0054ED:t0, leader=null, voted=, raftlog=Memoized:s1@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,447 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-AA788A0054ED: receive requestVote(PRE_VOTE, s2, group-AA788A0054ED, 0, (t:0, i:0))
2022-08-16 16:31:40,447 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AA788A0054ED-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-16 16:31:40,448 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-AA788A0054ED replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-AA788A0054ED:t0, leader=null, voted=, raftlog=Memoized:s1@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,448 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-AA788A0054ED: receive requestVote(PRE_VOTE, s1, group-AA788A0054ED, 0, (t:0, i:0))
2022-08-16 16:31:40,448 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AA788A0054ED-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-16 16:31:40,448 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-AA788A0054ED replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-AA788A0054ED:t0, leader=null, voted=, raftlog=Memoized:s0@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,449 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-AA788A0054ED: receive requestVote(PRE_VOTE, s0, group-AA788A0054ED, 0, (t:0, i:0))
2022-08-16 16:31:40,450 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AA788A0054ED-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-16 16:31:40,450 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-AA788A0054ED replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-AA788A0054ED:t0, leader=null, voted=, raftlog=Memoized:s2@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,450 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-AA788A0054ED: receive requestVote(PRE_VOTE, s0, group-AA788A0054ED, 0, (t:0, i:0))
2022-08-16 16:31:40,450 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AA788A0054ED-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-16 16:31:40,450 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-AA788A0054ED replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-AA788A0054ED:t0, leader=null, voted=, raftlog=Memoized:s2@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,458 [s1@group-AA788A0054ED-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-AA788A0054ED-LeaderElection1: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-16 16:31:40,458 [s1@group-AA788A0054ED-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t0
2022-08-16 16:31:40,458 [s1@group-AA788A0054ED-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-AA788A0054ED-LeaderElection1 PRE_VOTE round 0: result PASSED
2022-08-16 16:31:40,460 [s1@group-AA788A0054ED-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-AA788A0054ED-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,463 [s0@group-AA788A0054ED-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-AA788A0054ED-LeaderElection2: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-16 16:31:40,463 [s0@group-AA788A0054ED-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t0
2022-08-16 16:31:40,463 [s0@group-AA788A0054ED-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-AA788A0054ED-LeaderElection2 PRE_VOTE round 1: result PASSED
2022-08-16 16:31:40,464 [s2@group-AA788A0054ED-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-AA788A0054ED-LeaderElection3: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-16 16:31:40,464 [s2@group-AA788A0054ED-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t0
2022-08-16 16:31:40,465 [s2@group-AA788A0054ED-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-AA788A0054ED-LeaderElection3 PRE_VOTE round 1: result PASSED
2022-08-16 16:31:40,465 [s0@group-AA788A0054ED-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-AA788A0054ED-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,466 [s2@group-AA788A0054ED-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-AA788A0054ED-LeaderElection3 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,466 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-AA788A0054ED: receive requestVote(ELECTION, s1, group-AA788A0054ED, 1, (t:0, i:0))
2022-08-16 16:31:40,467 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AA788A0054ED-CANDIDATE: reject ELECTION from s1: already has voted for s0 at current term 1
2022-08-16 16:31:40,467 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-AA788A0054ED replies to ELECTION vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-AA788A0054ED:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,468 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-AA788A0054ED: receive requestVote(ELECTION, s1, group-AA788A0054ED, 1, (t:0, i:0))
2022-08-16 16:31:40,468 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AA788A0054ED-CANDIDATE: reject ELECTION from s1: already has voted for s2 at current term 1
2022-08-16 16:31:40,468 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-AA788A0054ED replies to ELECTION vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-AA788A0054ED:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,471 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-AA788A0054ED: receive requestVote(ELECTION, s0, group-AA788A0054ED, 1, (t:0, i:0))
2022-08-16 16:31:40,471 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AA788A0054ED-CANDIDATE: reject ELECTION from s0: already has voted for s2 at current term 1
2022-08-16 16:31:40,472 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-AA788A0054ED replies to ELECTION vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-AA788A0054ED:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,472 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-AA788A0054ED: receive requestVote(ELECTION, s0, group-AA788A0054ED, 1, (t:0, i:0))
2022-08-16 16:31:40,472 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AA788A0054ED-CANDIDATE: reject ELECTION from s0: already has voted for s1 at current term 1
2022-08-16 16:31:40,472 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-AA788A0054ED replies to ELECTION vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-AA788A0054ED:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,473 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-AA788A0054ED: receive requestVote(ELECTION, s2, group-AA788A0054ED, 1, (t:0, i:0))
2022-08-16 16:31:40,473 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AA788A0054ED-CANDIDATE: reject ELECTION from s2: already has voted for s0 at current term 1
2022-08-16 16:31:40,473 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-AA788A0054ED replies to ELECTION vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-AA788A0054ED:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,472 [s1@group-AA788A0054ED-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-AA788A0054ED-LeaderElection1: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-08-16 16:31:40,473 [s1@group-AA788A0054ED-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:FAIL-t1
2022-08-16 16:31:40,473 [s1@group-AA788A0054ED-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s2#0:FAIL-t1
2022-08-16 16:31:40,473 [s1@group-AA788A0054ED-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-AA788A0054ED-LeaderElection1 ELECTION round 0: result REJECTED
2022-08-16 16:31:40,474 [s1@group-AA788A0054ED-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-AA788A0054ED: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-16 16:31:40,474 [s1@group-AA788A0054ED-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-AA788A0054ED-LeaderElection1
2022-08-16 16:31:40,474 [s1@group-AA788A0054ED-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AA788A0054ED-FollowerState
2022-08-16 16:31:40,477 [s0@group-AA788A0054ED-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-AA788A0054ED-LeaderElection2: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-08-16 16:31:40,477 [s0@group-AA788A0054ED-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-08-16 16:31:40,477 [s0@group-AA788A0054ED-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-08-16 16:31:40,477 [s0@group-AA788A0054ED-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-AA788A0054ED-LeaderElection2 ELECTION round 0: result REJECTED
2022-08-16 16:31:40,477 [s0@group-AA788A0054ED-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-AA788A0054ED: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-16 16:31:40,477 [s0@group-AA788A0054ED-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-AA788A0054ED-LeaderElection2
2022-08-16 16:31:40,477 [s0@group-AA788A0054ED-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AA788A0054ED-FollowerState
2022-08-16 16:31:40,479 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-AA788A0054ED: receive requestVote(ELECTION, s2, group-AA788A0054ED, 1, (t:0, i:0))
2022-08-16 16:31:40,479 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AA788A0054ED-FOLLOWER: reject ELECTION from s2: already has voted for s1 at current term 1
2022-08-16 16:31:40,479 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-AA788A0054ED replies to ELECTION vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-AA788A0054ED:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,480 [s2@group-AA788A0054ED-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-AA788A0054ED-LeaderElection3: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-08-16 16:31:40,480 [s2@group-AA788A0054ED-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:FAIL-t1
2022-08-16 16:31:40,480 [s2@group-AA788A0054ED-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s2<-s1#0:FAIL-t1
2022-08-16 16:31:40,480 [s2@group-AA788A0054ED-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-AA788A0054ED-LeaderElection3 ELECTION round 0: result REJECTED
2022-08-16 16:31:40,480 [s2@group-AA788A0054ED-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-AA788A0054ED: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-16 16:31:40,481 [s2@group-AA788A0054ED-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-AA788A0054ED-LeaderElection3
2022-08-16 16:31:40,481 [s2@group-AA788A0054ED-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-AA788A0054ED-FollowerState
2022-08-16 16:31:40,640 [s1@group-AA788A0054ED-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-AA788A0054ED-FollowerState: change to CANDIDATE, lastRpcElapsedTime:165745213ns, electionTimeout:163ms
2022-08-16 16:31:40,640 [s1@group-AA788A0054ED-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-AA788A0054ED-FollowerState
2022-08-16 16:31:40,641 [s1@group-AA788A0054ED-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-AA788A0054ED: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-16 16:31:40,641 [s1@group-AA788A0054ED-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-16 16:31:40,641 [s1@group-AA788A0054ED-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AA788A0054ED-LeaderElection4
2022-08-16 16:31:40,642 [s1@group-AA788A0054ED-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-AA788A0054ED-LeaderElection4 PRE_VOTE round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,645 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-AA788A0054ED: receive requestVote(PRE_VOTE, s1, group-AA788A0054ED, 1, (t:0, i:0))
2022-08-16 16:31:40,645 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AA788A0054ED-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-16 16:31:40,647 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-AA788A0054ED replies to PRE_VOTE vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-AA788A0054ED:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,647 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-AA788A0054ED: receive requestVote(PRE_VOTE, s1, group-AA788A0054ED, 1, (t:0, i:0))
2022-08-16 16:31:40,648 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AA788A0054ED-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-16 16:31:40,648 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-AA788A0054ED replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-AA788A0054ED:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,653 [s1@group-AA788A0054ED-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-AA788A0054ED-LeaderElection4: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-16 16:31:40,653 [s1@group-AA788A0054ED-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t1
2022-08-16 16:31:40,653 [s1@group-AA788A0054ED-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-AA788A0054ED-LeaderElection4 PRE_VOTE round 0: result PASSED
2022-08-16 16:31:40,656 [s1@group-AA788A0054ED-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-AA788A0054ED-LeaderElection4 ELECTION round 0: submit vote requests at term 2 for -1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,660 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-AA788A0054ED: receive requestVote(ELECTION, s1, group-AA788A0054ED, 2, (t:0, i:0))
2022-08-16 16:31:40,660 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AA788A0054ED-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-16 16:31:40,660 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-AA788A0054ED: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-08-16 16:31:40,660 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-AA788A0054ED-FollowerState
2022-08-16 16:31:40,662 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AA788A0054ED-FollowerState
2022-08-16 16:31:40,662 [s0@group-AA788A0054ED-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-AA788A0054ED-FollowerState was interrupted
2022-08-16 16:31:40,664 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-AA788A0054ED: receive requestVote(ELECTION, s1, group-AA788A0054ED, 2, (t:0, i:0))
2022-08-16 16:31:40,664 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AA788A0054ED-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-16 16:31:40,664 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-AA788A0054ED replies to ELECTION vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-AA788A0054ED:t2, leader=null, voted=s1, raftlog=Memoized:s0@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,664 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-AA788A0054ED: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-08-16 16:31:40,664 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-AA788A0054ED-FollowerState
2022-08-16 16:31:40,664 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-AA788A0054ED-FollowerState
2022-08-16 16:31:40,664 [s2@group-AA788A0054ED-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-AA788A0054ED-FollowerState was interrupted
2022-08-16 16:31:40,666 [s1@group-AA788A0054ED-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-AA788A0054ED-LeaderElection4: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-16 16:31:40,666 [s1@group-AA788A0054ED-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t2
2022-08-16 16:31:40,666 [s1@group-AA788A0054ED-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-AA788A0054ED-LeaderElection4 ELECTION round 0: result PASSED
2022-08-16 16:31:40,666 [s1@group-AA788A0054ED-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-AA788A0054ED-LeaderElection4
2022-08-16 16:31:40,666 [s1@group-AA788A0054ED-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-AA788A0054ED: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-08-16 16:31:40,667 [s1@group-AA788A0054ED-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-AA788A0054ED: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 970ms
2022-08-16 16:31:40,667 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-AA788A0054ED replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-AA788A0054ED:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,671 [s1@group-AA788A0054ED-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-16 16:31:40,675 [s1@group-AA788A0054ED-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-16 16:31:40,675 [s1@group-AA788A0054ED-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-16 16:31:40,680 [s1@group-AA788A0054ED-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-16 16:31:40,680 [s1@group-AA788A0054ED-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-16 16:31:40,680 [s1@group-AA788A0054ED-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-16 16:31:40,684 [s1@group-AA788A0054ED-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-16 16:31:40,686 [s1@group-AA788A0054ED-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-16 16:31:40,693 [s1@group-AA788A0054ED-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-16 16:31:40,693 [s1@group-AA788A0054ED-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:40,694 [s1@group-AA788A0054ED-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-16 16:31:40,696 [s1@group-AA788A0054ED-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-16 16:31:40,696 [s1@group-AA788A0054ED-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:40,696 [s1@group-AA788A0054ED-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:40,696 [s1@group-AA788A0054ED-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-16 16:31:40,699 [s1@group-AA788A0054ED-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-16 16:31:40,699 [s1@group-AA788A0054ED-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:40,699 [s1@group-AA788A0054ED-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-16 16:31:40,699 [s1@group-AA788A0054ED-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-16 16:31:40,699 [s1@group-AA788A0054ED-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:40,699 [s1@group-AA788A0054ED-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:40,699 [s1@group-AA788A0054ED-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-16 16:31:40,700 [s1@group-AA788A0054ED-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AA788A0054ED-LeaderStateImpl
2022-08-16 16:31:40,713 [s1@group-AA788A0054ED-LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-AA788A0054ED-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-16 16:31:40,733 [s1@group-AA788A0054ED-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-AA788A0054ED: set configuration 0: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,751 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-AA788A0054ED: change Leader from null to s1 at term 2 for appendEntries, leader elected after 1045ms
2022-08-16 16:31:40,756 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-AA788A0054ED: change Leader from null to s1 at term 2 for appendEntries, leader elected after 1058ms
2022-08-16 16:31:40,781 [s2-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-AA788A0054ED: set configuration 0: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,784 [s2-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-AA788A0054ED-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-16 16:31:40,786 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-AA788A0054ED: set configuration 0: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:40,786 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-AA788A0054ED-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-16 16:31:40,833 [s2@group-AA788A0054ED-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-AA788A0054ED-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s2/101ab5c0-0020-4632-8073-aa788a0054ed/current/log_inprogress_0
2022-08-16 16:31:40,833 [s1@group-AA788A0054ED-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-AA788A0054ED-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s1/101ab5c0-0020-4632-8073-aa788a0054ed/current/log_inprogress_0
2022-08-16 16:31:40,833 [s0@group-AA788A0054ED-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-AA788A0054ED-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5003972a/s0/101ab5c0-0020-4632-8073-aa788a0054ed/current/log_inprogress_0
2022-08-16 16:31:40,841 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-AA788A0054ED:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-AA788A0054ED:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-AA788A0054ED-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AA788A0054ED:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-AA788A0054ED-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:40,868 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:40,868 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:40,935 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-1AFD54BE041F->s0: receive RaftClientReply:client-1AFD54BE041F->s0@group-AA788A0054ED, cid=0, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-AA788A0054ED is not the leader s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c-1, s1:c0, s2:c-1]
2022-08-16 16:31:40,945 [timer0] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:40,945 [timer0] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:40,956 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-1AFD54BE041F->s1: receive RaftClientReply:client-1AFD54BE041F->s1@group-AA788A0054ED, cid=0, SUCCESS, logIndex=0, commits[s1:c0, s0:c0, s2:c0]
2022-08-16 16:31:40,980 [s1@group-AA788A0054ED-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:2, i:1), STATEMACHINELOGENTRY, 1@client-1AFD54BE041F
2022-08-16 16:31:40,984 [s2@group-AA788A0054ED-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:2, i:1), STATEMACHINELOGENTRY, 1@client-1AFD54BE041F
2022-08-16 16:31:40,985 [s0@group-AA788A0054ED-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:2, i:1), STATEMACHINELOGENTRY, 1@client-1AFD54BE041F
2022-08-16 16:31:40,987 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-1AFD54BE041F->s1: receive RaftClientReply:client-1AFD54BE041F->s1@group-AA788A0054ED, cid=1, SUCCESS, logIndex=1, commits[s1:c1, s0:c0, s2:c0]
2022-08-16 16:31:40,990 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(827)) - ************************************************************** 
2022-08-16 16:31:40,990 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(828)) - *** 
2022-08-16 16:31:40,990 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-16 16:31:40,990 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-16 16:31:40,991 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-08-16 16:31:40,991 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-AA788A0054ED:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-AA788A0054ED-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-AA788A0054ED:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-AA788A0054ED-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AA788A0054ED:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-AA788A0054ED-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:45523|admin:localhost:40279|client:localhost:45189|dataStream:localhost:37929|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32919|admin:localhost:39801|client:localhost:43707|dataStream:localhost:33791|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35999|admin:localhost:41679|client:localhost:37231|dataStream:localhost:35553|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:40,997 [java.util.concurrent.ThreadPoolExecutor$Worker@332c3be2[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s0: close
2022-08-16 16:31:40,997 [java.util.concurrent.ThreadPoolExecutor$Worker@332c3be2[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-16 16:31:40,997 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s0@group-AA788A0054ED: shutdown
2022-08-16 16:31:40,998 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AA788A0054ED,id=s0
2022-08-16 16:31:40,998 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-AA788A0054ED-FollowerState
2022-08-16 16:31:40,998 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-AA788A0054ED-StateMachineUpdater: set stopIndex = 1
2022-08-16 16:31:40,998 [s0@group-AA788A0054ED-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-AA788A0054ED-FollowerState was interrupted
2022-08-16 16:31:40,998 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s0@group-AA788A0054ED: closes. applyIndex: 1
2022-08-16 16:31:40,999 [s0@group-AA788A0054ED-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-AA788A0054ED-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-16 16:31:41,000 [java.util.concurrent.ThreadPoolExecutor$Worker@5ad1d830[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s1: close
2022-08-16 16:31:41,000 [java.util.concurrent.ThreadPoolExecutor$Worker@5ad1d830[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-16 16:31:41,000 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s1@group-AA788A0054ED: shutdown
2022-08-16 16:31:41,001 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AA788A0054ED,id=s1
2022-08-16 16:31:41,001 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-AA788A0054ED-LeaderStateImpl
2022-08-16 16:31:41,001 [s1@group-AA788A0054ED->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s1@group-AA788A0054ED->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-16 16:31:41,001 [s1@group-AA788A0054ED->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s1@group-AA788A0054ED->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-16 16:31:41,002 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#13-t2,previous=(t:2, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1)
2022-08-16 16:31:41,003 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#12-t2,previous=(t:2, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1)
2022-08-16 16:31:41,003 [java.util.concurrent.ThreadPoolExecutor$Worker@60df5b6e[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s2: close
2022-08-16 16:31:41,003 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s2@group-AA788A0054ED: shutdown
2022-08-16 16:31:41,003 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AA788A0054ED,id=s2
2022-08-16 16:31:41,003 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-AA788A0054ED-FollowerState
2022-08-16 16:31:41,003 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-AA788A0054ED-StateMachineUpdater: set stopIndex = 1
2022-08-16 16:31:41,004 [s2@group-AA788A0054ED-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-AA788A0054ED-FollowerState was interrupted
2022-08-16 16:31:41,004 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s2@group-AA788A0054ED: closes. applyIndex: 1
2022-08-16 16:31:41,004 [s2@group-AA788A0054ED-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s2@group-AA788A0054ED-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-16 16:31:41,004 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(402)) - s1@group-AA788A0054ED->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-16 16:31:41,005 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(129)) - s1@group-AA788A0054ED->s0-GrpcLogAppender: Failed to getClient for s0
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:108)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:113)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:57)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:403)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:477)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:41,001 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-AA788A0054ED-PendingRequests: sendNotLeaderResponses
2022-08-16 16:31:41,006 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-AA788A0054ED-StateMachineUpdater: set stopIndex = 2
2022-08-16 16:31:41,006 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(402)) - s1@group-AA788A0054ED->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-16 16:31:41,008 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-AA788A0054ED->s2: nextIndex: updateUnconditionally 3 -> 2
2022-08-16 16:31:41,008 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s1@group-AA788A0054ED: closes. applyIndex: 2
2022-08-16 16:31:41,008 [s1@group-AA788A0054ED-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s1@group-AA788A0054ED-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-16 16:31:41,005 [java.util.concurrent.ThreadPoolExecutor$Worker@60df5b6e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-16 16:31:41,005 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s2@group-AA788A0054ED-SegmentedRaftLogWorker close()
2022-08-16 16:31:41,003 [java.util.concurrent.ThreadPoolExecutor$Worker@5ad1d830[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-08-16 16:31:41,003 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-16 16:31:41,010 [java.util.concurrent.ThreadPoolExecutor$Worker@5ad1d830[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-16 16:31:41,010 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-16 16:31:41,011 [java.util.concurrent.ThreadPoolExecutor$Worker@5ad1d830[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-16 16:31:41,011 [java.util.concurrent.ThreadPoolExecutor$Worker@5ad1d830[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server GrpcServerProtocolService now
2022-08-16 16:31:41,009 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s1@group-AA788A0054ED-SegmentedRaftLogWorker close()
2022-08-16 16:31:41,008 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-AA788A0054ED-SegmentedRaftLogWorker close()
2022-08-16 16:31:41,012 [java.util.concurrent.ThreadPoolExecutor$Worker@60df5b6e[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-08-16 16:31:41,013 [java.util.concurrent.ThreadPoolExecutor$Worker@60df5b6e[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-16 16:31:41,014 [java.util.concurrent.ThreadPoolExecutor$Worker@60df5b6e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-16 16:31:41,014 [java.util.concurrent.ThreadPoolExecutor$Worker@60df5b6e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server GrpcServerProtocolService now
2022-08-16 16:31:41,015 [java.util.concurrent.ThreadPoolExecutor$Worker@332c3be2[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-16 16:31:41,015 [java.util.concurrent.ThreadPoolExecutor$Worker@332c3be2[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-16 16:31:41,016 [java.util.concurrent.ThreadPoolExecutor$Worker@5ad1d830[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server GrpcServerProtocolService successfully
2022-08-16 16:31:41,016 [java.util.concurrent.ThreadPoolExecutor$Worker@332c3be2[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-16 16:31:41,016 [java.util.concurrent.ThreadPoolExecutor$Worker@5ad1d830[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-16 16:31:41,016 [java.util.concurrent.ThreadPoolExecutor$Worker@60df5b6e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server GrpcServerProtocolService successfully
2022-08-16 16:31:41,016 [java.util.concurrent.ThreadPoolExecutor$Worker@332c3be2[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-16 16:31:41,016 [java.util.concurrent.ThreadPoolExecutor$Worker@5ad1d830[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-16 16:31:41,016 [java.util.concurrent.ThreadPoolExecutor$Worker@332c3be2[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-16 16:31:41,017 [java.util.concurrent.ThreadPoolExecutor$Worker@60df5b6e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-16 16:31:41,017 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@5119e20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-16 16:31:41,017 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@add4805] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-16 16:31:41,018 [java.util.concurrent.ThreadPoolExecutor$Worker@60df5b6e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-16 16:31:41,018 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@65ec63e7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-16 16:31:41,019 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(850)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-16 16:31:41,025 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-16 16:31:41,026 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-16 16:31:41,026 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-16 16:31:41,027 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(132)) - Running runWithNewCluster
2022-08-16 16:31:41,028 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(303)) - new MiniRaftClusterWithGrpc with group-A185CC0A0B9B:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER]
2022-08-16 16:31:41,028 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(336)) - .............................................................. 
2022-08-16 16:31:41,028 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - ... 
2022-08-16 16:31:41,028 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-16 16:31:41,028 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2022-08-16 16:31:41,028 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - .............................................................. 
2022-08-16 16:31:41,028 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(315)) - servers = {}
2022-08-16 16:31:41,028 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s0, group-A185CC0A0B9B:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER], format? true
2022-08-16 16:31:41,028 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s0
2022-08-16 16:31:41,029 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s0 does not exist.
2022-08-16 16:31:41,029 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s0
2022-08-16 16:31:41,029 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-16 16:31:41,029 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:41,029 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 36893 (custom)
2022-08-16 16:31:41,030 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:41,030 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42845 (custom)
2022-08-16 16:31:41,030 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:31:41,030 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35489 (custom)
2022-08-16 16:31:41,030 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:41,030 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:41,030 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:41,030 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:41,033 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-16 16:31:41,033 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:31:41,033 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:31:41,034 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-16 16:31:41,034 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-16 16:31:41,034 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-16 16:31:41,035 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:41,035 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:41,035 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s0] (custom)
2022-08-16 16:31:41,037 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-A185CC0A0B9B:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER] returns group-A185CC0A0B9B:java.util.concurrent.CompletableFuture@5d48eafc[Not completed]
2022-08-16 16:31:41,037 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s1, group-A185CC0A0B9B:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER], format? true
2022-08-16 16:31:41,037 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s1
2022-08-16 16:31:41,038 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s1 does not exist.
2022-08-16 16:31:41,038 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s1
2022-08-16 16:31:41,038 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-16 16:31:41,038 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:41,038 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41071 (custom)
2022-08-16 16:31:41,038 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:41,038 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37705 (custom)
2022-08-16 16:31:41,038 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:31:41,039 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 32983 (custom)
2022-08-16 16:31:41,039 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:41,039 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:41,039 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:41,039 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:41,039 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-16 16:31:41,039 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:31:41,039 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:31:41,040 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-16 16:31:41,040 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-16 16:31:41,040 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-16 16:31:41,041 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:41,041 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:41,041 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s1] (custom)
2022-08-16 16:31:41,042 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:41,043 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:41,043 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:41,043 [pool-6-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-A185CC0A0B9B:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:41,043 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-16 16:31:41,043 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:41,043 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-16 16:31:41,044 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:41,044 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:41,044 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-16 16:31:41,044 [pool-6-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-A185CC0A0B9B: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-16 16:31:41,044 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s0] (custom)
2022-08-16 16:31:41,044 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-16 16:31:41,046 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-16 16:31:41,046 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-16 16:31:41,047 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-16 16:31:41,047 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-16 16:31:41,048 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:41,048 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-16 16:31:41,048 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-16 16:31:41,048 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-16 16:31:41,049 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-16 16:31:41,049 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-A185CC0A0B9B:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER] returns group-A185CC0A0B9B:java.util.concurrent.CompletableFuture@43835e83[Not completed]
2022-08-16 16:31:41,049 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s2, group-A185CC0A0B9B:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER], format? true
2022-08-16 16:31:41,049 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s2
2022-08-16 16:31:41,049 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s2 does not exist.
2022-08-16 16:31:41,049 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s2
2022-08-16 16:31:41,050 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-16 16:31:41,050 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:41,050 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41117 (custom)
2022-08-16 16:31:41,050 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:41,050 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37707 (custom)
2022-08-16 16:31:41,050 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:31:41,050 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 44217 (custom)
2022-08-16 16:31:41,050 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:41,050 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:41,050 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:41,050 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:41,051 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-16 16:31:41,051 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:31:41,051 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:31:41,052 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-16 16:31:41,052 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-16 16:31:41,052 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-16 16:31:41,052 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:41,052 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:41,052 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s2] (custom)
2022-08-16 16:31:41,057 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:41,057 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:41,057 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:41,057 [pool-7-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s1: new RaftServerImpl for group-A185CC0A0B9B:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:41,057 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-16 16:31:41,058 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:41,058 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-16 16:31:41,058 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:41,058 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:41,058 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-16 16:31:41,058 [pool-7-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s1@group-A185CC0A0B9B: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-16 16:31:41,058 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s1] (custom)
2022-08-16 16:31:41,058 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-16 16:31:41,058 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-16 16:31:41,058 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-16 16:31:41,059 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-16 16:31:41,059 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-16 16:31:41,059 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:41,059 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-16 16:31:41,059 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-16 16:31:41,060 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-16 16:31:41,060 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-16 16:31:41,060 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-A185CC0A0B9B:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER] returns group-A185CC0A0B9B:java.util.concurrent.CompletableFuture@e97ef26[Not completed]
2022-08-16 16:31:41,060 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s0/d6a1f038-c304-46f6-b9d3-a185cc0a0b9b does not exist. Creating ...
2022-08-16 16:31:41,060 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s0/d6a1f038-c304-46f6-b9d3-a185cc0a0b9b
2022-08-16 16:31:41,061 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:41,061 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:41,061 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:41,061 [pool-8-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s2: new RaftServerImpl for group-A185CC0A0B9B:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:41,062 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s0/d6a1f038-c304-46f6-b9d3-a185cc0a0b9b/in_use.lock acquired by nodename 21594@fv-az459-523.1d4eecmzj5luvpyspzf3bgtdve.dx.internal.cloudapp.net
2022-08-16 16:31:41,062 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s0/d6a1f038-c304-46f6-b9d3-a185cc0a0b9b/current
2022-08-16 16:31:41,062 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s0/d6a1f038-c304-46f6-b9d3-a185cc0a0b9b/sm
2022-08-16 16:31:41,063 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-16 16:31:41,063 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:41,063 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-16 16:31:41,063 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:41,063 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:41,063 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-16 16:31:41,063 [pool-8-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s2@group-A185CC0A0B9B: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-16 16:31:41,064 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s2] (custom)
2022-08-16 16:31:41,064 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-16 16:31:41,064 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s0/d6a1f038-c304-46f6-b9d3-a185cc0a0b9b has been successfully formatted.
2022-08-16 16:31:41,064 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:41,064 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-16 16:31:41,064 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-16 16:31:41,064 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-16 16:31:41,064 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-16 16:31:41,064 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:41,065 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-16 16:31:41,065 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-16 16:31:41,065 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:41,065 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-16 16:31:41,065 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-16 16:31:41,065 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-A185CC0A0B9B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s0/d6a1f038-c304-46f6-b9d3-a185cc0a0b9b
2022-08-16 16:31:41,065 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-16 16:31:41,065 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-16 16:31:41,065 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:41,065 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:41,065 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-16 16:31:41,065 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-16 16:31:41,065 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-16 16:31:41,066 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-16 16:31:41,066 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:41,066 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-16 16:31:41,066 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-16 16:31:41,066 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-16 16:31:41,067 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-A185CC0A0B9B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:41,067 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-A185CC0A0B9B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:41,064 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-16 16:31:41,067 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-16 16:31:41,067 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-16 16:31:41,068 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:41,068 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-16 16:31:41,068 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-16 16:31:41,068 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-16 16:31:41,068 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-16 16:31:41,070 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-A185CC0A0B9B: start as a follower, conf=-1: peers:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:41,072 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-A185CC0A0B9B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-16 16:31:41,072 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A185CC0A0B9B-FollowerState
2022-08-16 16:31:41,076 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A185CC0A0B9B,id=s0
2022-08-16 16:31:41,077 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-16 16:31:41,077 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-16 16:31:41,077 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-16 16:31:41,082 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s0: start RPC server
2022-08-16 16:31:41,083 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 42845
2022-08-16 16:31:41,083 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 35489
2022-08-16 16:31:41,084 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 36893
2022-08-16 16:31:41,085 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s1/d6a1f038-c304-46f6-b9d3-a185cc0a0b9b does not exist. Creating ...
2022-08-16 16:31:41,085 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s1/d6a1f038-c304-46f6-b9d3-a185cc0a0b9b
2022-08-16 16:31:41,085 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@5739cf31] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-16 16:31:41,086 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s1/d6a1f038-c304-46f6-b9d3-a185cc0a0b9b/in_use.lock acquired by nodename 21594@fv-az459-523.1d4eecmzj5luvpyspzf3bgtdve.dx.internal.cloudapp.net
2022-08-16 16:31:41,086 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s1/d6a1f038-c304-46f6-b9d3-a185cc0a0b9b/current
2022-08-16 16:31:41,086 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s1/d6a1f038-c304-46f6-b9d3-a185cc0a0b9b/sm
2022-08-16 16:31:41,088 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s1/d6a1f038-c304-46f6-b9d3-a185cc0a0b9b has been successfully formatted.
2022-08-16 16:31:41,088 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:41,088 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-16 16:31:41,088 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-16 16:31:41,088 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-16 16:31:41,088 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:41,088 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-16 16:31:41,089 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-16 16:31:41,089 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:41,089 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-16 16:31:41,089 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-16 16:31:41,089 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-A185CC0A0B9B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s1/d6a1f038-c304-46f6-b9d3-a185cc0a0b9b
2022-08-16 16:31:41,089 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-16 16:31:41,089 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-16 16:31:41,089 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:41,089 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:41,089 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-16 16:31:41,089 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-16 16:31:41,089 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-16 16:31:41,090 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-16 16:31:41,090 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:41,090 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-16 16:31:41,090 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-16 16:31:41,090 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-16 16:31:41,090 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-A185CC0A0B9B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:41,090 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-A185CC0A0B9B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:41,096 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s1@group-A185CC0A0B9B: start as a follower, conf=-1: peers:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:41,097 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-A185CC0A0B9B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-16 16:31:41,097 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A185CC0A0B9B-FollowerState
2022-08-16 16:31:41,097 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A185CC0A0B9B,id=s1
2022-08-16 16:31:41,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-16 16:31:41,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-16 16:31:41,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-16 16:31:41,100 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s1: start RPC server
2022-08-16 16:31:41,101 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 37705
2022-08-16 16:31:41,101 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 32983
2022-08-16 16:31:41,102 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 41071
2022-08-16 16:31:41,105 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s2/d6a1f038-c304-46f6-b9d3-a185cc0a0b9b does not exist. Creating ...
2022-08-16 16:31:41,105 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s2/d6a1f038-c304-46f6-b9d3-a185cc0a0b9b
2022-08-16 16:31:41,106 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@3ccc20a8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-16 16:31:41,106 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s2/d6a1f038-c304-46f6-b9d3-a185cc0a0b9b/in_use.lock acquired by nodename 21594@fv-az459-523.1d4eecmzj5luvpyspzf3bgtdve.dx.internal.cloudapp.net
2022-08-16 16:31:41,106 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s2/d6a1f038-c304-46f6-b9d3-a185cc0a0b9b/current
2022-08-16 16:31:41,106 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s2/d6a1f038-c304-46f6-b9d3-a185cc0a0b9b/sm
2022-08-16 16:31:41,107 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s2/d6a1f038-c304-46f6-b9d3-a185cc0a0b9b has been successfully formatted.
2022-08-16 16:31:41,107 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:41,108 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-16 16:31:41,108 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-16 16:31:41,108 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-16 16:31:41,108 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:41,108 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-16 16:31:41,108 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-16 16:31:41,108 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:41,108 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-16 16:31:41,108 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-16 16:31:41,108 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-A185CC0A0B9B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s2/d6a1f038-c304-46f6-b9d3-a185cc0a0b9b
2022-08-16 16:31:41,109 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-16 16:31:41,109 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-16 16:31:41,109 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:41,109 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:41,109 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-16 16:31:41,109 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-16 16:31:41,109 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-16 16:31:41,109 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-16 16:31:41,109 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:41,109 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-16 16:31:41,109 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-16 16:31:41,109 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-16 16:31:41,110 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-A185CC0A0B9B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:41,110 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-A185CC0A0B9B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:41,112 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s2@group-A185CC0A0B9B: start as a follower, conf=-1: peers:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:41,112 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-A185CC0A0B9B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-16 16:31:41,113 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A185CC0A0B9B-FollowerState
2022-08-16 16:31:41,116 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A185CC0A0B9B,id=s2
2022-08-16 16:31:41,117 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-16 16:31:41,117 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-16 16:31:41,117 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-16 16:31:41,117 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s2: start RPC server
2022-08-16 16:31:41,118 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 37707
2022-08-16 16:31:41,120 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 44217
2022-08-16 16:31:41,121 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 41117
2022-08-16 16:31:41,121 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@25f737fb] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-16 16:31:41,122 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:41,122 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:41,133 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-2F6C829E1A9E->s0: receive RaftClientReply:client-2F6C829E1A9E->s0@group-A185CC0A0B9B, cid=2, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-A185CC0A0B9B is not the leader, logIndex=0, commits[s0:c-1]
2022-08-16 16:31:41,235 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:41,235 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:41,244 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-2F6C829E1A9E->s1: receive RaftClientReply:client-2F6C829E1A9E->s1@group-A185CC0A0B9B, cid=2, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-A185CC0A0B9B is not the leader, logIndex=0, commits[s1:c-1]
2022-08-16 16:31:41,309 [s0@group-A185CC0A0B9B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-A185CC0A0B9B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:236755616ns, electionTimeout:227ms
2022-08-16 16:31:41,310 [s0@group-A185CC0A0B9B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A185CC0A0B9B-FollowerState
2022-08-16 16:31:41,310 [s0@group-A185CC0A0B9B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-A185CC0A0B9B: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-16 16:31:41,310 [s0@group-A185CC0A0B9B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-16 16:31:41,310 [s0@group-A185CC0A0B9B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A185CC0A0B9B-LeaderElection5
2022-08-16 16:31:41,310 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-A185CC0A0B9B-LeaderElection5 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:41,311 [s0@group-A185CC0A0B9B-LeaderElection5-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-16 16:31:41,313 [s0@group-A185CC0A0B9B-LeaderElection5-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-16 16:31:41,315 [s2@group-A185CC0A0B9B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-A185CC0A0B9B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:202652326ns, electionTimeout:198ms
2022-08-16 16:31:41,315 [s2@group-A185CC0A0B9B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-A185CC0A0B9B-FollowerState
2022-08-16 16:31:41,315 [s2@group-A185CC0A0B9B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-A185CC0A0B9B: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-16 16:31:41,316 [s2@group-A185CC0A0B9B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-16 16:31:41,316 [s2@group-A185CC0A0B9B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A185CC0A0B9B-LeaderElection6
2022-08-16 16:31:41,317 [s2@group-A185CC0A0B9B-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-A185CC0A0B9B-LeaderElection6 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:41,318 [s2@group-A185CC0A0B9B-LeaderElection6-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-08-16 16:31:41,322 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-A185CC0A0B9B: receive requestVote(PRE_VOTE, s0, group-A185CC0A0B9B, 0, (t:0, i:0))
2022-08-16 16:31:41,322 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-A185CC0A0B9B-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-16 16:31:41,322 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-A185CC0A0B9B replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-A185CC0A0B9B:t0, leader=null, voted=, raftlog=Memoized:s1@group-A185CC0A0B9B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:41,323 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-A185CC0A0B9B: receive requestVote(PRE_VOTE, s0, group-A185CC0A0B9B, 0, (t:0, i:0))
2022-08-16 16:31:41,324 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-A185CC0A0B9B-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-16 16:31:41,324 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-A185CC0A0B9B replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-A185CC0A0B9B:t0, leader=null, voted=, raftlog=Memoized:s2@group-A185CC0A0B9B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:41,325 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-A185CC0A0B9B-LeaderElection5: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-16 16:31:41,326 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-08-16 16:31:41,326 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-A185CC0A0B9B-LeaderElection5 PRE_VOTE round 0: result PASSED
2022-08-16 16:31:41,326 [s2@group-A185CC0A0B9B-LeaderElection6-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-16 16:31:41,328 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-A185CC0A0B9B: receive requestVote(PRE_VOTE, s2, group-A185CC0A0B9B, 0, (t:0, i:0))
2022-08-16 16:31:41,328 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-A185CC0A0B9B-LeaderElection5 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:41,329 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-A185CC0A0B9B-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-16 16:31:41,329 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-A185CC0A0B9B replies to PRE_VOTE vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-A185CC0A0B9B:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-A185CC0A0B9B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:41,333 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-A185CC0A0B9B: receive requestVote(ELECTION, s0, group-A185CC0A0B9B, 1, (t:0, i:0))
2022-08-16 16:31:41,333 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-A185CC0A0B9B-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-16 16:31:41,333 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-A185CC0A0B9B: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-16 16:31:41,333 [s2@group-A185CC0A0B9B-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-A185CC0A0B9B-LeaderElection6: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2022-08-16 16:31:41,333 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-A185CC0A0B9B-FollowerState
2022-08-16 16:31:41,333 [s2@group-A185CC0A0B9B-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t1
2022-08-16 16:31:41,333 [s1@group-A185CC0A0B9B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-A185CC0A0B9B-FollowerState was interrupted
2022-08-16 16:31:41,333 [s2@group-A185CC0A0B9B-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-A185CC0A0B9B-LeaderElection6 PRE_VOTE round 0: result DISCOVERED_A_NEW_TERM (term=1)
2022-08-16 16:31:41,333 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A185CC0A0B9B-FollowerState
2022-08-16 16:31:41,333 [s2@group-A185CC0A0B9B-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-A185CC0A0B9B: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM (term=1)
2022-08-16 16:31:41,334 [s2@group-A185CC0A0B9B-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-A185CC0A0B9B-LeaderElection6
2022-08-16 16:31:41,334 [s2@group-A185CC0A0B9B-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A185CC0A0B9B-FollowerState
2022-08-16 16:31:41,337 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-A185CC0A0B9B: receive requestVote(ELECTION, s0, group-A185CC0A0B9B, 1, (t:0, i:0))
2022-08-16 16:31:41,337 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-A185CC0A0B9B-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-16 16:31:41,337 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-A185CC0A0B9B: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-16 16:31:41,337 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-A185CC0A0B9B-FollowerState
2022-08-16 16:31:41,337 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A185CC0A0B9B-FollowerState
2022-08-16 16:31:41,337 [s2@group-A185CC0A0B9B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-A185CC0A0B9B-FollowerState was interrupted
2022-08-16 16:31:41,338 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-A185CC0A0B9B replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-A185CC0A0B9B:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-A185CC0A0B9B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:41,339 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-A185CC0A0B9B-LeaderElection5: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-16 16:31:41,339 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-08-16 16:31:41,339 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-A185CC0A0B9B-LeaderElection5 ELECTION round 0: result PASSED
2022-08-16 16:31:41,339 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-A185CC0A0B9B-LeaderElection5
2022-08-16 16:31:41,339 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-A185CC0A0B9B: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-16 16:31:41,339 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-A185CC0A0B9B: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 292ms
2022-08-16 16:31:41,339 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-16 16:31:41,339 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-08-16 16:31:41,339 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2022-08-16 16:31:41,340 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-16 16:31:41,340 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-16 16:31:41,340 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-16 16:31:41,340 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-A185CC0A0B9B: receive requestVote(PRE_VOTE, s2, group-A185CC0A0B9B, 0, (t:0, i:0))
2022-08-16 16:31:41,340 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-A185CC0A0B9B-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-16 16:31:41,340 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-A185CC0A0B9B replies to PRE_VOTE vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-A185CC0A0B9B:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-A185CC0A0B9B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:41,340 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-08-16 16:31:41,340 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-16 16:31:41,341 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-16 16:31:41,341 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:41,341 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-16 16:31:41,341 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-16 16:31:41,341 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:41,341 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:41,341 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-16 16:31:41,342 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-16 16:31:41,342 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:41,342 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-16 16:31:41,342 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-16 16:31:41,342 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:41,342 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:41,342 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-16 16:31:41,342 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A185CC0A0B9B-LeaderStateImpl
2022-08-16 16:31:41,342 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-A185CC0A0B9B-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-16 16:31:41,347 [timer0] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:41,347 [timer0] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:41,350 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-A185CC0A0B9B replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-A185CC0A0B9B:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-A185CC0A0B9B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:41,356 [s0@group-A185CC0A0B9B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-A185CC0A0B9B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s0/d6a1f038-c304-46f6-b9d3-a185cc0a0b9b/current/log_inprogress_0
2022-08-16 16:31:41,359 [s0@group-A185CC0A0B9B-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-A185CC0A0B9B: set configuration 0: peers:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:41,362 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-A185CC0A0B9B: change Leader from null to s0 at term 1 for appendEntries, leader elected after 303ms
2022-08-16 16:31:41,363 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-A185CC0A0B9B: set configuration 0: peers:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:41,363 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-A185CC0A0B9B-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-16 16:31:41,374 [s1@group-A185CC0A0B9B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-A185CC0A0B9B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s1/d6a1f038-c304-46f6-b9d3-a185cc0a0b9b/current/log_inprogress_0
2022-08-16 16:31:41,384 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-A185CC0A0B9B: change Leader from null to s0 at term 1 for appendEntries, leader elected after 320ms
2022-08-16 16:31:41,388 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-2F6C829E1A9E->s2: receive RaftClientReply:client-2F6C829E1A9E->s2@group-A185CC0A0B9B, cid=2, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-A185CC0A0B9B is not the leader, logIndex=0, commits[s2:c-1]
2022-08-16 16:31:41,390 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-A185CC0A0B9B: set configuration 0: peers:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:41,391 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-A185CC0A0B9B-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-16 16:31:41,401 [s2@group-A185CC0A0B9B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-A185CC0A0B9B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc412841a8/s2/d6a1f038-c304-46f6-b9d3-a185cc0a0b9b/current/log_inprogress_0
2022-08-16 16:31:41,495 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:41,495 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:41,504 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-2F6C829E1A9E->s0: receive RaftClientReply:client-2F6C829E1A9E->s0@group-A185CC0A0B9B, cid=2, SUCCESS, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-08-16 16:31:41,509 [s0@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-2F6C829E1A9E
2022-08-16 16:31:41,512 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-2F6C829E1A9E->s0: receive RaftClientReply:client-2F6C829E1A9E->s0@group-A185CC0A0B9B, cid=3, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2022-08-16 16:31:41,514 [s1@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-2F6C829E1A9E
2022-08-16 16:31:41,515 [s2@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-2F6C829E1A9E
2022-08-16 16:31:41,518 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(134)) - block FLUSH_STATE_MACHINE_DATA
2022-08-16 16:31:41,519 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:41,519 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:41,523 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:41,524 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:41,532 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-005D445929B0->s0: receive RaftClientReply:client-005D445929B0->s0@group-A185CC0A0B9B, cid=4, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2022-08-16 16:31:41,540 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:41,540 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:41,543 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-F3C29EA4007E->s0: receive RaftClientReply:client-F3C29EA4007E->s0@group-A185CC0A0B9B, cid=6, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-16 16:31:41,551 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:41,555 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:41,556 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-88A12655A086->s0: receive RaftClientReply:client-88A12655A086->s0@group-A185CC0A0B9B, cid=8, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-16 16:31:41,568 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-249FCE5AA556->s0: receive RaftClientReply:client-249FCE5AA556->s0@group-A185CC0A0B9B, cid=10, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-16 16:31:41,572 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:41,577 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:41,579 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:41,583 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-E6D04329C554->s0: receive RaftClientReply:client-E6D04329C554->s0@group-A185CC0A0B9B, cid=12, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-16 16:31:41,587 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:41,596 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-B85331E5526B->s0: receive RaftClientReply:client-B85331E5526B->s0@group-A185CC0A0B9B, cid=14, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-16 16:31:41,601 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:41,601 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:41,610 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-9219E4FF51AE->s0: receive RaftClientReply:client-9219E4FF51AE->s0@group-A185CC0A0B9B, cid=16, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-16 16:31:41,611 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:41,615 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:41,624 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-F37088EB3C00->s0: receive RaftClientReply:client-F37088EB3C00->s0@group-A185CC0A0B9B, cid=18, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-16 16:31:41,632 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:41,632 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:41,638 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-E9C521F7748F->s0: receive RaftClientReply:client-E9C521F7748F->s0@group-A185CC0A0B9B, cid=20, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-16 16:31:41,646 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:41,646 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:41,648 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:41,650 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:41,651 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-4814017182A3->s0: receive RaftClientReply:client-4814017182A3->s0@group-A185CC0A0B9B, cid=22, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-16 16:31:41,663 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-E98F5FADFD35->s0: receive RaftClientReply:client-E98F5FADFD35->s0@group-A185CC0A0B9B, cid=24, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-16 16:31:41,664 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(141)) - unblock FLUSH_STATE_MACHINE_DATA
2022-08-16 16:31:41,673 [s0@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 5@client-005D445929B0
2022-08-16 16:31:41,674 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-005D445929B0->s0: receive RaftClientReply:client-005D445929B0->s0@group-A185CC0A0B9B, cid=5, SUCCESS, logIndex=3, commits[s0:c3, s1:c2, s2:c2]
2022-08-16 16:31:41,674 [s0@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 7@client-F3C29EA4007E
2022-08-16 16:31:41,675 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-F3C29EA4007E->s0: receive RaftClientReply:client-F3C29EA4007E->s0@group-A185CC0A0B9B, cid=7, SUCCESS, logIndex=4, commits[s0:c12, s1:c2, s2:c2]
2022-08-16 16:31:41,676 [s0@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 9@client-88A12655A086
2022-08-16 16:31:41,676 [s2@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 5@client-005D445929B0
2022-08-16 16:31:41,676 [s2@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 7@client-F3C29EA4007E
2022-08-16 16:31:41,677 [s2@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 9@client-88A12655A086
2022-08-16 16:31:41,677 [s2@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 11@client-249FCE5AA556
2022-08-16 16:31:41,677 [s0@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 11@client-249FCE5AA556
2022-08-16 16:31:41,677 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-88A12655A086->s0: receive RaftClientReply:client-88A12655A086->s0@group-A185CC0A0B9B, cid=9, SUCCESS, logIndex=5, commits[s0:c12, s1:c2, s2:c2]
2022-08-16 16:31:41,677 [s2@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 13@client-E6D04329C554
2022-08-16 16:31:41,678 [s2@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 15@client-B85331E5526B
2022-08-16 16:31:41,678 [s2@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 17@client-9219E4FF51AE
2022-08-16 16:31:41,678 [s2@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 19@client-F37088EB3C00
2022-08-16 16:31:41,678 [s2@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 21@client-E9C521F7748F
2022-08-16 16:31:41,679 [s2@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 23@client-4814017182A3
2022-08-16 16:31:41,679 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-249FCE5AA556->s0: receive RaftClientReply:client-249FCE5AA556->s0@group-A185CC0A0B9B, cid=11, SUCCESS, logIndex=6, commits[s0:c12, s1:c2, s2:c12]
2022-08-16 16:31:41,679 [s0@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 13@client-E6D04329C554
2022-08-16 16:31:41,680 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-E6D04329C554->s0: receive RaftClientReply:client-E6D04329C554->s0@group-A185CC0A0B9B, cid=13, SUCCESS, logIndex=7, commits[s0:c12, s1:c2, s2:c12]
2022-08-16 16:31:41,680 [s1@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 5@client-005D445929B0
2022-08-16 16:31:41,681 [s0@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 15@client-B85331E5526B
2022-08-16 16:31:41,682 [s0@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 17@client-9219E4FF51AE
2022-08-16 16:31:41,682 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-B85331E5526B->s0: receive RaftClientReply:client-B85331E5526B->s0@group-A185CC0A0B9B, cid=15, SUCCESS, logIndex=8, commits[s0:c13, s1:c12, s2:c12]
2022-08-16 16:31:41,682 [s0@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 19@client-F37088EB3C00
2022-08-16 16:31:41,683 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-9219E4FF51AE->s0: receive RaftClientReply:client-9219E4FF51AE->s0@group-A185CC0A0B9B, cid=17, SUCCESS, logIndex=9, commits[s0:c13, s1:c12, s2:c12]
2022-08-16 16:31:41,684 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-F37088EB3C00->s0: receive RaftClientReply:client-F37088EB3C00->s0@group-A185CC0A0B9B, cid=19, SUCCESS, logIndex=10, commits[s0:c13, s1:c12, s2:c12]
2022-08-16 16:31:41,684 [s0@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 21@client-E9C521F7748F
2022-08-16 16:31:41,684 [s0@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 23@client-4814017182A3
2022-08-16 16:31:41,685 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-E9C521F7748F->s0: receive RaftClientReply:client-E9C521F7748F->s0@group-A185CC0A0B9B, cid=21, SUCCESS, logIndex=11, commits[s0:c14, s1:c12, s2:c12]
2022-08-16 16:31:41,686 [s1@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 7@client-F3C29EA4007E
2022-08-16 16:31:41,686 [s1@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 9@client-88A12655A086
2022-08-16 16:31:41,686 [s1@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 11@client-249FCE5AA556
2022-08-16 16:31:41,687 [s1@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 13@client-E6D04329C554
2022-08-16 16:31:41,687 [s1@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 15@client-B85331E5526B
2022-08-16 16:31:41,687 [s1@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 17@client-9219E4FF51AE
2022-08-16 16:31:41,687 [s1@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 19@client-F37088EB3C00
2022-08-16 16:31:41,688 [s1@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 21@client-E9C521F7748F
2022-08-16 16:31:41,688 [s1@group-A185CC0A0B9B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 23@client-4814017182A3
2022-08-16 16:31:41,691 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-4814017182A3->s0: receive RaftClientReply:client-4814017182A3->s0@group-A185CC0A0B9B, cid=23, SUCCESS, logIndex=12, commits[s0:c14, s1:c12, s2:c13]
2022-08-16 16:31:41,694 [grpc-default-executor-4] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-A185CC0A0B9B: Failed to acquire a pending write request for RaftClientRequest:client-E98F5FADFD35->s0@group-A185CC0A0B9B, cid=25, seq=2, RW, Message:6d6573736167652039
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:404)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:341)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-A185CC0A0B9B: Failed to acquire a pending write request for RaftClientRequest:client-E98F5FADFD35->s0@group-A185CC0A0B9B, cid=25, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:746)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:858)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$12(RaftServerImpl.java:795)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:795)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2022-08-16 16:31:41,704 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:41,704 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:41,710 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-1D1DABE7F020->s0: receive RaftClientReply:client-1D1DABE7F020->s0@group-A185CC0A0B9B, cid=26, SUCCESS, logIndex=14, commits[s0:c14, s1:c12, s2:c13]
2022-08-16 16:31:41,722 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-A185CC0A0B9B: Failed to acquire a pending write request for RaftClientRequest:client-1D1DABE7F020->s0@group-A185CC0A0B9B, cid=27, seq=2, RW, Message:9bab459322d116cf0b29...(size=1049600)
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:404)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:341)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-A185CC0A0B9B: Failed to acquire a pending write request for RaftClientRequest:client-1D1DABE7F020->s0@group-A185CC0A0B9B, cid=27, seq=2, RW, Message:9bab459322d116cf0b29...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:746)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:858)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$12(RaftServerImpl.java:795)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:795)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2022-08-16 16:31:41,737 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(827)) - ************************************************************** 
2022-08-16 16:31:41,737 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(828)) - *** 
2022-08-16 16:31:41,737 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-16 16:31:41,737 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-16 16:31:41,737 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-08-16 16:31:41,737 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-A185CC0A0B9B:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-A185CC0A0B9B-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A185CC0A0B9B:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-A185CC0A0B9B-SegmentedRaftLog:OPENED:c12, conf=0: peers:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A185CC0A0B9B:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-A185CC0A0B9B-SegmentedRaftLog:OPENED:c13, conf=0: peers:[s0|rpc:localhost:35489|admin:localhost:36893|client:localhost:42845|dataStream:localhost:44995|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32983|admin:localhost:41071|client:localhost:37705|dataStream:localhost:41303|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44217|admin:localhost:41117|client:localhost:37707|dataStream:localhost:45809|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:41,738 [java.util.concurrent.ThreadPoolExecutor$Worker@2be89cd7[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s0: close
2022-08-16 16:31:41,739 [java.util.concurrent.ThreadPoolExecutor$Worker@2be89cd7[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-16 16:31:41,739 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s0@group-A185CC0A0B9B: shutdown
2022-08-16 16:31:41,739 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A185CC0A0B9B,id=s0
2022-08-16 16:31:41,739 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-A185CC0A0B9B-LeaderStateImpl
2022-08-16 16:31:41,739 [java.util.concurrent.ThreadPoolExecutor$Worker@2be89cd7[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-16 16:31:41,739 [s0@group-A185CC0A0B9B->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s0@group-A185CC0A0B9B->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-16 16:31:41,739 [s0@group-A185CC0A0B9B->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s0@group-A185CC0A0B9B->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-16 16:31:41,740 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#24-t1,previous=(t:1, i:13),leaderCommit=13,initializing? true,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2022-08-16 16:31:41,739 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-A185CC0A0B9B-PendingRequests: sendNotLeaderResponses
2022-08-16 16:31:41,740 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-A185CC0A0B9B-StateMachineUpdater: set stopIndex = 14
2022-08-16 16:31:41,740 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s0@group-A185CC0A0B9B: closes. applyIndex: 14
2022-08-16 16:31:41,741 [s0@group-A185CC0A0B9B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-A185CC0A0B9B-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-16 16:31:41,741 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(402)) - s0@group-A185CC0A0B9B->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-16 16:31:41,741 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-A185CC0A0B9B->s2: nextIndex: updateUnconditionally 15 -> 14
2022-08-16 16:31:41,740 [java.util.concurrent.ThreadPoolExecutor$Worker@33349a05[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s1: close
2022-08-16 16:31:41,740 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#29-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=2, first=(t:1, i:13), METADATAENTRY(c:3)
2022-08-16 16:31:41,741 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-A185CC0A0B9B-SegmentedRaftLogWorker close()
2022-08-16 16:31:41,742 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(402)) - s0@group-A185CC0A0B9B->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-16 16:31:41,742 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(129)) - s0@group-A185CC0A0B9B->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:108)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:113)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:57)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:403)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:477)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:41,742 [java.util.concurrent.ThreadPoolExecutor$Worker@2be89cd7[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-16 16:31:41,742 [java.util.concurrent.ThreadPoolExecutor$Worker@2be89cd7[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-16 16:31:41,743 [java.util.concurrent.ThreadPoolExecutor$Worker@2be89cd7[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-16 16:31:41,745 [java.util.concurrent.ThreadPoolExecutor$Worker@2be89cd7[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-16 16:31:41,745 [java.util.concurrent.ThreadPoolExecutor$Worker@2be89cd7[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-16 16:31:41,746 [java.util.concurrent.ThreadPoolExecutor$Worker@2be89cd7[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-16 16:31:41,746 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@5739cf31] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-16 16:31:41,746 [java.util.concurrent.ThreadPoolExecutor$Worker@33349a05[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-16 16:31:41,746 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s1@group-A185CC0A0B9B: shutdown
2022-08-16 16:31:41,746 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A185CC0A0B9B,id=s1
2022-08-16 16:31:41,746 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-A185CC0A0B9B-FollowerState
2022-08-16 16:31:41,746 [java.util.concurrent.ThreadPoolExecutor$Worker@33349a05[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-16 16:31:41,746 [java.util.concurrent.ThreadPoolExecutor$Worker@33349a05[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server GrpcServerProtocolService now
2022-08-16 16:31:41,747 [java.util.concurrent.ThreadPoolExecutor$Worker@33349a05[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server GrpcServerProtocolService successfully
2022-08-16 16:31:41,747 [java.util.concurrent.ThreadPoolExecutor$Worker@33349a05[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-16 16:31:41,747 [java.util.concurrent.ThreadPoolExecutor$Worker@33349a05[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-16 16:31:41,748 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-A185CC0A0B9B-StateMachineUpdater: set stopIndex = 12
2022-08-16 16:31:41,748 [java.util.concurrent.ThreadPoolExecutor$Worker@755de53a[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s2: close
2022-08-16 16:31:41,748 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@3ccc20a8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-16 16:31:41,748 [s1@group-A185CC0A0B9B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-A185CC0A0B9B-FollowerState was interrupted
2022-08-16 16:31:41,748 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s1@group-A185CC0A0B9B: closes. applyIndex: 12
2022-08-16 16:31:41,748 [java.util.concurrent.ThreadPoolExecutor$Worker@755de53a[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-16 16:31:41,749 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s2@group-A185CC0A0B9B: shutdown
2022-08-16 16:31:41,749 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A185CC0A0B9B,id=s2
2022-08-16 16:31:41,749 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-A185CC0A0B9B-FollowerState
2022-08-16 16:31:41,749 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-A185CC0A0B9B-StateMachineUpdater: set stopIndex = 13
2022-08-16 16:31:41,749 [s1@group-A185CC0A0B9B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s1@group-A185CC0A0B9B-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-16 16:31:41,749 [s2@group-A185CC0A0B9B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-A185CC0A0B9B-FollowerState was interrupted
2022-08-16 16:31:41,749 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-08-16 16:31:41,749 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-16 16:31:41,749 [java.util.concurrent.ThreadPoolExecutor$Worker@755de53a[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-16 16:31:41,750 [java.util.concurrent.ThreadPoolExecutor$Worker@755de53a[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server GrpcServerProtocolService now
2022-08-16 16:31:41,750 [java.util.concurrent.ThreadPoolExecutor$Worker@755de53a[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server GrpcServerProtocolService successfully
2022-08-16 16:31:41,750 [java.util.concurrent.ThreadPoolExecutor$Worker@755de53a[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-16 16:31:41,750 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s1@group-A185CC0A0B9B-SegmentedRaftLogWorker close()
2022-08-16 16:31:41,750 [java.util.concurrent.ThreadPoolExecutor$Worker@755de53a[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-16 16:31:41,750 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s2@group-A185CC0A0B9B: closes. applyIndex: 13
2022-08-16 16:31:41,750 [s2@group-A185CC0A0B9B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s2@group-A185CC0A0B9B-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-16 16:31:41,750 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@25f737fb] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-16 16:31:41,751 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s2@group-A185CC0A0B9B-SegmentedRaftLogWorker close()
2022-08-16 16:31:41,752 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(850)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-16 16:31:41,752 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-16 16:31:41,753 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-16 16:31:41,753 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-16 16:31:41,757 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(132)) - Running runWithNewCluster
2022-08-16 16:31:41,757 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(303)) - new MiniRaftClusterWithGrpc with group-1E18B4DC41F4:[s0|rpc:localhost:42731|admin:localhost:41697|client:localhost:42493|dataStream:localhost:40893|priority:0|startupRole:FOLLOWER]
2022-08-16 16:31:41,757 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(336)) - .............................................................. 
2022-08-16 16:31:41,757 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - ... 
2022-08-16 16:31:41,757 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-16 16:31:41,757 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2022-08-16 16:31:41,757 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - .............................................................. 
2022-08-16 16:31:41,758 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(315)) - servers = {}
2022-08-16 16:31:41,758 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s0, group-1E18B4DC41F4:[s0|rpc:localhost:42731|admin:localhost:41697|client:localhost:42493|dataStream:localhost:40893|priority:0|startupRole:FOLLOWER], format? true
2022-08-16 16:31:41,758 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/5f10b85c/MiniRaftClusterWithGrpcac669eb4/s0
2022-08-16 16:31:41,758 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/5f10b85c/MiniRaftClusterWithGrpcac669eb4/s0 does not exist.
2022-08-16 16:31:41,758 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/5f10b85c/MiniRaftClusterWithGrpcac669eb4/s0
2022-08-16 16:31:41,758 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-16 16:31:41,759 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:41,759 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41697 (custom)
2022-08-16 16:31:41,759 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:41,759 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42493 (custom)
2022-08-16 16:31:41,759 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:31:41,759 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 42731 (custom)
2022-08-16 16:31:41,759 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:41,759 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:41,759 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:41,760 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:41,760 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-16 16:31:41,760 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:31:41,760 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:31:41,763 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-16 16:31:41,764 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-16 16:31:41,764 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-16 16:31:41,764 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:41,764 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:41,765 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcac669eb4/s0] (custom)
2022-08-16 16:31:41,765 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-1E18B4DC41F4:[s0|rpc:localhost:42731|admin:localhost:41697|client:localhost:42493|dataStream:localhost:40893|priority:0|startupRole:FOLLOWER] returns group-1E18B4DC41F4:java.util.concurrent.CompletableFuture@28977dd8[Not completed]
2022-08-16 16:31:41,766 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:41,766 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:41,766 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:41,766 [pool-9-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-1E18B4DC41F4:[s0|rpc:localhost:42731|admin:localhost:41697|client:localhost:42493|dataStream:localhost:40893|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:41,766 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-16 16:31:41,766 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:41,766 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-16 16:31:41,766 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:41,766 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:41,766 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-16 16:31:41,767 [pool-9-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-1E18B4DC41F4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42731|admin:localhost:41697|client:localhost:42493|dataStream:localhost:40893|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-16 16:31:41,767 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcac669eb4/s0] (custom)
2022-08-16 16:31:41,767 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-16 16:31:41,767 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-16 16:31:41,767 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-16 16:31:41,767 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-16 16:31:41,767 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-16 16:31:41,768 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:41,768 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-16 16:31:41,769 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-16 16:31:41,769 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-16 16:31:41,769 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-16 16:31:41,769 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcac669eb4/s0/a765d558-6bcd-46ab-ad0a-1e18b4dc41f4 does not exist. Creating ...
2022-08-16 16:31:41,769 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcac669eb4/s0/a765d558-6bcd-46ab-ad0a-1e18b4dc41f4
2022-08-16 16:31:41,770 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcac669eb4/s0/a765d558-6bcd-46ab-ad0a-1e18b4dc41f4/in_use.lock acquired by nodename 21594@fv-az459-523.1d4eecmzj5luvpyspzf3bgtdve.dx.internal.cloudapp.net
2022-08-16 16:31:41,771 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcac669eb4/s0/a765d558-6bcd-46ab-ad0a-1e18b4dc41f4/current
2022-08-16 16:31:41,771 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcac669eb4/s0/a765d558-6bcd-46ab-ad0a-1e18b4dc41f4/sm
2022-08-16 16:31:41,776 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcac669eb4/s0/a765d558-6bcd-46ab-ad0a-1e18b4dc41f4 has been successfully formatted.
2022-08-16 16:31:41,776 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:41,777 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-16 16:31:41,777 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-16 16:31:41,777 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-16 16:31:41,777 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:41,777 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-16 16:31:41,777 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-16 16:31:41,777 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:41,777 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-16 16:31:41,777 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-16 16:31:41,777 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-1E18B4DC41F4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcac669eb4/s0/a765d558-6bcd-46ab-ad0a-1e18b4dc41f4
2022-08-16 16:31:41,777 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-16 16:31:41,777 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-16 16:31:41,778 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:41,778 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:41,778 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-16 16:31:41,778 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-16 16:31:41,778 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-16 16:31:41,778 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-16 16:31:41,778 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:41,778 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-16 16:31:41,778 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-16 16:31:41,778 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-16 16:31:41,779 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-1E18B4DC41F4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:41,779 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-1E18B4DC41F4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:41,784 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-1E18B4DC41F4: start as a follower, conf=-1: peers:[s0|rpc:localhost:42731|admin:localhost:41697|client:localhost:42493|dataStream:localhost:40893|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:41,784 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-1E18B4DC41F4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-16 16:31:41,785 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1E18B4DC41F4-FollowerState
2022-08-16 16:31:41,785 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1E18B4DC41F4,id=s0
2022-08-16 16:31:41,785 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-16 16:31:41,785 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-16 16:31:41,785 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-16 16:31:41,786 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s0: start RPC server
2022-08-16 16:31:41,786 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 42493
2022-08-16 16:31:41,787 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 42731
2022-08-16 16:31:41,787 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 41697
2022-08-16 16:31:41,788 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@23da5bc1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-16 16:31:41,789 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:41,789 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1E18B4DC41F4:t0, leader=null, voted=, raftlog=Memoized:s0@group-1E18B4DC41F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42731|admin:localhost:41697|client:localhost:42493|dataStream:localhost:40893|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:41,789 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1E18B4DC41F4:t0, leader=null, voted=, raftlog=Memoized:s0@group-1E18B4DC41F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42731|admin:localhost:41697|client:localhost:42493|dataStream:localhost:40893|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1E18B4DC41F4:t0, leader=null, voted=, raftlog=Memoized:s0@group-1E18B4DC41F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42731|admin:localhost:41697|client:localhost:42493|dataStream:localhost:40893|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:577)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:611)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:604)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:152)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:148)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:42,080 [s0@group-1E18B4DC41F4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-1E18B4DC41F4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:295383016ns, electionTimeout:294ms
2022-08-16 16:31:42,080 [s0@group-1E18B4DC41F4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1E18B4DC41F4-FollowerState
2022-08-16 16:31:42,080 [s0@group-1E18B4DC41F4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-1E18B4DC41F4: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-16 16:31:42,081 [s0@group-1E18B4DC41F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-16 16:31:42,081 [s0@group-1E18B4DC41F4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1E18B4DC41F4-LeaderElection7
2022-08-16 16:31:42,081 [s0@group-1E18B4DC41F4-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-1E18B4DC41F4-LeaderElection7 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:42731|admin:localhost:41697|client:localhost:42493|dataStream:localhost:40893|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:42,081 [s0@group-1E18B4DC41F4-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-1E18B4DC41F4-LeaderElection7 PRE_VOTE round 0: result PASSED (term=0)
2022-08-16 16:31:42,083 [s0@group-1E18B4DC41F4-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-1E18B4DC41F4-LeaderElection7 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:42731|admin:localhost:41697|client:localhost:42493|dataStream:localhost:40893|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:42,083 [s0@group-1E18B4DC41F4-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-1E18B4DC41F4-LeaderElection7 ELECTION round 0: result PASSED (term=1)
2022-08-16 16:31:42,083 [s0@group-1E18B4DC41F4-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-1E18B4DC41F4-LeaderElection7
2022-08-16 16:31:42,083 [s0@group-1E18B4DC41F4-LeaderElection7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-1E18B4DC41F4: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-16 16:31:42,083 [s0@group-1E18B4DC41F4-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-1E18B4DC41F4: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 315ms
2022-08-16 16:31:42,083 [s0@group-1E18B4DC41F4-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-16 16:31:42,083 [s0@group-1E18B4DC41F4-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-16 16:31:42,084 [s0@group-1E18B4DC41F4-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-16 16:31:42,084 [s0@group-1E18B4DC41F4-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-16 16:31:42,084 [s0@group-1E18B4DC41F4-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-16 16:31:42,084 [s0@group-1E18B4DC41F4-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-16 16:31:42,084 [s0@group-1E18B4DC41F4-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-16 16:31:42,088 [s0@group-1E18B4DC41F4-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-16 16:31:42,088 [s0@group-1E18B4DC41F4-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1E18B4DC41F4-LeaderStateImpl
2022-08-16 16:31:42,088 [s0@group-1E18B4DC41F4-LeaderElection7] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-1E18B4DC41F4-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-16 16:31:42,093 [s0@group-1E18B4DC41F4-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-1E18B4DC41F4: set configuration 0: peers:[s0|rpc:localhost:42731|admin:localhost:41697|client:localhost:42493|dataStream:localhost:40893|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:42,100 [s0@group-1E18B4DC41F4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-1E18B4DC41F4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcac669eb4/s0/a765d558-6bcd-46ab-ad0a-1e18b4dc41f4/current/log_inprogress_0
2022-08-16 16:31:42,240 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-1E18B4DC41F4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-1E18B4DC41F4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42731|admin:localhost:41697|client:localhost:42493|dataStream:localhost:40893|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:42,240 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:42,240 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41697 (custom)
2022-08-16 16:31:42,240 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:42,240 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42493 (custom)
2022-08-16 16:31:42,240 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:31:42,241 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 42731 (custom)
2022-08-16 16:31:42,241 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:42,241 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:42,241 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:42,241 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:42,241 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-16 16:31:42,241 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:31:42,241 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:31:42,243 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'appendEntries'
2022-08-16 16:31:42,243 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "appendEntries" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking appendEntries call is not supported
	at org.apache.ratis.grpc.server.GrpcService.appendEntries(GrpcService.java:318)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$1(TestRaftServerWithGrpc.java:156)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:155)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:148)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:42,243 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'installSnapshot'
2022-08-16 16:31:42,243 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "installSnapshot" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking installSnapshot call is not supported
	at org.apache.ratis.grpc.server.GrpcService.installSnapshot(GrpcService.java:324)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$2(TestRaftServerWithGrpc.java:160)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:159)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:148)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:42,244 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(827)) - ************************************************************** 
2022-08-16 16:31:42,244 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(828)) - *** 
2022-08-16 16:31:42,244 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-16 16:31:42,244 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-16 16:31:42,244 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-08-16 16:31:42,244 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-1E18B4DC41F4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-1E18B4DC41F4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42731|admin:localhost:41697|client:localhost:42493|dataStream:localhost:40893|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:42,245 [java.util.concurrent.ThreadPoolExecutor$Worker@1b8cc65e[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s0: close
2022-08-16 16:31:42,245 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s0@group-1E18B4DC41F4: shutdown
2022-08-16 16:31:42,245 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1E18B4DC41F4,id=s0
2022-08-16 16:31:42,245 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-1E18B4DC41F4-LeaderStateImpl
2022-08-16 16:31:42,245 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-1E18B4DC41F4-PendingRequests: sendNotLeaderResponses
2022-08-16 16:31:42,245 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-1E18B4DC41F4-StateMachineUpdater: set stopIndex = 0
2022-08-16 16:31:42,246 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s0@group-1E18B4DC41F4: closes. applyIndex: 0
2022-08-16 16:31:42,246 [s0@group-1E18B4DC41F4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-1E18B4DC41F4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-16 16:31:42,246 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-1E18B4DC41F4-SegmentedRaftLogWorker close()
2022-08-16 16:31:42,247 [java.util.concurrent.ThreadPoolExecutor$Worker@1b8cc65e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-16 16:31:42,249 [java.util.concurrent.ThreadPoolExecutor$Worker@1b8cc65e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-16 16:31:42,249 [java.util.concurrent.ThreadPoolExecutor$Worker@1b8cc65e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-16 16:31:42,250 [java.util.concurrent.ThreadPoolExecutor$Worker@1b8cc65e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-16 16:31:42,250 [java.util.concurrent.ThreadPoolExecutor$Worker@1b8cc65e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-16 16:31:42,250 [java.util.concurrent.ThreadPoolExecutor$Worker@1b8cc65e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-16 16:31:42,250 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@23da5bc1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-16 16:31:42,251 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(850)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-16 16:31:42,251 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-16 16:31:42,251 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-16 16:31:42,251 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-16 16:31:42,253 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(132)) - Running runWithNewCluster
2022-08-16 16:31:42,254 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(303)) - new MiniRaftClusterWithGrpc with group-8A1E62B8F9FA:[s0|rpc:localhost:42201|admin:localhost:42065|client:localhost:36619|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER]
2022-08-16 16:31:42,254 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(336)) - .............................................................. 
2022-08-16 16:31:42,254 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - ... 
2022-08-16 16:31:42,254 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-16 16:31:42,254 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2022-08-16 16:31:42,254 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - .............................................................. 
2022-08-16 16:31:42,254 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(315)) - servers = {}
2022-08-16 16:31:42,254 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s0, group-8A1E62B8F9FA:[s0|rpc:localhost:42201|admin:localhost:42065|client:localhost:36619|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER], format? true
2022-08-16 16:31:42,254 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0
2022-08-16 16:31:42,254 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0 does not exist.
2022-08-16 16:31:42,254 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0
2022-08-16 16:31:42,255 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-16 16:31:42,256 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:42,256 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42065 (custom)
2022-08-16 16:31:42,256 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:42,256 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 36619 (custom)
2022-08-16 16:31:42,256 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:31:42,256 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 42201 (custom)
2022-08-16 16:31:42,256 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:42,256 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:42,256 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:42,256 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:42,256 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-16 16:31:42,257 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:31:42,257 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:31:42,258 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-16 16:31:42,258 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-16 16:31:42,258 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-16 16:31:42,258 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:42,259 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:42,259 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0] (custom)
2022-08-16 16:31:42,260 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-8A1E62B8F9FA:[s0|rpc:localhost:42201|admin:localhost:42065|client:localhost:36619|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER] returns group-8A1E62B8F9FA:java.util.concurrent.CompletableFuture@2b14e4[Not completed]
2022-08-16 16:31:42,261 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:42,261 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:42,261 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:42,261 [pool-10-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-8A1E62B8F9FA:[s0|rpc:localhost:42201|admin:localhost:42065|client:localhost:36619|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:42,261 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-16 16:31:42,261 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:42,261 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-16 16:31:42,261 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:42,261 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:42,261 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-16 16:31:42,261 [pool-10-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-8A1E62B8F9FA: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42201|admin:localhost:42065|client:localhost:36619|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-16 16:31:42,261 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0] (custom)
2022-08-16 16:31:42,261 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-16 16:31:42,261 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-16 16:31:42,261 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-16 16:31:42,262 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-16 16:31:42,262 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-16 16:31:42,264 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:42,264 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-16 16:31:42,264 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-16 16:31:42,264 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-16 16:31:42,264 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-16 16:31:42,264 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa does not exist. Creating ...
2022-08-16 16:31:42,264 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa
2022-08-16 16:31:42,266 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa/in_use.lock acquired by nodename 21594@fv-az459-523.1d4eecmzj5luvpyspzf3bgtdve.dx.internal.cloudapp.net
2022-08-16 16:31:42,266 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa/current
2022-08-16 16:31:42,266 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa/sm
2022-08-16 16:31:42,267 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa has been successfully formatted.
2022-08-16 16:31:42,268 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:42,268 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-16 16:31:42,268 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-16 16:31:42,268 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-16 16:31:42,268 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:42,268 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-16 16:31:42,268 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-16 16:31:42,268 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:42,268 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-16 16:31:42,268 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-16 16:31:42,268 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-8A1E62B8F9FA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa
2022-08-16 16:31:42,269 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-16 16:31:42,269 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-16 16:31:42,269 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:42,269 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:42,269 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-16 16:31:42,269 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-16 16:31:42,269 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-16 16:31:42,269 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-16 16:31:42,269 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:42,269 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-16 16:31:42,270 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-16 16:31:42,270 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-16 16:31:42,270 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-8A1E62B8F9FA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:42,270 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-8A1E62B8F9FA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:42,272 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-8A1E62B8F9FA: start as a follower, conf=-1: peers:[s0|rpc:localhost:42201|admin:localhost:42065|client:localhost:36619|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:42,272 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-8A1E62B8F9FA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-16 16:31:42,272 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-8A1E62B8F9FA-FollowerState
2022-08-16 16:31:42,275 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8A1E62B8F9FA,id=s0
2022-08-16 16:31:42,275 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-16 16:31:42,275 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-16 16:31:42,275 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-16 16:31:42,275 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s0: start RPC server
2022-08-16 16:31:42,276 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 36619
2022-08-16 16:31:42,277 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 42201
2022-08-16 16:31:42,278 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 42065
2022-08-16 16:31:42,280 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@40705ee5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-16 16:31:42,281 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:42,281 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8A1E62B8F9FA:t0, leader=null, voted=, raftlog=Memoized:s0@group-8A1E62B8F9FA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42201|admin:localhost:42065|client:localhost:36619|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:42,281 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8A1E62B8F9FA:t0, leader=null, voted=, raftlog=Memoized:s0@group-8A1E62B8F9FA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42201|admin:localhost:42065|client:localhost:36619|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8A1E62B8F9FA:t0, leader=null, voted=, raftlog=Memoized:s0@group-8A1E62B8F9FA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42201|admin:localhost:42065|client:localhost:36619|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:577)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:611)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:604)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestServerRestartOnException(TestRaftServerWithGrpc.java:118)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testServerRestartOnException(TestRaftServerWithGrpc.java:102)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:42,507 [s0@group-8A1E62B8F9FA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-8A1E62B8F9FA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:234301295ns, electionTimeout:231ms
2022-08-16 16:31:42,507 [s0@group-8A1E62B8F9FA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-8A1E62B8F9FA-FollowerState
2022-08-16 16:31:42,507 [s0@group-8A1E62B8F9FA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-8A1E62B8F9FA: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-16 16:31:42,507 [s0@group-8A1E62B8F9FA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-16 16:31:42,507 [s0@group-8A1E62B8F9FA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-8A1E62B8F9FA-LeaderElection8
2022-08-16 16:31:42,509 [s0@group-8A1E62B8F9FA-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-8A1E62B8F9FA-LeaderElection8 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:42201|admin:localhost:42065|client:localhost:36619|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:42,509 [s0@group-8A1E62B8F9FA-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-8A1E62B8F9FA-LeaderElection8 PRE_VOTE round 0: result PASSED (term=0)
2022-08-16 16:31:42,510 [s0@group-8A1E62B8F9FA-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-8A1E62B8F9FA-LeaderElection8 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:42201|admin:localhost:42065|client:localhost:36619|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:42,510 [s0@group-8A1E62B8F9FA-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-8A1E62B8F9FA-LeaderElection8 ELECTION round 0: result PASSED (term=1)
2022-08-16 16:31:42,510 [s0@group-8A1E62B8F9FA-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-8A1E62B8F9FA-LeaderElection8
2022-08-16 16:31:42,511 [s0@group-8A1E62B8F9FA-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-8A1E62B8F9FA: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-16 16:31:42,511 [s0@group-8A1E62B8F9FA-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-8A1E62B8F9FA: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 249ms
2022-08-16 16:31:42,511 [s0@group-8A1E62B8F9FA-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-16 16:31:42,511 [s0@group-8A1E62B8F9FA-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-16 16:31:42,511 [s0@group-8A1E62B8F9FA-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-16 16:31:42,511 [s0@group-8A1E62B8F9FA-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-16 16:31:42,511 [s0@group-8A1E62B8F9FA-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-16 16:31:42,511 [s0@group-8A1E62B8F9FA-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-16 16:31:42,511 [s0@group-8A1E62B8F9FA-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-16 16:31:42,511 [s0@group-8A1E62B8F9FA-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-16 16:31:42,512 [s0@group-8A1E62B8F9FA-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-8A1E62B8F9FA-LeaderStateImpl
2022-08-16 16:31:42,512 [s0@group-8A1E62B8F9FA-LeaderElection8] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-8A1E62B8F9FA-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-16 16:31:42,513 [s0@group-8A1E62B8F9FA-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-8A1E62B8F9FA: set configuration 0: peers:[s0|rpc:localhost:42201|admin:localhost:42065|client:localhost:36619|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:42,522 [s0@group-8A1E62B8F9FA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-8A1E62B8F9FA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa/current/log_inprogress_0
2022-08-16 16:31:42,732 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-8A1E62B8F9FA:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-8A1E62B8F9FA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42201|admin:localhost:42065|client:localhost:36619|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:42,735 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-16 16:31:42,735 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:42,735 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42065 (custom)
2022-08-16 16:31:42,736 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:42,736 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 36619 (custom)
2022-08-16 16:31:42,736 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:31:42,736 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 42201 (custom)
2022-08-16 16:31:42,736 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:42,736 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:42,736 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:42,736 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:42,736 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-16 16:31:42,736 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:31:42,736 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:31:42,737 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-16 16:31:42,739 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-16 16:31:42,739 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-16 16:31:42,739 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:42,739 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:42,739 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0] (custom)
2022-08-16 16:31:42,740 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(249)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa
2022-08-16 16:31:42,740 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-8A1E62B8F9FA:[s0|rpc:localhost:42201|admin:localhost:42065|client:localhost:36619|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER] returns group-8A1E62B8F9FA:java.util.concurrent.CompletableFuture@23d4896c[Not completed]
2022-08-16 16:31:42,740 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-16 16:31:42,741 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-16 16:31:42,741 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-16 16:31:42,741 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-16 16:31:42,741 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-16 16:31:42,741 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-16 16:31:42,742 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'Starting a new server with the same address should fail'
2022-08-16 16:31:42,742 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-16 16:31:42,742 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:42,742 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42065 (custom)
2022-08-16 16:31:42,742 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:42,742 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 36619 (custom)
2022-08-16 16:31:42,742 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:31:42,742 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 42201 (custom)
2022-08-16 16:31:42,742 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:42,743 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:42,743 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:42,743 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:42,743 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-16 16:31:42,743 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:31:42,743 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:31:42,744 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-16 16:31:42,744 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-16 16:31:42,744 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-16 16:31:42,744 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:42,744 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:42,744 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0] (custom)
2022-08-16 16:31:42,745 [pool-11-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-8A1E62B8F9FA:[s0|rpc:localhost:42201|admin:localhost:42065|client:localhost:36619|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-8A1E62B8F9FA
2022-08-16 16:31:42,745 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-16 16:31:42,745 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:42,745 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-16 16:31:42,745 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:42,745 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:42,745 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-16 16:31:42,745 [pool-11-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-8A1E62B8F9FA: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42201|admin:localhost:42065|client:localhost:36619|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-16 16:31:42,745 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0] (custom)
2022-08-16 16:31:42,745 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-16 16:31:42,745 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-16 16:31:42,745 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-16 16:31:42,746 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-16 16:31:42,746 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-16 16:31:42,746 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(249)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa
2022-08-16 16:31:42,746 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:42,746 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-16 16:31:42,747 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-16 16:31:42,747 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-16 16:31:42,747 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-16 16:31:42,747 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-8A1E62B8F9FA:[s0|rpc:localhost:42201|admin:localhost:42065|client:localhost:36619|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER] returns group-8A1E62B8F9FA:java.util.concurrent.CompletableFuture@39ceb6a3[Not completed]
2022-08-16 16:31:42,747 [pool-12-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-8A1E62B8F9FA:[s0|rpc:localhost:42201|admin:localhost:42065|client:localhost:36619|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-8A1E62B8F9FA
2022-08-16 16:31:42,747 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-16 16:31:42,747 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:42,747 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-16 16:31:42,747 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:42,747 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:42,747 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-16 16:31:42,747 [pool-12-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-8A1E62B8F9FA: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42201|admin:localhost:42065|client:localhost:36619|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-16 16:31:42,747 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0] (custom)
2022-08-16 16:31:42,748 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-16 16:31:42,748 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-16 16:31:42,748 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-16 16:31:42,748 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-16 16:31:42,748 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-16 16:31:42,748 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:42,748 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-16 16:31:42,748 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-16 16:31:42,748 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-16 16:31:42,748 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-16 16:31:42,749 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(234)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:42,749 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:237)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	... 14 more
2022-08-16 16:31:43,749 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(234)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:43,750 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:237)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	... 14 more
2022-08-16 16:31:44,750 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(234)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:44,751 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:237)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	... 14 more
2022-08-16 16:31:45,752 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(234)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:45,752 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:237)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	... 14 more
2022-08-16 16:31:46,753 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(234)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:46,754 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "Starting a new server with the same address should fail" throws CompletionException
java.util.concurrent.CompletionException: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa. The directory is already locked
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.biRelay(CompletableFuture.java:1298)
	at java.util.concurrent.CompletableFuture$BiRelay.tryFire(CompletableFuture.java:1284)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:176)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc8b24a204/s0/6c9031c7-f19a-4fea-b783-8a1e62b8f9fa. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:237)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	... 4 more
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	... 14 more
2022-08-16 16:31:46,755 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:46,755 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42065 (custom)
2022-08-16 16:31:46,755 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:46,755 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 36619 (custom)
2022-08-16 16:31:46,755 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:31:46,755 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 42201 (custom)
2022-08-16 16:31:46,755 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:46,755 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:46,755 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:46,756 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:46,756 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-16 16:31:46,756 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:31:46,756 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:31:46,757 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(827)) - ************************************************************** 
2022-08-16 16:31:46,757 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(828)) - *** 
2022-08-16 16:31:46,757 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-16 16:31:46,757 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-16 16:31:46,757 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-08-16 16:31:46,757 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-8A1E62B8F9FA:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-8A1E62B8F9FA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42201|admin:localhost:42065|client:localhost:36619|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:46,761 [java.util.concurrent.ThreadPoolExecutor$Worker@26e3174[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s0: close
2022-08-16 16:31:46,761 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s0@group-8A1E62B8F9FA: shutdown
2022-08-16 16:31:46,761 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8A1E62B8F9FA,id=s0
2022-08-16 16:31:46,761 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-8A1E62B8F9FA-LeaderStateImpl
2022-08-16 16:31:46,761 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-8A1E62B8F9FA-PendingRequests: sendNotLeaderResponses
2022-08-16 16:31:46,762 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-8A1E62B8F9FA-StateMachineUpdater: set stopIndex = 0
2022-08-16 16:31:46,762 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s0@group-8A1E62B8F9FA: closes. applyIndex: 0
2022-08-16 16:31:46,762 [s0@group-8A1E62B8F9FA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-8A1E62B8F9FA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-16 16:31:46,763 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-8A1E62B8F9FA-SegmentedRaftLogWorker close()
2022-08-16 16:31:46,765 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@40705ee5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-16 16:31:46,765 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(850)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-16 16:31:46,766 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-16 16:31:46,766 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-16 16:31:46,766 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-16 16:31:46,767 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(132)) - Running runWithNewCluster
2022-08-16 16:31:46,768 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(303)) - new MiniRaftClusterWithGrpc with group-7F48E3ED8587:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]
2022-08-16 16:31:46,768 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(336)) - .............................................................. 
2022-08-16 16:31:46,768 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - ... 
2022-08-16 16:31:46,768 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-16 16:31:46,768 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2022-08-16 16:31:46,768 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - .............................................................. 
2022-08-16 16:31:46,768 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(315)) - servers = {}
2022-08-16 16:31:46,768 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s0, group-7F48E3ED8587:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER], format? true
2022-08-16 16:31:46,769 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s0
2022-08-16 16:31:46,769 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s0 does not exist.
2022-08-16 16:31:46,769 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s0
2022-08-16 16:31:46,769 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-16 16:31:46,769 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:46,770 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34979 (custom)
2022-08-16 16:31:46,770 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:46,770 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41319 (custom)
2022-08-16 16:31:46,770 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:31:46,770 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43889 (custom)
2022-08-16 16:31:46,770 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:46,770 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:46,770 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:46,770 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:46,770 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-16 16:31:46,771 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:31:46,771 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:31:46,774 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-16 16:31:46,774 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-16 16:31:46,774 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-16 16:31:46,774 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:46,774 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:46,774 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s0] (custom)
2022-08-16 16:31:46,781 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-7F48E3ED8587:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER] returns group-7F48E3ED8587:java.util.concurrent.CompletableFuture@39e2fba5[Not completed]
2022-08-16 16:31:46,781 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s1, group-7F48E3ED8587:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER], format? true
2022-08-16 16:31:46,781 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s1
2022-08-16 16:31:46,781 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s1 does not exist.
2022-08-16 16:31:46,781 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s1
2022-08-16 16:31:46,781 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-16 16:31:46,781 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:46,781 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34759 (custom)
2022-08-16 16:31:46,782 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:46,782 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35061 (custom)
2022-08-16 16:31:46,782 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:31:46,782 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46407 (custom)
2022-08-16 16:31:46,782 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:46,782 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:46,782 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:46,782 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:46,782 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-16 16:31:46,782 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:31:46,782 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:31:46,783 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-16 16:31:46,783 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-16 16:31:46,783 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-16 16:31:46,783 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:46,783 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:46,784 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s1] (custom)
2022-08-16 16:31:46,784 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:46,793 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:46,793 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:46,793 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-7F48E3ED8587:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER] returns group-7F48E3ED8587:java.util.concurrent.CompletableFuture@775cf677[Not completed]
2022-08-16 16:31:46,793 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s2, group-7F48E3ED8587:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER], format? true
2022-08-16 16:31:46,793 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s2
2022-08-16 16:31:46,793 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s2 does not exist.
2022-08-16 16:31:46,793 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s2
2022-08-16 16:31:46,794 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-16 16:31:46,794 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:46,794 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42333 (custom)
2022-08-16 16:31:46,794 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:46,794 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41151 (custom)
2022-08-16 16:31:46,794 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:31:46,794 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 39335 (custom)
2022-08-16 16:31:46,794 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:46,794 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:46,794 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:46,794 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:46,794 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-16 16:31:46,795 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:31:46,795 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:31:46,795 [pool-13-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-7F48E3ED8587:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:46,799 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-16 16:31:46,799 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:46,799 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-16 16:31:46,799 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:46,799 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:46,799 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-16 16:31:46,799 [pool-13-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-7F48E3ED8587: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-16 16:31:46,800 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s0] (custom)
2022-08-16 16:31:46,800 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-16 16:31:46,800 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-16 16:31:46,800 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-16 16:31:46,800 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-16 16:31:46,800 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-16 16:31:46,801 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:46,796 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-16 16:31:46,801 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-16 16:31:46,802 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-16 16:31:46,802 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:46,802 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:46,802 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s2] (custom)
2022-08-16 16:31:46,802 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:46,802 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:46,802 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:46,803 [pool-14-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s1: new RaftServerImpl for group-7F48E3ED8587:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:46,803 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-16 16:31:46,803 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:46,803 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-16 16:31:46,803 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:46,803 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:46,803 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-16 16:31:46,803 [pool-14-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s1@group-7F48E3ED8587: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-16 16:31:46,803 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s1] (custom)
2022-08-16 16:31:46,802 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-16 16:31:46,806 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-16 16:31:46,806 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-16 16:31:46,806 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-16 16:31:46,806 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-16 16:31:46,806 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-16 16:31:46,806 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-16 16:31:46,806 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-16 16:31:46,807 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-16 16:31:46,807 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:46,807 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-16 16:31:46,807 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-16 16:31:46,807 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-16 16:31:46,807 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-16 16:31:46,808 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-7F48E3ED8587:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER] returns group-7F48E3ED8587:java.util.concurrent.CompletableFuture@7ca7240e[Not completed]
2022-08-16 16:31:46,809 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s0/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587 does not exist. Creating ...
2022-08-16 16:31:46,809 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:46,809 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s0/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587
2022-08-16 16:31:46,810 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:46,810 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:46,810 [pool-15-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s2: new RaftServerImpl for group-7F48E3ED8587:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:46,810 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-16 16:31:46,810 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:46,811 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-16 16:31:46,811 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:46,811 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:46,811 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-16 16:31:46,811 [pool-15-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s2@group-7F48E3ED8587: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-16 16:31:46,811 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s2] (custom)
2022-08-16 16:31:46,811 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-16 16:31:46,812 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-16 16:31:46,812 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-16 16:31:46,812 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-16 16:31:46,812 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-16 16:31:46,812 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s0/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587/in_use.lock acquired by nodename 21594@fv-az459-523.1d4eecmzj5luvpyspzf3bgtdve.dx.internal.cloudapp.net
2022-08-16 16:31:46,812 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:46,813 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s0/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587/current
2022-08-16 16:31:46,813 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-16 16:31:46,813 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s0/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587/sm
2022-08-16 16:31:46,813 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-16 16:31:46,813 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-16 16:31:46,813 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-16 16:31:46,814 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s0/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587 has been successfully formatted.
2022-08-16 16:31:46,814 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:46,814 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-16 16:31:46,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-16 16:31:46,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-16 16:31:46,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:46,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-16 16:31:46,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-16 16:31:46,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:46,815 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-16 16:31:46,815 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-16 16:31:46,815 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-7F48E3ED8587-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s0/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587
2022-08-16 16:31:46,815 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-16 16:31:46,815 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-16 16:31:46,815 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:46,815 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:46,815 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-16 16:31:46,815 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-16 16:31:46,815 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-16 16:31:46,815 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-16 16:31:46,815 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:46,816 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-16 16:31:46,816 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-16 16:31:46,816 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-16 16:31:46,816 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-7F48E3ED8587-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:46,816 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-7F48E3ED8587-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:46,820 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-7F48E3ED8587: start as a follower, conf=-1: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:46,820 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-7F48E3ED8587: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-16 16:31:46,820 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7F48E3ED8587-FollowerState
2022-08-16 16:31:46,821 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7F48E3ED8587,id=s0
2022-08-16 16:31:46,821 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-16 16:31:46,821 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-16 16:31:46,821 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-16 16:31:46,822 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s0: start RPC server
2022-08-16 16:31:46,826 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 41319
2022-08-16 16:31:46,826 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 43889
2022-08-16 16:31:46,827 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 34979
2022-08-16 16:31:46,827 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@6c589aa3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-16 16:31:46,827 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s1/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587 does not exist. Creating ...
2022-08-16 16:31:46,828 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s1/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587
2022-08-16 16:31:46,829 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s1/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587/in_use.lock acquired by nodename 21594@fv-az459-523.1d4eecmzj5luvpyspzf3bgtdve.dx.internal.cloudapp.net
2022-08-16 16:31:46,829 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s1/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587/current
2022-08-16 16:31:46,829 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s1/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587/sm
2022-08-16 16:31:46,830 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s1/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587 has been successfully formatted.
2022-08-16 16:31:46,830 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:46,830 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-16 16:31:46,830 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-16 16:31:46,831 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-16 16:31:46,831 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:46,831 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-16 16:31:46,831 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-16 16:31:46,831 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:46,831 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-16 16:31:46,831 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-16 16:31:46,831 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-7F48E3ED8587-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s1/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587
2022-08-16 16:31:46,831 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-16 16:31:46,831 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-16 16:31:46,831 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:46,831 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:46,831 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-16 16:31:46,831 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-16 16:31:46,831 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-16 16:31:46,831 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-16 16:31:46,832 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:46,832 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-16 16:31:46,832 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-16 16:31:46,832 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-16 16:31:46,832 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-7F48E3ED8587-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:46,833 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-7F48E3ED8587-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:46,833 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s1@group-7F48E3ED8587: start as a follower, conf=-1: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:46,833 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-7F48E3ED8587: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-16 16:31:46,833 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7F48E3ED8587-FollowerState
2022-08-16 16:31:46,833 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7F48E3ED8587,id=s1
2022-08-16 16:31:46,833 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-16 16:31:46,833 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-16 16:31:46,833 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-16 16:31:46,834 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s1: start RPC server
2022-08-16 16:31:46,835 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 35061
2022-08-16 16:31:46,836 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 46407
2022-08-16 16:31:46,837 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 34759
2022-08-16 16:31:46,838 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s2/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587 does not exist. Creating ...
2022-08-16 16:31:46,838 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s2/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587
2022-08-16 16:31:46,839 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@5d833996] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-16 16:31:46,839 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s2/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587/in_use.lock acquired by nodename 21594@fv-az459-523.1d4eecmzj5luvpyspzf3bgtdve.dx.internal.cloudapp.net
2022-08-16 16:31:46,839 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s2/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587/current
2022-08-16 16:31:46,840 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s2/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587/sm
2022-08-16 16:31:46,840 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s2/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587 has been successfully formatted.
2022-08-16 16:31:46,840 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:46,841 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-16 16:31:46,841 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-16 16:31:46,841 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-16 16:31:46,841 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:46,841 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-16 16:31:46,841 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-16 16:31:46,841 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:46,841 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-16 16:31:46,841 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-16 16:31:46,841 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-7F48E3ED8587-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s2/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587
2022-08-16 16:31:46,841 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-16 16:31:46,841 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-16 16:31:46,841 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:46,841 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:46,841 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-16 16:31:46,841 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-16 16:31:46,841 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-16 16:31:46,841 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-16 16:31:46,842 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:46,842 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-16 16:31:46,842 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-16 16:31:46,842 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-16 16:31:46,842 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-7F48E3ED8587-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:46,842 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-7F48E3ED8587-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:46,844 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s2@group-7F48E3ED8587: start as a follower, conf=-1: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:46,844 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-7F48E3ED8587: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-16 16:31:46,844 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7F48E3ED8587-FollowerState
2022-08-16 16:31:46,848 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7F48E3ED8587,id=s2
2022-08-16 16:31:46,848 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-16 16:31:46,848 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-16 16:31:46,849 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-16 16:31:46,849 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s2: start RPC server
2022-08-16 16:31:46,859 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 41151
2022-08-16 16:31:46,861 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 39335
2022-08-16 16:31:46,862 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 42333
2022-08-16 16:31:46,863 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@4b1bac54] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-16 16:31:46,864 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:46,865 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7F48E3ED8587:t0, leader=null, voted=, raftlog=Memoized:s0@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7F48E3ED8587:t0, leader=null, voted=, raftlog=Memoized:s1@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7F48E3ED8587:t0, leader=null, voted=, raftlog=Memoized:s2@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:46,865 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7F48E3ED8587:t0, leader=null, voted=, raftlog=Memoized:s0@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7F48E3ED8587:t0, leader=null, voted=, raftlog=Memoized:s1@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7F48E3ED8587:t0, leader=null, voted=, raftlog=Memoized:s2@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7F48E3ED8587:t0, leader=null, voted=, raftlog=Memoized:s0@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7F48E3ED8587:t0, leader=null, voted=, raftlog=Memoized:s1@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7F48E3ED8587:t0, leader=null, voted=, raftlog=Memoized:s2@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:577)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:611)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:604)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:170)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:46,984 [s1@group-7F48E3ED8587-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-7F48E3ED8587-FollowerState: change to CANDIDATE, lastRpcElapsedTime:151094384ns, electionTimeout:150ms
2022-08-16 16:31:46,985 [s1@group-7F48E3ED8587-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7F48E3ED8587-FollowerState
2022-08-16 16:31:46,985 [s1@group-7F48E3ED8587-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-7F48E3ED8587: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-16 16:31:46,985 [s1@group-7F48E3ED8587-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-16 16:31:46,985 [s1@group-7F48E3ED8587-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7F48E3ED8587-LeaderElection9
2022-08-16 16:31:46,988 [s0@group-7F48E3ED8587-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-7F48E3ED8587-FollowerState: change to CANDIDATE, lastRpcElapsedTime:167504423ns, electionTimeout:166ms
2022-08-16 16:31:46,988 [s0@group-7F48E3ED8587-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7F48E3ED8587-FollowerState
2022-08-16 16:31:46,988 [s0@group-7F48E3ED8587-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-7F48E3ED8587: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-16 16:31:46,989 [s0@group-7F48E3ED8587-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-16 16:31:46,989 [s0@group-7F48E3ED8587-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7F48E3ED8587-LeaderElection10
2022-08-16 16:31:46,993 [s1@group-7F48E3ED8587-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-7F48E3ED8587-LeaderElection9 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:46,993 [s0@group-7F48E3ED8587-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-7F48E3ED8587-LeaderElection10 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:46,993 [s0@group-7F48E3ED8587-LeaderElection10-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-16 16:31:46,999 [s0@group-7F48E3ED8587-LeaderElection10-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-16 16:31:47,001 [s1@group-7F48E3ED8587-LeaderElection9-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-08-16 16:31:47,001 [s1@group-7F48E3ED8587-LeaderElection9-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-16 16:31:47,026 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-7F48E3ED8587: receive requestVote(PRE_VOTE, s0, group-7F48E3ED8587, 0, (t:0, i:0))
2022-08-16 16:31:47,026 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-7F48E3ED8587-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-16 16:31:47,026 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-7F48E3ED8587 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-7F48E3ED8587:t0, leader=null, voted=, raftlog=Memoized:s1@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:47,037 [s0@group-7F48E3ED8587-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-7F48E3ED8587-LeaderElection10: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-16 16:31:47,037 [s0@group-7F48E3ED8587-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-08-16 16:31:47,037 [s0@group-7F48E3ED8587-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-7F48E3ED8587-LeaderElection10 PRE_VOTE round 0: result PASSED
2022-08-16 16:31:47,037 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-7F48E3ED8587: receive requestVote(PRE_VOTE, s1, group-7F48E3ED8587, 0, (t:0, i:0))
2022-08-16 16:31:47,038 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-7F48E3ED8587: receive requestVote(PRE_VOTE, s0, group-7F48E3ED8587, 0, (t:0, i:0))
2022-08-16 16:31:47,038 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-7F48E3ED8587-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-16 16:31:47,038 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-7F48E3ED8587 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-7F48E3ED8587:t0, leader=null, voted=, raftlog=Memoized:s2@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:47,039 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-7F48E3ED8587: receive requestVote(PRE_VOTE, s1, group-7F48E3ED8587, 0, (t:0, i:0))
2022-08-16 16:31:47,040 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-7F48E3ED8587-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-16 16:31:47,041 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-7F48E3ED8587 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-7F48E3ED8587:t0, leader=null, voted=, raftlog=Memoized:s2@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:47,041 [s0@group-7F48E3ED8587-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-7F48E3ED8587-LeaderElection10 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:47,042 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-7F48E3ED8587-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-16 16:31:47,044 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-7F48E3ED8587 replies to PRE_VOTE vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-7F48E3ED8587:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:47,046 [s1@group-7F48E3ED8587-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-7F48E3ED8587-LeaderElection9: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-16 16:31:47,047 [s1@group-7F48E3ED8587-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t0
2022-08-16 16:31:47,047 [s1@group-7F48E3ED8587-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-7F48E3ED8587-LeaderElection9 PRE_VOTE round 0: result PASSED
2022-08-16 16:31:47,048 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-7F48E3ED8587: receive requestVote(ELECTION, s0, group-7F48E3ED8587, 1, (t:0, i:0))
2022-08-16 16:31:47,048 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-7F48E3ED8587-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-16 16:31:47,049 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-7F48E3ED8587: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-16 16:31:47,049 [s1@group-7F48E3ED8587-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-7F48E3ED8587-LeaderElection9 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:47,049 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7F48E3ED8587-FollowerState
2022-08-16 16:31:47,050 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7F48E3ED8587-FollowerState
2022-08-16 16:31:47,050 [s2@group-7F48E3ED8587-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-7F48E3ED8587-FollowerState was interrupted
2022-08-16 16:31:47,050 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-7F48E3ED8587: receive requestVote(ELECTION, s0, group-7F48E3ED8587, 1, (t:0, i:0))
2022-08-16 16:31:47,056 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-7F48E3ED8587-CANDIDATE: reject ELECTION from s0: already has voted for s1 at current term 1
2022-08-16 16:31:47,056 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-7F48E3ED8587 replies to ELECTION vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-7F48E3ED8587:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:47,056 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-7F48E3ED8587 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-7F48E3ED8587:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:47,060 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-7F48E3ED8587: receive requestVote(ELECTION, s1, group-7F48E3ED8587, 1, (t:0, i:0))
2022-08-16 16:31:47,061 [s0@group-7F48E3ED8587-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-7F48E3ED8587-LeaderElection10: ELECTION PASSED received 2 response(s) and 0 exception(s):
2022-08-16 16:31:47,064 [s0@group-7F48E3ED8587-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-08-16 16:31:47,064 [s0@group-7F48E3ED8587-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:OK-t1
2022-08-16 16:31:47,061 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-7F48E3ED8587-CANDIDATE: reject ELECTION from s1: already has voted for s0 at current term 1
2022-08-16 16:31:47,064 [s0@group-7F48E3ED8587-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-7F48E3ED8587-LeaderElection10 ELECTION round 0: result PASSED
2022-08-16 16:31:47,064 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-7F48E3ED8587 replies to ELECTION vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-7F48E3ED8587:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:47,064 [s0@group-7F48E3ED8587-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-7F48E3ED8587-LeaderElection10
2022-08-16 16:31:47,064 [s0@group-7F48E3ED8587-LeaderElection10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-7F48E3ED8587: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-16 16:31:47,064 [s0@group-7F48E3ED8587-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-7F48E3ED8587: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 264ms
2022-08-16 16:31:47,064 [s0@group-7F48E3ED8587-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-16 16:31:47,064 [s0@group-7F48E3ED8587-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-16 16:31:47,064 [s0@group-7F48E3ED8587-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-16 16:31:47,065 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-7F48E3ED8587: receive requestVote(ELECTION, s1, group-7F48E3ED8587, 1, (t:0, i:0))
2022-08-16 16:31:47,065 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-7F48E3ED8587-FOLLOWER: reject ELECTION from s1: already has voted for s0 at current term 1
2022-08-16 16:31:47,065 [s0@group-7F48E3ED8587-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-16 16:31:47,065 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-7F48E3ED8587 replies to ELECTION vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-7F48E3ED8587:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:47,065 [s0@group-7F48E3ED8587-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-16 16:31:47,065 [s0@group-7F48E3ED8587-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-16 16:31:47,067 [s0@group-7F48E3ED8587-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-16 16:31:47,067 [s0@group-7F48E3ED8587-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-16 16:31:47,067 [s0@group-7F48E3ED8587-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-16 16:31:47,068 [s0@group-7F48E3ED8587-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:47,068 [s0@group-7F48E3ED8587-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-16 16:31:47,068 [s0@group-7F48E3ED8587-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-16 16:31:47,068 [s0@group-7F48E3ED8587-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:47,068 [s0@group-7F48E3ED8587-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:47,068 [s0@group-7F48E3ED8587-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-16 16:31:47,070 [s0@group-7F48E3ED8587-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-16 16:31:47,070 [s0@group-7F48E3ED8587-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:47,070 [s0@group-7F48E3ED8587-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-16 16:31:47,070 [s0@group-7F48E3ED8587-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-16 16:31:47,070 [s0@group-7F48E3ED8587-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:47,070 [s0@group-7F48E3ED8587-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:47,070 [s0@group-7F48E3ED8587-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-16 16:31:47,070 [s0@group-7F48E3ED8587-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7F48E3ED8587-LeaderStateImpl
2022-08-16 16:31:47,071 [s0@group-7F48E3ED8587-LeaderElection10] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-7F48E3ED8587-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-16 16:31:47,072 [s1@group-7F48E3ED8587-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-7F48E3ED8587-LeaderElection9: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-08-16 16:31:47,086 [s1@group-7F48E3ED8587-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:FAIL-t1
2022-08-16 16:31:47,086 [s1@group-7F48E3ED8587-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s2#0:FAIL-t1
2022-08-16 16:31:47,082 [s0@group-7F48E3ED8587-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-7F48E3ED8587-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s0/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587/current/log_inprogress_0
2022-08-16 16:31:47,078 [s0@group-7F48E3ED8587-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-7F48E3ED8587: set configuration 0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:47,090 [s1@group-7F48E3ED8587-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-7F48E3ED8587-LeaderElection9 ELECTION round 0: result REJECTED
2022-08-16 16:31:47,093 [s1@group-7F48E3ED8587-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-7F48E3ED8587: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-16 16:31:47,093 [s1@group-7F48E3ED8587-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-7F48E3ED8587-LeaderElection9
2022-08-16 16:31:47,093 [s1@group-7F48E3ED8587-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7F48E3ED8587-FollowerState
2022-08-16 16:31:47,097 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-7F48E3ED8587: change Leader from null to s0 at term 1 for appendEntries, leader elected after 290ms
2022-08-16 16:31:47,105 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-7F48E3ED8587: change Leader from null to s0 at term 1 for appendEntries, leader elected after 293ms
2022-08-16 16:31:47,107 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-7F48E3ED8587: set configuration 0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:47,107 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-7F48E3ED8587-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-16 16:31:47,109 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-7F48E3ED8587: set configuration 0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:47,109 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-7F48E3ED8587-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-16 16:31:47,125 [s2@group-7F48E3ED8587-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-7F48E3ED8587-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s2/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587/current/log_inprogress_0
2022-08-16 16:31:47,126 [s1@group-7F48E3ED8587-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-7F48E3ED8587-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s1/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587/current/log_inprogress_0
2022-08-16 16:31:47,316 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7F48E3ED8587:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7F48E3ED8587:t1, leader=s0, voted=s1, raftlog=Memoized:s1@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7F48E3ED8587:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:47,316 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:47,317 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:47,326 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-34755CAC8692->s0: receive RaftClientReply:client-34755CAC8692->s0@group-7F48E3ED8587, cid=28, SUCCESS, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-08-16 16:31:47,331 [s0@group-7F48E3ED8587-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-34755CAC8692
2022-08-16 16:31:47,332 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-34755CAC8692->s0: receive RaftClientReply:client-34755CAC8692->s0@group-7F48E3ED8587, cid=29, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2022-08-16 16:31:47,333 [s1@group-7F48E3ED8587-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-34755CAC8692
2022-08-16 16:31:47,333 [s2@group-7F48E3ED8587-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-34755CAC8692
2022-08-16 16:31:47,343 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:47,343 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:47,356 [s0@group-7F48E3ED8587-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-AB67AD054A49
2022-08-16 16:31:47,357 [s1@group-7F48E3ED8587-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-AB67AD054A49
2022-08-16 16:31:47,358 [s2@group-7F48E3ED8587-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-AB67AD054A49
2022-08-16 16:31:47,359 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-AB67AD054A49->s0: receive RaftClientReply:client-AB67AD054A49->s0@group-7F48E3ED8587, cid=1, SUCCESS, logIndex=3, commits[s0:c3, s1:c2, s2:c2]
2022-08-16 16:31:47,360 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(134)) - block START_TRANSACTION
2022-08-16 16:31:47,361 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s0
2022-08-16 16:31:47,361 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:47,361 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7F48E3ED8587:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7F48E3ED8587:t1, leader=s0, voted=s1, raftlog=Memoized:s1@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7F48E3ED8587:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:47,362 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7F48E3ED8587:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7F48E3ED8587:t1, leader=s0, voted=s1, raftlog=Memoized:s1@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7F48E3ED8587:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:47,363 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "changeLeader-changeLeader", attempt #1/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:196)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:47,435 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2022-08-16 16:31:47,436 [s1-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2022-08-16 16:31:47,463 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:47,463 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7F48E3ED8587:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7F48E3ED8587:t1, leader=s0, voted=s1, raftlog=Memoized:s1@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7F48E3ED8587:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:47,464 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7F48E3ED8587:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7F48E3ED8587:t1, leader=s0, voted=s1, raftlog=Memoized:s1@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7F48E3ED8587:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:47,464 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "changeLeader-changeLeader", attempt #2/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:196)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:47,564 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:47,565 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7F48E3ED8587:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7F48E3ED8587:t1, leader=s0, voted=s1, raftlog=Memoized:s1@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7F48E3ED8587:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:47,565 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7F48E3ED8587:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7F48E3ED8587:t1, leader=s0, voted=s1, raftlog=Memoized:s1@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7F48E3ED8587:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:47,565 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "changeLeader-changeLeader", attempt #3/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:196)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:47,665 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:47,666 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7F48E3ED8587:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7F48E3ED8587:t1, leader=s0, voted=s1, raftlog=Memoized:s1@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7F48E3ED8587:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:47,666 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7F48E3ED8587:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7F48E3ED8587:t1, leader=s0, voted=s1, raftlog=Memoized:s1@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7F48E3ED8587:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:47,666 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "changeLeader-changeLeader", attempt #4/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:196)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:47,744 [s1@group-7F48E3ED8587-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-7F48E3ED8587-FollowerState: change to CANDIDATE, lastRpcElapsedTime:386588784ns, electionTimeout:251ms
2022-08-16 16:31:47,744 [s1@group-7F48E3ED8587-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7F48E3ED8587-FollowerState
2022-08-16 16:31:47,744 [s1@group-7F48E3ED8587-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-7F48E3ED8587: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-16 16:31:47,744 [s1@group-7F48E3ED8587-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-16 16:31:47,744 [s1@group-7F48E3ED8587-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7F48E3ED8587-LeaderElection11
2022-08-16 16:31:47,745 [s1@group-7F48E3ED8587-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-7F48E3ED8587: change Leader from s0 to null at term 1 for PRE_VOTE
2022-08-16 16:31:47,745 [s1@group-7F48E3ED8587-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-7F48E3ED8587-LeaderElection11 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:47,750 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-7F48E3ED8587: receive requestVote(PRE_VOTE, s1, group-7F48E3ED8587, 1, (t:1, i:4))
2022-08-16 16:31:47,751 [grpc-default-executor-1] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1020)) - s0@group-7F48E3ED8587-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 686ms. Conf: 0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:47,751 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-7F48E3ED8587: receive requestVote(PRE_VOTE, s1, group-7F48E3ED8587, 1, (t:1, i:4))
2022-08-16 16:31:47,751 [grpc-default-executor-1] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s0@group-7F48E3ED8587->s1(c3,m4,n5, attendVote=true, lastRpcSendTime=11, lastRpcResponseTime=392)
2022-08-16 16:31:47,752 [grpc-default-executor-1] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s0@group-7F48E3ED8587->s2(c3,m4,n5, attendVote=true, lastRpcSendTime=12, lastRpcResponseTime=393)
2022-08-16 16:31:47,752 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-7F48E3ED8587-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-16 16:31:47,752 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-7F48E3ED8587: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-08-16 16:31:47,752 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-7F48E3ED8587 replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-7F48E3ED8587:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:47,752 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-7F48E3ED8587-LeaderStateImpl
2022-08-16 16:31:47,752 [s0@group-7F48E3ED8587->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s0@group-7F48E3ED8587->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-16 16:31:47,752 [grpc-default-executor-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-7F48E3ED8587-PendingRequests: sendNotLeaderResponses
2022-08-16 16:31:47,752 [s0@group-7F48E3ED8587->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s0@group-7F48E3ED8587->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-16 16:31:47,759 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7F48E3ED8587-FollowerState
2022-08-16 16:31:47,760 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-7F48E3ED8587-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-08-16 16:31:47,760 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-7F48E3ED8587 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-7F48E3ED8587:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:47,766 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:47,767 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7F48E3ED8587:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-7F48E3ED8587:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7F48E3ED8587:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:47,767 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7F48E3ED8587:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-7F48E3ED8587:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7F48E3ED8587:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7F48E3ED8587:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-7F48E3ED8587:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7F48E3ED8587:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:577)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:611)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:604)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:196)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:47,769 [s1@group-7F48E3ED8587-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-7F48E3ED8587-LeaderElection11: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-08-16 16:31:47,769 [s1@group-7F48E3ED8587-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:FAIL-t1
2022-08-16 16:31:47,769 [s1@group-7F48E3ED8587-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s2#0:OK-t1
2022-08-16 16:31:47,769 [s1@group-7F48E3ED8587-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-7F48E3ED8587-LeaderElection11 PRE_VOTE round 0: result PASSED
2022-08-16 16:31:47,771 [s1@group-7F48E3ED8587-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-7F48E3ED8587-LeaderElection11 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:47,781 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-7F48E3ED8587: receive requestVote(ELECTION, s1, group-7F48E3ED8587, 2, (t:1, i:4))
2022-08-16 16:31:47,781 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-7F48E3ED8587: receive requestVote(ELECTION, s1, group-7F48E3ED8587, 2, (t:1, i:4))
2022-08-16 16:31:47,782 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-7F48E3ED8587-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-16 16:31:47,782 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-7F48E3ED8587: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-08-16 16:31:47,782 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-7F48E3ED8587: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-08-16 16:31:47,782 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7F48E3ED8587-FollowerState
2022-08-16 16:31:47,783 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7F48E3ED8587-FollowerState
2022-08-16 16:31:47,783 [s2@group-7F48E3ED8587-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-7F48E3ED8587-FollowerState was interrupted
2022-08-16 16:31:47,783 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-7F48E3ED8587-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-16 16:31:47,783 [grpc-default-executor-5] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-7F48E3ED8587: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-08-16 16:31:47,783 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-7F48E3ED8587: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-08-16 16:31:47,783 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7F48E3ED8587-FollowerState
2022-08-16 16:31:47,783 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7F48E3ED8587-FollowerState
2022-08-16 16:31:47,783 [s0@group-7F48E3ED8587-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-7F48E3ED8587-FollowerState was interrupted
2022-08-16 16:31:47,785 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-7F48E3ED8587 replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-7F48E3ED8587:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:47,787 [s1@group-7F48E3ED8587-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-7F48E3ED8587-LeaderElection11: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-16 16:31:47,787 [s1@group-7F48E3ED8587-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t2
2022-08-16 16:31:47,787 [s1@group-7F48E3ED8587-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-7F48E3ED8587-LeaderElection11 ELECTION round 0: result PASSED
2022-08-16 16:31:47,787 [s1@group-7F48E3ED8587-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-7F48E3ED8587-LeaderElection11
2022-08-16 16:31:47,787 [s1@group-7F48E3ED8587-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-7F48E3ED8587: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-08-16 16:31:47,787 [s1@group-7F48E3ED8587-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-7F48E3ED8587: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 42ms
2022-08-16 16:31:47,787 [s1@group-7F48E3ED8587-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-16 16:31:47,787 [s1@group-7F48E3ED8587-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-16 16:31:47,787 [s1@group-7F48E3ED8587-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-16 16:31:47,788 [s1@group-7F48E3ED8587-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-16 16:31:47,788 [s1@group-7F48E3ED8587-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-16 16:31:47,788 [s1@group-7F48E3ED8587-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-16 16:31:47,788 [s1@group-7F48E3ED8587-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-16 16:31:47,788 [s1@group-7F48E3ED8587-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-16 16:31:47,788 [s1@group-7F48E3ED8587-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-16 16:31:47,788 [s1@group-7F48E3ED8587-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:47,788 [s1@group-7F48E3ED8587-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-16 16:31:47,788 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-7F48E3ED8587 replies to ELECTION vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-7F48E3ED8587:t2, leader=null, voted=s1, raftlog=Memoized:s0@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:47,789 [s1@group-7F48E3ED8587-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-16 16:31:47,789 [s1@group-7F48E3ED8587-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:47,789 [s1@group-7F48E3ED8587-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:47,789 [s1@group-7F48E3ED8587-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-16 16:31:47,789 [s1@group-7F48E3ED8587-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-16 16:31:47,789 [s1@group-7F48E3ED8587-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:47,789 [s1@group-7F48E3ED8587-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-16 16:31:47,790 [s1@group-7F48E3ED8587-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-16 16:31:47,790 [s1@group-7F48E3ED8587-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:47,790 [s1@group-7F48E3ED8587-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:47,790 [s1@group-7F48E3ED8587-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-16 16:31:47,790 [s1@group-7F48E3ED8587-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7F48E3ED8587-LeaderStateImpl
2022-08-16 16:31:47,791 [s1@group-7F48E3ED8587-LeaderElection11] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s1@group-7F48E3ED8587-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-08-16 16:31:47,796 [s1@group-7F48E3ED8587-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s1/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s1/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587/current/log_0-4
2022-08-16 16:31:47,800 [s1@group-7F48E3ED8587-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s1@group-7F48E3ED8587-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s1/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s1/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587/current/log_0-4
2022-08-16 16:31:47,801 [s1@group-7F48E3ED8587-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-7F48E3ED8587: set configuration 5: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:47,806 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-7F48E3ED8587: change Leader from null to s1 at term 2 for appendEntries, leader elected after 22ms
2022-08-16 16:31:47,809 [s2-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-7F48E3ED8587: change Leader from null to s1 at term 2 for appendEntries, leader elected after 26ms
2022-08-16 16:31:47,809 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-7F48E3ED8587: set configuration 5: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:47,809 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s0@group-7F48E3ED8587-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-08-16 16:31:47,812 [s1@group-7F48E3ED8587-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-7F48E3ED8587-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s1/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587/current/log_inprogress_5
2022-08-16 16:31:47,813 [s0@group-7F48E3ED8587-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s0/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s0/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587/current/log_0-4
2022-08-16 16:31:47,813 [s0@group-7F48E3ED8587-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s0@group-7F48E3ED8587-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s0/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s0/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587/current/log_0-4
2022-08-16 16:31:47,816 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-7F48E3ED8587: set configuration 5: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:47,816 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s2@group-7F48E3ED8587-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-08-16 16:31:47,817 [s2@group-7F48E3ED8587-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s2/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s2/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587/current/log_0-4
2022-08-16 16:31:47,818 [s2@group-7F48E3ED8587-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s2@group-7F48E3ED8587-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s2/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s2/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587/current/log_0-4
2022-08-16 16:31:47,836 [s0@group-7F48E3ED8587-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-7F48E3ED8587-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s0/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587/current/log_inprogress_5
2022-08-16 16:31:47,836 [s2@group-7F48E3ED8587-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-7F48E3ED8587-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc7582283b/s2/0fb1f3cc-8814-4c53-a78e-7f48e3ed8587/current/log_inprogress_5
2022-08-16 16:31:48,218 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7F48E3ED8587:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7F48E3ED8587:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7F48E3ED8587:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:48,218 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s1
2022-08-16 16:31:48,218 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s0
2022-08-16 16:31:48,218 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should fail'
2022-08-16 16:31:48,219 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should fail" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-AB67AD054A49->s0: Stream completed: no reply for async request cid=2
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1908)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:200)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-AB67AD054A49->s0: Stream completed: no reply for async request cid=2
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:406)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onCompleted(GrpcClientProtocolClient.java:346)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:477)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:463)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:427)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:460)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
2022-08-16 16:31:48,219 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(141)) - unblock START_TRANSACTION
2022-08-16 16:31:48,221 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:48,221 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:48,224 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should timeout'
2022-08-16 16:31:48,336 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2022-08-16 16:31:48,336 [s1-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2022-08-16 16:31:48,344 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#20-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-08-16 16:31:48,346 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(402)) - s0@group-7F48E3ED8587->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-16 16:31:48,346 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-7F48E3ED8587->s1: nextIndex: updateUnconditionally 5 -> 4
2022-08-16 16:31:48,348 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#21-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-08-16 16:31:48,349 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(402)) - s0@group-7F48E3ED8587->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-16 16:31:48,349 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-7F48E3ED8587->s2: nextIndex: updateUnconditionally 5 -> 4
2022-08-16 16:31:49,224 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should timeout" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-AB67AD054A49->s0 request #3 timeout 1s
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1908)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:208)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-AB67AD054A49->s0 request #3 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:384)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:388)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:383)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2022-08-16 16:31:49,233 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-AB67AD054A49->s0: receive RaftClientReply:client-AB67AD054A49->s0@group-7F48E3ED8587, cid=3, FAILED org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Server:2-OrderedRequestStreamObserver2 is closing: seq = 3 > nextToProcess = -1 will NEVER be processed; request = 3:null, logIndex=0, commits[]
2022-08-16 16:31:52,225 [Time-limited test] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(216)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=334, target=localhost:41319}}. 
2022-08-16 16:31:52,231 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(827)) - ************************************************************** 
2022-08-16 16:31:52,231 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(828)) - *** 
2022-08-16 16:31:52,231 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-16 16:31:52,231 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-16 16:31:52,232 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-08-16 16:31:52,232 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7F48E3ED8587:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7F48E3ED8587:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7F48E3ED8587:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-7F48E3ED8587-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43889|admin:localhost:34979|client:localhost:41319|dataStream:localhost:41321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46407|admin:localhost:34759|client:localhost:35061|dataStream:localhost:44509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39335|admin:localhost:42333|client:localhost:41151|dataStream:localhost:35101|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:52,234 [java.util.concurrent.ThreadPoolExecutor$Worker@751c09e2[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s1: close
2022-08-16 16:31:52,239 [java.util.concurrent.ThreadPoolExecutor$Worker@71262658[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s0: close
2022-08-16 16:31:52,239 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s1@group-7F48E3ED8587: shutdown
2022-08-16 16:31:52,239 [java.util.concurrent.ThreadPoolExecutor$Worker@751c09e2[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-16 16:31:52,239 [java.util.concurrent.ThreadPoolExecutor$Worker@3349a898[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s2: close
2022-08-16 16:31:52,240 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s0@group-7F48E3ED8587: shutdown
2022-08-16 16:31:52,241 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7F48E3ED8587,id=s0
2022-08-16 16:31:52,241 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7F48E3ED8587-FollowerState
2022-08-16 16:31:52,241 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-7F48E3ED8587-StateMachineUpdater: set stopIndex = 6
2022-08-16 16:31:52,241 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s2@group-7F48E3ED8587: shutdown
2022-08-16 16:31:52,240 [java.util.concurrent.ThreadPoolExecutor$Worker@71262658[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-16 16:31:52,241 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s0@group-7F48E3ED8587: closes. applyIndex: 6
2022-08-16 16:31:52,239 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7F48E3ED8587,id=s1
2022-08-16 16:31:52,241 [java.util.concurrent.ThreadPoolExecutor$Worker@3349a898[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-16 16:31:52,241 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7F48E3ED8587,id=s2
2022-08-16 16:31:52,242 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7F48E3ED8587-FollowerState
2022-08-16 16:31:52,241 [s0@group-7F48E3ED8587-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-7F48E3ED8587-FollowerState was interrupted
2022-08-16 16:31:52,242 [java.util.concurrent.ThreadPoolExecutor$Worker@3349a898[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-16 16:31:52,241 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-7F48E3ED8587-LeaderStateImpl
2022-08-16 16:31:52,245 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-7F48E3ED8587-PendingRequests: sendNotLeaderResponses
2022-08-16 16:31:52,245 [s1@group-7F48E3ED8587->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s1@group-7F48E3ED8587->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-16 16:31:52,246 [s1@group-7F48E3ED8587->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s1@group-7F48E3ED8587->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-16 16:31:52,245 [s0@group-7F48E3ED8587-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-7F48E3ED8587-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-16 16:31:52,245 [s2@group-7F48E3ED8587-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-7F48E3ED8587-FollowerState was interrupted
2022-08-16 16:31:52,244 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-7F48E3ED8587-StateMachineUpdater: set stopIndex = 6
2022-08-16 16:31:52,246 [java.util.concurrent.ThreadPoolExecutor$Worker@3349a898[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server GrpcServerProtocolService now
2022-08-16 16:31:52,247 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-08-16 16:31:52,247 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s2@group-7F48E3ED8587: closes. applyIndex: 6
2022-08-16 16:31:52,247 [s2@group-7F48E3ED8587-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s2@group-7F48E3ED8587-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-16 16:31:52,247 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-08-16 16:31:52,249 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(402)) - s1@group-7F48E3ED8587->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-16 16:31:52,249 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-7F48E3ED8587->s0: nextIndex: updateUnconditionally 7 -> 6
2022-08-16 16:31:52,250 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-7F48E3ED8587-StateMachineUpdater: set stopIndex = 6
2022-08-16 16:31:52,250 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s1@group-7F48E3ED8587: closes. applyIndex: 6
2022-08-16 16:31:52,250 [s1@group-7F48E3ED8587-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s1@group-7F48E3ED8587-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-16 16:31:52,250 [java.util.concurrent.ThreadPoolExecutor$Worker@71262658[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-16 16:31:52,250 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-08-16 16:31:52,250 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(402)) - s1@group-7F48E3ED8587->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-16 16:31:52,251 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-7F48E3ED8587->s2: nextIndex: updateUnconditionally 7 -> 6
2022-08-16 16:31:52,255 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-7F48E3ED8587-SegmentedRaftLogWorker close()
2022-08-16 16:31:52,257 [java.util.concurrent.ThreadPoolExecutor$Worker@3349a898[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server GrpcServerProtocolService successfully
2022-08-16 16:31:52,257 [java.util.concurrent.ThreadPoolExecutor$Worker@3349a898[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-16 16:31:52,257 [java.util.concurrent.ThreadPoolExecutor$Worker@3349a898[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-16 16:31:52,257 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@4b1bac54] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-16 16:31:52,259 [java.util.concurrent.ThreadPoolExecutor$Worker@71262658[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-16 16:31:52,259 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s2@group-7F48E3ED8587-SegmentedRaftLogWorker close()
2022-08-16 16:31:52,259 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s1@group-7F48E3ED8587-SegmentedRaftLogWorker close()
2022-08-16 16:31:52,260 [java.util.concurrent.ThreadPoolExecutor$Worker@71262658[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-16 16:31:52,261 [java.util.concurrent.ThreadPoolExecutor$Worker@71262658[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-16 16:31:52,259 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-16 16:31:52,261 [java.util.concurrent.ThreadPoolExecutor$Worker@71262658[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-16 16:31:52,261 [java.util.concurrent.ThreadPoolExecutor$Worker@71262658[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-16 16:31:52,262 [java.util.concurrent.ThreadPoolExecutor$Worker@71262658[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-16 16:31:52,262 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@6c589aa3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-16 16:31:52,263 [java.util.concurrent.ThreadPoolExecutor$Worker@751c09e2[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-16 16:31:52,263 [java.util.concurrent.ThreadPoolExecutor$Worker@751c09e2[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server GrpcServerProtocolService now
2022-08-16 16:31:52,265 [java.util.concurrent.ThreadPoolExecutor$Worker@751c09e2[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server GrpcServerProtocolService successfully
2022-08-16 16:31:52,265 [java.util.concurrent.ThreadPoolExecutor$Worker@751c09e2[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-16 16:31:52,265 [java.util.concurrent.ThreadPoolExecutor$Worker@751c09e2[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-16 16:31:52,265 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@5d833996] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-16 16:31:52,266 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(850)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-16 16:31:52,267 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-16 16:31:52,267 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-16 16:31:52,267 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-16 16:31:52,267 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(132)) - Running runWithNewCluster
2022-08-16 16:31:52,268 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(303)) - new MiniRaftClusterWithGrpc with group-803F18EA5837:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]
2022-08-16 16:31:52,268 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(336)) - .............................................................. 
2022-08-16 16:31:52,268 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - ... 
2022-08-16 16:31:52,268 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-16 16:31:52,268 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2022-08-16 16:31:52,268 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - .............................................................. 
2022-08-16 16:31:52,268 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(315)) - servers = {}
2022-08-16 16:31:52,268 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s0, group-803F18EA5837:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER], format? true
2022-08-16 16:31:52,268 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s0
2022-08-16 16:31:52,269 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s0 does not exist.
2022-08-16 16:31:52,269 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s0
2022-08-16 16:31:52,269 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-16 16:31:52,269 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:52,269 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33455 (custom)
2022-08-16 16:31:52,269 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:52,269 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41667 (custom)
2022-08-16 16:31:52,269 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:31:52,269 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35001 (custom)
2022-08-16 16:31:52,270 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:52,270 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:52,270 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:52,270 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:52,270 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-16 16:31:52,270 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:31:52,270 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:31:52,271 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-16 16:31:52,271 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-16 16:31:52,271 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-16 16:31:52,271 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:52,271 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:52,272 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s0] (custom)
2022-08-16 16:31:52,275 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-803F18EA5837:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER] returns group-803F18EA5837:java.util.concurrent.CompletableFuture@72de0aa5[Not completed]
2022-08-16 16:31:52,277 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s1, group-803F18EA5837:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER], format? true
2022-08-16 16:31:52,277 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s1
2022-08-16 16:31:52,277 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s1 does not exist.
2022-08-16 16:31:52,277 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s1
2022-08-16 16:31:52,277 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-16 16:31:52,278 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:52,278 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 45275 (custom)
2022-08-16 16:31:52,278 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:52,278 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37501 (custom)
2022-08-16 16:31:52,278 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:31:52,278 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 44277 (custom)
2022-08-16 16:31:52,278 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:52,278 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:52,278 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:52,278 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:52,278 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-16 16:31:52,278 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:31:52,278 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:31:52,279 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-16 16:31:52,279 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-16 16:31:52,279 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-16 16:31:52,280 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:52,280 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:52,280 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s1] (custom)
2022-08-16 16:31:52,281 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:52,281 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:52,281 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:52,282 [pool-17-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-803F18EA5837:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:52,282 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-16 16:31:52,282 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:52,282 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-16 16:31:52,282 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:52,282 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:52,282 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-16 16:31:52,282 [pool-17-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-803F18EA5837: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-16 16:31:52,282 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s0] (custom)
2022-08-16 16:31:52,282 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-16 16:31:52,282 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-16 16:31:52,282 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-16 16:31:52,283 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-16 16:31:52,283 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-16 16:31:52,283 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-803F18EA5837:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER] returns group-803F18EA5837:java.util.concurrent.CompletableFuture@6a11ed3[Not completed]
2022-08-16 16:31:52,283 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s2, group-803F18EA5837:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER], format? true
2022-08-16 16:31:52,283 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s2
2022-08-16 16:31:52,284 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s2 does not exist.
2022-08-16 16:31:52,284 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s2
2022-08-16 16:31:52,284 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-16 16:31:52,284 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:52,284 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 40107 (custom)
2022-08-16 16:31:52,284 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:52,284 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 33175 (custom)
2022-08-16 16:31:52,284 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:31:52,284 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 38327 (custom)
2022-08-16 16:31:52,284 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:52,285 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:52,285 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:52,285 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:52,285 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-16 16:31:52,285 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:31:52,285 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:31:52,286 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:52,286 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-16 16:31:52,286 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:52,286 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-16 16:31:52,286 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-16 16:31:52,287 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-16 16:31:52,287 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-16 16:31:52,287 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-16 16:31:52,287 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-16 16:31:52,287 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:52,287 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:52,287 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:52,288 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s2] (custom)
2022-08-16 16:31:52,288 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:52,288 [pool-18-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s1: new RaftServerImpl for group-803F18EA5837:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:52,288 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-16 16:31:52,288 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:52,288 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-16 16:31:52,288 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:52,288 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:52,288 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-16 16:31:52,288 [pool-18-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s1@group-803F18EA5837: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-16 16:31:52,288 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s1] (custom)
2022-08-16 16:31:52,289 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-16 16:31:52,289 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-16 16:31:52,289 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-16 16:31:52,289 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-16 16:31:52,289 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-16 16:31:52,289 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:52,289 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-16 16:31:52,289 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-16 16:31:52,289 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-16 16:31:52,289 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-16 16:31:52,289 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-803F18EA5837:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER] returns group-803F18EA5837:java.util.concurrent.CompletableFuture@5e797592[Not completed]
2022-08-16 16:31:52,290 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s0/d9292c76-1e6c-4b2d-9847-803f18ea5837 does not exist. Creating ...
2022-08-16 16:31:52,290 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s0/d9292c76-1e6c-4b2d-9847-803f18ea5837
2022-08-16 16:31:52,290 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:52,290 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:52,290 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:52,291 [pool-19-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s2: new RaftServerImpl for group-803F18EA5837:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:52,291 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-16 16:31:52,291 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:52,291 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-16 16:31:52,291 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:52,291 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:52,291 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-16 16:31:52,291 [pool-19-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s2@group-803F18EA5837: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-16 16:31:52,291 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s2] (custom)
2022-08-16 16:31:52,291 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-16 16:31:52,291 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-16 16:31:52,291 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-16 16:31:52,292 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-16 16:31:52,292 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-16 16:31:52,292 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:52,292 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-16 16:31:52,293 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-16 16:31:52,293 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-16 16:31:52,293 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-16 16:31:52,293 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s0/d9292c76-1e6c-4b2d-9847-803f18ea5837/in_use.lock acquired by nodename 21594@fv-az459-523.1d4eecmzj5luvpyspzf3bgtdve.dx.internal.cloudapp.net
2022-08-16 16:31:52,294 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s0/d9292c76-1e6c-4b2d-9847-803f18ea5837/current
2022-08-16 16:31:52,294 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s0/d9292c76-1e6c-4b2d-9847-803f18ea5837/sm
2022-08-16 16:31:52,295 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s0/d9292c76-1e6c-4b2d-9847-803f18ea5837 has been successfully formatted.
2022-08-16 16:31:52,295 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:52,295 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-16 16:31:52,295 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-16 16:31:52,295 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-16 16:31:52,295 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:52,295 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-16 16:31:52,295 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-16 16:31:52,296 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:52,296 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-16 16:31:52,296 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-16 16:31:52,296 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-803F18EA5837-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s0/d9292c76-1e6c-4b2d-9847-803f18ea5837
2022-08-16 16:31:52,296 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-16 16:31:52,296 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-16 16:31:52,296 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:52,296 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:52,296 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-16 16:31:52,296 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-16 16:31:52,296 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-16 16:31:52,296 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-16 16:31:52,297 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:52,297 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-16 16:31:52,297 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-16 16:31:52,297 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-16 16:31:52,297 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-803F18EA5837-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:52,297 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-803F18EA5837-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:52,297 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-803F18EA5837: start as a follower, conf=-1: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:52,297 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-803F18EA5837: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-16 16:31:52,297 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-803F18EA5837-FollowerState
2022-08-16 16:31:52,298 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-803F18EA5837,id=s0
2022-08-16 16:31:52,298 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-16 16:31:52,298 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-16 16:31:52,298 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-16 16:31:52,298 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s0: start RPC server
2022-08-16 16:31:52,299 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 41667
2022-08-16 16:31:52,300 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 35001
2022-08-16 16:31:52,301 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 33455
2022-08-16 16:31:52,303 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s1/d9292c76-1e6c-4b2d-9847-803f18ea5837 does not exist. Creating ...
2022-08-16 16:31:52,304 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s1/d9292c76-1e6c-4b2d-9847-803f18ea5837
2022-08-16 16:31:52,304 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@1fac4d7a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-16 16:31:52,305 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s1/d9292c76-1e6c-4b2d-9847-803f18ea5837/in_use.lock acquired by nodename 21594@fv-az459-523.1d4eecmzj5luvpyspzf3bgtdve.dx.internal.cloudapp.net
2022-08-16 16:31:52,305 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s1/d9292c76-1e6c-4b2d-9847-803f18ea5837/current
2022-08-16 16:31:52,305 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s1/d9292c76-1e6c-4b2d-9847-803f18ea5837/sm
2022-08-16 16:31:52,307 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s1/d9292c76-1e6c-4b2d-9847-803f18ea5837 has been successfully formatted.
2022-08-16 16:31:52,307 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:52,307 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-16 16:31:52,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-16 16:31:52,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-16 16:31:52,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:52,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-16 16:31:52,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-16 16:31:52,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:52,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-16 16:31:52,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-16 16:31:52,307 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-803F18EA5837-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s1/d9292c76-1e6c-4b2d-9847-803f18ea5837
2022-08-16 16:31:52,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-16 16:31:52,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-16 16:31:52,308 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:52,308 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:52,308 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-16 16:31:52,308 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-16 16:31:52,308 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-16 16:31:52,308 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-16 16:31:52,308 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:52,308 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-16 16:31:52,308 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-16 16:31:52,308 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-16 16:31:52,308 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-803F18EA5837-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:52,309 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-803F18EA5837-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:52,309 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s1@group-803F18EA5837: start as a follower, conf=-1: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:52,309 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-803F18EA5837: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-16 16:31:52,309 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-803F18EA5837-FollowerState
2022-08-16 16:31:52,309 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-803F18EA5837,id=s1
2022-08-16 16:31:52,309 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-16 16:31:52,309 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-16 16:31:52,309 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-16 16:31:52,310 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s1: start RPC server
2022-08-16 16:31:52,315 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 37501
2022-08-16 16:31:52,315 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 44277
2022-08-16 16:31:52,316 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 45275
2022-08-16 16:31:52,316 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@53bdce87] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-16 16:31:52,316 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s2/d9292c76-1e6c-4b2d-9847-803f18ea5837 does not exist. Creating ...
2022-08-16 16:31:52,317 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s2/d9292c76-1e6c-4b2d-9847-803f18ea5837
2022-08-16 16:31:52,318 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s2/d9292c76-1e6c-4b2d-9847-803f18ea5837/in_use.lock acquired by nodename 21594@fv-az459-523.1d4eecmzj5luvpyspzf3bgtdve.dx.internal.cloudapp.net
2022-08-16 16:31:52,318 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s2/d9292c76-1e6c-4b2d-9847-803f18ea5837/current
2022-08-16 16:31:52,318 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s2/d9292c76-1e6c-4b2d-9847-803f18ea5837/sm
2022-08-16 16:31:52,320 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s2/d9292c76-1e6c-4b2d-9847-803f18ea5837 has been successfully formatted.
2022-08-16 16:31:52,320 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:52,320 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-16 16:31:52,320 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-16 16:31:52,320 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-16 16:31:52,320 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:52,320 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-16 16:31:52,320 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-16 16:31:52,320 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:52,321 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-16 16:31:52,321 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-16 16:31:52,321 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-803F18EA5837-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s2/d9292c76-1e6c-4b2d-9847-803f18ea5837
2022-08-16 16:31:52,321 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-16 16:31:52,321 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-16 16:31:52,321 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:52,321 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:52,321 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-16 16:31:52,321 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-16 16:31:52,321 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-16 16:31:52,321 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-16 16:31:52,322 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:52,322 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-16 16:31:52,322 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-16 16:31:52,322 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-16 16:31:52,322 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-803F18EA5837-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:52,322 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-803F18EA5837-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:52,322 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s2@group-803F18EA5837: start as a follower, conf=-1: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:52,322 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-803F18EA5837: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-16 16:31:52,322 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-803F18EA5837-FollowerState
2022-08-16 16:31:52,323 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-803F18EA5837,id=s2
2022-08-16 16:31:52,323 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-16 16:31:52,323 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-16 16:31:52,323 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-16 16:31:52,323 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s2: start RPC server
2022-08-16 16:31:52,324 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 33175
2022-08-16 16:31:52,325 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 38327
2022-08-16 16:31:52,326 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 40107
2022-08-16 16:31:52,327 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@63eb405] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-16 16:31:52,327 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:52,327 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-803F18EA5837:t0, leader=null, voted=, raftlog=Memoized:s0@group-803F18EA5837-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-803F18EA5837:t0, leader=null, voted=, raftlog=Memoized:s1@group-803F18EA5837-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-803F18EA5837:t0, leader=null, voted=, raftlog=Memoized:s2@group-803F18EA5837-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:52,328 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-803F18EA5837:t0, leader=null, voted=, raftlog=Memoized:s0@group-803F18EA5837-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-803F18EA5837:t0, leader=null, voted=, raftlog=Memoized:s1@group-803F18EA5837-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-803F18EA5837:t0, leader=null, voted=, raftlog=Memoized:s2@group-803F18EA5837-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-803F18EA5837:t0, leader=null, voted=, raftlog=Memoized:s0@group-803F18EA5837-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-803F18EA5837:t0, leader=null, voted=, raftlog=Memoized:s1@group-803F18EA5837-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-803F18EA5837:t0, leader=null, voted=, raftlog=Memoized:s2@group-803F18EA5837-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:577)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:611)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:604)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:311)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:216)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:52,483 [s0@group-803F18EA5837-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-803F18EA5837-FollowerState: change to CANDIDATE, lastRpcElapsedTime:186040676ns, electionTimeout:185ms
2022-08-16 16:31:52,484 [s0@group-803F18EA5837-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-803F18EA5837-FollowerState
2022-08-16 16:31:52,484 [s0@group-803F18EA5837-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-803F18EA5837: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-16 16:31:52,484 [s0@group-803F18EA5837-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-16 16:31:52,484 [s0@group-803F18EA5837-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-803F18EA5837-LeaderElection12
2022-08-16 16:31:52,489 [s0@group-803F18EA5837-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-803F18EA5837-LeaderElection12 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:52,489 [s0@group-803F18EA5837-LeaderElection12-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-16 16:31:52,492 [s0@group-803F18EA5837-LeaderElection12-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-16 16:31:52,496 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-803F18EA5837: receive requestVote(PRE_VOTE, s0, group-803F18EA5837, 0, (t:0, i:0))
2022-08-16 16:31:52,496 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-803F18EA5837-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-16 16:31:52,497 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-803F18EA5837 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-803F18EA5837:t0, leader=null, voted=, raftlog=Memoized:s1@group-803F18EA5837-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:52,502 [s0@group-803F18EA5837-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-803F18EA5837-LeaderElection12: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-16 16:31:52,502 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-803F18EA5837: receive requestVote(PRE_VOTE, s0, group-803F18EA5837, 0, (t:0, i:0))
2022-08-16 16:31:52,502 [s0@group-803F18EA5837-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-08-16 16:31:52,502 [s0@group-803F18EA5837-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-803F18EA5837-LeaderElection12 PRE_VOTE round 0: result PASSED
2022-08-16 16:31:52,502 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-803F18EA5837-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-16 16:31:52,502 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-803F18EA5837 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-803F18EA5837:t0, leader=null, voted=, raftlog=Memoized:s2@group-803F18EA5837-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:52,504 [s0@group-803F18EA5837-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-803F18EA5837-LeaderElection12 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:52,509 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-803F18EA5837: receive requestVote(ELECTION, s0, group-803F18EA5837, 1, (t:0, i:0))
2022-08-16 16:31:52,509 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-803F18EA5837-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-16 16:31:52,509 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-803F18EA5837: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-16 16:31:52,509 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-803F18EA5837-FollowerState
2022-08-16 16:31:52,509 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-803F18EA5837-FollowerState
2022-08-16 16:31:52,510 [s1@group-803F18EA5837-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-803F18EA5837-FollowerState was interrupted
2022-08-16 16:31:52,512 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-803F18EA5837: receive requestVote(ELECTION, s0, group-803F18EA5837, 1, (t:0, i:0))
2022-08-16 16:31:52,512 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-803F18EA5837-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-16 16:31:52,512 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-803F18EA5837: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-16 16:31:52,512 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-803F18EA5837-FollowerState
2022-08-16 16:31:52,512 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-803F18EA5837-FollowerState
2022-08-16 16:31:52,512 [s2@group-803F18EA5837-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-803F18EA5837-FollowerState was interrupted
2022-08-16 16:31:52,513 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-803F18EA5837 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-803F18EA5837:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-803F18EA5837-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:52,513 [s0@group-803F18EA5837-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-803F18EA5837-LeaderElection12: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-16 16:31:52,513 [s0@group-803F18EA5837-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-08-16 16:31:52,513 [s0@group-803F18EA5837-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-803F18EA5837-LeaderElection12 ELECTION round 0: result PASSED
2022-08-16 16:31:52,513 [s0@group-803F18EA5837-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-803F18EA5837-LeaderElection12
2022-08-16 16:31:52,514 [s0@group-803F18EA5837-LeaderElection12] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-803F18EA5837: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-16 16:31:52,514 [s0@group-803F18EA5837-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-803F18EA5837: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 231ms
2022-08-16 16:31:52,514 [s0@group-803F18EA5837-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-16 16:31:52,514 [s0@group-803F18EA5837-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-16 16:31:52,514 [s0@group-803F18EA5837-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-16 16:31:52,514 [s0@group-803F18EA5837-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-16 16:31:52,514 [s0@group-803F18EA5837-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-16 16:31:52,514 [s0@group-803F18EA5837-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-16 16:31:52,514 [s0@group-803F18EA5837-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-16 16:31:52,514 [s0@group-803F18EA5837-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-16 16:31:52,515 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-803F18EA5837 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-803F18EA5837:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-803F18EA5837-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:52,515 [s0@group-803F18EA5837-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-16 16:31:52,515 [s0@group-803F18EA5837-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:52,515 [s0@group-803F18EA5837-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-16 16:31:52,515 [s0@group-803F18EA5837-LeaderElection12] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-16 16:31:52,515 [s0@group-803F18EA5837-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:52,515 [s0@group-803F18EA5837-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:52,515 [s0@group-803F18EA5837-LeaderElection12] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-16 16:31:52,515 [s0@group-803F18EA5837-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-16 16:31:52,515 [s0@group-803F18EA5837-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:52,516 [s0@group-803F18EA5837-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-16 16:31:52,516 [s0@group-803F18EA5837-LeaderElection12] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-16 16:31:52,516 [s0@group-803F18EA5837-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:52,516 [s0@group-803F18EA5837-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:52,516 [s0@group-803F18EA5837-LeaderElection12] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-16 16:31:52,516 [s0@group-803F18EA5837-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-803F18EA5837-LeaderStateImpl
2022-08-16 16:31:52,516 [s0@group-803F18EA5837-LeaderElection12] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-803F18EA5837-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-16 16:31:52,528 [s0@group-803F18EA5837-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-803F18EA5837: set configuration 0: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:52,536 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-803F18EA5837: change Leader from null to s0 at term 1 for appendEntries, leader elected after 247ms
2022-08-16 16:31:52,536 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-803F18EA5837: change Leader from null to s0 at term 1 for appendEntries, leader elected after 244ms
2022-08-16 16:31:52,538 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-803F18EA5837: set configuration 0: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:52,539 [s0@group-803F18EA5837-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-803F18EA5837-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s0/d9292c76-1e6c-4b2d-9847-803f18ea5837/current/log_inprogress_0
2022-08-16 16:31:52,540 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-803F18EA5837-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-16 16:31:52,539 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-803F18EA5837: set configuration 0: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:52,540 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-803F18EA5837-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-16 16:31:52,556 [s1@group-803F18EA5837-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-803F18EA5837-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s1/d9292c76-1e6c-4b2d-9847-803f18ea5837/current/log_inprogress_0
2022-08-16 16:31:52,557 [s2@group-803F18EA5837-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-803F18EA5837-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc89afd421/s2/d9292c76-1e6c-4b2d-9847-803f18ea5837/current/log_inprogress_0
2022-08-16 16:31:52,778 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-803F18EA5837:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-803F18EA5837-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-803F18EA5837:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-803F18EA5837-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-803F18EA5837:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-803F18EA5837-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:52,779 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:52,779 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:52,788 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-9B59D9B6BC2D->s0: receive RaftClientReply:client-9B59D9B6BC2D->s0@group-803F18EA5837, cid=30, SUCCESS, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-08-16 16:31:52,800 [s0@group-803F18EA5837-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 31@client-9B59D9B6BC2D
2022-08-16 16:31:52,802 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-9B59D9B6BC2D->s0: receive RaftClientReply:client-9B59D9B6BC2D->s0@group-803F18EA5837, cid=31, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2022-08-16 16:31:52,803 [s2@group-803F18EA5837-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 31@client-9B59D9B6BC2D
2022-08-16 16:31:52,804 [s1@group-803F18EA5837-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 31@client-9B59D9B6BC2D
2022-08-16 16:31:52,814 [s0-client-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(344)) - query testing
2022-08-16 16:31:52,816 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-9B59D9B6BC2D->s0: receive RaftClientReply:client-9B59D9B6BC2D->s0@group-803F18EA5837, cid=32, SUCCESS, logIndex=0, commits[s0:c2, s1:c1, s2:c1]
2022-08-16 16:31:56,818 [timer3] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(216)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=388, target=localhost:41667}}. 
2022-08-16 16:31:56,919 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:56,919 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:56,925 [s0-client-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(344)) - query testing
2022-08-16 16:31:56,926 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-9B59D9B6BC2D->s0: receive RaftClientReply:client-9B59D9B6BC2D->s0@group-803F18EA5837, cid=33, SUCCESS, logIndex=0, commits[s0:c2, s1:c2, s2:c2]
2022-08-16 16:31:56,928 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:56,928 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:56,935 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(284)) - Failed RaftClientRequest:client-9B59D9B6BC2D->s2@group-803F18EA5837, cid=34, seq=0, Watch-ALL(0), Message:<EMPTY>, reply=RaftClientReply:client-9B59D9B6BC2D->s2@group-803F18EA5837, cid=34, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-803F18EA5837 is not the leader s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s2:c2, s0:c2, s1:c2]
2022-08-16 16:31:56,937 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-9B59D9B6BC2D->s2: receive RaftClientReply:client-9B59D9B6BC2D->s2@group-803F18EA5837, cid=34, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-803F18EA5837 is not the leader s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s2:c2, s0:c2, s1:c2]
2022-08-16 16:31:56,942 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-9B59D9B6BC2D->s0: receive RaftClientReply:client-9B59D9B6BC2D->s0@group-803F18EA5837, cid=34, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-16 16:31:56,945 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-9B59D9B6BC2D->s0: receive RaftClientReply:client-9B59D9B6BC2D->s0@group-803F18EA5837, cid=35, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-16 16:31:56,953 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(827)) - ************************************************************** 
2022-08-16 16:31:56,953 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(828)) - *** 
2022-08-16 16:31:56,953 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-16 16:31:56,953 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-16 16:31:56,953 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-08-16 16:31:56,953 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-803F18EA5837:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-803F18EA5837-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-803F18EA5837:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-803F18EA5837-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-803F18EA5837:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-803F18EA5837-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:35001|admin:localhost:33455|client:localhost:41667|dataStream:localhost:44615|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44277|admin:localhost:45275|client:localhost:37501|dataStream:localhost:45645|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38327|admin:localhost:40107|client:localhost:33175|dataStream:localhost:41947|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:56,954 [java.util.concurrent.ThreadPoolExecutor$Worker@2fd2d794[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s0: close
2022-08-16 16:31:56,958 [java.util.concurrent.ThreadPoolExecutor$Worker@2fd2d794[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-16 16:31:56,958 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s0@group-803F18EA5837: shutdown
2022-08-16 16:31:56,958 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-803F18EA5837,id=s0
2022-08-16 16:31:56,958 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-803F18EA5837-LeaderStateImpl
2022-08-16 16:31:56,959 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-803F18EA5837-PendingRequests: sendNotLeaderResponses
2022-08-16 16:31:56,959 [java.util.concurrent.ThreadPoolExecutor$Worker@59cceeae[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s2: close
2022-08-16 16:31:56,959 [s0@group-803F18EA5837->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s0@group-803F18EA5837->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-16 16:31:56,959 [s0@group-803F18EA5837->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s0@group-803F18EA5837->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-16 16:31:56,959 [java.util.concurrent.ThreadPoolExecutor$Worker@1a0bb24e[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s1: close
2022-08-16 16:31:56,960 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2022-08-16 16:31:56,960 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2022-08-16 16:31:56,960 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#17-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2022-08-16 16:31:56,961 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#18-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2022-08-16 16:31:56,962 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(402)) - s0@group-803F18EA5837->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-16 16:31:56,962 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-803F18EA5837->s2: nextIndex: updateUnconditionally 3 -> 2
2022-08-16 16:31:56,962 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s2@group-803F18EA5837: shutdown
2022-08-16 16:31:56,962 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-803F18EA5837,id=s2
2022-08-16 16:31:56,962 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-803F18EA5837-FollowerState
2022-08-16 16:31:56,962 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-803F18EA5837-StateMachineUpdater: set stopIndex = 2
2022-08-16 16:31:56,962 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(402)) - s0@group-803F18EA5837->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-16 16:31:56,962 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-803F18EA5837->s1: nextIndex: updateUnconditionally 3 -> 2
2022-08-16 16:31:56,963 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(402)) - s0@group-803F18EA5837->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-16 16:31:56,963 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-803F18EA5837->s2: nextIndex: updateUnconditionally 2 -> 1
2022-08-16 16:31:56,963 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s2@group-803F18EA5837: closes. applyIndex: 2
2022-08-16 16:31:56,963 [s2@group-803F18EA5837-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-803F18EA5837-FollowerState was interrupted
2022-08-16 16:31:56,963 [java.util.concurrent.ThreadPoolExecutor$Worker@59cceeae[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-16 16:31:56,963 [s2@group-803F18EA5837-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s2@group-803F18EA5837-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-16 16:31:56,963 [ForkJoinPool.commonPool-worker-0] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-16 16:31:56,963 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(402)) - s0@group-803F18EA5837->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-16 16:31:56,963 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(129)) - s0@group-803F18EA5837->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:108)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:113)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:57)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:403)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:477)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:463)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:427)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:460)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:56,964 [java.util.concurrent.ThreadPoolExecutor$Worker@1a0bb24e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-16 16:31:56,965 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s2@group-803F18EA5837-SegmentedRaftLogWorker close()
2022-08-16 16:31:56,964 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s1@group-803F18EA5837: shutdown
2022-08-16 16:31:56,966 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-803F18EA5837,id=s1
2022-08-16 16:31:56,966 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-803F18EA5837-FollowerState
2022-08-16 16:31:56,966 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-803F18EA5837-StateMachineUpdater: set stopIndex = 2
2022-08-16 16:31:56,966 [s1@group-803F18EA5837-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-803F18EA5837-FollowerState was interrupted
2022-08-16 16:31:56,966 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s1@group-803F18EA5837: closes. applyIndex: 2
2022-08-16 16:31:56,966 [s1@group-803F18EA5837-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s1@group-803F18EA5837-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-16 16:31:56,968 [java.util.concurrent.ThreadPoolExecutor$Worker@59cceeae[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-16 16:31:56,968 [java.util.concurrent.ThreadPoolExecutor$Worker@59cceeae[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server GrpcServerProtocolService now
2022-08-16 16:31:56,968 [java.util.concurrent.ThreadPoolExecutor$Worker@1a0bb24e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-16 16:31:56,970 [java.util.concurrent.ThreadPoolExecutor$Worker@1a0bb24e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server GrpcServerProtocolService now
2022-08-16 16:31:56,969 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-803F18EA5837-StateMachineUpdater: set stopIndex = 2
2022-08-16 16:31:56,970 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s0@group-803F18EA5837: closes. applyIndex: 2
2022-08-16 16:31:56,970 [s0@group-803F18EA5837-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-803F18EA5837-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-16 16:31:56,970 [java.util.concurrent.ThreadPoolExecutor$Worker@59cceeae[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server GrpcServerProtocolService successfully
2022-08-16 16:31:56,970 [java.util.concurrent.ThreadPoolExecutor$Worker@59cceeae[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-16 16:31:56,969 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s1@group-803F18EA5837-SegmentedRaftLogWorker close()
2022-08-16 16:31:56,974 [ForkJoinPool.commonPool-worker-0] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-16 16:31:56,974 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-803F18EA5837-SegmentedRaftLogWorker close()
2022-08-16 16:31:56,975 [java.util.concurrent.ThreadPoolExecutor$Worker@59cceeae[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-16 16:31:56,975 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@63eb405] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-16 16:31:56,975 [java.util.concurrent.ThreadPoolExecutor$Worker@2fd2d794[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-16 16:31:56,975 [java.util.concurrent.ThreadPoolExecutor$Worker@2fd2d794[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-16 16:31:56,975 [java.util.concurrent.ThreadPoolExecutor$Worker@1a0bb24e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server GrpcServerProtocolService successfully
2022-08-16 16:31:56,975 [java.util.concurrent.ThreadPoolExecutor$Worker@1a0bb24e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-16 16:31:56,976 [java.util.concurrent.ThreadPoolExecutor$Worker@2fd2d794[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-16 16:31:56,976 [java.util.concurrent.ThreadPoolExecutor$Worker@2fd2d794[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-16 16:31:56,976 [java.util.concurrent.ThreadPoolExecutor$Worker@1a0bb24e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-16 16:31:56,977 [java.util.concurrent.ThreadPoolExecutor$Worker@2fd2d794[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-16 16:31:56,977 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@53bdce87] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-16 16:31:56,977 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@1fac4d7a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-16 16:31:56,978 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(850)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-16 16:31:56,978 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-16 16:31:56,978 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-16 16:31:56,978 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-16 16:31:56,979 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(132)) - Running runWithNewCluster
2022-08-16 16:31:56,980 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(303)) - new MiniRaftClusterWithGrpc with group-54EA0AC35485:[s0|rpc:localhost:45611|admin:localhost:46501|client:localhost:37375|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43941|admin:localhost:36217|client:localhost:40569|dataStream:localhost:38589|priority:0|startupRole:FOLLOWER]
2022-08-16 16:31:56,980 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(336)) - .............................................................. 
2022-08-16 16:31:56,980 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - ... 
2022-08-16 16:31:56,980 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-16 16:31:56,980 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2022-08-16 16:31:56,980 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - .............................................................. 
2022-08-16 16:31:56,980 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(315)) - servers = {}
2022-08-16 16:31:56,980 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s0, group-54EA0AC35485:[s0|rpc:localhost:45611|admin:localhost:46501|client:localhost:37375|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43941|admin:localhost:36217|client:localhost:40569|dataStream:localhost:38589|priority:0|startupRole:FOLLOWER], format? true
2022-08-16 16:31:56,980 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s0
2022-08-16 16:31:56,980 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s0 does not exist.
2022-08-16 16:31:56,980 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s0
2022-08-16 16:31:56,981 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-16 16:31:56,981 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:56,981 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 46501 (custom)
2022-08-16 16:31:56,981 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:56,981 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37375 (custom)
2022-08-16 16:31:56,981 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:31:56,981 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 45611 (custom)
2022-08-16 16:31:56,981 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:56,981 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:56,981 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:56,982 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:56,982 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-16 16:31:56,982 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:31:56,982 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:31:56,983 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-16 16:31:56,983 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-16 16:31:56,983 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-16 16:31:56,983 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:56,983 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:56,983 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s0] (custom)
2022-08-16 16:31:56,989 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-54EA0AC35485:[s0|rpc:localhost:45611|admin:localhost:46501|client:localhost:37375|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43941|admin:localhost:36217|client:localhost:40569|dataStream:localhost:38589|priority:0|startupRole:FOLLOWER] returns group-54EA0AC35485:java.util.concurrent.CompletableFuture@3ea1dac3[Not completed]
2022-08-16 16:31:56,989 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s1, group-54EA0AC35485:[s0|rpc:localhost:45611|admin:localhost:46501|client:localhost:37375|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43941|admin:localhost:36217|client:localhost:40569|dataStream:localhost:38589|priority:0|startupRole:FOLLOWER], format? true
2022-08-16 16:31:56,989 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:56,989 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:56,990 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:56,989 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s1
2022-08-16 16:31:56,990 [pool-20-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-54EA0AC35485:[s0|rpc:localhost:45611|admin:localhost:46501|client:localhost:37375|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43941|admin:localhost:36217|client:localhost:40569|dataStream:localhost:38589|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:56,990 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-16 16:31:56,990 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:56,990 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s1 does not exist.
2022-08-16 16:31:56,990 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s1
2022-08-16 16:31:56,990 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-16 16:31:56,990 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:56,990 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:56,990 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-16 16:31:56,990 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-16 16:31:56,990 [pool-20-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-54EA0AC35485: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45611|admin:localhost:46501|client:localhost:37375|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43941|admin:localhost:36217|client:localhost:40569|dataStream:localhost:38589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-16 16:31:56,990 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s0] (custom)
2022-08-16 16:31:56,991 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-16 16:31:56,991 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-16 16:31:56,991 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-16 16:31:56,991 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-16 16:31:56,991 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-16 16:31:56,991 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:56,991 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-16 16:31:56,991 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-16 16:31:56,991 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-16 16:31:56,991 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-16 16:31:56,990 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:56,992 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39247 (custom)
2022-08-16 16:31:56,992 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:56,992 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 33207 (custom)
2022-08-16 16:31:56,993 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:31:56,993 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37695 (custom)
2022-08-16 16:31:56,993 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:56,993 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:56,993 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:56,993 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:56,993 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-16 16:31:56,993 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:31:56,993 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:31:56,994 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-16 16:31:56,994 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-16 16:31:56,994 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-16 16:31:56,994 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:56,994 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:56,994 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s1] (custom)
2022-08-16 16:31:56,995 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-54EA0AC35485:[s0|rpc:localhost:45611|admin:localhost:46501|client:localhost:37375|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43941|admin:localhost:36217|client:localhost:40569|dataStream:localhost:38589|priority:0|startupRole:FOLLOWER] returns group-54EA0AC35485:java.util.concurrent.CompletableFuture@4a92ec8d[Not completed]
2022-08-16 16:31:56,995 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s2, group-54EA0AC35485:[s0|rpc:localhost:45611|admin:localhost:46501|client:localhost:37375|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43941|admin:localhost:36217|client:localhost:40569|dataStream:localhost:38589|priority:0|startupRole:FOLLOWER], format? true
2022-08-16 16:31:56,995 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s2
2022-08-16 16:31:56,995 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s2 does not exist.
2022-08-16 16:31:56,995 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s2
2022-08-16 16:31:56,995 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-16 16:31:56,996 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:56,996 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:56,996 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:56,996 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:56,996 [pool-21-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s1: new RaftServerImpl for group-54EA0AC35485:[s0|rpc:localhost:45611|admin:localhost:46501|client:localhost:37375|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43941|admin:localhost:36217|client:localhost:40569|dataStream:localhost:38589|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:56,996 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-16 16:31:56,996 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:56,996 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 36217 (custom)
2022-08-16 16:31:56,996 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:56,996 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 40569 (custom)
2022-08-16 16:31:56,996 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:31:56,996 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43941 (custom)
2022-08-16 16:31:56,997 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:56,997 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:56,997 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:56,997 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:56,997 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-16 16:31:56,997 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:31:56,997 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:31:56,999 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-16 16:31:56,999 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-16 16:31:56,999 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-16 16:31:56,999 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:56,999 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:56,999 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s2] (custom)
2022-08-16 16:31:56,999 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-54EA0AC35485:[s0|rpc:localhost:45611|admin:localhost:46501|client:localhost:37375|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43941|admin:localhost:36217|client:localhost:40569|dataStream:localhost:38589|priority:0|startupRole:FOLLOWER] returns group-54EA0AC35485:java.util.concurrent.CompletableFuture@6cf9f499[Not completed]
2022-08-16 16:31:57,000 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s0/baf6a05f-3cf3-434c-95cf-54ea0ac35485 does not exist. Creating ...
2022-08-16 16:31:57,000 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:57,000 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:57,000 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s0/baf6a05f-3cf3-434c-95cf-54ea0ac35485
2022-08-16 16:31:57,000 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:57,000 [pool-22-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s2: new RaftServerImpl for group-54EA0AC35485:[s0|rpc:localhost:45611|admin:localhost:46501|client:localhost:37375|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43941|admin:localhost:36217|client:localhost:40569|dataStream:localhost:38589|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:57,000 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-16 16:31:57,000 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:57,001 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-16 16:31:57,001 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:57,001 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:57,001 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-16 16:31:57,001 [pool-22-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s2@group-54EA0AC35485: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45611|admin:localhost:46501|client:localhost:37375|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43941|admin:localhost:36217|client:localhost:40569|dataStream:localhost:38589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-16 16:31:57,001 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s2] (custom)
2022-08-16 16:31:57,001 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-16 16:31:57,001 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-16 16:31:57,001 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-16 16:31:57,001 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-16 16:31:57,001 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-16 16:31:57,002 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:57,002 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-16 16:31:57,002 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-16 16:31:57,002 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-16 16:31:57,002 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-16 16:31:57,003 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s0/baf6a05f-3cf3-434c-95cf-54ea0ac35485/in_use.lock acquired by nodename 21594@fv-az459-523.1d4eecmzj5luvpyspzf3bgtdve.dx.internal.cloudapp.net
2022-08-16 16:31:57,003 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s0/baf6a05f-3cf3-434c-95cf-54ea0ac35485/current
2022-08-16 16:31:57,003 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s0/baf6a05f-3cf3-434c-95cf-54ea0ac35485/sm
2022-08-16 16:31:57,004 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-16 16:31:57,004 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:57,004 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:57,004 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-16 16:31:57,005 [pool-21-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s1@group-54EA0AC35485: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45611|admin:localhost:46501|client:localhost:37375|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43941|admin:localhost:36217|client:localhost:40569|dataStream:localhost:38589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-16 16:31:57,005 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s1] (custom)
2022-08-16 16:31:57,006 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-16 16:31:57,006 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-16 16:31:57,006 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-16 16:31:57,006 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-16 16:31:57,006 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-16 16:31:57,006 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s0/baf6a05f-3cf3-434c-95cf-54ea0ac35485 has been successfully formatted.
2022-08-16 16:31:57,006 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:57,006 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-16 16:31:57,006 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:57,006 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-16 16:31:57,006 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-16 16:31:57,006 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-16 16:31:57,006 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-16 16:31:57,006 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-16 16:31:57,007 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:57,007 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-16 16:31:57,007 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-16 16:31:57,007 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-16 16:31:57,007 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:57,007 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-16 16:31:57,007 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-16 16:31:57,007 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-54EA0AC35485-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s0/baf6a05f-3cf3-434c-95cf-54ea0ac35485
2022-08-16 16:31:57,007 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-16 16:31:57,007 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-16 16:31:57,007 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:57,007 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:57,007 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-16 16:31:57,007 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-16 16:31:57,007 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-16 16:31:57,007 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-16 16:31:57,008 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:57,008 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-16 16:31:57,008 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-16 16:31:57,008 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-16 16:31:57,008 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-54EA0AC35485-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:57,008 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-54EA0AC35485-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:57,008 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-54EA0AC35485: start as a follower, conf=-1: peers:[s0|rpc:localhost:45611|admin:localhost:46501|client:localhost:37375|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43941|admin:localhost:36217|client:localhost:40569|dataStream:localhost:38589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:57,008 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-54EA0AC35485: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-16 16:31:57,008 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-54EA0AC35485-FollowerState
2022-08-16 16:31:57,013 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-54EA0AC35485,id=s0
2022-08-16 16:31:57,013 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-16 16:31:57,013 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-16 16:31:57,013 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-16 16:31:57,013 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s0: start RPC server
2022-08-16 16:31:57,014 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 37375
2022-08-16 16:31:57,015 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 45611
2022-08-16 16:31:57,015 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 46501
2022-08-16 16:31:57,016 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@31529b0f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-16 16:31:57,016 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s1/baf6a05f-3cf3-434c-95cf-54ea0ac35485 does not exist. Creating ...
2022-08-16 16:31:57,016 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s1/baf6a05f-3cf3-434c-95cf-54ea0ac35485
2022-08-16 16:31:57,017 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s1/baf6a05f-3cf3-434c-95cf-54ea0ac35485/in_use.lock acquired by nodename 21594@fv-az459-523.1d4eecmzj5luvpyspzf3bgtdve.dx.internal.cloudapp.net
2022-08-16 16:31:57,017 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s1/baf6a05f-3cf3-434c-95cf-54ea0ac35485/current
2022-08-16 16:31:57,017 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s1/baf6a05f-3cf3-434c-95cf-54ea0ac35485/sm
2022-08-16 16:31:57,018 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s1/baf6a05f-3cf3-434c-95cf-54ea0ac35485 has been successfully formatted.
2022-08-16 16:31:57,018 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:57,018 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-16 16:31:57,018 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-16 16:31:57,018 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-16 16:31:57,018 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:57,018 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-16 16:31:57,018 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-16 16:31:57,018 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:57,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-16 16:31:57,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-16 16:31:57,019 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-54EA0AC35485-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s1/baf6a05f-3cf3-434c-95cf-54ea0ac35485
2022-08-16 16:31:57,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-16 16:31:57,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-16 16:31:57,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:57,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:57,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-16 16:31:57,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-16 16:31:57,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-16 16:31:57,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-16 16:31:57,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:57,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-16 16:31:57,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-16 16:31:57,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-16 16:31:57,020 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-54EA0AC35485-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:57,020 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-54EA0AC35485-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:57,021 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s1@group-54EA0AC35485: start as a follower, conf=-1: peers:[s0|rpc:localhost:45611|admin:localhost:46501|client:localhost:37375|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43941|admin:localhost:36217|client:localhost:40569|dataStream:localhost:38589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:57,021 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-54EA0AC35485: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-16 16:31:57,021 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-54EA0AC35485-FollowerState
2022-08-16 16:31:57,021 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-54EA0AC35485,id=s1
2022-08-16 16:31:57,021 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-16 16:31:57,021 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-16 16:31:57,021 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-16 16:31:57,022 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s1: start RPC server
2022-08-16 16:31:57,022 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 33207
2022-08-16 16:31:57,023 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 37695
2022-08-16 16:31:57,023 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 39247
2022-08-16 16:31:57,024 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@61d1ee4b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-16 16:31:57,024 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s2/baf6a05f-3cf3-434c-95cf-54ea0ac35485 does not exist. Creating ...
2022-08-16 16:31:57,024 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s2/baf6a05f-3cf3-434c-95cf-54ea0ac35485
2022-08-16 16:31:57,025 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s2/baf6a05f-3cf3-434c-95cf-54ea0ac35485/in_use.lock acquired by nodename 21594@fv-az459-523.1d4eecmzj5luvpyspzf3bgtdve.dx.internal.cloudapp.net
2022-08-16 16:31:57,025 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s2/baf6a05f-3cf3-434c-95cf-54ea0ac35485/current
2022-08-16 16:31:57,025 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s2/baf6a05f-3cf3-434c-95cf-54ea0ac35485/sm
2022-08-16 16:31:57,026 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s2/baf6a05f-3cf3-434c-95cf-54ea0ac35485 has been successfully formatted.
2022-08-16 16:31:57,026 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:57,026 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-16 16:31:57,026 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-16 16:31:57,027 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-16 16:31:57,027 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:57,027 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-16 16:31:57,027 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-16 16:31:57,027 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:57,027 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-16 16:31:57,027 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-16 16:31:57,027 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-54EA0AC35485-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s2/baf6a05f-3cf3-434c-95cf-54ea0ac35485
2022-08-16 16:31:57,027 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-16 16:31:57,027 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-16 16:31:57,027 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:57,027 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:57,027 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-16 16:31:57,027 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-16 16:31:57,027 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-16 16:31:57,027 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-16 16:31:57,027 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:57,028 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-16 16:31:57,028 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-16 16:31:57,028 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-16 16:31:57,028 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-54EA0AC35485-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:57,028 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-54EA0AC35485-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:57,028 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s2@group-54EA0AC35485: start as a follower, conf=-1: peers:[s0|rpc:localhost:45611|admin:localhost:46501|client:localhost:37375|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43941|admin:localhost:36217|client:localhost:40569|dataStream:localhost:38589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:57,028 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-54EA0AC35485: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-16 16:31:57,028 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-54EA0AC35485-FollowerState
2022-08-16 16:31:57,030 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-54EA0AC35485,id=s2
2022-08-16 16:31:57,030 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-16 16:31:57,030 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-16 16:31:57,030 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-16 16:31:57,031 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s2: start RPC server
2022-08-16 16:31:57,032 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 40569
2022-08-16 16:31:57,032 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 43941
2022-08-16 16:31:57,033 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 36217
2022-08-16 16:31:57,033 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@1fc25301] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-16 16:31:57,034 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:57,034 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:57,048 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A849635211A1->s0: receive RaftClientReply:client-A849635211A1->s0@group-54EA0AC35485, cid=36, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-54EA0AC35485 is not the leader, logIndex=0, commits[s0:c-1]
2022-08-16 16:31:57,150 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:57,151 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:57,159 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A849635211A1->s2: receive RaftClientReply:client-A849635211A1->s2@group-54EA0AC35485, cid=36, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-54EA0AC35485 is not the leader, logIndex=0, commits[s2:c-1]
2022-08-16 16:31:57,179 [s1@group-54EA0AC35485-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-54EA0AC35485-FollowerState: change to CANDIDATE, lastRpcElapsedTime:158363039ns, electionTimeout:158ms
2022-08-16 16:31:57,179 [s1@group-54EA0AC35485-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-54EA0AC35485-FollowerState
2022-08-16 16:31:57,179 [s1@group-54EA0AC35485-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-54EA0AC35485: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-16 16:31:57,180 [s1@group-54EA0AC35485-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-16 16:31:57,180 [s1@group-54EA0AC35485-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-54EA0AC35485-LeaderElection13
2022-08-16 16:31:57,184 [s1@group-54EA0AC35485-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-54EA0AC35485-LeaderElection13 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:45611|admin:localhost:46501|client:localhost:37375|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43941|admin:localhost:36217|client:localhost:40569|dataStream:localhost:38589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:57,185 [s1@group-54EA0AC35485-LeaderElection13-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-08-16 16:31:57,185 [s1@group-54EA0AC35485-LeaderElection13-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-16 16:31:57,194 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-54EA0AC35485: receive requestVote(PRE_VOTE, s1, group-54EA0AC35485, 0, (t:0, i:0))
2022-08-16 16:31:57,194 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-54EA0AC35485-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-16 16:31:57,194 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-54EA0AC35485 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-54EA0AC35485:t0, leader=null, voted=, raftlog=Memoized:s0@group-54EA0AC35485-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45611|admin:localhost:46501|client:localhost:37375|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43941|admin:localhost:36217|client:localhost:40569|dataStream:localhost:38589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:57,195 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-54EA0AC35485: receive requestVote(PRE_VOTE, s1, group-54EA0AC35485, 0, (t:0, i:0))
2022-08-16 16:31:57,195 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-54EA0AC35485-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-16 16:31:57,195 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-54EA0AC35485 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-54EA0AC35485:t0, leader=null, voted=, raftlog=Memoized:s2@group-54EA0AC35485-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45611|admin:localhost:46501|client:localhost:37375|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43941|admin:localhost:36217|client:localhost:40569|dataStream:localhost:38589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:57,196 [s1@group-54EA0AC35485-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-54EA0AC35485-LeaderElection13: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-16 16:31:57,196 [s1@group-54EA0AC35485-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t0
2022-08-16 16:31:57,196 [s1@group-54EA0AC35485-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-54EA0AC35485-LeaderElection13 PRE_VOTE round 0: result PASSED
2022-08-16 16:31:57,198 [s1@group-54EA0AC35485-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-54EA0AC35485-LeaderElection13 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:45611|admin:localhost:46501|client:localhost:37375|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43941|admin:localhost:36217|client:localhost:40569|dataStream:localhost:38589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:57,203 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-54EA0AC35485: receive requestVote(ELECTION, s1, group-54EA0AC35485, 1, (t:0, i:0))
2022-08-16 16:31:57,203 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-54EA0AC35485-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-16 16:31:57,203 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-54EA0AC35485: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-08-16 16:31:57,203 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-54EA0AC35485-FollowerState
2022-08-16 16:31:57,204 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-54EA0AC35485-FollowerState
2022-08-16 16:31:57,204 [s0@group-54EA0AC35485-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-54EA0AC35485-FollowerState was interrupted
2022-08-16 16:31:57,205 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-54EA0AC35485: receive requestVote(ELECTION, s1, group-54EA0AC35485, 1, (t:0, i:0))
2022-08-16 16:31:57,205 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-54EA0AC35485 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-54EA0AC35485:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-54EA0AC35485-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45611|admin:localhost:46501|client:localhost:37375|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43941|admin:localhost:36217|client:localhost:40569|dataStream:localhost:38589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:57,205 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-54EA0AC35485-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-16 16:31:57,206 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-54EA0AC35485: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-08-16 16:31:57,206 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-54EA0AC35485-FollowerState
2022-08-16 16:31:57,206 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-54EA0AC35485-FollowerState
2022-08-16 16:31:57,206 [s2@group-54EA0AC35485-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-54EA0AC35485-FollowerState was interrupted
2022-08-16 16:31:57,206 [s1@group-54EA0AC35485-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-54EA0AC35485-LeaderElection13: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-16 16:31:57,206 [s1@group-54EA0AC35485-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t1
2022-08-16 16:31:57,206 [s1@group-54EA0AC35485-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-54EA0AC35485-LeaderElection13 ELECTION round 0: result PASSED
2022-08-16 16:31:57,211 [s1@group-54EA0AC35485-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-54EA0AC35485-LeaderElection13
2022-08-16 16:31:57,211 [s1@group-54EA0AC35485-LeaderElection13] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-54EA0AC35485: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-16 16:31:57,211 [s1@group-54EA0AC35485-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-54EA0AC35485: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 205ms
2022-08-16 16:31:57,211 [s1@group-54EA0AC35485-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-16 16:31:57,211 [s1@group-54EA0AC35485-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-08-16 16:31:57,211 [s1@group-54EA0AC35485-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2022-08-16 16:31:57,211 [s1@group-54EA0AC35485-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-16 16:31:57,211 [s1@group-54EA0AC35485-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-16 16:31:57,211 [s1@group-54EA0AC35485-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-16 16:31:57,211 [s1@group-54EA0AC35485-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-08-16 16:31:57,211 [s1@group-54EA0AC35485-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-16 16:31:57,212 [s1@group-54EA0AC35485-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-16 16:31:57,212 [s1@group-54EA0AC35485-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:57,212 [s1@group-54EA0AC35485-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-16 16:31:57,212 [s1@group-54EA0AC35485-LeaderElection13] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-16 16:31:57,212 [s1@group-54EA0AC35485-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:57,212 [s1@group-54EA0AC35485-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:57,212 [s1@group-54EA0AC35485-LeaderElection13] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-16 16:31:57,212 [s1@group-54EA0AC35485-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-16 16:31:57,212 [s1@group-54EA0AC35485-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:57,212 [s1@group-54EA0AC35485-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-16 16:31:57,212 [s1@group-54EA0AC35485-LeaderElection13] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-16 16:31:57,212 [s1@group-54EA0AC35485-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:57,213 [s1@group-54EA0AC35485-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:57,213 [s1@group-54EA0AC35485-LeaderElection13] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-16 16:31:57,213 [s1@group-54EA0AC35485-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-54EA0AC35485-LeaderStateImpl
2022-08-16 16:31:57,213 [s1@group-54EA0AC35485-LeaderElection13] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-54EA0AC35485-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-16 16:31:57,221 [s1@group-54EA0AC35485-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-54EA0AC35485: set configuration 0: peers:[s0|rpc:localhost:45611|admin:localhost:46501|client:localhost:37375|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43941|admin:localhost:36217|client:localhost:40569|dataStream:localhost:38589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:57,223 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-54EA0AC35485 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-54EA0AC35485:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-54EA0AC35485-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45611|admin:localhost:46501|client:localhost:37375|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43941|admin:localhost:36217|client:localhost:40569|dataStream:localhost:38589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:57,223 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-54EA0AC35485: change Leader from null to s1 at term 1 for appendEntries, leader elected after 232ms
2022-08-16 16:31:57,226 [s1@group-54EA0AC35485-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-54EA0AC35485-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s1/baf6a05f-3cf3-434c-95cf-54ea0ac35485/current/log_inprogress_0
2022-08-16 16:31:57,227 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-54EA0AC35485: set configuration 0: peers:[s0|rpc:localhost:45611|admin:localhost:46501|client:localhost:37375|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43941|admin:localhost:36217|client:localhost:40569|dataStream:localhost:38589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:57,228 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-54EA0AC35485-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-16 16:31:57,232 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-54EA0AC35485: change Leader from null to s1 at term 1 for appendEntries, leader elected after 230ms
2022-08-16 16:31:57,233 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-54EA0AC35485: set configuration 0: peers:[s0|rpc:localhost:45611|admin:localhost:46501|client:localhost:37375|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43941|admin:localhost:36217|client:localhost:40569|dataStream:localhost:38589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:57,233 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-54EA0AC35485-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-16 16:31:57,246 [s0@group-54EA0AC35485-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-54EA0AC35485-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s0/baf6a05f-3cf3-434c-95cf-54ea0ac35485/current/log_inprogress_0
2022-08-16 16:31:57,246 [s2@group-54EA0AC35485-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-54EA0AC35485-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc23b341a4/s2/baf6a05f-3cf3-434c-95cf-54ea0ac35485/current/log_inprogress_0
2022-08-16 16:31:57,261 [timer1] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:57,261 [timer1] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:57,268 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A849635211A1->s0: receive RaftClientReply:client-A849635211A1->s0@group-54EA0AC35485, cid=36, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-54EA0AC35485 is not the leader s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c-1, s1:c0, s2:c-1]
2022-08-16 16:31:57,270 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:57,270 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:57,278 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A849635211A1->s1: receive RaftClientReply:client-A849635211A1->s1@group-54EA0AC35485, cid=36, SUCCESS, logIndex=0, commits[s1:c0, s0:c-1, s2:c-1]
2022-08-16 16:31:57,283 [s1@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 37@client-A849635211A1
2022-08-16 16:31:57,285 [s2@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 37@client-A849635211A1
2022-08-16 16:31:57,285 [s0@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 37@client-A849635211A1
2022-08-16 16:31:57,286 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A849635211A1->s1: receive RaftClientReply:client-A849635211A1->s1@group-54EA0AC35485, cid=37, SUCCESS, logIndex=1, commits[s1:c1, s0:c-1, s2:c0]
2022-08-16 16:31:57,288 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(134)) - block FLUSH_STATE_MACHINE_DATA
2022-08-16 16:31:57,289 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:57,289 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:57,290 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:57,291 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:57,296 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:57,296 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:57,297 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:57,298 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:57,302 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:57,302 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:57,304 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:57,304 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:57,308 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:57,309 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:57,313 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:57,313 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:57,314 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:57,315 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:57,318 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:57,318 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:57,321 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:57,321 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:57,332 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-44406F0A59CD->s1: receive RaftClientReply:client-44406F0A59CD->s1@group-54EA0AC35485, cid=44, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2022-08-16 16:31:57,337 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-850338774E7D->s1: receive RaftClientReply:client-850338774E7D->s1@group-54EA0AC35485, cid=42, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2022-08-16 16:31:57,338 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-19CC74AC5540->s1: receive RaftClientReply:client-19CC74AC5540->s1@group-54EA0AC35485, cid=40, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2022-08-16 16:31:57,338 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A17FCBCF8FD3->s1: receive RaftClientReply:client-A17FCBCF8FD3->s1@group-54EA0AC35485, cid=38, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2022-08-16 16:31:57,347 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-33657F2227C0->s1: receive RaftClientReply:client-33657F2227C0->s1@group-54EA0AC35485, cid=46, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2022-08-16 16:31:57,348 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-2BC2133232A4->s1: receive RaftClientReply:client-2BC2133232A4->s1@group-54EA0AC35485, cid=52, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2022-08-16 16:31:57,358 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-97648145A3EC->s1: receive RaftClientReply:client-97648145A3EC->s1@group-54EA0AC35485, cid=50, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2022-08-16 16:31:57,359 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-72EA71C55C04->s1: receive RaftClientReply:client-72EA71C55C04->s1@group-54EA0AC35485, cid=54, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2022-08-16 16:31:57,364 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-01AFCBE8B42A->s1: receive RaftClientReply:client-01AFCBE8B42A->s1@group-54EA0AC35485, cid=48, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2022-08-16 16:31:57,377 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-63E222C9C92F->s1: receive RaftClientReply:client-63E222C9C92F->s1@group-54EA0AC35485, cid=56, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2022-08-16 16:31:57,381 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-77779AB8C98D->s1: receive RaftClientReply:client-77779AB8C98D->s1@group-54EA0AC35485, cid=58, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2022-08-16 16:31:57,396 [grpc-default-executor-9] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-54EA0AC35485: Failed to acquire a pending write request for RaftClientRequest:client-77779AB8C98D->s1@group-54EA0AC35485, cid=59, seq=2, RW, Message:6d6573736167652039
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:404)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:341)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-54EA0AC35485: Failed to acquire a pending write request for RaftClientRequest:client-77779AB8C98D->s1@group-54EA0AC35485, cid=59, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:746)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:858)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$12(RaftServerImpl.java:795)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:795)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2022-08-16 16:31:57,632 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(141)) - unblock FLUSH_STATE_MACHINE_DATA
2022-08-16 16:31:57,635 [s1@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 3, message 1 -> (t:1, i:3), STATEMACHINELOGENTRY, 43@client-850338774E7D
2022-08-16 16:31:57,636 [s1@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 4, message 2 -> (t:1, i:4), STATEMACHINELOGENTRY, 45@client-44406F0A59CD
2022-08-16 16:31:57,636 [s1@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 5, 2nd Messag... -> (t:1, i:5), STATEMACHINELOGENTRY, 39@client-A17FCBCF8FD3
2022-08-16 16:31:57,636 [s1@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 6, message 0 -> (t:1, i:6), STATEMACHINELOGENTRY, 41@client-19CC74AC5540
2022-08-16 16:31:57,636 [s1@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 7, message 6 -> (t:1, i:7), STATEMACHINELOGENTRY, 53@client-2BC2133232A4
2022-08-16 16:31:57,636 [s1@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 8, message 3 -> (t:1, i:8), STATEMACHINELOGENTRY, 47@client-33657F2227C0
2022-08-16 16:31:57,637 [s1@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 51@client-97648145A3EC
2022-08-16 16:31:57,637 [s1@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 10, message 7 -> (t:1, i:10), STATEMACHINELOGENTRY, 55@client-72EA71C55C04
2022-08-16 16:31:57,637 [s1@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 11, message 4 -> (t:1, i:11), STATEMACHINELOGENTRY, 49@client-01AFCBE8B42A
2022-08-16 16:31:57,637 [s1@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 57@client-63E222C9C92F
2022-08-16 16:31:57,638 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-850338774E7D->s1: receive RaftClientReply:client-850338774E7D->s1@group-54EA0AC35485, cid=43, SUCCESS, logIndex=3, commits[s1:c12, s0:c2, s2:c2]
2022-08-16 16:31:57,638 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-97648145A3EC->s1: receive RaftClientReply:client-97648145A3EC->s1@group-54EA0AC35485, cid=51, SUCCESS, logIndex=9, commits[s1:c12, s0:c2, s2:c2]
2022-08-16 16:31:57,638 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-72EA71C55C04->s1: receive RaftClientReply:client-72EA71C55C04->s1@group-54EA0AC35485, cid=55, SUCCESS, logIndex=10, commits[s1:c12, s0:c2, s2:c2]
2022-08-16 16:31:57,639 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-01AFCBE8B42A->s1: receive RaftClientReply:client-01AFCBE8B42A->s1@group-54EA0AC35485, cid=49, SUCCESS, logIndex=11, commits[s1:c12, s0:c2, s2:c2]
2022-08-16 16:31:57,639 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-44406F0A59CD->s1: receive RaftClientReply:client-44406F0A59CD->s1@group-54EA0AC35485, cid=45, SUCCESS, logIndex=4, commits[s1:c12, s0:c2, s2:c2]
2022-08-16 16:31:57,639 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-63E222C9C92F->s1: receive RaftClientReply:client-63E222C9C92F->s1@group-54EA0AC35485, cid=57, SUCCESS, logIndex=12, commits[s1:c12, s0:c2, s2:c2]
2022-08-16 16:31:57,639 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-19CC74AC5540->s1: receive RaftClientReply:client-19CC74AC5540->s1@group-54EA0AC35485, cid=41, SUCCESS, logIndex=6, commits[s1:c12, s0:c2, s2:c2]
2022-08-16 16:31:57,639 [s2@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 3, message 1 -> (t:1, i:3), STATEMACHINELOGENTRY, 43@client-850338774E7D
2022-08-16 16:31:57,640 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-2BC2133232A4->s1: receive RaftClientReply:client-2BC2133232A4->s1@group-54EA0AC35485, cid=53, SUCCESS, logIndex=7, commits[s1:c12, s0:c2, s2:c2]
2022-08-16 16:31:57,640 [s2@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 4, message 2 -> (t:1, i:4), STATEMACHINELOGENTRY, 45@client-44406F0A59CD
2022-08-16 16:31:57,640 [s2@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 5, 2nd Messag... -> (t:1, i:5), STATEMACHINELOGENTRY, 39@client-A17FCBCF8FD3
2022-08-16 16:31:57,640 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-33657F2227C0->s1: receive RaftClientReply:client-33657F2227C0->s1@group-54EA0AC35485, cid=47, SUCCESS, logIndex=8, commits[s1:c12, s0:c2, s2:c2]
2022-08-16 16:31:57,640 [s2@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 6, message 0 -> (t:1, i:6), STATEMACHINELOGENTRY, 41@client-19CC74AC5540
2022-08-16 16:31:57,640 [s2@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 7, message 6 -> (t:1, i:7), STATEMACHINELOGENTRY, 53@client-2BC2133232A4
2022-08-16 16:31:57,640 [s0@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 3, message 1 -> (t:1, i:3), STATEMACHINELOGENTRY, 43@client-850338774E7D
2022-08-16 16:31:57,641 [s0@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 4, message 2 -> (t:1, i:4), STATEMACHINELOGENTRY, 45@client-44406F0A59CD
2022-08-16 16:31:57,641 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A17FCBCF8FD3->s1: receive RaftClientReply:client-A17FCBCF8FD3->s1@group-54EA0AC35485, cid=39, SUCCESS, logIndex=5, commits[s1:c12, s0:c2, s2:c2]
2022-08-16 16:31:57,640 [s2@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 8, message 3 -> (t:1, i:8), STATEMACHINELOGENTRY, 47@client-33657F2227C0
2022-08-16 16:31:57,642 [s2@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 51@client-97648145A3EC
2022-08-16 16:31:57,642 [s2@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 10, message 7 -> (t:1, i:10), STATEMACHINELOGENTRY, 55@client-72EA71C55C04
2022-08-16 16:31:57,642 [s2@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 11, message 4 -> (t:1, i:11), STATEMACHINELOGENTRY, 49@client-01AFCBE8B42A
2022-08-16 16:31:57,642 [s2@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 57@client-63E222C9C92F
2022-08-16 16:31:57,641 [s0@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 5, 2nd Messag... -> (t:1, i:5), STATEMACHINELOGENTRY, 39@client-A17FCBCF8FD3
2022-08-16 16:31:57,642 [s0@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 6, message 0 -> (t:1, i:6), STATEMACHINELOGENTRY, 41@client-19CC74AC5540
2022-08-16 16:31:57,642 [s0@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 7, message 6 -> (t:1, i:7), STATEMACHINELOGENTRY, 53@client-2BC2133232A4
2022-08-16 16:31:57,643 [s0@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 8, message 3 -> (t:1, i:8), STATEMACHINELOGENTRY, 47@client-33657F2227C0
2022-08-16 16:31:57,643 [s0@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 51@client-97648145A3EC
2022-08-16 16:31:57,643 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:57,643 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:57,643 [s0@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 10, message 7 -> (t:1, i:10), STATEMACHINELOGENTRY, 55@client-72EA71C55C04
2022-08-16 16:31:57,643 [s0@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 11, message 4 -> (t:1, i:11), STATEMACHINELOGENTRY, 49@client-01AFCBE8B42A
2022-08-16 16:31:57,643 [s0@group-54EA0AC35485-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 57@client-63E222C9C92F
2022-08-16 16:31:57,650 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-0F274FD360ED->s1: receive RaftClientReply:client-0F274FD360ED->s1@group-54EA0AC35485, cid=60, SUCCESS, logIndex=13, commits[s1:c13, s0:c12, s2:c12]
2022-08-16 16:31:57,659 [grpc-default-executor-3] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-54EA0AC35485: Failed to acquire a pending write request for RaftClientRequest:client-0F274FD360ED->s1@group-54EA0AC35485, cid=61, seq=2, RW, Message:8adc075f74e9b0892490...(size=1049600)
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:404)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:341)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-54EA0AC35485: Failed to acquire a pending write request for RaftClientRequest:client-0F274FD360ED->s1@group-54EA0AC35485, cid=61, seq=2, RW, Message:8adc075f74e9b0892490...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:746)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:858)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$12(RaftServerImpl.java:795)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:795)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2022-08-16 16:31:57,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(827)) - ************************************************************** 
2022-08-16 16:31:57,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(828)) - *** 
2022-08-16 16:31:57,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-16 16:31:57,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-16 16:31:57,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-08-16 16:31:57,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-54EA0AC35485:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-54EA0AC35485-SegmentedRaftLog:OPENED:c13, conf=0: peers:[s0|rpc:localhost:45611|admin:localhost:46501|client:localhost:37375|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43941|admin:localhost:36217|client:localhost:40569|dataStream:localhost:38589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-54EA0AC35485:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-54EA0AC35485-SegmentedRaftLog:OPENED:c13, conf=0: peers:[s0|rpc:localhost:45611|admin:localhost:46501|client:localhost:37375|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43941|admin:localhost:36217|client:localhost:40569|dataStream:localhost:38589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-54EA0AC35485:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-54EA0AC35485-SegmentedRaftLog:OPENED:c13, conf=0: peers:[s0|rpc:localhost:45611|admin:localhost:46501|client:localhost:37375|dataStream:localhost:44805|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37695|admin:localhost:39247|client:localhost:33207|dataStream:localhost:42155|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43941|admin:localhost:36217|client:localhost:40569|dataStream:localhost:38589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:57,974 [java.util.concurrent.ThreadPoolExecutor$Worker@6a1bf5e3[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s1: close
2022-08-16 16:31:57,974 [java.util.concurrent.ThreadPoolExecutor$Worker@247688b8[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s2: close
2022-08-16 16:31:57,974 [java.util.concurrent.ThreadPoolExecutor$Worker@2de3771a[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s0: close
2022-08-16 16:31:57,974 [java.util.concurrent.ThreadPoolExecutor$Worker@6a1bf5e3[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-16 16:31:57,974 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s1@group-54EA0AC35485: shutdown
2022-08-16 16:31:57,975 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s2@group-54EA0AC35485: shutdown
2022-08-16 16:31:57,975 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-54EA0AC35485,id=s2
2022-08-16 16:31:57,975 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-54EA0AC35485-FollowerState
2022-08-16 16:31:57,975 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-54EA0AC35485-StateMachineUpdater: set stopIndex = 13
2022-08-16 16:31:57,975 [s2@group-54EA0AC35485-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-54EA0AC35485-FollowerState was interrupted
2022-08-16 16:31:57,976 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s2@group-54EA0AC35485: closes. applyIndex: 13
2022-08-16 16:31:57,976 [s2@group-54EA0AC35485-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s2@group-54EA0AC35485-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-16 16:31:57,975 [java.util.concurrent.ThreadPoolExecutor$Worker@247688b8[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-16 16:31:57,975 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s0@group-54EA0AC35485: shutdown
2022-08-16 16:31:57,975 [java.util.concurrent.ThreadPoolExecutor$Worker@2de3771a[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-16 16:31:57,977 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-54EA0AC35485,id=s0
2022-08-16 16:31:57,977 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-54EA0AC35485-FollowerState
2022-08-16 16:31:57,979 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-54EA0AC35485-StateMachineUpdater: set stopIndex = 13
2022-08-16 16:31:57,979 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s0@group-54EA0AC35485: closes. applyIndex: 13
2022-08-16 16:31:57,979 [s0@group-54EA0AC35485-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-54EA0AC35485-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-16 16:31:57,977 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s2@group-54EA0AC35485-SegmentedRaftLogWorker close()
2022-08-16 16:31:57,975 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-54EA0AC35485,id=s1
2022-08-16 16:31:57,980 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-54EA0AC35485-LeaderStateImpl
2022-08-16 16:31:57,980 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-54EA0AC35485-PendingRequests: sendNotLeaderResponses
2022-08-16 16:31:57,980 [s0@group-54EA0AC35485-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-54EA0AC35485-FollowerState was interrupted
2022-08-16 16:31:57,980 [s1@group-54EA0AC35485->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s1@group-54EA0AC35485->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-16 16:31:57,979 [ForkJoinPool.commonPool-worker-0] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-08-16 16:31:57,980 [s1@group-54EA0AC35485->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s1@group-54EA0AC35485->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-16 16:31:57,982 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#32-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:13), METADATAENTRY(c:12)
2022-08-16 16:31:57,982 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#33-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:13), METADATAENTRY(c:12)
2022-08-16 16:31:57,982 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2022-08-16 16:31:57,983 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(402)) - s1@group-54EA0AC35485->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-16 16:31:57,983 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-54EA0AC35485->s2: nextIndex: updateUnconditionally 14 -> 13
2022-08-16 16:31:57,983 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(402)) - s1@group-54EA0AC35485->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-16 16:31:57,983 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(129)) - s1@group-54EA0AC35485->s0-GrpcLogAppender: Failed to getClient for s0
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:108)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:113)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:57)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:403)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:477)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:57,983 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-54EA0AC35485-SegmentedRaftLogWorker close()
2022-08-16 16:31:57,983 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2022-08-16 16:31:57,983 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(402)) - s1@group-54EA0AC35485->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-16 16:31:57,983 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-54EA0AC35485-StateMachineUpdater: set stopIndex = 13
2022-08-16 16:31:57,984 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s1@group-54EA0AC35485: closes. applyIndex: 13
2022-08-16 16:31:57,984 [s1@group-54EA0AC35485-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s1@group-54EA0AC35485-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-16 16:31:57,983 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(129)) - s1@group-54EA0AC35485->s0-GrpcLogAppender: Failed to getClient for s0
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:108)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:113)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:57)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:403)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:477)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:57,991 [java.util.concurrent.ThreadPoolExecutor$Worker@2de3771a[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-16 16:31:57,991 [java.util.concurrent.ThreadPoolExecutor$Worker@2de3771a[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-16 16:31:57,992 [ForkJoinPool.commonPool-worker-0] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-16 16:31:57,992 [grpc-default-executor-9] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(402)) - s1@group-54EA0AC35485->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-16 16:31:57,992 [grpc-default-executor-9] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(129)) - s1@group-54EA0AC35485->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:108)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:113)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:57)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:403)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:477)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:463)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:427)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:460)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:57,993 [java.util.concurrent.ThreadPoolExecutor$Worker@247688b8[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-16 16:31:57,993 [java.util.concurrent.ThreadPoolExecutor$Worker@247688b8[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server GrpcServerProtocolService now
2022-08-16 16:31:57,993 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s1@group-54EA0AC35485-SegmentedRaftLogWorker close()
2022-08-16 16:31:57,993 [java.util.concurrent.ThreadPoolExecutor$Worker@6a1bf5e3[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-16 16:31:57,993 [java.util.concurrent.ThreadPoolExecutor$Worker@6a1bf5e3[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server GrpcServerProtocolService now
2022-08-16 16:31:57,994 [java.util.concurrent.ThreadPoolExecutor$Worker@247688b8[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server GrpcServerProtocolService successfully
2022-08-16 16:31:57,994 [java.util.concurrent.ThreadPoolExecutor$Worker@247688b8[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-16 16:31:57,994 [java.util.concurrent.ThreadPoolExecutor$Worker@2de3771a[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-16 16:31:57,995 [java.util.concurrent.ThreadPoolExecutor$Worker@2de3771a[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-16 16:31:57,995 [java.util.concurrent.ThreadPoolExecutor$Worker@247688b8[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-16 16:31:57,995 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@1fc25301] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-16 16:31:57,994 [java.util.concurrent.ThreadPoolExecutor$Worker@6a1bf5e3[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server GrpcServerProtocolService successfully
2022-08-16 16:31:57,996 [java.util.concurrent.ThreadPoolExecutor$Worker@6a1bf5e3[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-16 16:31:57,996 [java.util.concurrent.ThreadPoolExecutor$Worker@6a1bf5e3[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-16 16:31:57,997 [java.util.concurrent.ThreadPoolExecutor$Worker@2de3771a[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-16 16:31:57,998 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@61d1ee4b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-16 16:31:57,998 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@31529b0f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-16 16:31:57,998 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(850)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-16 16:31:57,998 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-16 16:31:57,998 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-16 16:31:57,999 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-16 16:31:58,001 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(132)) - Running runWithNewCluster
2022-08-16 16:31:58,001 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(303)) - new MiniRaftClusterWithGrpc with group-C47B2BC7CB6C:[s0|rpc:localhost:38539|admin:localhost:39047|client:localhost:39729|dataStream:localhost:43161|priority:0|startupRole:FOLLOWER]
2022-08-16 16:31:58,001 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(336)) - .............................................................. 
2022-08-16 16:31:58,001 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - ... 
2022-08-16 16:31:58,001 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-16 16:31:58,001 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2022-08-16 16:31:58,001 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - .............................................................. 
2022-08-16 16:31:58,001 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(315)) - servers = {}
2022-08-16 16:31:58,001 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s0, group-C47B2BC7CB6C:[s0|rpc:localhost:38539|admin:localhost:39047|client:localhost:39729|dataStream:localhost:43161|priority:0|startupRole:FOLLOWER], format? true
2022-08-16 16:31:58,001 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/5f10b85c/MiniRaftClusterWithGrpc3563ec25/s0
2022-08-16 16:31:58,002 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/5f10b85c/MiniRaftClusterWithGrpc3563ec25/s0 does not exist.
2022-08-16 16:31:58,002 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/5f10b85c/MiniRaftClusterWithGrpc3563ec25/s0
2022-08-16 16:31:58,002 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-16 16:31:58,002 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:58,002 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39047 (custom)
2022-08-16 16:31:58,002 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:58,003 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39729 (custom)
2022-08-16 16:31:58,003 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:31:58,003 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 38539 (custom)
2022-08-16 16:31:58,003 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:58,003 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:58,003 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:58,003 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:58,003 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-16 16:31:58,003 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:31:58,003 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:31:58,004 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-16 16:31:58,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-16 16:31:58,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-16 16:31:58,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:58,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:58,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc3563ec25/s0] (custom)
2022-08-16 16:31:58,006 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-C47B2BC7CB6C:[s0|rpc:localhost:38539|admin:localhost:39047|client:localhost:39729|dataStream:localhost:43161|priority:0|startupRole:FOLLOWER] returns group-C47B2BC7CB6C:java.util.concurrent.CompletableFuture@648724cc[Not completed]
2022-08-16 16:31:58,006 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:58,006 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:58,007 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:58,007 [pool-23-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-C47B2BC7CB6C:[s0|rpc:localhost:38539|admin:localhost:39047|client:localhost:39729|dataStream:localhost:43161|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:58,007 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-16 16:31:58,007 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:58,007 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-16 16:31:58,007 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:58,007 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:58,007 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-16 16:31:58,007 [pool-23-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-C47B2BC7CB6C: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:38539|admin:localhost:39047|client:localhost:39729|dataStream:localhost:43161|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-16 16:31:58,007 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc3563ec25/s0] (custom)
2022-08-16 16:31:58,007 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-16 16:31:58,007 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-16 16:31:58,007 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-16 16:31:58,007 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-16 16:31:58,007 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-16 16:31:58,008 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:58,008 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-16 16:31:58,008 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-16 16:31:58,008 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-16 16:31:58,008 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-16 16:31:58,008 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc3563ec25/s0/960c452b-dc75-4a13-9fdf-c47b2bc7cb6c does not exist. Creating ...
2022-08-16 16:31:58,010 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc3563ec25/s0/960c452b-dc75-4a13-9fdf-c47b2bc7cb6c
2022-08-16 16:31:58,013 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc3563ec25/s0/960c452b-dc75-4a13-9fdf-c47b2bc7cb6c/in_use.lock acquired by nodename 21594@fv-az459-523.1d4eecmzj5luvpyspzf3bgtdve.dx.internal.cloudapp.net
2022-08-16 16:31:58,013 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc3563ec25/s0/960c452b-dc75-4a13-9fdf-c47b2bc7cb6c/current
2022-08-16 16:31:58,013 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc3563ec25/s0/960c452b-dc75-4a13-9fdf-c47b2bc7cb6c/sm
2022-08-16 16:31:58,015 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc3563ec25/s0/960c452b-dc75-4a13-9fdf-c47b2bc7cb6c has been successfully formatted.
2022-08-16 16:31:58,016 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:58,016 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-16 16:31:58,016 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-16 16:31:58,016 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-16 16:31:58,016 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:58,016 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-16 16:31:58,016 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-16 16:31:58,016 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:58,016 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-16 16:31:58,016 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-16 16:31:58,016 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-C47B2BC7CB6C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc3563ec25/s0/960c452b-dc75-4a13-9fdf-c47b2bc7cb6c
2022-08-16 16:31:58,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-16 16:31:58,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-16 16:31:58,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:58,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:58,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-16 16:31:58,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-16 16:31:58,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-16 16:31:58,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-16 16:31:58,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:58,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-16 16:31:58,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-16 16:31:58,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-16 16:31:58,018 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-C47B2BC7CB6C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:58,018 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-C47B2BC7CB6C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:58,018 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-C47B2BC7CB6C: start as a follower, conf=-1: peers:[s0|rpc:localhost:38539|admin:localhost:39047|client:localhost:39729|dataStream:localhost:43161|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:58,018 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-C47B2BC7CB6C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-16 16:31:58,018 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C47B2BC7CB6C-FollowerState
2022-08-16 16:31:58,018 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C47B2BC7CB6C,id=s0
2022-08-16 16:31:58,018 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-16 16:31:58,018 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-16 16:31:58,018 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-16 16:31:58,019 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s0: start RPC server
2022-08-16 16:31:58,021 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 39729
2022-08-16 16:31:58,021 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 38539
2022-08-16 16:31:58,021 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 39047
2022-08-16 16:31:58,022 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@2185a638] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-16 16:31:58,022 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:58,022 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C47B2BC7CB6C:t0, leader=null, voted=, raftlog=Memoized:s0@group-C47B2BC7CB6C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38539|admin:localhost:39047|client:localhost:39729|dataStream:localhost:43161|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:58,022 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C47B2BC7CB6C:t0, leader=null, voted=, raftlog=Memoized:s0@group-C47B2BC7CB6C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38539|admin:localhost:39047|client:localhost:39729|dataStream:localhost:43161|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C47B2BC7CB6C:t0, leader=null, voted=, raftlog=Memoized:s0@group-C47B2BC7CB6C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38539|admin:localhost:39047|client:localhost:39729|dataStream:localhost:43161|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:577)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:611)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:604)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:152)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:148)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:58,211 [s0@group-C47B2BC7CB6C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C47B2BC7CB6C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:192879930ns, electionTimeout:192ms
2022-08-16 16:31:58,212 [s0@group-C47B2BC7CB6C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C47B2BC7CB6C-FollowerState
2022-08-16 16:31:58,212 [s0@group-C47B2BC7CB6C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-C47B2BC7CB6C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-16 16:31:58,212 [s0@group-C47B2BC7CB6C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-16 16:31:58,212 [s0@group-C47B2BC7CB6C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C47B2BC7CB6C-LeaderElection14
2022-08-16 16:31:58,213 [s0@group-C47B2BC7CB6C-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-C47B2BC7CB6C-LeaderElection14 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:38539|admin:localhost:39047|client:localhost:39729|dataStream:localhost:43161|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:58,213 [s0@group-C47B2BC7CB6C-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-C47B2BC7CB6C-LeaderElection14 PRE_VOTE round 0: result PASSED (term=0)
2022-08-16 16:31:58,215 [s0@group-C47B2BC7CB6C-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-C47B2BC7CB6C-LeaderElection14 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:38539|admin:localhost:39047|client:localhost:39729|dataStream:localhost:43161|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:58,215 [s0@group-C47B2BC7CB6C-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-C47B2BC7CB6C-LeaderElection14 ELECTION round 0: result PASSED (term=1)
2022-08-16 16:31:58,215 [s0@group-C47B2BC7CB6C-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C47B2BC7CB6C-LeaderElection14
2022-08-16 16:31:58,215 [s0@group-C47B2BC7CB6C-LeaderElection14] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-C47B2BC7CB6C: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-16 16:31:58,215 [s0@group-C47B2BC7CB6C-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-C47B2BC7CB6C: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 207ms
2022-08-16 16:31:58,215 [s0@group-C47B2BC7CB6C-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-16 16:31:58,215 [s0@group-C47B2BC7CB6C-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-16 16:31:58,215 [s0@group-C47B2BC7CB6C-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-16 16:31:58,216 [s0@group-C47B2BC7CB6C-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-16 16:31:58,216 [s0@group-C47B2BC7CB6C-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-16 16:31:58,216 [s0@group-C47B2BC7CB6C-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-16 16:31:58,216 [s0@group-C47B2BC7CB6C-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-16 16:31:58,216 [s0@group-C47B2BC7CB6C-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-16 16:31:58,216 [s0@group-C47B2BC7CB6C-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C47B2BC7CB6C-LeaderStateImpl
2022-08-16 16:31:58,216 [s0@group-C47B2BC7CB6C-LeaderElection14] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-C47B2BC7CB6C-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-16 16:31:58,220 [s0@group-C47B2BC7CB6C-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-C47B2BC7CB6C: set configuration 0: peers:[s0|rpc:localhost:38539|admin:localhost:39047|client:localhost:39729|dataStream:localhost:43161|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:58,232 [s0@group-C47B2BC7CB6C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-C47B2BC7CB6C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc3563ec25/s0/960c452b-dc75-4a13-9fdf-c47b2bc7cb6c/current/log_inprogress_0
2022-08-16 16:31:58,473 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C47B2BC7CB6C:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C47B2BC7CB6C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:38539|admin:localhost:39047|client:localhost:39729|dataStream:localhost:43161|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:58,473 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:58,473 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39047 (custom)
2022-08-16 16:31:58,473 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:58,473 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39729 (custom)
2022-08-16 16:31:58,473 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:31:58,474 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 38539 (custom)
2022-08-16 16:31:58,474 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:58,474 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:58,474 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:58,474 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:58,474 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-16 16:31:58,474 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:31:58,474 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:31:58,475 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'appendEntries'
2022-08-16 16:31:58,475 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "appendEntries" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking appendEntries call is not supported
	at org.apache.ratis.grpc.server.GrpcService.appendEntries(GrpcService.java:318)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$1(TestRaftServerWithGrpc.java:156)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:155)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:148)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:58,475 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'installSnapshot'
2022-08-16 16:31:58,476 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "installSnapshot" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking installSnapshot call is not supported
	at org.apache.ratis.grpc.server.GrpcService.installSnapshot(GrpcService.java:324)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$2(TestRaftServerWithGrpc.java:160)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:159)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:148)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:58,476 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(827)) - ************************************************************** 
2022-08-16 16:31:58,476 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(828)) - *** 
2022-08-16 16:31:58,476 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-16 16:31:58,476 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-16 16:31:58,476 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-08-16 16:31:58,476 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C47B2BC7CB6C:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C47B2BC7CB6C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:38539|admin:localhost:39047|client:localhost:39729|dataStream:localhost:43161|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:58,476 [java.util.concurrent.ThreadPoolExecutor$Worker@41aa5977[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s0: close
2022-08-16 16:31:58,477 [java.util.concurrent.ThreadPoolExecutor$Worker@41aa5977[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-16 16:31:58,477 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s0@group-C47B2BC7CB6C: shutdown
2022-08-16 16:31:58,477 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C47B2BC7CB6C,id=s0
2022-08-16 16:31:58,477 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-C47B2BC7CB6C-LeaderStateImpl
2022-08-16 16:31:58,477 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-C47B2BC7CB6C-PendingRequests: sendNotLeaderResponses
2022-08-16 16:31:58,477 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-C47B2BC7CB6C-StateMachineUpdater: set stopIndex = 0
2022-08-16 16:31:58,478 [java.util.concurrent.ThreadPoolExecutor$Worker@41aa5977[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-16 16:31:58,478 [java.util.concurrent.ThreadPoolExecutor$Worker@41aa5977[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-16 16:31:58,478 [java.util.concurrent.ThreadPoolExecutor$Worker@41aa5977[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-16 16:31:58,479 [java.util.concurrent.ThreadPoolExecutor$Worker@41aa5977[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-16 16:31:58,479 [java.util.concurrent.ThreadPoolExecutor$Worker@41aa5977[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-16 16:31:58,479 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s0@group-C47B2BC7CB6C: closes. applyIndex: 0
2022-08-16 16:31:58,479 [s0@group-C47B2BC7CB6C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-C47B2BC7CB6C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-16 16:31:58,479 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@2185a638] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-16 16:31:58,480 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-C47B2BC7CB6C-SegmentedRaftLogWorker close()
2022-08-16 16:31:58,481 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(850)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-16 16:31:58,481 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-16 16:31:58,481 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-16 16:31:58,482 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-16 16:31:58,482 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(132)) - Running runWithNewCluster
2022-08-16 16:31:58,482 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(303)) - new MiniRaftClusterWithGrpc with group-E3734E2371EC:[s0|rpc:localhost:43843|admin:localhost:39563|client:localhost:37871|dataStream:localhost:38465|priority:0|startupRole:FOLLOWER]
2022-08-16 16:31:58,482 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(336)) - .............................................................. 
2022-08-16 16:31:58,483 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - ... 
2022-08-16 16:31:58,483 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-16 16:31:58,483 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2022-08-16 16:31:58,483 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - .............................................................. 
2022-08-16 16:31:58,483 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(315)) - servers = {}
2022-08-16 16:31:58,483 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s0, group-E3734E2371EC:[s0|rpc:localhost:43843|admin:localhost:39563|client:localhost:37871|dataStream:localhost:38465|priority:0|startupRole:FOLLOWER], format? true
2022-08-16 16:31:58,483 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0
2022-08-16 16:31:58,483 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0 does not exist.
2022-08-16 16:31:58,483 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0
2022-08-16 16:31:58,483 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-16 16:31:58,484 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:58,484 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39563 (custom)
2022-08-16 16:31:58,484 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:58,484 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37871 (custom)
2022-08-16 16:31:58,484 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:31:58,484 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43843 (custom)
2022-08-16 16:31:58,484 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:58,484 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:58,484 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:58,484 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:58,484 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-16 16:31:58,484 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:31:58,484 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:31:58,486 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-16 16:31:58,486 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-16 16:31:58,486 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-16 16:31:58,486 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:58,486 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:58,486 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0] (custom)
2022-08-16 16:31:58,488 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-E3734E2371EC:[s0|rpc:localhost:43843|admin:localhost:39563|client:localhost:37871|dataStream:localhost:38465|priority:0|startupRole:FOLLOWER] returns group-E3734E2371EC:java.util.concurrent.CompletableFuture@eb6dedc[Not completed]
2022-08-16 16:31:58,488 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:58,488 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:58,488 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:58,489 [pool-24-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-E3734E2371EC:[s0|rpc:localhost:43843|admin:localhost:39563|client:localhost:37871|dataStream:localhost:38465|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:58,489 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-16 16:31:58,489 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:58,489 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-16 16:31:58,489 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:58,489 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:58,489 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-16 16:31:58,489 [pool-24-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-E3734E2371EC: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43843|admin:localhost:39563|client:localhost:37871|dataStream:localhost:38465|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-16 16:31:58,489 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0] (custom)
2022-08-16 16:31:58,489 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-16 16:31:58,490 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-16 16:31:58,490 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-16 16:31:58,490 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-16 16:31:58,490 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-16 16:31:58,492 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:58,492 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-16 16:31:58,492 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-16 16:31:58,492 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-16 16:31:58,492 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-16 16:31:58,493 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec does not exist. Creating ...
2022-08-16 16:31:58,493 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec
2022-08-16 16:31:58,494 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec/in_use.lock acquired by nodename 21594@fv-az459-523.1d4eecmzj5luvpyspzf3bgtdve.dx.internal.cloudapp.net
2022-08-16 16:31:58,495 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec/current
2022-08-16 16:31:58,495 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec/sm
2022-08-16 16:31:58,496 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec has been successfully formatted.
2022-08-16 16:31:58,496 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-16 16:31:58,496 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-16 16:31:58,496 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-16 16:31:58,496 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-16 16:31:58,496 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:58,496 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-16 16:31:58,496 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-16 16:31:58,496 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:58,496 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-16 16:31:58,497 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-16 16:31:58,497 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-E3734E2371EC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec
2022-08-16 16:31:58,497 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-16 16:31:58,497 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-16 16:31:58,497 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:31:58,497 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:31:58,497 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-16 16:31:58,497 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-16 16:31:58,497 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-16 16:31:58,497 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-16 16:31:58,497 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:31:58,497 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-16 16:31:58,497 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-16 16:31:58,497 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-16 16:31:58,498 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-E3734E2371EC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:58,498 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-E3734E2371EC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-16 16:31:58,498 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-E3734E2371EC: start as a follower, conf=-1: peers:[s0|rpc:localhost:43843|admin:localhost:39563|client:localhost:37871|dataStream:localhost:38465|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:58,498 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-E3734E2371EC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-16 16:31:58,498 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E3734E2371EC-FollowerState
2022-08-16 16:31:58,500 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E3734E2371EC,id=s0
2022-08-16 16:31:58,501 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-16 16:31:58,501 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-16 16:31:58,501 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-16 16:31:58,501 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s0: start RPC server
2022-08-16 16:31:58,502 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 37871
2022-08-16 16:31:58,502 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 43843
2022-08-16 16:31:58,503 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 39563
2022-08-16 16:31:58,507 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@4bb4416e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-16 16:31:58,507 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:58,507 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E3734E2371EC:t0, leader=null, voted=, raftlog=Memoized:s0@group-E3734E2371EC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43843|admin:localhost:39563|client:localhost:37871|dataStream:localhost:38465|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:58,507 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E3734E2371EC:t0, leader=null, voted=, raftlog=Memoized:s0@group-E3734E2371EC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43843|admin:localhost:39563|client:localhost:37871|dataStream:localhost:38465|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E3734E2371EC:t0, leader=null, voted=, raftlog=Memoized:s0@group-E3734E2371EC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43843|admin:localhost:39563|client:localhost:37871|dataStream:localhost:38465|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:577)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:611)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:604)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestServerRestartOnException(TestRaftServerWithGrpc.java:118)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testServerRestartOnException(TestRaftServerWithGrpc.java:102)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:58,653 [s0@group-E3734E2371EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-E3734E2371EC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:155329313ns, electionTimeout:152ms
2022-08-16 16:31:58,653 [s0@group-E3734E2371EC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-E3734E2371EC-FollowerState
2022-08-16 16:31:58,654 [s0@group-E3734E2371EC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-E3734E2371EC: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-16 16:31:58,654 [s0@group-E3734E2371EC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-16 16:31:58,654 [s0@group-E3734E2371EC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E3734E2371EC-LeaderElection15
2022-08-16 16:31:58,655 [s0@group-E3734E2371EC-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-E3734E2371EC-LeaderElection15 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:43843|admin:localhost:39563|client:localhost:37871|dataStream:localhost:38465|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:58,655 [s0@group-E3734E2371EC-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-E3734E2371EC-LeaderElection15 PRE_VOTE round 0: result PASSED (term=0)
2022-08-16 16:31:58,657 [s0@group-E3734E2371EC-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-E3734E2371EC-LeaderElection15 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:43843|admin:localhost:39563|client:localhost:37871|dataStream:localhost:38465|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:58,657 [s0@group-E3734E2371EC-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-E3734E2371EC-LeaderElection15 ELECTION round 0: result PASSED (term=1)
2022-08-16 16:31:58,657 [s0@group-E3734E2371EC-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-E3734E2371EC-LeaderElection15
2022-08-16 16:31:58,657 [s0@group-E3734E2371EC-LeaderElection15] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-E3734E2371EC: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-16 16:31:58,657 [s0@group-E3734E2371EC-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-E3734E2371EC: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 167ms
2022-08-16 16:31:58,657 [s0@group-E3734E2371EC-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-16 16:31:58,657 [s0@group-E3734E2371EC-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-16 16:31:58,657 [s0@group-E3734E2371EC-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-16 16:31:58,658 [s0@group-E3734E2371EC-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-16 16:31:58,658 [s0@group-E3734E2371EC-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-16 16:31:58,658 [s0@group-E3734E2371EC-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-16 16:31:58,658 [s0@group-E3734E2371EC-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-16 16:31:58,658 [s0@group-E3734E2371EC-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-16 16:31:58,658 [s0@group-E3734E2371EC-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E3734E2371EC-LeaderStateImpl
2022-08-16 16:31:58,658 [s0@group-E3734E2371EC-LeaderElection15] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-E3734E2371EC-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-16 16:31:58,669 [s0@group-E3734E2371EC-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-E3734E2371EC: set configuration 0: peers:[s0|rpc:localhost:43843|admin:localhost:39563|client:localhost:37871|dataStream:localhost:38465|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:31:58,670 [s0@group-E3734E2371EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-E3734E2371EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec/current/log_inprogress_0
2022-08-16 16:31:58,958 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E3734E2371EC:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-E3734E2371EC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43843|admin:localhost:39563|client:localhost:37871|dataStream:localhost:38465|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:31:58,959 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-16 16:31:58,959 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:58,959 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39563 (custom)
2022-08-16 16:31:58,959 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:58,959 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37871 (custom)
2022-08-16 16:31:58,959 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:31:58,959 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43843 (custom)
2022-08-16 16:31:58,960 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:58,960 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:58,960 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:58,960 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:58,960 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-16 16:31:58,960 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:31:58,960 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:31:58,962 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-16 16:31:58,962 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-16 16:31:58,962 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-16 16:31:58,962 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:58,962 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:58,962 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0] (custom)
2022-08-16 16:31:58,963 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(249)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec
2022-08-16 16:31:58,965 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-E3734E2371EC:[s0|rpc:localhost:43843|admin:localhost:39563|client:localhost:37871|dataStream:localhost:38465|priority:0|startupRole:FOLLOWER] returns group-E3734E2371EC:java.util.concurrent.CompletableFuture@2b9bbe21[Not completed]
2022-08-16 16:31:58,965 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-16 16:31:58,965 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-16 16:31:58,966 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-16 16:31:58,966 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-16 16:31:58,966 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-16 16:31:58,966 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-16 16:31:58,966 [pool-25-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-E3734E2371EC:[s0|rpc:localhost:43843|admin:localhost:39563|client:localhost:37871|dataStream:localhost:38465|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-E3734E2371EC
2022-08-16 16:31:58,966 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'Starting a new server with the same address should fail'
2022-08-16 16:31:58,966 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-16 16:31:58,966 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:58,966 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-16 16:31:58,967 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:58,967 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:58,967 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-16 16:31:58,967 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-16 16:31:58,967 [pool-25-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-E3734E2371EC: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43843|admin:localhost:39563|client:localhost:37871|dataStream:localhost:38465|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-16 16:31:58,967 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:58,967 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0] (custom)
2022-08-16 16:31:58,967 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39563 (custom)
2022-08-16 16:31:58,967 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:31:58,967 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-16 16:31:58,967 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37871 (custom)
2022-08-16 16:31:58,967 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:31:58,967 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43843 (custom)
2022-08-16 16:31:58,967 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:31:58,967 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:31:58,968 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:31:58,968 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:31:58,967 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-16 16:31:58,968 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-16 16:31:58,968 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-16 16:31:58,968 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:31:58,968 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-16 16:31:58,968 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:31:58,968 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-16 16:31:58,968 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:58,968 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-16 16:31:58,968 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-16 16:31:58,968 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-16 16:31:58,968 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-16 16:31:58,969 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-16 16:31:58,969 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-16 16:31:58,969 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-16 16:31:58,970 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:58,970 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:58,970 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0] (custom)
2022-08-16 16:31:58,972 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(249)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec
2022-08-16 16:31:58,972 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-E3734E2371EC:[s0|rpc:localhost:43843|admin:localhost:39563|client:localhost:37871|dataStream:localhost:38465|priority:0|startupRole:FOLLOWER] returns group-E3734E2371EC:java.util.concurrent.CompletableFuture@594936b5[Not completed]
2022-08-16 16:31:58,976 [pool-26-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-E3734E2371EC:[s0|rpc:localhost:43843|admin:localhost:39563|client:localhost:37871|dataStream:localhost:38465|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-E3734E2371EC
2022-08-16 16:31:58,976 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-16 16:31:58,976 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:31:58,976 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-16 16:31:58,976 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:31:58,976 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:31:58,977 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-16 16:31:58,977 [pool-26-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-E3734E2371EC: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43843|admin:localhost:39563|client:localhost:37871|dataStream:localhost:38465|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-16 16:31:58,977 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0] (custom)
2022-08-16 16:31:58,977 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-16 16:31:58,977 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-16 16:31:58,977 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-16 16:31:58,977 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-16 16:31:58,977 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-16 16:31:58,977 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:31:58,977 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-16 16:31:58,977 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-16 16:31:58,977 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-16 16:31:58,977 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-16 16:31:58,978 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(234)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:58,978 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:237)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	... 14 more
2022-08-16 16:31:59,978 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(234)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:31:59,979 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:237)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	... 14 more
2022-08-16 16:32:00,979 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(234)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:32:00,980 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:237)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	... 14 more
2022-08-16 16:32:01,980 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(234)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:32:01,981 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:237)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	... 14 more
2022-08-16 16:32:02,982 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(234)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:32:02,982 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "Starting a new server with the same address should fail" throws CompletionException
java.util.concurrent.CompletionException: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec. The directory is already locked
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.biRelay(CompletableFuture.java:1298)
	at java.util.concurrent.CompletableFuture$BiRelay.tryFire(CompletableFuture.java:1284)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:176)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpc5854c1ef/s0/7278f8e6-d0bf-4eda-af15-e3734e2371ec. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:237)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	... 4 more
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	... 14 more
2022-08-16 16:32:02,983 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:32:02,983 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39563 (custom)
2022-08-16 16:32:02,983 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:32:02,983 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37871 (custom)
2022-08-16 16:32:02,983 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:32:02,983 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43843 (custom)
2022-08-16 16:32:02,983 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:32:02,984 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:32:02,984 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:32:02,984 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:32:02,984 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-16 16:32:02,984 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:32:02,984 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:32:02,985 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(827)) - ************************************************************** 
2022-08-16 16:32:02,985 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(828)) - *** 
2022-08-16 16:32:02,985 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-16 16:32:02,985 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-16 16:32:02,985 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-08-16 16:32:02,985 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E3734E2371EC:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-E3734E2371EC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43843|admin:localhost:39563|client:localhost:37871|dataStream:localhost:38465|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:32:02,986 [java.util.concurrent.ThreadPoolExecutor$Worker@3201573e[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s0: close
2022-08-16 16:32:02,986 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s0@group-E3734E2371EC: shutdown
2022-08-16 16:32:02,986 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E3734E2371EC,id=s0
2022-08-16 16:32:02,987 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-E3734E2371EC-LeaderStateImpl
2022-08-16 16:32:02,987 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-E3734E2371EC-PendingRequests: sendNotLeaderResponses
2022-08-16 16:32:02,987 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-E3734E2371EC-StateMachineUpdater: set stopIndex = 0
2022-08-16 16:32:02,987 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@4bb4416e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-16 16:32:02,987 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s0@group-E3734E2371EC: closes. applyIndex: 0
2022-08-16 16:32:02,987 [s0@group-E3734E2371EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-E3734E2371EC-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-16 16:32:02,989 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-E3734E2371EC-SegmentedRaftLogWorker close()
2022-08-16 16:32:02,989 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(850)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-16 16:32:02,990 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-16 16:32:02,990 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-16 16:32:02,990 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-16 16:32:02,991 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(132)) - Running runWithNewCluster
2022-08-16 16:32:02,992 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(303)) - new MiniRaftClusterWithGrpc with group-A8E09B54EBFA:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]
2022-08-16 16:32:02,992 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(336)) - .............................................................. 
2022-08-16 16:32:02,992 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - ... 
2022-08-16 16:32:02,993 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-16 16:32:02,993 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2022-08-16 16:32:02,993 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - .............................................................. 
2022-08-16 16:32:02,993 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(315)) - servers = {}
2022-08-16 16:32:02,993 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s0, group-A8E09B54EBFA:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER], format? true
2022-08-16 16:32:02,993 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s0
2022-08-16 16:32:02,993 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s0 does not exist.
2022-08-16 16:32:02,993 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s0
2022-08-16 16:32:02,995 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-16 16:32:02,996 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:32:02,996 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 35555 (custom)
2022-08-16 16:32:02,996 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:32:02,996 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41603 (custom)
2022-08-16 16:32:02,996 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:32:02,996 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37967 (custom)
2022-08-16 16:32:02,996 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:32:02,996 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:32:02,996 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:32:02,996 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:32:02,996 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-16 16:32:02,996 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:32:02,996 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:32:02,997 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-16 16:32:02,998 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-16 16:32:02,998 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-16 16:32:02,998 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:32:02,998 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:32:02,998 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s0] (custom)
2022-08-16 16:32:02,999 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-A8E09B54EBFA:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER] returns group-A8E09B54EBFA:java.util.concurrent.CompletableFuture@16d9efd0[Not completed]
2022-08-16 16:32:02,999 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s1, group-A8E09B54EBFA:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER], format? true
2022-08-16 16:32:02,999 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s1
2022-08-16 16:32:02,999 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s1 does not exist.
2022-08-16 16:32:03,000 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s1
2022-08-16 16:32:02,999 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:32:03,001 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:32:03,001 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:32:03,001 [pool-27-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-A8E09B54EBFA:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-16 16:32:03,001 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-16 16:32:03,001 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:32:03,001 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-16 16:32:03,001 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:32:03,001 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:32:03,001 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-16 16:32:03,001 [pool-27-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-A8E09B54EBFA: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-16 16:32:03,002 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s0] (custom)
2022-08-16 16:32:03,002 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-16 16:32:03,002 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-16 16:32:03,002 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-16 16:32:03,002 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-16 16:32:03,002 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-16 16:32:03,002 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-16 16:32:03,002 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:32:03,003 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33513 (custom)
2022-08-16 16:32:03,003 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:32:03,003 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44627 (custom)
2022-08-16 16:32:03,003 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:32:03,003 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 40293 (custom)
2022-08-16 16:32:03,003 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:32:03,003 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:32:03,003 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:32:03,003 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:32:03,003 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-16 16:32:03,003 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:32:03,003 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:32:03,004 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:32:03,004 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-16 16:32:03,004 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-16 16:32:03,004 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-16 16:32:03,004 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-16 16:32:03,005 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-16 16:32:03,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-16 16:32:03,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-16 16:32:03,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:32:03,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:32:03,006 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s1] (custom)
2022-08-16 16:32:03,007 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-A8E09B54EBFA:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER] returns group-A8E09B54EBFA:java.util.concurrent.CompletableFuture@624204c4[Not completed]
2022-08-16 16:32:03,007 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:32:03,007 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s2, group-A8E09B54EBFA:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER], format? true
2022-08-16 16:32:03,007 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s2
2022-08-16 16:32:03,007 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:32:03,007 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s2 does not exist.
2022-08-16 16:32:03,007 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s2
2022-08-16 16:32:03,007 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:32:03,008 [pool-28-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s1: new RaftServerImpl for group-A8E09B54EBFA:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-16 16:32:03,008 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-16 16:32:03,008 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-16 16:32:03,008 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:32:03,008 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-16 16:32:03,008 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:32:03,008 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:32:03,008 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-16 16:32:03,008 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:32:03,008 [pool-28-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s1@group-A8E09B54EBFA: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-16 16:32:03,008 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41737 (custom)
2022-08-16 16:32:03,008 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s1] (custom)
2022-08-16 16:32:03,008 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-16 16:32:03,009 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-16 16:32:03,009 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 33917 (custom)
2022-08-16 16:32:03,009 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-16 16:32:03,009 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35579 (custom)
2022-08-16 16:32:03,009 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:32:03,009 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:32:03,009 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:32:03,009 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:32:03,009 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-16 16:32:03,009 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-16 16:32:03,009 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-16 16:32:03,009 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-16 16:32:03,009 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-16 16:32:03,009 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-16 16:32:03,009 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-16 16:32:03,010 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:32:03,010 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-16 16:32:03,010 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-16 16:32:03,010 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-16 16:32:03,010 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-16 16:32:03,011 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-16 16:32:03,011 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-16 16:32:03,011 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-16 16:32:03,013 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:32:03,013 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:32:03,013 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s2] (custom)
2022-08-16 16:32:03,013 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-A8E09B54EBFA:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER] returns group-A8E09B54EBFA:java.util.concurrent.CompletableFuture@fce6507[Not completed]
2022-08-16 16:32:03,013 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:32:03,014 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s0/3cbb746e-92b2-44e5-841f-a8e09b54ebfa does not exist. Creating ...
2022-08-16 16:32:03,014 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s0/3cbb746e-92b2-44e5-841f-a8e09b54ebfa
2022-08-16 16:32:03,014 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:32:03,014 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:32:03,014 [pool-29-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s2: new RaftServerImpl for group-A8E09B54EBFA:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-16 16:32:03,015 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-16 16:32:03,015 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:32:03,015 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-16 16:32:03,015 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-16 16:32:03,015 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-16 16:32:03,015 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-16 16:32:03,015 [pool-29-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s2@group-A8E09B54EBFA: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-16 16:32:03,015 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s2] (custom)
2022-08-16 16:32:03,015 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-16 16:32:03,015 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s0/3cbb746e-92b2-44e5-841f-a8e09b54ebfa/in_use.lock acquired by nodename 21594@fv-az459-523.1d4eecmzj5luvpyspzf3bgtdve.dx.internal.cloudapp.net
2022-08-16 16:32:03,015 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s0/3cbb746e-92b2-44e5-841f-a8e09b54ebfa/current
2022-08-16 16:32:03,015 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s0/3cbb746e-92b2-44e5-841f-a8e09b54ebfa/sm
2022-08-16 16:32:03,016 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-16 16:32:03,016 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-16 16:32:03,017 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-16 16:32:03,017 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-16 16:32:03,017 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:32:03,017 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s0/3cbb746e-92b2-44e5-841f-a8e09b54ebfa has been successfully formatted.
2022-08-16 16:32:03,017 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-16 16:32:03,017 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-16 16:32:03,017 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-16 16:32:03,017 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-16 16:32:03,017 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-16 16:32:03,017 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-16 16:32:03,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-16 16:32:03,018 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-16 16:32:03,018 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:32:03,018 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-16 16:32:03,018 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-16 16:32:03,018 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:32:03,018 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-16 16:32:03,018 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-16 16:32:03,018 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-A8E09B54EBFA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s0/3cbb746e-92b2-44e5-841f-a8e09b54ebfa
2022-08-16 16:32:03,018 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-16 16:32:03,018 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-16 16:32:03,018 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:32:03,018 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:32:03,019 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-16 16:32:03,019 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-16 16:32:03,019 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-16 16:32:03,019 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-16 16:32:03,019 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:32:03,019 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-16 16:32:03,019 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-16 16:32:03,019 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-16 16:32:03,019 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-A8E09B54EBFA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-16 16:32:03,019 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-A8E09B54EBFA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-16 16:32:03,020 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-A8E09B54EBFA: start as a follower, conf=-1: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:32:03,020 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-A8E09B54EBFA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-16 16:32:03,020 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A8E09B54EBFA-FollowerState
2022-08-16 16:32:03,020 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A8E09B54EBFA,id=s0
2022-08-16 16:32:03,020 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-16 16:32:03,020 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-16 16:32:03,020 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-16 16:32:03,020 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s0: start RPC server
2022-08-16 16:32:03,021 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 41603
2022-08-16 16:32:03,022 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 37967
2022-08-16 16:32:03,023 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 35555
2022-08-16 16:32:03,023 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@7dd8341e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-16 16:32:03,023 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s1/3cbb746e-92b2-44e5-841f-a8e09b54ebfa does not exist. Creating ...
2022-08-16 16:32:03,024 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s1/3cbb746e-92b2-44e5-841f-a8e09b54ebfa
2022-08-16 16:32:03,025 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s1/3cbb746e-92b2-44e5-841f-a8e09b54ebfa/in_use.lock acquired by nodename 21594@fv-az459-523.1d4eecmzj5luvpyspzf3bgtdve.dx.internal.cloudapp.net
2022-08-16 16:32:03,025 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s1/3cbb746e-92b2-44e5-841f-a8e09b54ebfa/current
2022-08-16 16:32:03,025 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s1/3cbb746e-92b2-44e5-841f-a8e09b54ebfa/sm
2022-08-16 16:32:03,026 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s1/3cbb746e-92b2-44e5-841f-a8e09b54ebfa has been successfully formatted.
2022-08-16 16:32:03,026 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-16 16:32:03,026 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-16 16:32:03,026 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-16 16:32:03,026 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-16 16:32:03,026 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:32:03,027 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-16 16:32:03,027 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-16 16:32:03,027 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:32:03,027 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-16 16:32:03,027 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-16 16:32:03,027 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-A8E09B54EBFA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s1/3cbb746e-92b2-44e5-841f-a8e09b54ebfa
2022-08-16 16:32:03,027 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-16 16:32:03,027 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-16 16:32:03,027 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:32:03,027 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:32:03,027 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-16 16:32:03,027 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-16 16:32:03,027 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-16 16:32:03,027 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-16 16:32:03,027 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:32:03,028 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-16 16:32:03,028 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-16 16:32:03,028 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-16 16:32:03,028 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-A8E09B54EBFA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-16 16:32:03,028 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-A8E09B54EBFA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-16 16:32:03,028 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s1@group-A8E09B54EBFA: start as a follower, conf=-1: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:32:03,028 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-A8E09B54EBFA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-16 16:32:03,028 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A8E09B54EBFA-FollowerState
2022-08-16 16:32:03,028 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A8E09B54EBFA,id=s1
2022-08-16 16:32:03,028 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-16 16:32:03,028 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-16 16:32:03,028 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-16 16:32:03,029 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s1: start RPC server
2022-08-16 16:32:03,029 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 44627
2022-08-16 16:32:03,030 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 40293
2022-08-16 16:32:03,030 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 33513
2022-08-16 16:32:03,030 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@20b8cece] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-16 16:32:03,031 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s2/3cbb746e-92b2-44e5-841f-a8e09b54ebfa does not exist. Creating ...
2022-08-16 16:32:03,031 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s2/3cbb746e-92b2-44e5-841f-a8e09b54ebfa
2022-08-16 16:32:03,032 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s2/3cbb746e-92b2-44e5-841f-a8e09b54ebfa/in_use.lock acquired by nodename 21594@fv-az459-523.1d4eecmzj5luvpyspzf3bgtdve.dx.internal.cloudapp.net
2022-08-16 16:32:03,032 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s2/3cbb746e-92b2-44e5-841f-a8e09b54ebfa/current
2022-08-16 16:32:03,032 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s2/3cbb746e-92b2-44e5-841f-a8e09b54ebfa/sm
2022-08-16 16:32:03,034 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s2/3cbb746e-92b2-44e5-841f-a8e09b54ebfa has been successfully formatted.
2022-08-16 16:32:03,034 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-16 16:32:03,034 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-16 16:32:03,034 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-16 16:32:03,034 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-16 16:32:03,034 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:32:03,034 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-16 16:32:03,034 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-16 16:32:03,034 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:32:03,035 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-16 16:32:03,035 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-16 16:32:03,035 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-A8E09B54EBFA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s2/3cbb746e-92b2-44e5-841f-a8e09b54ebfa
2022-08-16 16:32:03,035 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-16 16:32:03,035 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-16 16:32:03,035 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-16 16:32:03,035 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-16 16:32:03,035 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-16 16:32:03,035 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-16 16:32:03,035 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-16 16:32:03,035 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-16 16:32:03,035 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-16 16:32:03,035 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-16 16:32:03,035 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-16 16:32:03,035 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-16 16:32:03,035 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-A8E09B54EBFA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-16 16:32:03,036 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-A8E09B54EBFA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-16 16:32:03,036 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s2@group-A8E09B54EBFA: start as a follower, conf=-1: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:32:03,036 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-A8E09B54EBFA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-16 16:32:03,037 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A8E09B54EBFA-FollowerState
2022-08-16 16:32:03,037 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A8E09B54EBFA,id=s2
2022-08-16 16:32:03,037 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-16 16:32:03,037 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-16 16:32:03,037 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-16 16:32:03,037 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s2: start RPC server
2022-08-16 16:32:03,038 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 33917
2022-08-16 16:32:03,038 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 35579
2022-08-16 16:32:03,038 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 41737
2022-08-16 16:32:03,038 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@37bad375] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-16 16:32:03,039 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:32:03,048 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A8E09B54EBFA:t0, leader=null, voted=, raftlog=Memoized:s0@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A8E09B54EBFA:t0, leader=null, voted=, raftlog=Memoized:s1@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A8E09B54EBFA:t0, leader=null, voted=, raftlog=Memoized:s2@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:32:03,048 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A8E09B54EBFA:t0, leader=null, voted=, raftlog=Memoized:s0@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A8E09B54EBFA:t0, leader=null, voted=, raftlog=Memoized:s1@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A8E09B54EBFA:t0, leader=null, voted=, raftlog=Memoized:s2@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A8E09B54EBFA:t0, leader=null, voted=, raftlog=Memoized:s0@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A8E09B54EBFA:t0, leader=null, voted=, raftlog=Memoized:s1@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A8E09B54EBFA:t0, leader=null, voted=, raftlog=Memoized:s2@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:577)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:611)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:604)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:170)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:32:03,179 [s1@group-A8E09B54EBFA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-A8E09B54EBFA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:151353776ns, electionTimeout:151ms
2022-08-16 16:32:03,180 [s1@group-A8E09B54EBFA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-A8E09B54EBFA-FollowerState
2022-08-16 16:32:03,180 [s1@group-A8E09B54EBFA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-A8E09B54EBFA: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-16 16:32:03,180 [s1@group-A8E09B54EBFA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-16 16:32:03,180 [s1@group-A8E09B54EBFA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A8E09B54EBFA-LeaderElection16
2022-08-16 16:32:03,181 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-A8E09B54EBFA-LeaderElection16 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:32:03,181 [s1@group-A8E09B54EBFA-LeaderElection16-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-08-16 16:32:03,181 [s1@group-A8E09B54EBFA-LeaderElection16-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-16 16:32:03,188 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-A8E09B54EBFA: receive requestVote(PRE_VOTE, s1, group-A8E09B54EBFA, 0, (t:0, i:0))
2022-08-16 16:32:03,188 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-A8E09B54EBFA-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-16 16:32:03,188 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-A8E09B54EBFA replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-A8E09B54EBFA:t0, leader=null, voted=, raftlog=Memoized:s0@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:32:03,193 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-A8E09B54EBFA-LeaderElection16: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-16 16:32:03,193 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t0
2022-08-16 16:32:03,193 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-A8E09B54EBFA-LeaderElection16 PRE_VOTE round 0: result PASSED
2022-08-16 16:32:03,194 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-A8E09B54EBFA-LeaderElection16 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:32:03,197 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-A8E09B54EBFA: receive requestVote(ELECTION, s1, group-A8E09B54EBFA, 1, (t:0, i:0))
2022-08-16 16:32:03,197 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-A8E09B54EBFA-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-16 16:32:03,197 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-A8E09B54EBFA: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-08-16 16:32:03,197 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A8E09B54EBFA-FollowerState
2022-08-16 16:32:03,197 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A8E09B54EBFA-FollowerState
2022-08-16 16:32:03,197 [s0@group-A8E09B54EBFA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-A8E09B54EBFA-FollowerState was interrupted
2022-08-16 16:32:03,202 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-A8E09B54EBFA: receive requestVote(PRE_VOTE, s1, group-A8E09B54EBFA, 0, (t:0, i:0))
2022-08-16 16:32:03,202 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-A8E09B54EBFA-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-16 16:32:03,202 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-A8E09B54EBFA replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-A8E09B54EBFA:t0, leader=null, voted=, raftlog=Memoized:s2@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:32:03,203 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-A8E09B54EBFA: receive requestVote(ELECTION, s1, group-A8E09B54EBFA, 1, (t:0, i:0))
2022-08-16 16:32:03,203 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-A8E09B54EBFA-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-16 16:32:03,203 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-A8E09B54EBFA: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-08-16 16:32:03,203 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-A8E09B54EBFA-FollowerState
2022-08-16 16:32:03,204 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A8E09B54EBFA-FollowerState
2022-08-16 16:32:03,204 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-A8E09B54EBFA replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-A8E09B54EBFA:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:32:03,204 [s2@group-A8E09B54EBFA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-A8E09B54EBFA-FollowerState was interrupted
2022-08-16 16:32:03,209 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-A8E09B54EBFA-LeaderElection16: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-16 16:32:03,209 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t1
2022-08-16 16:32:03,209 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-A8E09B54EBFA-LeaderElection16 ELECTION round 0: result PASSED
2022-08-16 16:32:03,209 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-A8E09B54EBFA-LeaderElection16
2022-08-16 16:32:03,209 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-A8E09B54EBFA: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-16 16:32:03,209 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-A8E09B54EBFA: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 199ms
2022-08-16 16:32:03,209 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-16 16:32:03,209 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-16 16:32:03,209 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-16 16:32:03,209 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-16 16:32:03,210 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-16 16:32:03,210 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-16 16:32:03,210 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-16 16:32:03,210 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-16 16:32:03,210 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-A8E09B54EBFA replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-A8E09B54EBFA:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:32:03,210 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-16 16:32:03,210 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:32:03,210 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-16 16:32:03,210 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-16 16:32:03,210 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:32:03,211 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:32:03,211 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-16 16:32:03,211 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-16 16:32:03,211 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:32:03,211 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-16 16:32:03,211 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-16 16:32:03,211 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:32:03,211 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:32:03,211 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-16 16:32:03,211 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A8E09B54EBFA-LeaderStateImpl
2022-08-16 16:32:03,211 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-A8E09B54EBFA-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-16 16:32:03,217 [s1@group-A8E09B54EBFA-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-A8E09B54EBFA: set configuration 0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:32:03,223 [s1@group-A8E09B54EBFA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-A8E09B54EBFA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s1/3cbb746e-92b2-44e5-841f-a8e09b54ebfa/current/log_inprogress_0
2022-08-16 16:32:03,228 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-A8E09B54EBFA: change Leader from null to s1 at term 1 for appendEntries, leader elected after 226ms
2022-08-16 16:32:03,233 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-A8E09B54EBFA: change Leader from null to s1 at term 1 for appendEntries, leader elected after 216ms
2022-08-16 16:32:03,237 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-A8E09B54EBFA: set configuration 0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:32:03,238 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-A8E09B54EBFA-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-16 16:32:03,240 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-A8E09B54EBFA: set configuration 0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:32:03,245 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-A8E09B54EBFA-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-16 16:32:03,262 [s2@group-A8E09B54EBFA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-A8E09B54EBFA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s2/3cbb746e-92b2-44e5-841f-a8e09b54ebfa/current/log_inprogress_0
2022-08-16 16:32:03,263 [s0@group-A8E09B54EBFA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-A8E09B54EBFA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s0/3cbb746e-92b2-44e5-841f-a8e09b54ebfa/current/log_inprogress_0
2022-08-16 16:32:03,498 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A8E09B54EBFA:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-A8E09B54EBFA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A8E09B54EBFA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:32:03,499 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:32:03,499 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:32:03,506 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-18C0A41CD4C5->s0: receive RaftClientReply:client-18C0A41CD4C5->s0@group-A8E09B54EBFA, cid=62, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-A8E09B54EBFA is not the leader s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-08-16 16:32:03,510 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:32:03,510 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:32:03,516 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-18C0A41CD4C5->s1: receive RaftClientReply:client-18C0A41CD4C5->s1@group-A8E09B54EBFA, cid=62, SUCCESS, logIndex=0, commits[s1:c0, s0:c0, s2:c0]
2022-08-16 16:32:03,522 [s1@group-A8E09B54EBFA-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 63@client-18C0A41CD4C5
2022-08-16 16:32:03,523 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-18C0A41CD4C5->s1: receive RaftClientReply:client-18C0A41CD4C5->s1@group-A8E09B54EBFA, cid=63, SUCCESS, logIndex=1, commits[s1:c1, s0:c0, s2:c0]
2022-08-16 16:32:03,529 [s2@group-A8E09B54EBFA-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 63@client-18C0A41CD4C5
2022-08-16 16:32:03,530 [s0@group-A8E09B54EBFA-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 63@client-18C0A41CD4C5
2022-08-16 16:32:03,530 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:32:03,531 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:32:03,537 [s1@group-A8E09B54EBFA-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-E3C88B47C2DA
2022-08-16 16:32:03,539 [s2@group-A8E09B54EBFA-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-E3C88B47C2DA
2022-08-16 16:32:03,539 [s0@group-A8E09B54EBFA-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-E3C88B47C2DA
2022-08-16 16:32:03,541 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-E3C88B47C2DA->s1: receive RaftClientReply:client-E3C88B47C2DA->s1@group-A8E09B54EBFA, cid=1, SUCCESS, logIndex=3, commits[s1:c3, s0:c1, s2:c2]
2022-08-16 16:32:03,541 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(134)) - block START_TRANSACTION
2022-08-16 16:32:03,542 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s1
2022-08-16 16:32:03,542 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:32:03,542 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A8E09B54EBFA:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-A8E09B54EBFA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A8E09B54EBFA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:32:03,542 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A8E09B54EBFA:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-A8E09B54EBFA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A8E09B54EBFA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:32:03,542 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "changeLeader-changeLeader", attempt #1/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:196)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:32:03,616 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s1
2022-08-16 16:32:03,617 [s0-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2022-08-16 16:32:03,643 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:32:03,643 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A8E09B54EBFA:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-A8E09B54EBFA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A8E09B54EBFA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:32:03,643 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A8E09B54EBFA:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-A8E09B54EBFA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A8E09B54EBFA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:32:03,643 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "changeLeader-changeLeader", attempt #2/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:196)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:32:03,744 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:32:03,744 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A8E09B54EBFA:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-A8E09B54EBFA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A8E09B54EBFA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:32:03,744 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A8E09B54EBFA:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-A8E09B54EBFA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A8E09B54EBFA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:32:03,744 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "changeLeader-changeLeader", attempt #3/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:196)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-16 16:32:03,759 [s2@group-A8E09B54EBFA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-A8E09B54EBFA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:220560560ns, electionTimeout:177ms
2022-08-16 16:32:03,759 [s2@group-A8E09B54EBFA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-A8E09B54EBFA-FollowerState
2022-08-16 16:32:03,759 [s2@group-A8E09B54EBFA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-A8E09B54EBFA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-16 16:32:03,759 [s2@group-A8E09B54EBFA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-16 16:32:03,760 [s2@group-A8E09B54EBFA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A8E09B54EBFA-LeaderElection17
2022-08-16 16:32:03,760 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-A8E09B54EBFA: change Leader from s1 to null at term 1 for PRE_VOTE
2022-08-16 16:32:03,760 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-A8E09B54EBFA-LeaderElection17 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:32:03,761 [s2@group-A8E09B54EBFA-LeaderElection17-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-08-16 16:32:03,761 [s2@group-A8E09B54EBFA-LeaderElection17-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-16 16:32:03,766 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-A8E09B54EBFA: receive requestVote(PRE_VOTE, s2, group-A8E09B54EBFA, 1, (t:1, i:4))
2022-08-16 16:32:03,766 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-A8E09B54EBFA-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-16 16:32:03,766 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-A8E09B54EBFA replies to PRE_VOTE vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-A8E09B54EBFA:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:32:03,769 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-A8E09B54EBFA-LeaderElection17: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-16 16:32:03,769 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t1
2022-08-16 16:32:03,769 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-A8E09B54EBFA-LeaderElection17 PRE_VOTE round 0: result PASSED
2022-08-16 16:32:03,771 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-A8E09B54EBFA: receive requestVote(PRE_VOTE, s2, group-A8E09B54EBFA, 1, (t:1, i:4))
2022-08-16 16:32:03,771 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-A8E09B54EBFA-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-08-16 16:32:03,771 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-A8E09B54EBFA replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-A8E09B54EBFA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:32:03,771 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-A8E09B54EBFA-LeaderElection17 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:32:03,777 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-A8E09B54EBFA: receive requestVote(ELECTION, s2, group-A8E09B54EBFA, 2, (t:1, i:4))
2022-08-16 16:32:03,777 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-A8E09B54EBFA-LEADER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-08-16 16:32:03,777 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-A8E09B54EBFA: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-08-16 16:32:03,778 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-A8E09B54EBFA: changes role from    LEADER to FOLLOWER at term 2 for candidate:s2
2022-08-16 16:32:03,778 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-A8E09B54EBFA-LeaderStateImpl
2022-08-16 16:32:03,778 [s1@group-A8E09B54EBFA->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s1@group-A8E09B54EBFA->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-16 16:32:03,778 [grpc-default-executor-2] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-A8E09B54EBFA-PendingRequests: sendNotLeaderResponses
2022-08-16 16:32:03,778 [s1@group-A8E09B54EBFA->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s1@group-A8E09B54EBFA->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-16 16:32:03,779 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#24-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-08-16 16:32:03,779 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#12-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-08-16 16:32:03,780 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(402)) - s1@group-A8E09B54EBFA->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-16 16:32:03,781 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-A8E09B54EBFA->s2: nextIndex: updateUnconditionally 5 -> 4
2022-08-16 16:32:03,781 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(402)) - s1@group-A8E09B54EBFA->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-16 16:32:03,781 [grpc-default-executor-7] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-A8E09B54EBFA->s0: nextIndex: updateUnconditionally 5 -> 4
2022-08-16 16:32:03,785 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A8E09B54EBFA-FollowerState
2022-08-16 16:32:03,789 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-A8E09B54EBFA replies to ELECTION vote request: s2<-s1#0:OK-t2. Peer's state: s1@group-A8E09B54EBFA:t2, leader=null, voted=s2, raftlog=Memoized:s1@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:32:03,789 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-A8E09B54EBFA-LeaderElection17: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-16 16:32:03,789 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t2
2022-08-16 16:32:03,790 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-A8E09B54EBFA-LeaderElection17 ELECTION round 0: result PASSED
2022-08-16 16:32:03,790 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-A8E09B54EBFA-LeaderElection17
2022-08-16 16:32:03,790 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-A8E09B54EBFA: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-08-16 16:32:03,790 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-A8E09B54EBFA: change Leader from null to s2 at term 2 for becomeLeader, leader elected after 29ms
2022-08-16 16:32:03,790 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-16 16:32:03,790 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-16 16:32:03,790 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-16 16:32:03,790 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-16 16:32:03,790 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-16 16:32:03,790 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-16 16:32:03,790 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-16 16:32:03,790 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-16 16:32:03,790 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-16 16:32:03,791 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:32:03,791 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-16 16:32:03,791 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-16 16:32:03,791 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:32:03,791 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:32:03,791 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-16 16:32:03,791 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-16 16:32:03,791 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-16 16:32:03,791 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-16 16:32:03,791 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-16 16:32:03,791 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-16 16:32:03,791 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-16 16:32:03,791 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-16 16:32:03,791 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A8E09B54EBFA-LeaderStateImpl
2022-08-16 16:32:03,792 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s2@group-A8E09B54EBFA-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-08-16 16:32:03,793 [s2@group-A8E09B54EBFA-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s2/3cbb746e-92b2-44e5-841f-a8e09b54ebfa/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s2/3cbb746e-92b2-44e5-841f-a8e09b54ebfa/current/log_0-4
2022-08-16 16:32:03,793 [s2@group-A8E09B54EBFA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s2@group-A8E09B54EBFA-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s2/3cbb746e-92b2-44e5-841f-a8e09b54ebfa/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s2/3cbb746e-92b2-44e5-841f-a8e09b54ebfa/current/log_0-4
2022-08-16 16:32:03,793 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-A8E09B54EBFA: receive requestVote(ELECTION, s2, group-A8E09B54EBFA, 2, (t:1, i:4))
2022-08-16 16:32:03,793 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-A8E09B54EBFA-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-08-16 16:32:03,793 [grpc-default-executor-7] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-A8E09B54EBFA: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-08-16 16:32:03,793 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-A8E09B54EBFA: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s2
2022-08-16 16:32:03,794 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A8E09B54EBFA-FollowerState
2022-08-16 16:32:03,798 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A8E09B54EBFA-FollowerState
2022-08-16 16:32:03,798 [s0@group-A8E09B54EBFA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-A8E09B54EBFA-FollowerState was interrupted
2022-08-16 16:32:03,803 [s2@group-A8E09B54EBFA-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-A8E09B54EBFA: set configuration 5: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:32:03,804 [s2@group-A8E09B54EBFA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-A8E09B54EBFA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s2/3cbb746e-92b2-44e5-841f-a8e09b54ebfa/current/log_inprogress_5
2022-08-16 16:32:03,805 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-A8E09B54EBFA replies to ELECTION vote request: s2<-s0#0:OK-t2. Peer's state: s0@group-A8E09B54EBFA:t2, leader=null, voted=s2, raftlog=Memoized:s0@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:32:03,815 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-A8E09B54EBFA: change Leader from null to s2 at term 2 for appendEntries, leader elected after 21ms
2022-08-16 16:32:03,821 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-A8E09B54EBFA: set configuration 5: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:32:03,821 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-A8E09B54EBFA: change Leader from null to s2 at term 2 for appendEntries, leader elected after 43ms
2022-08-16 16:32:03,821 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s0@group-A8E09B54EBFA-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-08-16 16:32:03,822 [s0@group-A8E09B54EBFA-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s0/3cbb746e-92b2-44e5-841f-a8e09b54ebfa/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s0/3cbb746e-92b2-44e5-841f-a8e09b54ebfa/current/log_0-4
2022-08-16 16:32:03,822 [s0@group-A8E09B54EBFA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s0@group-A8E09B54EBFA-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s0/3cbb746e-92b2-44e5-841f-a8e09b54ebfa/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s0/3cbb746e-92b2-44e5-841f-a8e09b54ebfa/current/log_0-4
2022-08-16 16:32:03,826 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-A8E09B54EBFA: set configuration 5: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-16 16:32:03,826 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s1@group-A8E09B54EBFA-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-08-16 16:32:03,827 [s1@group-A8E09B54EBFA-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s1/3cbb746e-92b2-44e5-841f-a8e09b54ebfa/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s1/3cbb746e-92b2-44e5-841f-a8e09b54ebfa/current/log_0-4
2022-08-16 16:32:03,827 [s1@group-A8E09B54EBFA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s1@group-A8E09B54EBFA-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s1/3cbb746e-92b2-44e5-841f-a8e09b54ebfa/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s1/3cbb746e-92b2-44e5-841f-a8e09b54ebfa/current/log_0-4
2022-08-16 16:32:03,837 [s1@group-A8E09B54EBFA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-A8E09B54EBFA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s1/3cbb746e-92b2-44e5-841f-a8e09b54ebfa/current/log_inprogress_5
2022-08-16 16:32:03,837 [s0@group-A8E09B54EBFA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-A8E09B54EBFA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/5f10b85c/MiniRaftClusterWithGrpcfcd16d4b/s0/3cbb746e-92b2-44e5-841f-a8e09b54ebfa/current/log_inprogress_5
2022-08-16 16:32:03,845 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-16 16:32:03,845 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A8E09B54EBFA:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A8E09B54EBFA:t2, leader=s2, voted=s2, raftlog=Memoized:s1@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-A8E09B54EBFA:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:32:03,845 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A8E09B54EBFA:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A8E09B54EBFA:t2, leader=s2, voted=s2, raftlog=Memoized:s1@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-A8E09B54EBFA:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:32:03,845 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s2
2022-08-16 16:32:03,845 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s1
2022-08-16 16:32:03,845 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should fail'
2022-08-16 16:32:03,845 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should fail" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-E3C88B47C2DA->s1: Stream completed: no reply for async request cid=2
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1908)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:200)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-E3C88B47C2DA->s1: Stream completed: no reply for async request cid=2
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:406)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onCompleted(GrpcClientProtocolClient.java:346)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:477)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:463)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:427)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:460)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
2022-08-16 16:32:03,846 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(141)) - unblock START_TRANSACTION
2022-08-16 16:32:03,847 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-16 16:32:03,847 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-16 16:32:03,852 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should timeout'
2022-08-16 16:32:03,916 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s1
2022-08-16 16:32:03,917 [s0-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2022-08-16 16:32:03,919 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2022-08-16 16:32:03,921 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2022-08-16 16:32:03,921 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(402)) - s1@group-A8E09B54EBFA->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-16 16:32:03,921 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-A8E09B54EBFA->s2: nextIndex: updateUnconditionally 4 -> 3
2022-08-16 16:32:03,925 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(402)) - s1@group-A8E09B54EBFA->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-16 16:32:03,925 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-A8E09B54EBFA->s0: nextIndex: updateUnconditionally 4 -> 3
2022-08-16 16:32:04,850 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should timeout" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-E3C88B47C2DA->s1 request #3 timeout 1s
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1908)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:208)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-E3C88B47C2DA->s1 request #3 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:384)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:388)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:383)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2022-08-16 16:32:04,854 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-E3C88B47C2DA->s1: receive RaftClientReply:client-E3C88B47C2DA->s1@group-A8E09B54EBFA, cid=3, FAILED org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Server:2-OrderedRequestStreamObserver2 is closing: seq = 3 > nextToProcess = -1 will NEVER be processed; request = 3:null, logIndex=0, commits[]
2022-08-16 16:32:07,851 [Time-limited test] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(216)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=698, target=localhost:44627}}. 
2022-08-16 16:32:07,853 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(827)) - ************************************************************** 
2022-08-16 16:32:07,853 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(828)) - *** 
2022-08-16 16:32:07,853 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-16 16:32:07,853 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-16 16:32:07,853 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-08-16 16:32:07,854 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A8E09B54EBFA:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A8E09B54EBFA:t2, leader=s2, voted=s2, raftlog=Memoized:s1@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-A8E09B54EBFA:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-A8E09B54EBFA-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:37967|admin:localhost:35555|client:localhost:41603|dataStream:localhost:42285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40293|admin:localhost:33513|client:localhost:44627|dataStream:localhost:37043|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35579|admin:localhost:41737|client:localhost:33917|dataStream:localhost:37219|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-16 16:32:07,854 [java.util.concurrent.ThreadPoolExecutor$Worker@3c944e9c[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s1: close
2022-08-16 16:32:07,856 [java.util.concurrent.ThreadPoolExecutor$Worker@2584c698[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s2: close
2022-08-16 16:32:07,857 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s1@group-A8E09B54EBFA: shutdown
2022-08-16 16:32:07,857 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A8E09B54EBFA,id=s1
2022-08-16 16:32:07,857 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-A8E09B54EBFA-FollowerState
2022-08-16 16:32:07,857 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-A8E09B54EBFA-StateMachineUpdater: set stopIndex = 6
2022-08-16 16:32:07,857 [s1@group-A8E09B54EBFA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-A8E09B54EBFA-FollowerState was interrupted
2022-08-16 16:32:07,857 [java.util.concurrent.ThreadPoolExecutor$Worker@3c944e9c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-16 16:32:07,857 [java.util.concurrent.ThreadPoolExecutor$Worker@30214f30[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s0: close
2022-08-16 16:32:07,857 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s1@group-A8E09B54EBFA: closes. applyIndex: 6
2022-08-16 16:32:07,860 [s1@group-A8E09B54EBFA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s1@group-A8E09B54EBFA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-16 16:32:07,861 [java.util.concurrent.ThreadPoolExecutor$Worker@3c944e9c[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-08-16 16:32:07,862 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s0@group-A8E09B54EBFA: shutdown
2022-08-16 16:32:07,862 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A8E09B54EBFA,id=s0
2022-08-16 16:32:07,862 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A8E09B54EBFA-FollowerState
2022-08-16 16:32:07,862 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-A8E09B54EBFA-StateMachineUpdater: set stopIndex = 6
2022-08-16 16:32:07,862 [s0@group-A8E09B54EBFA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-A8E09B54EBFA-FollowerState was interrupted
2022-08-16 16:32:07,862 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s0@group-A8E09B54EBFA: closes. applyIndex: 6
2022-08-16 16:32:07,862 [s0@group-A8E09B54EBFA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-A8E09B54EBFA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-16 16:32:07,862 [java.util.concurrent.ThreadPoolExecutor$Worker@30214f30[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-16 16:32:07,864 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s1@group-A8E09B54EBFA-SegmentedRaftLogWorker close()
2022-08-16 16:32:07,865 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-A8E09B54EBFA-SegmentedRaftLogWorker close()
2022-08-16 16:32:07,867 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s2@group-A8E09B54EBFA: shutdown
2022-08-16 16:32:07,867 [java.util.concurrent.ThreadPoolExecutor$Worker@30214f30[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-16 16:32:07,867 [java.util.concurrent.ThreadPoolExecutor$Worker@30214f30[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-16 16:32:07,867 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A8E09B54EBFA,id=s2
2022-08-16 16:32:07,867 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-A8E09B54EBFA-LeaderStateImpl
2022-08-16 16:32:07,867 [java.util.concurrent.ThreadPoolExecutor$Worker@2584c698[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-16 16:32:07,868 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-A8E09B54EBFA-PendingRequests: sendNotLeaderResponses
2022-08-16 16:32:07,868 [java.util.concurrent.ThreadPoolExecutor$Worker@3c944e9c[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-16 16:32:07,868 [s2@group-A8E09B54EBFA->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s2@group-A8E09B54EBFA->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-16 16:32:07,868 [s2@group-A8E09B54EBFA->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s2@group-A8E09B54EBFA->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-16 16:32:07,870 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-08-16 16:32:07,870 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-08-16 16:32:07,871 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(402)) - s2@group-A8E09B54EBFA->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-16 16:32:07,871 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-A8E09B54EBFA->s0: nextIndex: updateUnconditionally 7 -> 6
2022-08-16 16:32:07,871 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2022-08-16 16:32:07,871 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2022-08-16 16:32:07,871 [java.util.concurrent.ThreadPoolExecutor$Worker@30214f30[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-16 16:32:07,872 [java.util.concurrent.ThreadPoolExecutor$Worker@30214f30[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-16 16:32:07,872 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-A8E09B54EBFA-StateMachineUpdater: set stopIndex = 6
2022-08-16 16:32:07,872 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s2@group-A8E09B54EBFA: closes. applyIndex: 6
2022-08-16 16:32:07,872 [s2@group-A8E09B54EBFA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s2@group-A8E09B54EBFA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-16 16:32:07,874 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(402)) - s2@group-A8E09B54EBFA->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-16 16:32:07,875 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-A8E09B54EBFA->s1: nextIndex: updateUnconditionally 7 -> 6
2022-08-16 16:32:07,874 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(402)) - s2@group-A8E09B54EBFA->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-16 16:32:07,875 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-A8E09B54EBFA->s1: nextIndex: updateUnconditionally 6 -> 5
2022-08-16 16:32:07,874 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(402)) - s2@group-A8E09B54EBFA->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-16 16:32:07,875 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-A8E09B54EBFA->s0: nextIndex: updateUnconditionally 6 -> 5
2022-08-16 16:32:07,873 [java.util.concurrent.ThreadPoolExecutor$Worker@30214f30[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-16 16:32:07,875 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@7dd8341e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-16 16:32:07,876 [java.util.concurrent.ThreadPoolExecutor$Worker@3c944e9c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-16 16:32:07,876 [java.util.concurrent.ThreadPoolExecutor$Worker@3c944e9c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server GrpcServerProtocolService now
2022-08-16 16:32:07,876 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s2@group-A8E09B54EBFA-SegmentedRaftLogWorker close()
2022-08-16 16:32:07,877 [java.util.concurrent.ThreadPoolExecutor$Worker@3c944e9c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server GrpcServerProtocolService successfully
2022-08-16 16:32:07,877 [java.util.concurrent.ThreadPoolExecutor$Worker@3c944e9c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-16 16:32:07,878 [java.util.concurrent.ThreadPoolExecutor$Worker@3c944e9c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-16 16:32:07,878 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@20b8cece] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-16 16:32:07,878 [java.util.concurrent.ThreadPoolExecutor$Worker@2584c698[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-08-16 16:32:07,884 [java.util.concurrent.ThreadPoolExecutor$Worker@2584c698[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-16 16:32:07,884 [java.util.concurrent.ThreadPoolExecutor$Worker@2584c698[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-16 16:32:07,884 [java.util.concurrent.ThreadPoolExecutor$Worker@2584c698[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server GrpcServerProtocolService now
2022-08-16 16:32:07,884 [java.util.concurrent.ThreadPoolExecutor$Worker@2584c698[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server GrpcServerProtocolService successfully
2022-08-16 16:32:07,884 [java.util.concurrent.ThreadPoolExecutor$Worker@2584c698[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-16 16:32:07,885 [java.util.concurrent.ThreadPoolExecutor$Worker@2584c698[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-16 16:32:07,885 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$295/483911351@37bad375] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-16 16:32:07,885 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(850)) - MiniRaftClusterWithGrpc shutdown completed
