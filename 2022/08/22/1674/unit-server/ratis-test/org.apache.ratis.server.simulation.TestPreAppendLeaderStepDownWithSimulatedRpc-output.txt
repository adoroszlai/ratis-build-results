SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/runner/.m2/repository/org/slf4j/slf4j-log4j12/1.7.29/slf4j-log4j12-1.7.29.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/runner/.m2/repository/org/slf4j/slf4j-simple/1.7.29/slf4j-simple-1.7.29.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
SLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]
2022-08-22 16:55:19,988 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-22 16:55:19,991 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-22 16:55:19,994 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-08-22 16:55:19,995 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.raftlog.RaftLog log level to DEBUG
2022-08-22 16:55:19,995 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-08-22 16:55:20,010 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(132)) - Running runWithNewCluster
2022-08-22 16:55:20,020 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 150 (default)
2022-08-22 16:55:20,076 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(303)) - new MiniRaftClusterWithSimulatedRpc with group-D1271D98533F:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]
2022-08-22 16:55:20,076 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(336)) - .............................................................. 
2022-08-22 16:55:20,077 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - ... 
2022-08-22 16:55:20,077 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-08-22 16:55:20,077 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2022-08-22 16:55:20,077 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - .............................................................. 
2022-08-22 16:55:20,077 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(315)) - servers = {}
2022-08-22 16:55:20,081 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s0, group-D1271D98533F:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER], format? true
2022-08-22 16:55:20,082 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s0
2022-08-22 16:55:20,084 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s0 does not exist.
2022-08-22 16:55:20,085 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s0
2022-08-22 16:55:20,109 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-22 16:55:20,116 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-22 16:55:20,140 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-22 16:55:20,141 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-22 16:55:20,147 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-22 16:55:20,148 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-22 16:55:20,151 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s0] (custom)
2022-08-22 16:55:20,164 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-D1271D98533F:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER] returns group-D1271D98533F:java.util.concurrent.CompletableFuture@426813c8[Not completed]
2022-08-22 16:55:20,165 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s1, group-D1271D98533F:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER], format? true
2022-08-22 16:55:20,165 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s1
2022-08-22 16:55:20,165 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s1 does not exist.
2022-08-22 16:55:20,165 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s1
2022-08-22 16:55:20,166 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-22 16:55:20,166 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-22 16:55:20,167 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-22 16:55:20,167 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-22 16:55:20,167 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-22 16:55:20,168 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-22 16:55:20,176 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s1] (custom)
2022-08-22 16:55:20,183 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-D1271D98533F:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER] returns group-D1271D98533F:java.util.concurrent.CompletableFuture@f7d1154[Not completed]
2022-08-22 16:55:20,183 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s2, group-D1271D98533F:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER], format? true
2022-08-22 16:55:20,183 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s2
2022-08-22 16:55:20,184 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s2 does not exist.
2022-08-22 16:55:20,184 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s2
2022-08-22 16:55:20,184 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-22 16:55:20,185 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-22 16:55:20,185 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-22 16:55:20,185 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-22 16:55:20,185 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-22 16:55:20,185 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-22 16:55:20,186 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s2] (custom)
2022-08-22 16:55:20,181 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-22 16:55:20,189 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-22 16:55:20,194 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-22 16:55:20,195 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-22 16:55:20,193 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-22 16:55:20,196 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-22 16:55:20,198 [pool-1-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(194)) - s0: new RaftServerImpl for group-D1271D98533F:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER] with StateMachineWithException:uninitialized
2022-08-22 16:55:20,200 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-22 16:55:20,206 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-22 16:55:20,206 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-22 16:55:20,206 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-22 16:55:20,206 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-22 16:55:20,202 [pool-2-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(194)) - s1: new RaftServerImpl for group-D1271D98533F:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER] with StateMachineWithException:uninitialized
2022-08-22 16:55:20,207 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-22 16:55:20,207 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-22 16:55:20,208 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-22 16:55:20,208 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-22 16:55:20,208 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-22 16:55:20,208 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-22 16:55:20,202 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-D1271D98533F:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER] returns group-D1271D98533F:java.util.concurrent.CompletableFuture@73cf83d5[Not completed]
2022-08-22 16:55:20,221 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-22 16:55:20,223 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-22 16:55:20,223 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-22 16:55:20,224 [pool-3-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(194)) - s2: new RaftServerImpl for group-D1271D98533F:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER] with StateMachineWithException:uninitialized
2022-08-22 16:55:20,224 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-22 16:55:20,224 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-22 16:55:20,224 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-22 16:55:20,224 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-22 16:55:20,225 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-22 16:55:20,225 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-22 16:55:20,219 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-22 16:55:20,228 [pool-1-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-D1271D98533F: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-22 16:55:20,228 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s0] (custom)
2022-08-22 16:55:20,227 [pool-2-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s1@group-D1271D98533F: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-22 16:55:20,234 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s1] (custom)
2022-08-22 16:55:20,234 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-22 16:55:20,235 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-22 16:55:20,234 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-22 16:55:20,230 [pool-3-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s2@group-D1271D98533F: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-22 16:55:20,241 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-22 16:55:20,241 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s2] (custom)
2022-08-22 16:55:20,242 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-22 16:55:20,242 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-22 16:55:20,268 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-22 16:55:20,268 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-22 16:55:20,272 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-22 16:55:20,272 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-22 16:55:20,272 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-22 16:55:20,272 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-22 16:55:20,274 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-22 16:55:20,274 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-22 16:55:20,274 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-22 16:55:20,323 [pool-1-thread-1] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2022-08-22 16:55:20,454 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-22 16:55:20,455 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-22 16:55:20,455 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-22 16:55:20,456 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-22 16:55:20,456 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-22 16:55:20,457 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-22 16:55:20,455 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-22 16:55:20,458 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-22 16:55:20,458 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-22 16:55:20,458 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-22 16:55:20,458 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-22 16:55:20,458 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-22 16:55:20,459 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-22 16:55:20,459 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s0/092439ac-0f3d-405a-907f-d1271d98533f does not exist. Creating ...
2022-08-22 16:55:20,460 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s0/092439ac-0f3d-405a-907f-d1271d98533f
2022-08-22 16:55:20,469 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-22 16:55:20,469 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-22 16:55:20,473 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s0/092439ac-0f3d-405a-907f-d1271d98533f/in_use.lock acquired by nodename 10228@fv-az504-645
2022-08-22 16:55:20,474 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s0/092439ac-0f3d-405a-907f-d1271d98533f/current
2022-08-22 16:55:20,474 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s0/092439ac-0f3d-405a-907f-d1271d98533f/sm
2022-08-22 16:55:20,499 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s0/092439ac-0f3d-405a-907f-d1271d98533f has been successfully formatted.
2022-08-22 16:55:20,500 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing StateMachineWithException:uninitialized
2022-08-22 16:55:20,501 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-22 16:55:20,503 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-22 16:55:20,509 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-22 16:55:20,509 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-22 16:55:20,511 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-22 16:55:20,512 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-22 16:55:20,513 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-22 16:55:20,518 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-22 16:55:20,519 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-22 16:55:20,523 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-D1271D98533F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s0/092439ac-0f3d-405a-907f-d1271d98533f
2022-08-22 16:55:20,523 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-22 16:55:20,524 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-22 16:55:20,525 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-22 16:55:20,525 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-22 16:55:20,525 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-22 16:55:20,526 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-22 16:55:20,526 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-22 16:55:20,527 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-22 16:55:20,541 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-22 16:55:20,542 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-22 16:55:20,542 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-22 16:55:20,543 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-22 16:55:20,548 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-D1271D98533F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-22 16:55:20,548 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-D1271D98533F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-22 16:55:20,550 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(327)) - s0@group-D1271D98533F: start as a follower, conf=-1: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:20,550 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(314)) - s0@group-D1271D98533F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-22 16:55:20,551 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D1271D98533F-FollowerState
2022-08-22 16:55:20,561 [s0@group-D1271D98533F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-22 16:55:20,561 [s0@group-D1271D98533F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-22 16:55:20,562 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D1271D98533F,id=s0
2022-08-22 16:55:20,564 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-22 16:55:20,565 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-22 16:55:20,565 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-22 16:55:20,568 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s0: start RPC server
2022-08-22 16:55:20,572 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$315/0x000000010023f040@c9e0876] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-22 16:55:20,573 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s1/092439ac-0f3d-405a-907f-d1271d98533f does not exist. Creating ...
2022-08-22 16:55:20,574 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s1/092439ac-0f3d-405a-907f-d1271d98533f
2022-08-22 16:55:20,576 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s1/092439ac-0f3d-405a-907f-d1271d98533f/in_use.lock acquired by nodename 10228@fv-az504-645
2022-08-22 16:55:20,576 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s1/092439ac-0f3d-405a-907f-d1271d98533f/current
2022-08-22 16:55:20,576 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s1/092439ac-0f3d-405a-907f-d1271d98533f/sm
2022-08-22 16:55:20,578 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s1/092439ac-0f3d-405a-907f-d1271d98533f has been successfully formatted.
2022-08-22 16:55:20,578 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing StateMachineWithException:uninitialized
2022-08-22 16:55:20,578 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-22 16:55:20,579 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-22 16:55:20,579 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-22 16:55:20,579 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-22 16:55:20,579 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-22 16:55:20,579 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-22 16:55:20,580 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-22 16:55:20,580 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-22 16:55:20,581 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-22 16:55:20,581 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-D1271D98533F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s1/092439ac-0f3d-405a-907f-d1271d98533f
2022-08-22 16:55:20,581 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-22 16:55:20,581 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-22 16:55:20,581 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-22 16:55:20,582 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-22 16:55:20,582 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-22 16:55:20,582 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-22 16:55:20,582 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-22 16:55:20,582 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-22 16:55:20,584 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-22 16:55:20,591 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-22 16:55:20,595 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-22 16:55:20,595 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-22 16:55:20,595 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-D1271D98533F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-22 16:55:20,595 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-D1271D98533F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-22 16:55:20,597 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(327)) - s1@group-D1271D98533F: start as a follower, conf=-1: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:20,597 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(314)) - s1@group-D1271D98533F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-22 16:55:20,601 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-D1271D98533F-FollowerState
2022-08-22 16:55:20,602 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D1271D98533F,id=s1
2022-08-22 16:55:20,603 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-22 16:55:20,604 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-22 16:55:20,604 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-22 16:55:20,605 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s1: start RPC server
2022-08-22 16:55:20,609 [s1@group-D1271D98533F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-22 16:55:20,609 [s1@group-D1271D98533F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-22 16:55:20,610 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s2/092439ac-0f3d-405a-907f-d1271d98533f does not exist. Creating ...
2022-08-22 16:55:20,611 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s2/092439ac-0f3d-405a-907f-d1271d98533f
2022-08-22 16:55:20,610 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$315/0x000000010023f040@34647dc4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-22 16:55:20,614 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s2/092439ac-0f3d-405a-907f-d1271d98533f/in_use.lock acquired by nodename 10228@fv-az504-645
2022-08-22 16:55:20,614 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s2/092439ac-0f3d-405a-907f-d1271d98533f/current
2022-08-22 16:55:20,614 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s2/092439ac-0f3d-405a-907f-d1271d98533f/sm
2022-08-22 16:55:20,616 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s2/092439ac-0f3d-405a-907f-d1271d98533f has been successfully formatted.
2022-08-22 16:55:20,616 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing StateMachineWithException:uninitialized
2022-08-22 16:55:20,616 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-22 16:55:20,616 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-22 16:55:20,616 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-22 16:55:20,617 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-22 16:55:20,617 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-22 16:55:20,617 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-22 16:55:20,617 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-22 16:55:20,618 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-22 16:55:20,618 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-22 16:55:20,618 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-D1271D98533F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s2/092439ac-0f3d-405a-907f-d1271d98533f
2022-08-22 16:55:20,618 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-22 16:55:20,618 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-22 16:55:20,618 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-22 16:55:20,619 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-22 16:55:20,619 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-22 16:55:20,619 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-22 16:55:20,619 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-22 16:55:20,619 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-22 16:55:20,621 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-22 16:55:20,621 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-22 16:55:20,621 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-22 16:55:20,621 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-22 16:55:20,622 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-D1271D98533F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-22 16:55:20,622 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-D1271D98533F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-22 16:55:20,622 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(327)) - s2@group-D1271D98533F: start as a follower, conf=-1: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:20,622 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(314)) - s2@group-D1271D98533F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-22 16:55:20,622 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-D1271D98533F-FollowerState
2022-08-22 16:55:20,623 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D1271D98533F,id=s2
2022-08-22 16:55:20,623 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-22 16:55:20,623 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-22 16:55:20,623 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-22 16:55:20,624 [s2@group-D1271D98533F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-22 16:55:20,627 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s2: start RPC server
2022-08-22 16:55:20,627 [s2@group-D1271D98533F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-22 16:55:20,637 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$315/0x000000010023f040@48c51e86] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-22 16:55:20,639 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-22 16:55:20,643 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D1271D98533F:t0, leader=null, voted=, raftlog=Memoized:s0@group-D1271D98533F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D1271D98533F:t0, leader=null, voted=, raftlog=Memoized:s1@group-D1271D98533F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D1271D98533F:t0, leader=null, voted=, raftlog=Memoized:s2@group-D1271D98533F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-22 16:55:20,656 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D1271D98533F:t0, leader=null, voted=, raftlog=Memoized:s0@group-D1271D98533F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D1271D98533F:t0, leader=null, voted=, raftlog=Memoized:s1@group-D1271D98533F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D1271D98533F:t0, leader=null, voted=, raftlog=Memoized:s2@group-D1271D98533F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D1271D98533F:t0, leader=null, voted=, raftlog=Memoized:s0@group-D1271D98533F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D1271D98533F:t0, leader=null, voted=, raftlog=Memoized:s1@group-D1271D98533F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D1271D98533F:t0, leader=null, voted=, raftlog=Memoized:s2@group-D1271D98533F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:577)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:611)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:604)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.PreAppendLeaderStepDownTest.runTestLeaderStepDown(PreAppendLeaderStepDownTest.java:85)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.server.impl.PreAppendLeaderStepDownTest.testNoLeaderStepDown(PreAppendLeaderStepDownTest.java:81)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-22 16:55:20,722 [s0@group-D1271D98533F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-D1271D98533F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:170925965ns, electionTimeout:159ms
2022-08-22 16:55:20,723 [s0@group-D1271D98533F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-D1271D98533F-FollowerState
2022-08-22 16:55:20,723 [s0@group-D1271D98533F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(314)) - s0@group-D1271D98533F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-22 16:55:20,726 [s0@group-D1271D98533F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-22 16:55:20,727 [s0@group-D1271D98533F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D1271D98533F-LeaderElection1
2022-08-22 16:55:20,729 [s0@group-D1271D98533F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-D1271D98533F-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:20,756 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1211)) - s1@group-D1271D98533F: receive requestVote(PRE_VOTE, s0, group-D1271D98533F, 0, (t:0, i:0))
2022-08-22 16:55:20,757 [Thread-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-D1271D98533F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-22 16:55:20,763 [s0@group-D1271D98533F-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-22 16:55:20,764 [s0@group-D1271D98533F-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-22 16:55:20,766 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1244)) - s1@group-D1271D98533F replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-D1271D98533F:t0, leader=null, voted=, raftlog=Memoized:s1@group-D1271D98533F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:20,766 [s1@group-D1271D98533F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-22 16:55:20,767 [s1@group-D1271D98533F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-22 16:55:20,768 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1211)) - s2@group-D1271D98533F: receive requestVote(PRE_VOTE, s0, group-D1271D98533F, 0, (t:0, i:0))
2022-08-22 16:55:20,769 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-D1271D98533F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-22 16:55:20,769 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1244)) - s2@group-D1271D98533F replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-D1271D98533F:t0, leader=null, voted=, raftlog=Memoized:s2@group-D1271D98533F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:20,781 [s0@group-D1271D98533F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-D1271D98533F-LeaderElection1: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-22 16:55:20,781 [s0@group-D1271D98533F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t0
2022-08-22 16:55:20,782 [s0@group-D1271D98533F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-D1271D98533F-LeaderElection1 PRE_VOTE round 0: result PASSED
2022-08-22 16:55:20,785 [s0@group-D1271D98533F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-D1271D98533F-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:20,786 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1211)) - s1@group-D1271D98533F: receive requestVote(ELECTION, s0, group-D1271D98533F, 1, (t:0, i:0))
2022-08-22 16:55:20,790 [Thread-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-D1271D98533F-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-22 16:55:20,786 [s0@group-D1271D98533F-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-22 16:55:20,791 [s0@group-D1271D98533F-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-22 16:55:20,793 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(314)) - s1@group-D1271D98533F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-22 16:55:20,793 [Thread-9] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-D1271D98533F-FollowerState
2022-08-22 16:55:20,793 [Thread-9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-D1271D98533F-FollowerState
2022-08-22 16:55:20,794 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1211)) - s2@group-D1271D98533F: receive requestVote(ELECTION, s0, group-D1271D98533F, 1, (t:0, i:0))
2022-08-22 16:55:20,793 [s1@group-D1271D98533F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-D1271D98533F-FollowerState was interrupted
2022-08-22 16:55:20,794 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-D1271D98533F-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-22 16:55:20,795 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(314)) - s2@group-D1271D98533F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-22 16:55:20,795 [Thread-15] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-D1271D98533F-FollowerState
2022-08-22 16:55:20,795 [Thread-15] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-D1271D98533F-FollowerState
2022-08-22 16:55:20,795 [s1@group-D1271D98533F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-22 16:55:20,795 [s2@group-D1271D98533F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-D1271D98533F-FollowerState was interrupted
2022-08-22 16:55:20,795 [s1@group-D1271D98533F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-22 16:55:20,800 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1244)) - s1@group-D1271D98533F replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-D1271D98533F:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-D1271D98533F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:20,801 [s2@group-D1271D98533F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-22 16:55:20,801 [s2@group-D1271D98533F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-22 16:55:20,802 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1244)) - s2@group-D1271D98533F replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-D1271D98533F:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-D1271D98533F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:20,812 [s0@group-D1271D98533F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-D1271D98533F-LeaderElection1: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-22 16:55:20,812 [s0@group-D1271D98533F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-08-22 16:55:20,819 [s0@group-D1271D98533F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-D1271D98533F-LeaderElection1 ELECTION round 0: result PASSED
2022-08-22 16:55:20,819 [s0@group-D1271D98533F-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-D1271D98533F-LeaderElection1
2022-08-22 16:55:20,820 [s0@group-D1271D98533F-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(314)) - s0@group-D1271D98533F: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-22 16:55:20,820 [s0@group-D1271D98533F-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-D1271D98533F: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 552ms
2022-08-22 16:55:20,825 [s0@group-D1271D98533F-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-22 16:55:20,831 [s0@group-D1271D98533F-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-22 16:55:20,832 [s0@group-D1271D98533F-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-22 16:55:20,845 [s0@group-D1271D98533F-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-22 16:55:20,846 [s0@group-D1271D98533F-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-22 16:55:20,848 [s0@group-D1271D98533F-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-22 16:55:20,859 [s0@group-D1271D98533F-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-22 16:55:20,887 [s0@group-D1271D98533F-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-22 16:55:20,904 [s0@group-D1271D98533F-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-22 16:55:20,910 [s0@group-D1271D98533F-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-22 16:55:20,910 [s0@group-D1271D98533F-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-22 16:55:20,915 [s0@group-D1271D98533F-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-22 16:55:20,915 [s0@group-D1271D98533F-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-22 16:55:20,915 [s0@group-D1271D98533F-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-22 16:55:20,917 [s0@group-D1271D98533F-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D1271D98533F-LeaderStateImpl
2022-08-22 16:55:20,930 [s0@group-D1271D98533F-LeaderElection1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(447)) - truncateIndex=-1, arrayIndex=0
2022-08-22 16:55:20,934 [s0@group-D1271D98533F-LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-D1271D98533F-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-22 16:55:20,962 [s1@group-D1271D98533F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-22 16:55:20,962 [s1@group-D1271D98533F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-22 16:55:21,020 [s0@group-D1271D98533F-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(430)) - s0@group-D1271D98533F: set configuration 0: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:21,023 [Thread-8] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-D1271D98533F: change Leader from null to s0 at term 1 for appendEntries, leader elected after 754ms
2022-08-22 16:55:21,031 [Thread-16] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-D1271D98533F: change Leader from null to s0 at term 1 for appendEntries, leader elected after 760ms
2022-08-22 16:55:21,088 [s0@group-D1271D98533F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-D1271D98533F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s0/092439ac-0f3d-405a-907f-d1271d98533f/current/log_inprogress_0
2022-08-22 16:55:21,112 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-D1271D98533F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-D1271D98533F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D1271D98533F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-D1271D98533F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D1271D98533F:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-D1271D98533F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-22 16:55:21,116 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-22 16:55:21,149 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-22 16:55:21,151 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-D1271D98533F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-D1271D98533F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D1271D98533F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-D1271D98533F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D1271D98533F:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-D1271D98533F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-22 16:55:21,152 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-D1271D98533F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-D1271D98533F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D1271D98533F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-D1271D98533F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D1271D98533F:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-D1271D98533F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-22 16:55:21,164 [Thread-7] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1317)) - s1@group-D1271D98533F: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:5, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:44125"
dataStreamAddress: "localhost:33269"
clientAddress: "localhost:42827"
adminAddress: "localhost:46455"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37351"
dataStreamAddress: "localhost:35933"
clientAddress: "localhost:44371"
adminAddress: "localhost:37149"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42855"
dataStreamAddress: "localhost:39243"
clientAddress: "localhost:41915"
adminAddress: "localhost:39529"
startupRole: FOLLOWER
, old:)]
2022-08-22 16:55:21,164 [Thread-14] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1317)) - s2@group-D1271D98533F: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:4, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:44125"
dataStreamAddress: "localhost:33269"
clientAddress: "localhost:42827"
adminAddress: "localhost:46455"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37351"
dataStreamAddress: "localhost:35933"
clientAddress: "localhost:44371"
adminAddress: "localhost:37149"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42855"
dataStreamAddress: "localhost:39243"
clientAddress: "localhost:41915"
adminAddress: "localhost:39529"
startupRole: FOLLOWER
, old:)]
2022-08-22 16:55:21,175 [Thread-7] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(430)) - s1@group-D1271D98533F: set configuration 0: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:21,173 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(816)) - s0@group-D1271D98533F: receive client request(RaftClientRequest:client-E29E81CEB8E4->s0@group-D1271D98533F, cid=999, seq=0, RW, message)
2022-08-22 16:55:21,176 [Thread-7] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(447)) - truncateIndex=-1, arrayIndex=0
2022-08-22 16:55:21,181 [Thread-7] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-D1271D98533F-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-22 16:55:21,176 [Thread-14] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(430)) - s2@group-D1271D98533F: set configuration 0: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:21,186 [Thread-14] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(447)) - truncateIndex=-1, arrayIndex=0
2022-08-22 16:55:21,186 [Thread-14] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-D1271D98533F-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-22 16:55:21,199 [s1@group-D1271D98533F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-D1271D98533F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s1/092439ac-0f3d-405a-907f-d1271d98533f/current/log_inprogress_0
2022-08-22 16:55:21,203 [s2@group-D1271D98533F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-D1271D98533F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc8b7c3c63/s2/092439ac-0f3d-405a-907f-d1271d98533f/current/log_inprogress_0
2022-08-22 16:55:21,208 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1317)) - s2@group-D1271D98533F: succeeded to handle AppendEntries. Reply: s0<-s2#4:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-22 16:55:21,211 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1317)) - s1@group-D1271D98533F: succeeded to handle AppendEntries. Reply: s0<-s1#5:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-22 16:55:21,218 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-22 16:55:21,218 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-D1271D98533F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-D1271D98533F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D1271D98533F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-D1271D98533F-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D1271D98533F:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-D1271D98533F-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-22 16:55:21,219 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-D1271D98533F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-D1271D98533F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D1271D98533F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-D1271D98533F-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D1271D98533F:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-D1271D98533F-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-22 16:55:21,219 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(827)) - ************************************************************** 
2022-08-22 16:55:21,219 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(828)) - *** 
2022-08-22 16:55:21,219 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-08-22 16:55:21,219 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-22 16:55:21,219 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-08-22 16:55:21,219 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-D1271D98533F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-D1271D98533F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D1271D98533F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-D1271D98533F-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D1271D98533F:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-D1271D98533F-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-22 16:55:21,223 [java.util.concurrent.ThreadPoolExecutor$Worker@6ea4b941[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s0: close
2022-08-22 16:55:21,224 [java.util.concurrent.ThreadPoolExecutor$Worker@4d53c938[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s1: close
2022-08-22 16:55:21,229 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(451)) - s1@group-D1271D98533F: shutdown
2022-08-22 16:55:21,229 [Thread-11] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,229 [Thread-12] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,226 [java.util.concurrent.ThreadPoolExecutor$Worker@68d7c118[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s2: close
2022-08-22 16:55:21,229 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D1271D98533F,id=s1
2022-08-22 16:55:21,230 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-D1271D98533F-FollowerState
2022-08-22 16:55:21,230 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-D1271D98533F-StateMachineUpdater: set stopIndex = -1
2022-08-22 16:55:21,229 [Thread-10] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,231 [s1@group-D1271D98533F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-D1271D98533F-FollowerState was interrupted
2022-08-22 16:55:21,228 [Thread-5] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,228 [Thread-3] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,228 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(451)) - s0@group-D1271D98533F: shutdown
2022-08-22 16:55:21,231 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D1271D98533F,id=s0
2022-08-22 16:55:21,231 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-D1271D98533F-LeaderStateImpl
2022-08-22 16:55:21,232 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-D1271D98533F-PendingRequests: sendNotLeaderResponses
2022-08-22 16:55:21,232 [s0@group-D1271D98533F->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-D1271D98533F->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-22 16:55:21,228 [Thread-4] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,233 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(451)) - s2@group-D1271D98533F: shutdown
2022-08-22 16:55:21,233 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D1271D98533F,id=s2
2022-08-22 16:55:21,233 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-D1271D98533F-FollowerState
2022-08-22 16:55:21,233 [Thread-0] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,233 [Thread-17] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,233 [Thread-2] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,234 [Thread-18] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,234 [Thread-19] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,233 [Thread-1] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,234 [s2@group-D1271D98533F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-D1271D98533F-FollowerState was interrupted
2022-08-22 16:55:21,235 [Thread-8] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,232 [s0@group-D1271D98533F->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-D1271D98533F->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-22 16:55:21,233 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-D1271D98533F-StateMachineUpdater: set stopIndex = -1
2022-08-22 16:55:21,236 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(466)) - s1@group-D1271D98533F: closes. applyIndex: -1
2022-08-22 16:55:21,236 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(466)) - s2@group-D1271D98533F: closes. applyIndex: -1
2022-08-22 16:55:21,239 [Thread-14] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,240 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$315/0x000000010023f040@c9e0876] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-22 16:55:21,240 [s2@group-D1271D98533F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s2@group-D1271D98533F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-22 16:55:21,242 [Thread-9] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,242 [s1@group-D1271D98533F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s1@group-D1271D98533F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-22 16:55:21,243 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$315/0x000000010023f040@34647dc4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-22 16:55:21,244 [Thread-15] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,244 [Thread-16] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,243 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-D1271D98533F-StateMachineUpdater: set stopIndex = 0
2022-08-22 16:55:21,245 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(466)) - s0@group-D1271D98533F: closes. applyIndex: 0
2022-08-22 16:55:21,246 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s2@group-D1271D98533F-SegmentedRaftLogWorker close()
2022-08-22 16:55:21,247 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s1@group-D1271D98533F-SegmentedRaftLogWorker close()
2022-08-22 16:55:21,247 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$315/0x000000010023f040@48c51e86] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-22 16:55:21,248 [s0@group-D1271D98533F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-D1271D98533F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-22 16:55:21,250 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-D1271D98533F-SegmentedRaftLogWorker close()
2022-08-22 16:55:21,251 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(850)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-08-22 16:55:21,252 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(827)) - ************************************************************** 
2022-08-22 16:55:21,252 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(828)) - *** 
2022-08-22 16:55:21,252 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-08-22 16:55:21,252 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-22 16:55:21,252 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-08-22 16:55:21,252 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - printing ALL groups
  s0:   CLOSED    LEADER s0@group-D1271D98533F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-D1271D98533F-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-D1271D98533F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-D1271D98533F-SegmentedRaftLog:CLOSED:c-1, conf=0: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-D1271D98533F:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-D1271D98533F-SegmentedRaftLog:CLOSED:c-1, conf=0: peers:[s0|rpc:localhost:44125|admin:localhost:46455|client:localhost:42827|dataStream:localhost:33269|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37351|admin:localhost:37149|client:localhost:44371|dataStream:localhost:35933|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42855|admin:localhost:39529|client:localhost:41915|dataStream:localhost:39243|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2022-08-22 16:55:21,256 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(850)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-08-22 16:55:21,258 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-22 16:55:21,259 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-22 16:55:21,259 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-08-22 16:55:21,259 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.raftlog.RaftLog log level to DEBUG
2022-08-22 16:55:21,259 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-08-22 16:55:21,268 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(132)) - Running runWithNewCluster
2022-08-22 16:55:21,268 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 150 (default)
2022-08-22 16:55:21,270 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(303)) - new MiniRaftClusterWithSimulatedRpc with group-2FCF34D6481F:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]
2022-08-22 16:55:21,270 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(336)) - .............................................................. 
2022-08-22 16:55:21,270 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - ... 
2022-08-22 16:55:21,271 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-08-22 16:55:21,271 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2022-08-22 16:55:21,271 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - .............................................................. 
2022-08-22 16:55:21,271 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(315)) - servers = {}
2022-08-22 16:55:21,271 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s0, group-2FCF34D6481F:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER], format? true
2022-08-22 16:55:21,271 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s0
2022-08-22 16:55:21,271 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s0 does not exist.
2022-08-22 16:55:21,271 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s0
2022-08-22 16:55:21,272 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-22 16:55:21,272 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-22 16:55:21,272 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-22 16:55:21,272 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-22 16:55:21,272 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-22 16:55:21,273 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-22 16:55:21,273 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s0] (custom)
2022-08-22 16:55:21,273 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-2FCF34D6481F:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER] returns group-2FCF34D6481F:java.util.concurrent.CompletableFuture@1d72adc5[Not completed]
2022-08-22 16:55:21,274 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s1, group-2FCF34D6481F:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER], format? true
2022-08-22 16:55:21,274 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s1
2022-08-22 16:55:21,274 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s1 does not exist.
2022-08-22 16:55:21,274 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s1
2022-08-22 16:55:21,274 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-22 16:55:21,274 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-22 16:55:21,275 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-22 16:55:21,275 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-22 16:55:21,275 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-22 16:55:21,275 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-22 16:55:21,275 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s1] (custom)
2022-08-22 16:55:21,276 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-22 16:55:21,279 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-22 16:55:21,279 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-22 16:55:21,279 [pool-4-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(194)) - s0: new RaftServerImpl for group-2FCF34D6481F:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER] with StateMachineWithException:uninitialized
2022-08-22 16:55:21,279 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-22 16:55:21,279 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-22 16:55:21,279 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-22 16:55:21,279 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-22 16:55:21,280 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-22 16:55:21,280 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-22 16:55:21,280 [pool-4-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-2FCF34D6481F: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-22 16:55:21,280 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s0] (custom)
2022-08-22 16:55:21,280 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-22 16:55:21,280 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-22 16:55:21,280 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-22 16:55:21,281 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-22 16:55:21,281 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-22 16:55:21,282 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-22 16:55:21,282 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-22 16:55:21,282 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-22 16:55:21,283 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-22 16:55:21,283 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-22 16:55:21,283 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-2FCF34D6481F:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER] returns group-2FCF34D6481F:java.util.concurrent.CompletableFuture@7549c563[Not completed]
2022-08-22 16:55:21,284 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s2, group-2FCF34D6481F:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER], format? true
2022-08-22 16:55:21,284 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s2
2022-08-22 16:55:21,284 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s2 does not exist.
2022-08-22 16:55:21,284 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s2
2022-08-22 16:55:21,285 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-22 16:55:21,285 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-22 16:55:21,285 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-22 16:55:21,285 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-22 16:55:21,285 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-22 16:55:21,285 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-22 16:55:21,286 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s2] (custom)
2022-08-22 16:55:21,287 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-22 16:55:21,288 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-22 16:55:21,288 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-22 16:55:21,289 [pool-5-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(194)) - s1: new RaftServerImpl for group-2FCF34D6481F:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER] with StateMachineWithException:uninitialized
2022-08-22 16:55:21,289 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-22 16:55:21,289 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-22 16:55:21,289 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-22 16:55:21,289 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-22 16:55:21,289 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-22 16:55:21,289 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-22 16:55:21,289 [pool-5-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s1@group-2FCF34D6481F: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-22 16:55:21,289 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s1] (custom)
2022-08-22 16:55:21,290 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-22 16:55:21,290 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-22 16:55:21,290 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-22 16:55:21,290 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-22 16:55:21,290 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-22 16:55:21,291 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-22 16:55:21,292 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-22 16:55:21,292 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-22 16:55:21,288 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-2FCF34D6481F:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER] returns group-2FCF34D6481F:java.util.concurrent.CompletableFuture@5514382b[Not completed]
2022-08-22 16:55:21,294 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s0/c507cd6b-6e17-4265-acb4-2fcf34d6481f does not exist. Creating ...
2022-08-22 16:55:21,294 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s0/c507cd6b-6e17-4265-acb4-2fcf34d6481f
2022-08-22 16:55:21,295 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-22 16:55:21,295 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-22 16:55:21,296 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-22 16:55:21,296 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-22 16:55:21,297 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-22 16:55:21,297 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s0/c507cd6b-6e17-4265-acb4-2fcf34d6481f/in_use.lock acquired by nodename 10228@fv-az504-645
2022-08-22 16:55:21,297 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s0/c507cd6b-6e17-4265-acb4-2fcf34d6481f/current
2022-08-22 16:55:21,298 [pool-6-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(194)) - s2: new RaftServerImpl for group-2FCF34D6481F:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER] with StateMachineWithException:uninitialized
2022-08-22 16:55:21,298 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s0/c507cd6b-6e17-4265-acb4-2fcf34d6481f/sm
2022-08-22 16:55:21,298 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-22 16:55:21,298 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-22 16:55:21,298 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-22 16:55:21,298 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-22 16:55:21,299 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-22 16:55:21,299 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-22 16:55:21,299 [pool-6-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s2@group-2FCF34D6481F: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-22 16:55:21,299 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s2] (custom)
2022-08-22 16:55:21,300 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-22 16:55:21,300 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-22 16:55:21,301 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s0/c507cd6b-6e17-4265-acb4-2fcf34d6481f has been successfully formatted.
2022-08-22 16:55:21,307 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing StateMachineWithException:uninitialized
2022-08-22 16:55:21,307 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-22 16:55:21,307 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-22 16:55:21,307 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-22 16:55:21,307 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-22 16:55:21,308 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-22 16:55:21,308 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-22 16:55:21,308 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-22 16:55:21,309 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-22 16:55:21,309 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-22 16:55:21,309 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-2FCF34D6481F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s0/c507cd6b-6e17-4265-acb4-2fcf34d6481f
2022-08-22 16:55:21,309 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-22 16:55:21,309 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-22 16:55:21,309 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-22 16:55:21,309 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-22 16:55:21,310 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-22 16:55:21,310 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-22 16:55:21,310 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-22 16:55:21,310 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-22 16:55:21,311 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-22 16:55:21,312 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-22 16:55:21,312 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-22 16:55:21,312 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-22 16:55:21,312 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-2FCF34D6481F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-22 16:55:21,312 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-2FCF34D6481F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-22 16:55:21,313 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-22 16:55:21,313 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-22 16:55:21,313 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-22 16:55:21,314 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(327)) - s0@group-2FCF34D6481F: start as a follower, conf=-1: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:21,314 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(314)) - s0@group-2FCF34D6481F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-22 16:55:21,316 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-2FCF34D6481F-FollowerState
2022-08-22 16:55:21,317 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-22 16:55:21,318 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-22 16:55:21,318 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-22 16:55:21,318 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-22 16:55:21,318 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-22 16:55:21,318 [s0@group-2FCF34D6481F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-22 16:55:21,318 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2FCF34D6481F,id=s0
2022-08-22 16:55:21,318 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-22 16:55:21,318 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-22 16:55:21,319 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-22 16:55:21,320 [s0@group-2FCF34D6481F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-22 16:55:21,320 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s0: start RPC server
2022-08-22 16:55:21,327 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$315/0x000000010023f040@6e4d8d37] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-22 16:55:21,327 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s1/c507cd6b-6e17-4265-acb4-2fcf34d6481f does not exist. Creating ...
2022-08-22 16:55:21,328 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s1/c507cd6b-6e17-4265-acb4-2fcf34d6481f
2022-08-22 16:55:21,329 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s1/c507cd6b-6e17-4265-acb4-2fcf34d6481f/in_use.lock acquired by nodename 10228@fv-az504-645
2022-08-22 16:55:21,329 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s1/c507cd6b-6e17-4265-acb4-2fcf34d6481f/current
2022-08-22 16:55:21,329 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s1/c507cd6b-6e17-4265-acb4-2fcf34d6481f/sm
2022-08-22 16:55:21,331 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s1/c507cd6b-6e17-4265-acb4-2fcf34d6481f has been successfully formatted.
2022-08-22 16:55:21,331 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing StateMachineWithException:uninitialized
2022-08-22 16:55:21,331 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-22 16:55:21,331 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-22 16:55:21,331 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-22 16:55:21,331 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-22 16:55:21,332 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-22 16:55:21,332 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-22 16:55:21,332 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-22 16:55:21,333 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-22 16:55:21,333 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-22 16:55:21,333 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-2FCF34D6481F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s1/c507cd6b-6e17-4265-acb4-2fcf34d6481f
2022-08-22 16:55:21,333 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-22 16:55:21,333 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-22 16:55:21,333 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-22 16:55:21,334 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-22 16:55:21,334 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-22 16:55:21,334 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-22 16:55:21,334 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-22 16:55:21,334 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-22 16:55:21,335 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-22 16:55:21,336 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-22 16:55:21,336 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-22 16:55:21,336 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-22 16:55:21,336 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-2FCF34D6481F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-22 16:55:21,336 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-2FCF34D6481F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-22 16:55:21,336 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(327)) - s1@group-2FCF34D6481F: start as a follower, conf=-1: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:21,336 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(314)) - s1@group-2FCF34D6481F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-22 16:55:21,337 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-2FCF34D6481F-FollowerState
2022-08-22 16:55:21,337 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2FCF34D6481F,id=s1
2022-08-22 16:55:21,337 [s1@group-2FCF34D6481F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-22 16:55:21,337 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-22 16:55:21,338 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-22 16:55:21,338 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-22 16:55:21,339 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s1: start RPC server
2022-08-22 16:55:21,339 [s1@group-2FCF34D6481F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-22 16:55:21,340 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$315/0x000000010023f040@79134b76] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-22 16:55:21,340 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s2/c507cd6b-6e17-4265-acb4-2fcf34d6481f does not exist. Creating ...
2022-08-22 16:55:21,341 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s2/c507cd6b-6e17-4265-acb4-2fcf34d6481f
2022-08-22 16:55:21,346 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s2/c507cd6b-6e17-4265-acb4-2fcf34d6481f/in_use.lock acquired by nodename 10228@fv-az504-645
2022-08-22 16:55:21,346 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s2/c507cd6b-6e17-4265-acb4-2fcf34d6481f/current
2022-08-22 16:55:21,347 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s2/c507cd6b-6e17-4265-acb4-2fcf34d6481f/sm
2022-08-22 16:55:21,348 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s2/c507cd6b-6e17-4265-acb4-2fcf34d6481f has been successfully formatted.
2022-08-22 16:55:21,349 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing StateMachineWithException:uninitialized
2022-08-22 16:55:21,349 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-22 16:55:21,349 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-22 16:55:21,349 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-22 16:55:21,349 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-22 16:55:21,349 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-22 16:55:21,349 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-22 16:55:21,349 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-22 16:55:21,350 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-22 16:55:21,350 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-22 16:55:21,350 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-2FCF34D6481F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s2/c507cd6b-6e17-4265-acb4-2fcf34d6481f
2022-08-22 16:55:21,350 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-22 16:55:21,350 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-22 16:55:21,350 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-22 16:55:21,351 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-22 16:55:21,351 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-22 16:55:21,351 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-22 16:55:21,351 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-22 16:55:21,351 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-22 16:55:21,352 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-22 16:55:21,353 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-22 16:55:21,353 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-22 16:55:21,353 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-22 16:55:21,353 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-2FCF34D6481F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-22 16:55:21,353 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-2FCF34D6481F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-22 16:55:21,358 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(327)) - s2@group-2FCF34D6481F: start as a follower, conf=-1: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:21,358 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(314)) - s2@group-2FCF34D6481F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-22 16:55:21,358 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-2FCF34D6481F-FollowerState
2022-08-22 16:55:21,359 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2FCF34D6481F,id=s2
2022-08-22 16:55:21,359 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-22 16:55:21,359 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-22 16:55:21,359 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-22 16:55:21,361 [s2@group-2FCF34D6481F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-22 16:55:21,365 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s2: start RPC server
2022-08-22 16:55:21,367 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$315/0x000000010023f040@4feffc73] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-22 16:55:21,367 [s2@group-2FCF34D6481F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-22 16:55:21,367 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-22 16:55:21,368 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-2FCF34D6481F:t0, leader=null, voted=, raftlog=Memoized:s0@group-2FCF34D6481F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2FCF34D6481F:t0, leader=null, voted=, raftlog=Memoized:s1@group-2FCF34D6481F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2FCF34D6481F:t0, leader=null, voted=, raftlog=Memoized:s2@group-2FCF34D6481F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-22 16:55:21,368 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-2FCF34D6481F:t0, leader=null, voted=, raftlog=Memoized:s0@group-2FCF34D6481F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2FCF34D6481F:t0, leader=null, voted=, raftlog=Memoized:s1@group-2FCF34D6481F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2FCF34D6481F:t0, leader=null, voted=, raftlog=Memoized:s2@group-2FCF34D6481F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-2FCF34D6481F:t0, leader=null, voted=, raftlog=Memoized:s0@group-2FCF34D6481F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2FCF34D6481F:t0, leader=null, voted=, raftlog=Memoized:s1@group-2FCF34D6481F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2FCF34D6481F:t0, leader=null, voted=, raftlog=Memoized:s2@group-2FCF34D6481F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:577)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:611)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:604)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.PreAppendLeaderStepDownTest.runTestLeaderStepDownAsync(PreAppendLeaderStepDownTest.java:120)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.server.impl.PreAppendLeaderStepDownTest.testLeaderStepDownAsync(PreAppendLeaderStepDownTest.java:116)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-22 16:55:21,530 [s0@group-2FCF34D6481F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-2FCF34D6481F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:215925123ns, electionTimeout:210ms
2022-08-22 16:55:21,530 [s0@group-2FCF34D6481F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-2FCF34D6481F-FollowerState
2022-08-22 16:55:21,530 [s0@group-2FCF34D6481F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(314)) - s0@group-2FCF34D6481F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-22 16:55:21,531 [s0@group-2FCF34D6481F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-22 16:55:21,531 [s0@group-2FCF34D6481F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-2FCF34D6481F-LeaderElection2
2022-08-22 16:55:21,533 [s0@group-2FCF34D6481F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-2FCF34D6481F-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:21,534 [s0@group-2FCF34D6481F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-22 16:55:21,534 [Thread-61] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1211)) - s1@group-2FCF34D6481F: receive requestVote(PRE_VOTE, s0, group-2FCF34D6481F, 0, (t:0, i:0))
2022-08-22 16:55:21,534 [Thread-61] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-2FCF34D6481F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-22 16:55:21,534 [Thread-69] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1211)) - s2@group-2FCF34D6481F: receive requestVote(PRE_VOTE, s0, group-2FCF34D6481F, 0, (t:0, i:0))
2022-08-22 16:55:21,534 [Thread-69] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-2FCF34D6481F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-22 16:55:21,534 [Thread-69] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1244)) - s2@group-2FCF34D6481F replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-2FCF34D6481F:t0, leader=null, voted=, raftlog=Memoized:s2@group-2FCF34D6481F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:21,534 [s0@group-2FCF34D6481F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-22 16:55:21,534 [Thread-61] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1244)) - s1@group-2FCF34D6481F replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-2FCF34D6481F:t0, leader=null, voted=, raftlog=Memoized:s1@group-2FCF34D6481F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:21,548 [s0@group-2FCF34D6481F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-2FCF34D6481F-LeaderElection2: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-22 16:55:21,548 [s0@group-2FCF34D6481F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-08-22 16:55:21,548 [s0@group-2FCF34D6481F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-2FCF34D6481F-LeaderElection2 PRE_VOTE round 0: result PASSED
2022-08-22 16:55:21,550 [s0@group-2FCF34D6481F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-2FCF34D6481F-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:21,551 [s0@group-2FCF34D6481F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-22 16:55:21,551 [s0@group-2FCF34D6481F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-22 16:55:21,551 [Thread-70] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1211)) - s2@group-2FCF34D6481F: receive requestVote(ELECTION, s0, group-2FCF34D6481F, 1, (t:0, i:0))
2022-08-22 16:55:21,551 [Thread-62] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1211)) - s1@group-2FCF34D6481F: receive requestVote(ELECTION, s0, group-2FCF34D6481F, 1, (t:0, i:0))
2022-08-22 16:55:21,551 [Thread-70] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-2FCF34D6481F-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-22 16:55:21,551 [Thread-62] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-2FCF34D6481F-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-22 16:55:21,552 [Thread-70] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(314)) - s2@group-2FCF34D6481F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-22 16:55:21,552 [Thread-62] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(314)) - s1@group-2FCF34D6481F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-22 16:55:21,552 [Thread-62] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-2FCF34D6481F-FollowerState
2022-08-22 16:55:21,552 [Thread-62] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-2FCF34D6481F-FollowerState
2022-08-22 16:55:21,552 [Thread-70] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-2FCF34D6481F-FollowerState
2022-08-22 16:55:21,552 [Thread-70] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-2FCF34D6481F-FollowerState
2022-08-22 16:55:21,552 [s1@group-2FCF34D6481F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-2FCF34D6481F-FollowerState was interrupted
2022-08-22 16:55:21,552 [s2@group-2FCF34D6481F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-2FCF34D6481F-FollowerState was interrupted
2022-08-22 16:55:21,556 [s1@group-2FCF34D6481F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-22 16:55:21,557 [s1@group-2FCF34D6481F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-22 16:55:21,558 [s2@group-2FCF34D6481F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-22 16:55:21,558 [s2@group-2FCF34D6481F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-22 16:55:21,561 [Thread-62] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1244)) - s1@group-2FCF34D6481F replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-2FCF34D6481F:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-2FCF34D6481F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:21,561 [Thread-70] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1244)) - s2@group-2FCF34D6481F replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-2FCF34D6481F:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-2FCF34D6481F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:21,572 [s0@group-2FCF34D6481F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-2FCF34D6481F-LeaderElection2: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-22 16:55:21,572 [s0@group-2FCF34D6481F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-08-22 16:55:21,572 [s0@group-2FCF34D6481F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-2FCF34D6481F-LeaderElection2 ELECTION round 0: result PASSED
2022-08-22 16:55:21,572 [s0@group-2FCF34D6481F-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-2FCF34D6481F-LeaderElection2
2022-08-22 16:55:21,572 [s0@group-2FCF34D6481F-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(314)) - s0@group-2FCF34D6481F: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-22 16:55:21,573 [s0@group-2FCF34D6481F-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-2FCF34D6481F: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 292ms
2022-08-22 16:55:21,573 [s0@group-2FCF34D6481F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-22 16:55:21,573 [s0@group-2FCF34D6481F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-22 16:55:21,573 [s0@group-2FCF34D6481F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-22 16:55:21,574 [s0@group-2FCF34D6481F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-22 16:55:21,574 [s0@group-2FCF34D6481F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-22 16:55:21,574 [s0@group-2FCF34D6481F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-22 16:55:21,574 [s0@group-2FCF34D6481F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-22 16:55:21,574 [s0@group-2FCF34D6481F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-22 16:55:21,575 [s0@group-2FCF34D6481F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-22 16:55:21,575 [s0@group-2FCF34D6481F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-22 16:55:21,575 [s0@group-2FCF34D6481F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-22 16:55:21,576 [s0@group-2FCF34D6481F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-22 16:55:21,576 [s0@group-2FCF34D6481F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-22 16:55:21,577 [s0@group-2FCF34D6481F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-22 16:55:21,577 [s0@group-2FCF34D6481F-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-2FCF34D6481F-LeaderStateImpl
2022-08-22 16:55:21,577 [s0@group-2FCF34D6481F-LeaderElection2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(447)) - truncateIndex=-1, arrayIndex=0
2022-08-22 16:55:21,577 [s0@group-2FCF34D6481F-LeaderElection2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-2FCF34D6481F-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-22 16:55:21,582 [Thread-63] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-2FCF34D6481F: change Leader from null to s0 at term 1 for appendEntries, leader elected after 292ms
2022-08-22 16:55:21,589 [Thread-71] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-2FCF34D6481F: change Leader from null to s0 at term 1 for appendEntries, leader elected after 276ms
2022-08-22 16:55:21,593 [s0@group-2FCF34D6481F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-2FCF34D6481F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s0/c507cd6b-6e17-4265-acb4-2fcf34d6481f/current/log_inprogress_0
2022-08-22 16:55:21,598 [s0@group-2FCF34D6481F-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(430)) - s0@group-2FCF34D6481F: set configuration 0: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:21,605 [Thread-61] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1317)) - s1@group-2FCF34D6481F: receive appendEntries(s0, 1, null, 0, true, commits:[s0:c0, s1:c-1, s2:c-1], cId:10, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:38673"
dataStreamAddress: "localhost:40071"
clientAddress: "localhost:34455"
adminAddress: "localhost:33979"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35341"
dataStreamAddress: "localhost:44093"
clientAddress: "localhost:37231"
adminAddress: "localhost:33657"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:41137"
dataStreamAddress: "localhost:43021"
clientAddress: "localhost:44851"
adminAddress: "localhost:36345"
startupRole: FOLLOWER
, old:)]
2022-08-22 16:55:21,606 [Thread-61] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(430)) - s1@group-2FCF34D6481F: set configuration 0: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:21,606 [Thread-61] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(447)) - truncateIndex=-1, arrayIndex=0
2022-08-22 16:55:21,607 [Thread-61] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-2FCF34D6481F-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-22 16:55:21,615 [Thread-69] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1317)) - s2@group-2FCF34D6481F: receive appendEntries(s0, 1, null, 0, true, commits:[s0:c0, s1:c-1, s2:c-1], cId:11, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:38673"
dataStreamAddress: "localhost:40071"
clientAddress: "localhost:34455"
adminAddress: "localhost:33979"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35341"
dataStreamAddress: "localhost:44093"
clientAddress: "localhost:37231"
adminAddress: "localhost:33657"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:41137"
dataStreamAddress: "localhost:43021"
clientAddress: "localhost:44851"
adminAddress: "localhost:36345"
startupRole: FOLLOWER
, old:)]
2022-08-22 16:55:21,616 [Thread-69] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(430)) - s2@group-2FCF34D6481F: set configuration 0: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:21,616 [Thread-69] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(447)) - truncateIndex=-1, arrayIndex=0
2022-08-22 16:55:21,616 [Thread-69] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-2FCF34D6481F-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-22 16:55:21,628 [s1@group-2FCF34D6481F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-2FCF34D6481F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s1/c507cd6b-6e17-4265-acb4-2fcf34d6481f/current/log_inprogress_0
2022-08-22 16:55:21,629 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1317)) - s1@group-2FCF34D6481F: succeeded to handle AppendEntries. Reply: s0<-s1#10:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-08-22 16:55:21,630 [s2@group-2FCF34D6481F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-2FCF34D6481F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpced69a566/s2/c507cd6b-6e17-4265-acb4-2fcf34d6481f/current/log_inprogress_0
2022-08-22 16:55:21,632 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1317)) - s2@group-2FCF34D6481F: succeeded to handle AppendEntries. Reply: s0<-s2#11:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-08-22 16:55:21,819 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-2FCF34D6481F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-2FCF34D6481F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2FCF34D6481F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-2FCF34D6481F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2FCF34D6481F:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-2FCF34D6481F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-22 16:55:21,820 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-22 16:55:21,825 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:stepDownLeaderAsync(1089)) - s0@group-2FCF34D6481F receive stepDown leader request TransferLeadershipRequest:client-A1F751A9926B->s0@group-2FCF34D6481F, cid=20, seq=0, RO, null
2022-08-22 16:55:21,828 [s0@group-2FCF34D6481F-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(314)) - s0@group-2FCF34D6481F: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:FORCE
2022-08-22 16:55:21,828 [s0@group-2FCF34D6481F-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-2FCF34D6481F-LeaderStateImpl
2022-08-22 16:55:21,828 [s0@group-2FCF34D6481F->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-2FCF34D6481F->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-22 16:55:21,829 [s0@group-2FCF34D6481F-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-2FCF34D6481F-PendingRequests: sendNotLeaderResponses
2022-08-22 16:55:21,830 [s0@group-2FCF34D6481F-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-2FCF34D6481F-FollowerState
2022-08-22 16:55:21,830 [s0@group-2FCF34D6481F->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-2FCF34D6481F->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-08-22 16:55:21,833 [s0@group-2FCF34D6481F-LeaderStateImpl] INFO  impl.PendingStepDown (PendingStepDown.java:complete(55)) - Successfully step down leader at s0@group-2FCF34D6481F-LeaderStateImpl for request TransferLeadershipRequest:client-A1F751A9926B->s0@group-2FCF34D6481F, cid=20, seq=0, RO, null
2022-08-22 16:55:21,855 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(827)) - ************************************************************** 
2022-08-22 16:55:21,855 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(828)) - *** 
2022-08-22 16:55:21,855 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-08-22 16:55:21,855 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-22 16:55:21,855 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-08-22 16:55:21,856 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-2FCF34D6481F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-2FCF34D6481F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2FCF34D6481F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-2FCF34D6481F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2FCF34D6481F:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-2FCF34D6481F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:38673|admin:localhost:33979|client:localhost:34455|dataStream:localhost:40071|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35341|admin:localhost:33657|client:localhost:37231|dataStream:localhost:44093|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41137|admin:localhost:36345|client:localhost:44851|dataStream:localhost:43021|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-22 16:55:21,861 [java.util.concurrent.ThreadPoolExecutor$Worker@67909abc[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s0: close
2022-08-22 16:55:21,864 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(451)) - s0@group-2FCF34D6481F: shutdown
2022-08-22 16:55:21,864 [java.util.concurrent.ThreadPoolExecutor$Worker@219dae71[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s2: close
2022-08-22 16:55:21,864 [Thread-58] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,864 [Thread-59] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,864 [Thread-57] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,865 [java.util.concurrent.ThreadPoolExecutor$Worker@5d4a4054[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s1: close
2022-08-22 16:55:21,864 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2FCF34D6481F,id=s0
2022-08-22 16:55:21,865 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-2FCF34D6481F-FollowerState
2022-08-22 16:55:21,865 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-2FCF34D6481F-StateMachineUpdater: set stopIndex = 0
2022-08-22 16:55:21,865 [s0@group-2FCF34D6481F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-2FCF34D6481F-FollowerState was interrupted
2022-08-22 16:55:21,865 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(466)) - s0@group-2FCF34D6481F: closes. applyIndex: 0
2022-08-22 16:55:21,866 [s0@group-2FCF34D6481F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-2FCF34D6481F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-22 16:55:21,866 [Thread-56] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,866 [Thread-55] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,866 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(451)) - s1@group-2FCF34D6481F: shutdown
2022-08-22 16:55:21,866 [Thread-64] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,866 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2FCF34D6481F,id=s1
2022-08-22 16:55:21,866 [Thread-65] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,866 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-2FCF34D6481F-FollowerState
2022-08-22 16:55:21,866 [Thread-54] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,866 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-2FCF34D6481F-StateMachineUpdater: set stopIndex = 0
2022-08-22 16:55:21,867 [s1@group-2FCF34D6481F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-2FCF34D6481F-FollowerState was interrupted
2022-08-22 16:55:21,867 [Thread-66] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,867 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(466)) - s1@group-2FCF34D6481F: closes. applyIndex: 0
2022-08-22 16:55:21,867 [s1@group-2FCF34D6481F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s1@group-2FCF34D6481F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-22 16:55:21,868 [Thread-62] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,868 [Thread-61] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,868 [Thread-63] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,869 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$315/0x000000010023f040@6e4d8d37] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-22 16:55:21,871 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s1@group-2FCF34D6481F-SegmentedRaftLogWorker close()
2022-08-22 16:55:21,872 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-2FCF34D6481F-SegmentedRaftLogWorker close()
2022-08-22 16:55:21,872 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$315/0x000000010023f040@79134b76] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-22 16:55:21,876 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(451)) - s2@group-2FCF34D6481F: shutdown
2022-08-22 16:55:21,876 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2FCF34D6481F,id=s2
2022-08-22 16:55:21,876 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-2FCF34D6481F-FollowerState
2022-08-22 16:55:21,876 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-2FCF34D6481F-StateMachineUpdater: set stopIndex = 0
2022-08-22 16:55:21,876 [s2@group-2FCF34D6481F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-2FCF34D6481F-FollowerState was interrupted
2022-08-22 16:55:21,877 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(466)) - s2@group-2FCF34D6481F: closes. applyIndex: 0
2022-08-22 16:55:21,877 [s2@group-2FCF34D6481F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s2@group-2FCF34D6481F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-22 16:55:21,878 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s2@group-2FCF34D6481F-SegmentedRaftLogWorker close()
2022-08-22 16:55:21,879 [Thread-72] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,879 [Thread-73] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,879 [Thread-74] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,880 [Thread-69] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,880 [Thread-70] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,880 [Thread-71] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:21,881 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$315/0x000000010023f040@4feffc73] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-22 16:55:21,882 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(850)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-08-22 16:55:21,882 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-22 16:55:21,882 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-22 16:55:21,882 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-08-22 16:55:21,882 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.raftlog.RaftLog log level to DEBUG
2022-08-22 16:55:21,883 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-08-22 16:55:21,888 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(132)) - Running runWithNewCluster
2022-08-22 16:55:21,888 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-08-22 16:55:21,889 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(303)) - new MiniRaftClusterWithSimulatedRpc with group-98031784B113:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]
2022-08-22 16:55:21,889 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(336)) - .............................................................. 
2022-08-22 16:55:21,889 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - ... 
2022-08-22 16:55:21,889 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-08-22 16:55:21,889 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2022-08-22 16:55:21,889 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - .............................................................. 
2022-08-22 16:55:21,889 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(315)) - servers = {}
2022-08-22 16:55:21,889 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s0, group-98031784B113:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER], format? true
2022-08-22 16:55:21,889 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s0
2022-08-22 16:55:21,890 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s0 does not exist.
2022-08-22 16:55:21,890 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s0
2022-08-22 16:55:21,890 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-22 16:55:21,890 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-22 16:55:21,890 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-22 16:55:21,890 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-22 16:55:21,891 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-22 16:55:21,891 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-22 16:55:21,891 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s0] (custom)
2022-08-22 16:55:21,892 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-98031784B113:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER] returns group-98031784B113:java.util.concurrent.CompletableFuture@2a1cd9ff[Not completed]
2022-08-22 16:55:21,892 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s1, group-98031784B113:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER], format? true
2022-08-22 16:55:21,892 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s1
2022-08-22 16:55:21,892 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s1 does not exist.
2022-08-22 16:55:21,892 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s1
2022-08-22 16:55:21,892 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-22 16:55:21,893 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-22 16:55:21,893 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-22 16:55:21,893 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-22 16:55:21,893 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-22 16:55:21,893 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-22 16:55:21,893 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s1] (custom)
2022-08-22 16:55:21,894 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-22 16:55:21,894 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-22 16:55:21,894 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-22 16:55:21,894 [pool-7-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(194)) - s0: new RaftServerImpl for group-98031784B113:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER] with StateMachineWithException:uninitialized
2022-08-22 16:55:21,894 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-22 16:55:21,894 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-22 16:55:21,894 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-22 16:55:21,894 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-22 16:55:21,894 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-22 16:55:21,894 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-22 16:55:21,895 [pool-7-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-98031784B113: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-22 16:55:21,895 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s0] (custom)
2022-08-22 16:55:21,895 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-22 16:55:21,895 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-22 16:55:21,895 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-22 16:55:21,895 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-22 16:55:21,895 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-22 16:55:21,896 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-22 16:55:21,897 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-22 16:55:21,897 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-22 16:55:21,897 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-22 16:55:21,897 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-22 16:55:21,903 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-98031784B113:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER] returns group-98031784B113:java.util.concurrent.CompletableFuture@6acd4bb[Not completed]
2022-08-22 16:55:21,903 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s2, group-98031784B113:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER], format? true
2022-08-22 16:55:21,903 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s2
2022-08-22 16:55:21,903 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-22 16:55:21,903 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-22 16:55:21,903 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-22 16:55:21,903 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s2 does not exist.
2022-08-22 16:55:21,903 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s2
2022-08-22 16:55:21,903 [pool-8-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(194)) - s1: new RaftServerImpl for group-98031784B113:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER] with StateMachineWithException:uninitialized
2022-08-22 16:55:21,904 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-22 16:55:21,904 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-22 16:55:21,904 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-22 16:55:21,904 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-22 16:55:21,904 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-22 16:55:21,904 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-22 16:55:21,904 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-22 16:55:21,905 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-22 16:55:21,905 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-22 16:55:21,904 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-22 16:55:21,905 [pool-8-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s1@group-98031784B113: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-22 16:55:21,905 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-22 16:55:21,905 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s1] (custom)
2022-08-22 16:55:21,905 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-22 16:55:21,905 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-22 16:55:21,905 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-22 16:55:21,905 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s2] (custom)
2022-08-22 16:55:21,906 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-98031784B113:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER] returns group-98031784B113:java.util.concurrent.CompletableFuture@7dc1b196[Not completed]
2022-08-22 16:55:21,906 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s0/c215f3af-13dc-4d6a-918c-98031784b113 does not exist. Creating ...
2022-08-22 16:55:21,907 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s0/c215f3af-13dc-4d6a-918c-98031784b113
2022-08-22 16:55:21,907 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-22 16:55:21,908 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-22 16:55:21,908 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-22 16:55:21,908 [pool-9-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(194)) - s2: new RaftServerImpl for group-98031784B113:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER] with StateMachineWithException:uninitialized
2022-08-22 16:55:21,908 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-22 16:55:21,908 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-22 16:55:21,909 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-22 16:55:21,909 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-22 16:55:21,909 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s0/c215f3af-13dc-4d6a-918c-98031784b113/in_use.lock acquired by nodename 10228@fv-az504-645
2022-08-22 16:55:21,909 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s0/c215f3af-13dc-4d6a-918c-98031784b113/current
2022-08-22 16:55:21,909 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s0/c215f3af-13dc-4d6a-918c-98031784b113/sm
2022-08-22 16:55:21,910 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-22 16:55:21,910 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-22 16:55:21,910 [pool-9-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s2@group-98031784B113: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-22 16:55:21,911 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s2] (custom)
2022-08-22 16:55:21,911 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-22 16:55:21,911 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-22 16:55:21,911 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-22 16:55:21,911 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-22 16:55:21,911 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-22 16:55:21,912 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s0/c215f3af-13dc-4d6a-918c-98031784b113 has been successfully formatted.
2022-08-22 16:55:21,913 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing StateMachineWithException:uninitialized
2022-08-22 16:55:21,913 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-22 16:55:21,913 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-22 16:55:21,913 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-22 16:55:21,913 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-22 16:55:21,913 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-22 16:55:21,913 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-22 16:55:21,913 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-22 16:55:21,914 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-22 16:55:21,914 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-22 16:55:21,915 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-98031784B113-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s0/c215f3af-13dc-4d6a-918c-98031784b113
2022-08-22 16:55:21,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-22 16:55:21,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-22 16:55:21,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-22 16:55:21,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-22 16:55:21,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-22 16:55:21,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-22 16:55:21,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-22 16:55:21,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-22 16:55:21,916 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-22 16:55:21,916 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-22 16:55:21,916 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-22 16:55:21,916 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-22 16:55:21,917 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-98031784B113-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-22 16:55:21,917 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-98031784B113-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-22 16:55:21,917 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-22 16:55:21,918 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-22 16:55:21,918 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-22 16:55:21,918 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-22 16:55:21,918 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-22 16:55:21,920 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-22 16:55:21,920 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-22 16:55:21,920 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-22 16:55:21,921 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-22 16:55:21,921 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-22 16:55:21,921 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-22 16:55:21,921 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-22 16:55:21,922 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-22 16:55:21,922 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(327)) - s0@group-98031784B113: start as a follower, conf=-1: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:21,922 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(314)) - s0@group-98031784B113: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-22 16:55:21,922 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-98031784B113-FollowerState
2022-08-22 16:55:21,928 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-98031784B113,id=s0
2022-08-22 16:55:21,928 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-22 16:55:21,928 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-22 16:55:21,928 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-22 16:55:21,929 [s0@group-98031784B113-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-22 16:55:21,929 [s0@group-98031784B113-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-22 16:55:21,929 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s0: start RPC server
2022-08-22 16:55:21,930 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$315/0x000000010023f040@1da8bb99] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-22 16:55:21,931 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s1/c215f3af-13dc-4d6a-918c-98031784b113 does not exist. Creating ...
2022-08-22 16:55:21,931 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s1/c215f3af-13dc-4d6a-918c-98031784b113
2022-08-22 16:55:21,932 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s1/c215f3af-13dc-4d6a-918c-98031784b113/in_use.lock acquired by nodename 10228@fv-az504-645
2022-08-22 16:55:21,932 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s1/c215f3af-13dc-4d6a-918c-98031784b113/current
2022-08-22 16:55:21,933 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s1/c215f3af-13dc-4d6a-918c-98031784b113/sm
2022-08-22 16:55:21,934 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s1/c215f3af-13dc-4d6a-918c-98031784b113 has been successfully formatted.
2022-08-22 16:55:21,934 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing StateMachineWithException:uninitialized
2022-08-22 16:55:21,934 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-22 16:55:21,934 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-22 16:55:21,934 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-22 16:55:21,934 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-22 16:55:21,935 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-22 16:55:21,935 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-22 16:55:21,935 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-22 16:55:21,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-22 16:55:21,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-22 16:55:21,936 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-98031784B113-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s1/c215f3af-13dc-4d6a-918c-98031784b113
2022-08-22 16:55:21,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-22 16:55:21,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-22 16:55:21,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-22 16:55:21,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-22 16:55:21,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-22 16:55:21,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-22 16:55:21,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-22 16:55:21,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-22 16:55:21,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-22 16:55:21,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-22 16:55:21,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-22 16:55:21,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-22 16:55:21,938 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-98031784B113-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-22 16:55:21,938 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-98031784B113-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-22 16:55:21,940 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(327)) - s1@group-98031784B113: start as a follower, conf=-1: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:21,940 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(314)) - s1@group-98031784B113: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-22 16:55:21,940 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-98031784B113-FollowerState
2022-08-22 16:55:21,944 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-98031784B113,id=s1
2022-08-22 16:55:21,944 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-22 16:55:21,944 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-22 16:55:21,944 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-22 16:55:21,945 [s1@group-98031784B113-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-22 16:55:21,945 [s1@group-98031784B113-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-22 16:55:21,945 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s1: start RPC server
2022-08-22 16:55:21,946 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$315/0x000000010023f040@4e7d183a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-22 16:55:21,946 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s2/c215f3af-13dc-4d6a-918c-98031784b113 does not exist. Creating ...
2022-08-22 16:55:21,946 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s2/c215f3af-13dc-4d6a-918c-98031784b113
2022-08-22 16:55:21,952 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s2/c215f3af-13dc-4d6a-918c-98031784b113/in_use.lock acquired by nodename 10228@fv-az504-645
2022-08-22 16:55:21,952 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s2/c215f3af-13dc-4d6a-918c-98031784b113/current
2022-08-22 16:55:21,952 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s2/c215f3af-13dc-4d6a-918c-98031784b113/sm
2022-08-22 16:55:21,953 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s2/c215f3af-13dc-4d6a-918c-98031784b113 has been successfully formatted.
2022-08-22 16:55:21,953 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing StateMachineWithException:uninitialized
2022-08-22 16:55:21,954 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-22 16:55:21,954 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-22 16:55:21,954 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-22 16:55:21,954 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-22 16:55:21,954 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-22 16:55:21,954 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-22 16:55:21,954 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-22 16:55:21,954 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-22 16:55:21,954 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-22 16:55:21,955 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-98031784B113-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s2/c215f3af-13dc-4d6a-918c-98031784b113
2022-08-22 16:55:21,955 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-22 16:55:21,955 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-22 16:55:21,955 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-22 16:55:21,955 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-22 16:55:21,955 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-22 16:55:21,955 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-22 16:55:21,955 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-22 16:55:21,955 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-22 16:55:21,956 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-22 16:55:21,956 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-22 16:55:21,956 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-22 16:55:21,956 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-22 16:55:21,956 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-98031784B113-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-22 16:55:21,956 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-98031784B113-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-22 16:55:21,957 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(327)) - s2@group-98031784B113: start as a follower, conf=-1: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:21,957 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(314)) - s2@group-98031784B113: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-22 16:55:21,957 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-98031784B113-FollowerState
2022-08-22 16:55:21,957 [s2@group-98031784B113-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-22 16:55:21,957 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-98031784B113,id=s2
2022-08-22 16:55:21,958 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-22 16:55:21,957 [s2@group-98031784B113-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-22 16:55:21,958 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-22 16:55:21,958 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-22 16:55:21,959 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(387)) - s2: start RPC server
2022-08-22 16:55:21,960 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$315/0x000000010023f040@73619c01] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-22 16:55:21,961 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-22 16:55:21,961 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-98031784B113:t0, leader=null, voted=, raftlog=Memoized:s0@group-98031784B113-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-98031784B113:t0, leader=null, voted=, raftlog=Memoized:s1@group-98031784B113-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-98031784B113:t0, leader=null, voted=, raftlog=Memoized:s2@group-98031784B113-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-22 16:55:21,961 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-98031784B113:t0, leader=null, voted=, raftlog=Memoized:s0@group-98031784B113-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-98031784B113:t0, leader=null, voted=, raftlog=Memoized:s1@group-98031784B113-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-98031784B113:t0, leader=null, voted=, raftlog=Memoized:s2@group-98031784B113-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-98031784B113:t0, leader=null, voted=, raftlog=Memoized:s0@group-98031784B113-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-98031784B113:t0, leader=null, voted=, raftlog=Memoized:s1@group-98031784B113-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-98031784B113:t0, leader=null, voted=, raftlog=Memoized:s2@group-98031784B113-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:577)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:611)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:604)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.PreAppendLeaderStepDownTest.runTestLeaderStepDown(PreAppendLeaderStepDownTest.java:85)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.server.impl.PreAppendLeaderStepDownTest.testLeaderStepDown(PreAppendLeaderStepDownTest.java:75)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-22 16:55:22,115 [s0@group-98031784B113-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-98031784B113-FollowerState: change to CANDIDATE, lastRpcElapsedTime:193145478ns, electionTimeout:186ms
2022-08-22 16:55:22,116 [s0@group-98031784B113-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-98031784B113-FollowerState
2022-08-22 16:55:22,116 [s0@group-98031784B113-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(314)) - s0@group-98031784B113: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-22 16:55:22,116 [s0@group-98031784B113-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-22 16:55:22,116 [s0@group-98031784B113-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-98031784B113-LeaderElection3
2022-08-22 16:55:22,118 [s0@group-98031784B113-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-98031784B113-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:22,123 [s0@group-98031784B113-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-22 16:55:22,124 [s0@group-98031784B113-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-22 16:55:22,124 [Thread-114] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1211)) - s1@group-98031784B113: receive requestVote(PRE_VOTE, s0, group-98031784B113, 0, (t:0, i:0))
2022-08-22 16:55:22,124 [Thread-114] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-98031784B113-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-22 16:55:22,124 [Thread-114] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1244)) - s1@group-98031784B113 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-98031784B113:t0, leader=null, voted=, raftlog=Memoized:s1@group-98031784B113-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:22,124 [Thread-123] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1211)) - s2@group-98031784B113: receive requestVote(PRE_VOTE, s0, group-98031784B113, 0, (t:0, i:0))
2022-08-22 16:55:22,124 [Thread-123] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-98031784B113-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-22 16:55:22,124 [Thread-123] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1244)) - s2@group-98031784B113 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-98031784B113:t0, leader=null, voted=, raftlog=Memoized:s2@group-98031784B113-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:22,124 [s0@group-98031784B113-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-98031784B113-LeaderElection3: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-22 16:55:22,124 [s0@group-98031784B113-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-08-22 16:55:22,125 [s0@group-98031784B113-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-98031784B113-LeaderElection3 PRE_VOTE round 0: result PASSED
2022-08-22 16:55:22,127 [s0@group-98031784B113-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-98031784B113-LeaderElection3 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:22,127 [s0@group-98031784B113-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-22 16:55:22,127 [s0@group-98031784B113-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-22 16:55:22,127 [Thread-115] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1211)) - s1@group-98031784B113: receive requestVote(ELECTION, s0, group-98031784B113, 1, (t:0, i:0))
2022-08-22 16:55:22,128 [Thread-115] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-98031784B113-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-22 16:55:22,128 [Thread-115] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(314)) - s1@group-98031784B113: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-22 16:55:22,128 [Thread-115] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-98031784B113-FollowerState
2022-08-22 16:55:22,128 [Thread-115] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-98031784B113-FollowerState
2022-08-22 16:55:22,128 [Thread-124] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1211)) - s2@group-98031784B113: receive requestVote(ELECTION, s0, group-98031784B113, 1, (t:0, i:0))
2022-08-22 16:55:22,128 [s1@group-98031784B113-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-98031784B113-FollowerState was interrupted
2022-08-22 16:55:22,132 [Thread-124] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-98031784B113-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-22 16:55:22,132 [Thread-124] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(314)) - s2@group-98031784B113: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-22 16:55:22,132 [Thread-124] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-98031784B113-FollowerState
2022-08-22 16:55:22,132 [Thread-124] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-98031784B113-FollowerState
2022-08-22 16:55:22,132 [s2@group-98031784B113-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-98031784B113-FollowerState was interrupted
2022-08-22 16:55:22,133 [s1@group-98031784B113-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-22 16:55:22,133 [s1@group-98031784B113-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-22 16:55:22,134 [Thread-124] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1244)) - s2@group-98031784B113 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-98031784B113:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-98031784B113-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:22,134 [Thread-115] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1244)) - s1@group-98031784B113 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-98031784B113:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-98031784B113-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:22,134 [s0@group-98031784B113-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-98031784B113-LeaderElection3: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-22 16:55:22,134 [s0@group-98031784B113-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t1
2022-08-22 16:55:22,135 [s0@group-98031784B113-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-98031784B113-LeaderElection3 ELECTION round 0: result PASSED
2022-08-22 16:55:22,135 [s0@group-98031784B113-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-98031784B113-LeaderElection3
2022-08-22 16:55:22,135 [s0@group-98031784B113-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(314)) - s0@group-98031784B113: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-22 16:55:22,135 [s0@group-98031784B113-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-98031784B113: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 239ms
2022-08-22 16:55:22,135 [s0@group-98031784B113-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-22 16:55:22,135 [s0@group-98031784B113-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-22 16:55:22,135 [s0@group-98031784B113-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-22 16:55:22,135 [s0@group-98031784B113-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-22 16:55:22,136 [s0@group-98031784B113-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-22 16:55:22,136 [s0@group-98031784B113-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-22 16:55:22,136 [s0@group-98031784B113-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-22 16:55:22,136 [s0@group-98031784B113-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-22 16:55:22,136 [s0@group-98031784B113-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-22 16:55:22,137 [s0@group-98031784B113-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-22 16:55:22,137 [s0@group-98031784B113-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-22 16:55:22,137 [s0@group-98031784B113-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-22 16:55:22,137 [s0@group-98031784B113-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-22 16:55:22,138 [s0@group-98031784B113-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-22 16:55:22,138 [s0@group-98031784B113-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-98031784B113-LeaderStateImpl
2022-08-22 16:55:22,138 [s0@group-98031784B113-LeaderElection3] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(447)) - truncateIndex=-1, arrayIndex=0
2022-08-22 16:55:22,138 [s0@group-98031784B113-LeaderElection3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-98031784B113-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-22 16:55:22,143 [s2@group-98031784B113-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-22 16:55:22,143 [s2@group-98031784B113-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-22 16:55:22,145 [Thread-116] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-98031784B113: change Leader from null to s0 at term 1 for appendEntries, leader elected after 225ms
2022-08-22 16:55:22,151 [s0@group-98031784B113-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(430)) - s0@group-98031784B113: set configuration 0: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:22,153 [Thread-114] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1317)) - s1@group-98031784B113: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:23, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:33241"
dataStreamAddress: "localhost:43683"
clientAddress: "localhost:41985"
adminAddress: "localhost:40631"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35799"
dataStreamAddress: "localhost:40737"
clientAddress: "localhost:39827"
adminAddress: "localhost:46285"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36935"
dataStreamAddress: "localhost:33793"
clientAddress: "localhost:39085"
adminAddress: "localhost:35863"
startupRole: FOLLOWER
, old:)]
2022-08-22 16:55:22,153 [Thread-114] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(430)) - s1@group-98031784B113: set configuration 0: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:22,153 [Thread-114] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(447)) - truncateIndex=-1, arrayIndex=0
2022-08-22 16:55:22,154 [Thread-114] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-98031784B113-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-22 16:55:22,155 [Thread-125] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-98031784B113: change Leader from null to s0 at term 1 for appendEntries, leader elected after 243ms
2022-08-22 16:55:22,157 [s0@group-98031784B113-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-98031784B113-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s0/c215f3af-13dc-4d6a-918c-98031784b113/current/log_inprogress_0
2022-08-22 16:55:22,158 [Thread-123] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1317)) - s2@group-98031784B113: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:26, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:33241"
dataStreamAddress: "localhost:43683"
clientAddress: "localhost:41985"
adminAddress: "localhost:40631"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35799"
dataStreamAddress: "localhost:40737"
clientAddress: "localhost:39827"
adminAddress: "localhost:46285"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36935"
dataStreamAddress: "localhost:33793"
clientAddress: "localhost:39085"
adminAddress: "localhost:35863"
startupRole: FOLLOWER
, old:)]
2022-08-22 16:55:22,166 [Thread-123] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(430)) - s2@group-98031784B113: set configuration 0: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-22 16:55:22,168 [Thread-123] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(447)) - truncateIndex=-1, arrayIndex=0
2022-08-22 16:55:22,168 [Thread-123] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-98031784B113-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-22 16:55:22,184 [s1@group-98031784B113-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-98031784B113-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s1/c215f3af-13dc-4d6a-918c-98031784b113/current/log_inprogress_0
2022-08-22 16:55:22,185 [s2@group-98031784B113-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-98031784B113-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/46f9aa25/MiniRaftClusterWithSimulatedRpc5086ffa7/s2/c215f3af-13dc-4d6a-918c-98031784b113/current/log_inprogress_0
2022-08-22 16:55:22,186 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1317)) - s1@group-98031784B113: succeeded to handle AppendEntries. Reply: s0<-s1#23:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-22 16:55:22,186 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1317)) - s2@group-98031784B113: succeeded to handle AppendEntries. Reply: s0<-s2#26:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-22 16:55:22,412 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-98031784B113:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-98031784B113-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-98031784B113:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-98031784B113-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-98031784B113:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-98031784B113-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-22 16:55:22,413 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-22 16:55:22,413 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-22 16:55:22,414 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-98031784B113:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-98031784B113-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-98031784B113:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-98031784B113-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-98031784B113:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-98031784B113-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-22 16:55:22,414 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-98031784B113:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-98031784B113-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-98031784B113:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-98031784B113-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-98031784B113:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-98031784B113-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-22 16:55:22,414 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(816)) - s0@group-98031784B113: receive client request(RaftClientRequest:client-925F091331E4->s0@group-98031784B113, cid=999, seq=0, RW, message)
2022-08-22 16:55:22,416 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-22 16:55:22,416 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-98031784B113:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-98031784B113-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-98031784B113:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-98031784B113-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-98031784B113:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-98031784B113-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-22 16:55:22,417 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-98031784B113:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-98031784B113-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-98031784B113:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-98031784B113-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-98031784B113:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-98031784B113-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-22 16:55:22,416 [s0@group-98031784B113-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(314)) - s0@group-98031784B113: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:STATE_MACHINE_EXCEPTION
2022-08-22 16:55:22,417 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(827)) - ************************************************************** 
2022-08-22 16:55:22,417 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(828)) - *** 
2022-08-22 16:55:22,417 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-08-22 16:55:22,417 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-22 16:55:22,417 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-08-22 16:55:22,417 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-98031784B113:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-98031784B113-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-98031784B113:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-98031784B113-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-98031784B113:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-98031784B113-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33241|admin:localhost:40631|client:localhost:41985|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35799|admin:localhost:46285|client:localhost:39827|dataStream:localhost:40737|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36935|admin:localhost:35863|client:localhost:39085|dataStream:localhost:33793|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-22 16:55:22,417 [s0@group-98031784B113-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-98031784B113-LeaderStateImpl
2022-08-22 16:55:22,418 [java.util.concurrent.ThreadPoolExecutor$Worker@214bccf[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s0: close
2022-08-22 16:55:22,418 [s0@group-98031784B113->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-98031784B113->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-22 16:55:22,418 [s0@group-98031784B113-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-98031784B113-PendingRequests: sendNotLeaderResponses
2022-08-22 16:55:22,421 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(451)) - s0@group-98031784B113: shutdown
2022-08-22 16:55:22,421 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-98031784B113,id=s0
2022-08-22 16:55:22,421 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-98031784B113-StateMachineUpdater: set stopIndex = 0
2022-08-22 16:55:22,422 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(466)) - s0@group-98031784B113: closes. applyIndex: 0
2022-08-22 16:55:22,422 [s0@group-98031784B113-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-98031784B113-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-22 16:55:22,421 [java.util.concurrent.ThreadPoolExecutor$Worker@3a3cbfe8[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s2: close
2022-08-22 16:55:22,426 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-98031784B113-SegmentedRaftLogWorker close()
2022-08-22 16:55:22,425 [s0@group-98031784B113-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-98031784B113-FollowerState
2022-08-22 16:55:22,424 [Thread-112] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:22,424 [Thread-111] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:22,424 [java.util.concurrent.ThreadPoolExecutor$Worker@675a1979[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(403)) - s1: close
2022-08-22 16:55:22,424 [Thread-110] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:22,427 [Thread-107] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:22,427 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(451)) - s2@group-98031784B113: shutdown
2022-08-22 16:55:22,427 [Thread-108] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:22,427 [Thread-109] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:22,427 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-98031784B113,id=s2
2022-08-22 16:55:22,427 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-98031784B113-FollowerState
2022-08-22 16:55:22,427 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-98031784B113-StateMachineUpdater: set stopIndex = 0
2022-08-22 16:55:22,427 [s2@group-98031784B113-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-98031784B113-FollowerState was interrupted
2022-08-22 16:55:22,427 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(466)) - s2@group-98031784B113: closes. applyIndex: 0
2022-08-22 16:55:22,428 [s2@group-98031784B113-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s2@group-98031784B113-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-22 16:55:22,428 [Thread-126] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:22,428 [Thread-127] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:22,428 [Thread-128] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:22,428 [Thread-123] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:22,428 [Thread-124] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:22,428 [Thread-125] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:22,432 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$315/0x000000010023f040@73619c01] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-22 16:55:22,432 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$315/0x000000010023f040@1da8bb99] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-22 16:55:22,436 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(451)) - s1@group-98031784B113: shutdown
2022-08-22 16:55:22,436 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-98031784B113,id=s1
2022-08-22 16:55:22,437 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-98031784B113-FollowerState
2022-08-22 16:55:22,437 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-98031784B113-StateMachineUpdater: set stopIndex = 0
2022-08-22 16:55:22,437 [s1@group-98031784B113-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-98031784B113-FollowerState was interrupted
2022-08-22 16:55:22,437 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(466)) - s1@group-98031784B113: closes. applyIndex: 0
2022-08-22 16:55:22,437 [Thread-118] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:22,437 [s1@group-98031784B113-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s1@group-98031784B113-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-22 16:55:22,440 [Thread-117] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:22,440 [Thread-119] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:22,440 [Thread-114] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:22,441 [Thread-115] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:22,441 [Thread-116] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-22 16:55:22,441 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$315/0x000000010023f040@4e7d183a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-22 16:55:22,442 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s2@group-98031784B113-SegmentedRaftLogWorker close()
2022-08-22 16:55:22,444 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s1@group-98031784B113-SegmentedRaftLogWorker close()
2022-08-22 16:55:22,445 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(850)) - MiniRaftClusterWithSimulatedRpc shutdown completed
